(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function ZR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var g_={exports:{}},Zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function JR(){if(rE)return Zh;rE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Zh.Fragment=t,Zh.jsx=e,Zh.jsxs=e,Zh}var aE;function tC(){return aE||(aE=1,g_.exports=JR()),g_.exports}var j=tC(),p_={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function eC(){if(oE)return Jt;oE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function M(k,ht,yt){this.props=k,this.context=ht,this.refs=I,this.updater=yt||A}M.prototype.isReactComponent={},M.prototype.setState=function(k,ht){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ht,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function L(){}L.prototype=M.prototype;function G(k,ht,yt){this.props=k,this.context=ht,this.refs=I,this.updater=yt||A}var J=G.prototype=new L;J.constructor=G,R(J,M.prototype),J.isPureReactComponent=!0;var at=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function V(k,ht,yt,mt,At,jt){return yt=jt.ref,{$$typeof:n,type:k,key:ht,ref:yt!==void 0?yt:null,props:jt}}function P(k,ht){return V(k.type,ht,void 0,void 0,void 0,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function z(k){var ht={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(yt){return ht[yt]})}var F=/\/+/g;function H(k,ht){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):ht.toString(36)}function U(){}function ne(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(ht){k.status==="pending"&&(k.status="fulfilled",k.value=ht)},function(ht){k.status==="pending"&&(k.status="rejected",k.reason=ht)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Mt(k,ht,yt,mt,At){var jt=typeof k;(jt==="undefined"||jt==="boolean")&&(k=null);var It=!1;if(k===null)It=!0;else switch(jt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(k.$$typeof){case n:case t:It=!0;break;case _:return It=k._init,Mt(It(k._payload),ht,yt,mt,At)}}if(It)return At=At(k),It=mt===""?"."+H(k,0):mt,at(At)?(yt="",It!=null&&(yt=It.replace(F,"$&/")+"/"),Mt(At,ht,yt,"",function(di){return di})):At!=null&&(N(At)&&(At=P(At,yt+(At.key==null||k&&k.key===At.key?"":(""+At.key).replace(F,"$&/")+"/")+It)),ht.push(At)),1;It=0;var Ke=mt===""?".":mt+":";if(at(k))for(var bt=0;bt<k.length;bt++)mt=k[bt],jt=Ke+H(mt,bt),It+=Mt(mt,ht,yt,jt,At);else if(bt=E(k),typeof bt=="function")for(k=bt.call(k),bt=0;!(mt=k.next()).done;)mt=mt.value,jt=Ke+H(mt,bt++),It+=Mt(mt,ht,yt,jt,At);else if(jt==="object"){if(typeof k.then=="function")return Mt(ne(k),ht,yt,mt,At);throw ht=String(k),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return It}function et(k,ht,yt){if(k==null)return k;var mt=[],At=0;return Mt(k,mt,"","",function(jt){return ht.call(yt,jt,At++)}),mt}function gt(k){if(k._status===-1){var ht=k._result;ht=ht(),ht.then(function(yt){(k._status===0||k._status===-1)&&(k._status=1,k._result=yt)},function(yt){(k._status===0||k._status===-1)&&(k._status=2,k._result=yt)}),k._status===-1&&(k._status=0,k._result=ht)}if(k._status===1)return k._result.default;throw k._result}var xt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Lt(){}return Jt.Children={map:et,forEach:function(k,ht,yt){et(k,function(){ht.apply(this,arguments)},yt)},count:function(k){var ht=0;return et(k,function(){ht++}),ht},toArray:function(k){return et(k,function(ht){return ht})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Jt.Component=M,Jt.Fragment=e,Jt.Profiler=r,Jt.PureComponent=G,Jt.StrictMode=i,Jt.Suspense=f,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return rt.H.useMemoCache(k)}},Jt.cache=function(k){return function(){return k.apply(null,arguments)}},Jt.cloneElement=function(k,ht,yt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var mt=R({},k.props),At=k.key,jt=void 0;if(ht!=null)for(It in ht.ref!==void 0&&(jt=void 0),ht.key!==void 0&&(At=""+ht.key),ht)!pt.call(ht,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&ht.ref===void 0||(mt[It]=ht[It]);var It=arguments.length-2;if(It===1)mt.children=yt;else if(1<It){for(var Ke=Array(It),bt=0;bt<It;bt++)Ke[bt]=arguments[bt+2];mt.children=Ke}return V(k.type,At,void 0,void 0,jt,mt)},Jt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},Jt.createElement=function(k,ht,yt){var mt,At={},jt=null;if(ht!=null)for(mt in ht.key!==void 0&&(jt=""+ht.key),ht)pt.call(ht,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(At[mt]=ht[mt]);var It=arguments.length-2;if(It===1)At.children=yt;else if(1<It){for(var Ke=Array(It),bt=0;bt<It;bt++)Ke[bt]=arguments[bt+2];At.children=Ke}if(k&&k.defaultProps)for(mt in It=k.defaultProps,It)At[mt]===void 0&&(At[mt]=It[mt]);return V(k,jt,void 0,void 0,null,At)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(k){return{$$typeof:h,render:k}},Jt.isValidElement=N,Jt.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:gt}},Jt.memo=function(k,ht){return{$$typeof:g,type:k,compare:ht===void 0?null:ht}},Jt.startTransition=function(k){var ht=rt.T,yt={};rt.T=yt;try{var mt=k(),At=rt.S;At!==null&&At(yt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(Lt,xt)}catch(jt){xt(jt)}finally{rt.T=ht}},Jt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Jt.use=function(k){return rt.H.use(k)},Jt.useActionState=function(k,ht,yt){return rt.H.useActionState(k,ht,yt)},Jt.useCallback=function(k,ht){return rt.H.useCallback(k,ht)},Jt.useContext=function(k){return rt.H.useContext(k)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(k,ht){return rt.H.useDeferredValue(k,ht)},Jt.useEffect=function(k,ht,yt){var mt=rt.H;if(typeof yt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(k,ht)},Jt.useId=function(){return rt.H.useId()},Jt.useImperativeHandle=function(k,ht,yt){return rt.H.useImperativeHandle(k,ht,yt)},Jt.useInsertionEffect=function(k,ht){return rt.H.useInsertionEffect(k,ht)},Jt.useLayoutEffect=function(k,ht){return rt.H.useLayoutEffect(k,ht)},Jt.useMemo=function(k,ht){return rt.H.useMemo(k,ht)},Jt.useOptimistic=function(k,ht){return rt.H.useOptimistic(k,ht)},Jt.useReducer=function(k,ht,yt){return rt.H.useReducer(k,ht,yt)},Jt.useRef=function(k){return rt.H.useRef(k)},Jt.useState=function(k){return rt.H.useState(k)},Jt.useSyncExternalStore=function(k,ht,yt){return rt.H.useSyncExternalStore(k,ht,yt)},Jt.useTransition=function(){return rt.H.useTransition()},Jt.version="19.1.0",Jt}var lE;function xy(){return lE||(lE=1,p_.exports=eC()),p_.exports}var W=xy();const hS=ZR(W);var m_={exports:{}},Jh={},__={exports:{}},y_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function nC(){return cE||(cE=1,function(n){function t(et,gt){var xt=et.length;et.push(gt);t:for(;0<xt;){var Lt=xt-1>>>1,k=et[Lt];if(0<r(k,gt))et[Lt]=gt,et[xt]=k,xt=Lt;else break t}}function e(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var gt=et[0],xt=et.pop();if(xt!==gt){et[0]=xt;t:for(var Lt=0,k=et.length,ht=k>>>1;Lt<ht;){var yt=2*(Lt+1)-1,mt=et[yt],At=yt+1,jt=et[At];if(0>r(mt,xt))At<k&&0>r(jt,mt)?(et[Lt]=jt,et[At]=xt,Lt=At):(et[Lt]=mt,et[yt]=xt,Lt=yt);else if(At<k&&0>r(jt,xt))et[Lt]=jt,et[At]=xt,Lt=At;else break t}}return gt}function r(et,gt){var xt=et.sortIndex-gt.sortIndex;return xt!==0?xt:et.id-gt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,b=null,E=3,A=!1,R=!1,I=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function at(et){for(var gt=e(g);gt!==null;){if(gt.callback===null)i(g);else if(gt.startTime<=et)i(g),gt.sortIndex=gt.expirationTime,t(f,gt);else break;gt=e(g)}}function rt(et){if(I=!1,at(et),!R)if(e(f)!==null)R=!0,pt||(pt=!0,H());else{var gt=e(g);gt!==null&&Mt(rt,gt.startTime-et)}}var pt=!1,V=-1,P=5,N=-1;function z(){return M?!0:!(n.unstable_now()-N<P)}function F(){if(M=!1,pt){var et=n.unstable_now();N=et;var gt=!0;try{t:{R=!1,I&&(I=!1,G(V),V=-1),A=!0;var xt=E;try{e:{for(at(et),b=e(f);b!==null&&!(b.expirationTime>et&&z());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,E=b.priorityLevel;var k=Lt(b.expirationTime<=et);if(et=n.unstable_now(),typeof k=="function"){b.callback=k,at(et),gt=!0;break e}b===e(f)&&i(f),at(et)}else i(f);b=e(f)}if(b!==null)gt=!0;else{var ht=e(g);ht!==null&&Mt(rt,ht.startTime-et),gt=!1}}break t}finally{b=null,E=xt,A=!1}gt=void 0}}finally{gt?H():pt=!1}}}var H;if(typeof J=="function")H=function(){J(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ne=U.port2;U.port1.onmessage=F,H=function(){ne.postMessage(null)}}else H=function(){L(F,0)};function Mt(et,gt){V=L(function(){et(n.unstable_now())},gt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(et){et.callback=null},n.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<et?Math.floor(1e3/et):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(et){switch(E){case 1:case 2:case 3:var gt=3;break;default:gt=E}var xt=E;E=gt;try{return et()}finally{E=xt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(et,gt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var xt=E;E=et;try{return gt()}finally{E=xt}},n.unstable_scheduleCallback=function(et,gt,xt){var Lt=n.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?Lt+xt:Lt):xt=Lt,et){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=xt+k,et={id:_++,callback:gt,priorityLevel:et,startTime:xt,expirationTime:k,sortIndex:-1},xt>Lt?(et.sortIndex=xt,t(g,et),e(f)===null&&et===e(g)&&(I?(G(V),V=-1):I=!0,Mt(rt,xt-Lt))):(et.sortIndex=k,t(f,et),R||A||(R=!0,pt||(pt=!0,H()))),et},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(et){var gt=E;return function(){var xt=E;E=gt;try{return et.apply(this,arguments)}finally{E=xt}}}}(y_)),y_}var uE;function iC(){return uE||(uE=1,__.exports=nC()),__.exports}var v_={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function sC(){if(hE)return oi;hE=1;var n=xy();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,oi.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},oi.flushSync=function(f){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=_,i.d.f()}},oi.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},oi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},oi.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,b=h(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):_==="script"&&i.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},oi.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},oi.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},oi.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},oi.requestFormReset=function(f){i.d.r(f)},oi.unstable_batchedUpdates=function(f,g){return f(g)},oi.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},oi.useFormStatus=function(){return c.H.useHostTransitionStatus()},oi.version="19.1.0",oi}var fE;function rC(){if(fE)return v_.exports;fE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),v_.exports=sC(),v_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function aC(){if(dE)return Jh;dE=1;var n=iC(),t=xy(),e=rC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===u)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var S=!1,C=p.child;C;){if(C===l){S=!0,l=p,u=y;break}if(C===u){S=!0,u=p,l=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===l){S=!0,l=y,u=p;break}if(C===u){S=!0,u=y,l=p;break}C=C.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),J=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ne(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case M:return"Profiler";case I:return"StrictMode";case rt:return"Suspense";case pt:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case J:return(s.displayName||"Context")+".Provider";case G:return(s._context.displayName||"Context")+".Consumer";case at:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:ne(s.type)||"Memo";case P:a=s._payload,s=s._init;try{return ne(s(a))}catch{}}return null}var Mt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},Lt=[],k=-1;function ht(s){return{current:s}}function yt(s){0>k||(s.current=Lt[k],Lt[k]=null,k--)}function mt(s,a){k++,Lt[k]=s.current,s.current=a}var At=ht(null),jt=ht(null),It=ht(null),Ke=ht(null);function bt(s,a){switch(mt(It,a),mt(jt,s),mt(At,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?k0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=k0(a),s=P0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}yt(At),mt(At,s)}function di(){yt(At),yt(jt),yt(It)}function Bs(s){s.memoizedState!==null&&mt(Ke,s);var a=At.current,l=P0(a,s.type);a!==l&&(mt(jt,s),mt(At,l))}function Fs(s){jt.current===s&&(yt(At),yt(jt)),Ke.current===s&&(yt(Ke),Yh._currentValue=xt)}var Jr=Object.prototype.hasOwnProperty,qi=n.unstable_scheduleCallback,gr=n.unstable_cancelCallback,Hs=n.unstable_shouldYield,qs=n.unstable_requestPaint,wi=n.unstable_now,Fu=n.unstable_getCurrentPriorityLevel,bl=n.unstable_ImmediatePriority,so=n.unstable_UserBlockingPriority,ta=n.unstable_NormalPriority,Hu=n.unstable_LowPriority,ro=n.unstable_IdlePriority,pr=n.log,$i=n.unstable_setDisableYieldValue,ze=null,Ee=null;function gi(s){if(typeof pr=="function"&&$i(s),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(ze,s)}catch{}}var Qe=Math.clz32?Math.clz32:fs,$s=Math.log,mr=Math.LN2;function fs(s){return s>>>=0,s===0?32:31-($s(s)/mr|0)|0}var ea=256,Gs=4194304;function Gi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ao(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?p=Gi(u):(S&=C,S!==0?p=Gi(S):l||(l=C&~s,l!==0&&(p=Gi(l))))):(C=u&~y,C!==0?p=Gi(C):S!==0?p=Gi(S):l||(l=u&~s,l!==0&&(p=Gi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function na(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function El(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var s=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),s}function wl(){var s=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),s}function ds(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Si(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function oo(s,a,l,u,p,y){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,B=s.expirationTimes,Z=s.hiddenUpdates;for(l=S&~l;0<l;){var ot=31-Qe(l),ft=1<<ot;C[ot]=0,B[ot]=-1;var tt=Z[ot];if(tt!==null)for(Z[ot]=null,ot=0;ot<tt.length;ot++){var nt=tt[ot];nt!==null&&(nt.lane&=-536870913)}l&=~ft}u!==0&&Yi(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~a))}function Yi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Qe(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Sl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Qe(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function lo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function yr(){var s=gt.p;return s!==0?s:(s=window.event,s===void 0?32:J0(s.type))}function Ys(s,a){var l=gt.p;try{return gt.p=s,a()}finally{gt.p=l}}var Te=Math.random().toString(36).slice(2),nn="__reactFiber$"+Te,Xe="__reactProps$"+Te,Ai="__reactContainer$"+Te,Al="__reactEvents$"+Te,qu="__reactListeners$"+Te,gs="__reactHandles$"+Te,Ws="__reactResources$"+Te,ps="__reactMarker$"+Te;function vr(s){delete s[nn],delete s[Xe],delete s[Al],delete s[qu],delete s[gs]}function Wi(s){var a=s[nn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Ai]||l[nn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=U0(s);s!==null;){if(l=s[nn])return l;s=U0(s)}return a}s=l,l=s.parentNode}return null}function ms(s){if(s=s[nn]||s[Ai]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function _s(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ze(s){var a=s[Ws];return a||(a=s[Ws]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ie(s){s[ps]=!0}var Sn=new Set,gn={};function ke(s,a){xi(s,a),xi(s+"Capture",a)}function xi(s,a){for(gn[s]=a,s=0;s<a.length;s++)Sn.add(a[s])}var Ks=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ys={},Ri={};function xl(s){return Jr.call(Ri,s)?!0:Jr.call(ys,s)?!1:Ks.test(s)?Ri[s]=!0:(ys[s]=!0,!1)}function vs(s,a,l){if(xl(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Hn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function pn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Qs,co;function bs(s){if(Qs===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qs=a&&a[1]||"",co=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+s+co}var ia=!1;function sa(s,a){if(!s||ia)return"";ia=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(nt){var tt=nt}Reflect.construct(s,[],ft)}else{try{ft.call()}catch(nt){tt=nt}s.call(ft.prototype)}}else{try{throw Error()}catch(nt){tt=nt}(ft=s())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(nt){if(nt&&tt&&typeof nt.stack=="string")return[nt.stack,tt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var B=S.split(`
`),Z=C.split(`
`);for(p=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(u===B.length||p===Z.length)for(u=B.length-1,p=Z.length-1;1<=u&&0<=p&&B[u]!==Z[p];)p--;for(;1<=u&&0<=p;u--,p--)if(B[u]!==Z[p]){if(u!==1||p!==1)do if(u--,p--,0>p||B[u]!==Z[p]){var ot=`
`+B[u].replace(" at new "," at ");return s.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",s.displayName)),ot}while(1<=u&&0<=p);break}}}finally{ia=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bs(l):""}function uo(s){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return sa(s.type,!1);case 11:return sa(s.type.render,!1);case 1:return sa(s.type,!0);case 31:return bs("Activity");default:return""}}function ra(s){try{var a="";do a+=uo(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ho(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ec(s){var a=ho(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function aa(s){s._valueTracker||(s._valueTracker=Ec(s))}function fo(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=ho(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Nn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qn=/[\n"\\]/g;function Ie(s){return s.replace(qn,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Le(s,a,l,u,p,y,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Pn(a)):s.value!==""+Pn(a)&&(s.value=""+Pn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?Es(s,S,Pn(a)):l!=null?Es(s,S,Pn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Pn(C):s.removeAttribute("name")}function Xs(s,a,l,u,p,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Pn(l):"",a=a!=null?""+Pn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=C?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Es(s,a,l){a==="number"&&Nn(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function mn(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Pn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function ae(s,a,l){if(a!=null&&(a=""+Pn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Pn(l):""}function Ts(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Mt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Pn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function An(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Zs.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function ws(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&Rl(s,p,u)}else for(var y in a)a.hasOwnProperty(y)&&Rl(s,y,a[y])}function oa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(s){return Ki.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ln=null;function $n(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ss=null,pi=null;function la(s){var a=ms(s);if(a&&(s=a.stateNode)){var l=s[Xe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Le(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ie(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[Xe]||null;if(!p)throw Error(i(90));Le(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&fo(u)}break t;case"textarea":ae(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&mn(s,!!l.multiple,a,!1)}}}var ei=!1;function Cl(s,a,l){if(ei)return s(a,l);ei=!0;try{var u=s(a);return u}finally{if(ei=!1,(Ss!==null||pi!==null)&&(Gd(),Ss&&(a=Ss,s=pi,pi=Ss=null,la(a),s)))for(a=0;a<s.length;a++)la(s[a])}}function br(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Xe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Ci)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){xn=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{xn=!1}var Qi=null,As=null,Ii=null;function ua(){if(Ii)return Ii;var s,a=As,l=a.length,u,p="value"in Qi?Qi.value:Qi.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===p[y-u];u++);return Ii=p.slice(s,1<u?1-u:void 0)}function xs(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function mi(){return!0}function Il(){return!1}function sn(s){function a(l,u,p,y,S){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?mi:Il,this.isPropagationStopped=Il,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),a}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=sn(fe),Js=_({},fe,{view:0,detail:0}),Dl=sn(Js),Rs,Tr,Xi,wr=_({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xi&&(Xi&&s.type==="mousemove"?(Rs=s.screenX-Xi.screenX,Tr=s.screenY-Xi.screenY):Tr=Rs=0,Xi=s),Rs)},movementY:function(s){return"movementY"in s?s.movementY:Tr}}),Rn=sn(wr),wc=_({},wr,{dataTransfer:0}),Sc=sn(wc),Sr=_({},Js,{relatedTarget:0}),ha=sn(Sr),po=_({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=sn(po),mo=_({},fe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),da=sn(mo),$u=_({},fe,{data:0}),Ol=sn($u),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ga={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ga[s])?!!a[s]:!1}function pa(){return kl}var _o=_({},Js,{key:function(s){if(s.key){var a=Ar[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=xs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ml[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(s){return s.type==="keypress"?xs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ma=sn(_o),Pl=_({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=sn(Pl),Ji=_({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),Ac=sn(Ji),Nl=_({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),xc=sn(Nl),Rc=_({},wr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=sn(Rc),Gn=_({},fe,{newState:0,oldState:0}),Ll=sn(Gn),Vl=[9,13,27,32],Cs=Ci&&"CompositionEvent"in window,d=null;Ci&&"documentMode"in document&&(d=document.documentMode);var v=Ci&&"TextEvent"in window&&!d,w=Ci&&(!Cs||d&&8<d&&11>=d),O=" ",Q=!1;function it(s,a){switch(s){case"keyup":return Vl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var oe=!1;function rn(s,a){switch(s){case"compositionend":return vt(a);case"keypress":return a.which!==32?null:(Q=!0,O);case"textInput":return s=a.data,s===O&&Q?null:s;default:return null}}function le(s,a){if(oe)return s==="compositionend"||!Cs&&it(s,a)?(s=ua(),Ii=As=Qi=null,oe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!_n[s.type]:a==="textarea"}function on(s,a,l,u){Ss?pi?pi.push(u):pi=[u]:Ss=u,a=Zd(a,"onChange"),0<a.length&&(l=new Er("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var yn=null,ts=null;function vo(s){C0(s,0)}function Cc(s){var a=_s(s);if(fo(a))return s}function rd(s,a){if(s==="change")return a}var Gu=!1;if(Ci){var bo;if(Ci){var Yu="oninput"in document;if(!Yu){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Yu=typeof ad.oninput=="function"}bo=Yu}else bo=!1;Gu=bo&&(!document.documentMode||9<document.documentMode)}function Wu(){yn&&(yn.detachEvent("onpropertychange",od),ts=yn=null)}function od(s){if(s.propertyName==="value"&&Cc(ts)){var a=[];on(a,ts,s,$n(s)),Cl(vo,a)}}function im(s,a,l){s==="focusin"?(Wu(),yn=a,ts=l,yn.attachEvent("onpropertychange",od)):s==="focusout"&&Wu()}function ld(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cc(ts)}function cd(s,a){if(s==="click")return Cc(a)}function ud(s,a){if(s==="input"||s==="change")return Cc(a)}function Ic(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ni=typeof Object.is=="function"?Object.is:Ic;function _a(s,a){if(ni(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Jr.call(a,p)||!ni(s[p],a[p]))return!1}return!0}function _i(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hd(s,a){var l=_i(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=_i(l)}}function fd(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?fd(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ku(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Nn(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Nn(s.document)}return a}function Dc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var sm=Ci&&"documentMode"in document&&11>=document.documentMode,Eo=null,Qu=null,Ul=null,Xu=!1;function dd(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xu||Eo==null||Eo!==Nn(u)||(u=Eo,"selectionStart"in u&&Dc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&_a(Ul,u)||(Ul=u,u=Zd(Qu,"onSelect"),0<u.length&&(a=new Er("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Eo)))}function xr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var ya={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},jl={},gd={};Ci&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function va(s){if(jl[s])return jl[s];if(!ya[s])return s;var a=ya[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in gd)return jl[s]=a[l];return s}var Rr=va("animationend"),Is=va("animationiteration"),Zu=va("animationstart"),rm=va("transitionrun"),pd=va("transitionstart"),md=va("transitioncancel"),Ju=va("transitionend"),th=new Map,eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eh.push("scrollEnd");function es(s,a){th.set(s,a),ke(a,[s])}var _d=new WeakMap;function yi(s,a){if(typeof s=="object"&&s!==null){var l=_d.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ra(a)},_d.set(s,a),a)}return{value:s,source:a,stack:ra(a)}}var vi=[],To=0,nh=0;function Oc(){for(var s=To,a=nh=To=0;a<s;){var l=vi[a];vi[a++]=null;var u=vi[a];vi[a++]=null;var p=vi[a];vi[a++]=null;var y=vi[a];if(vi[a++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}y!==0&&sh(l,p,y)}}function Mc(s,a,l,u){vi[To++]=s,vi[To++]=a,vi[To++]=l,vi[To++]=u,nh|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function ih(s,a,l,u){return Mc(s,a,l,u),kc(s)}function ii(s,a){return Mc(s,null,null,a),kc(s)}function sh(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-Qe(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),y):null}function kc(s){if(50<jh)throw jh=0,Um=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var wo={};function am(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,a,l,u){return new am(s,a,l,u)}function rh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tr(s,a){var l=s.alternate;return l===null?(l=bi(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function yd(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Pc(s,a,l,u,p,y){var S=0;if(u=s,typeof s=="function")rh(s)&&(S=1);else if(typeof s=="string")S=jR(s,l,At.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=bi(31,l,a,p),s.elementType=N,s.lanes=y,s;case R:return er(l.children,p,y,a);case I:S=8,p|=24;break;case M:return s=bi(12,l,a,p|2),s.elementType=M,s.lanes=y,s;case rt:return s=bi(13,l,a,p),s.elementType=rt,s.lanes=y,s;case pt:return s=bi(19,l,a,p),s.elementType=pt,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case J:S=10;break t;case G:S=9;break t;case at:S=11;break t;case V:S=14;break t;case P:S=16,u=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=bi(S,l,a,p),a.elementType=s,a.type=u,a.lanes=y,a}function er(s,a,l,u){return s=bi(7,s,u,a),s.lanes=l,s}function So(s,a,l){return s=bi(6,s,null,a),s.lanes=l,s}function ah(s,a,l){return a=bi(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ba=[],Ea=0,Cr=null,Ao=0,si=[],Di=0,Ta=null,nr=1,Yn="";function wa(s,a){ba[Ea++]=Ao,ba[Ea++]=Cr,Cr=s,Ao=a}function vd(s,a,l){si[Di++]=nr,si[Di++]=Yn,si[Di++]=Ta,Ta=s;var u=nr;s=Yn;var p=32-Qe(u)-1;u&=~(1<<p),l+=1;var y=32-Qe(a)+p;if(30<y){var S=p-p%5;y=(u&(1<<S)-1).toString(32),u>>=S,p-=S,nr=1<<32-Qe(a)+p|l<<p|u,Yn=y+s}else nr=1<<y|l<<p|u,Yn=s}function oh(s){s.return!==null&&(wa(s,1),vd(s,1,0))}function lh(s){for(;s===Cr;)Cr=ba[--Ea],ba[Ea]=null,Ao=ba[--Ea],ba[Ea]=null;for(;s===Ta;)Ta=si[--Di],si[Di]=null,Yn=si[--Di],si[Di]=null,nr=si[--Di],si[Di]=null}var vn=null,Ve=null,me=!1,Ir=null,Ds=!1,Dr=Error(i(519));function ir(s){var a=Error(i(418,""));throw ns(yi(a,s)),Dr}function ch(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[nn]=s,a[Xe]=u,l){case"dialog":re("cancel",a),re("close",a);break;case"iframe":case"object":case"embed":re("load",a);break;case"video":case"audio":for(l=0;l<Bh.length;l++)re(Bh[l],a);break;case"source":re("error",a);break;case"img":case"image":case"link":re("error",a),re("load",a);break;case"details":re("toggle",a);break;case"input":re("invalid",a),Xs(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),aa(a);break;case"select":re("invalid",a);break;case"textarea":re("invalid",a),Ts(a,u.value,u.defaultValue,u.children),aa(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||M0(a.textContent,l)?(u.popover!=null&&(re("beforetoggle",a),re("toggle",a)),u.onScroll!=null&&re("scroll",a),u.onScrollEnd!=null&&re("scrollend",a),u.onClick!=null&&(a.onclick=Jd),a=!0):a=!1,a||ir(s)}function bd(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:Ds=!1;return;case 27:case 3:Ds=!0;return;default:vn=vn.return}}function zl(s){if(s!==vn)return!1;if(!me)return bd(s),me=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||t_(s.type,s.memoizedProps)),l=!l),l&&Ve&&ir(s),bd(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ve=or(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ve=null}}else a===27?(a=Ve,zo(s.type)?(s=s_,s_=null,Ve=s):Ve=a):Ve=vn?or(s.stateNode.nextSibling):null;return!0}function Bl(){Ve=vn=null,me=!1}function xo(){var s=Ir;return s!==null&&(Li===null?Li=s:Li.push.apply(Li,s),Ir=null),s}function ns(s){Ir===null?Ir=[s]:Ir.push(s)}var uh=ht(null),Sa=null,sr=null;function Or(s,a,l){mt(uh,a._currentValue),a._currentValue=l}function rr(s){s._currentValue=uh.current,yt(uh)}function hh(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function fh(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=p;for(var B=0;B<a.length;B++)if(C.context===a[B]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),hh(y.return,l,s),u||(S=null);break t}y=C.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),hh(S,l,s),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===s){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Fl(s,a,l,u){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=p.type;ni(p.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(p===Ke.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Yh):s=[Yh])}p=p.return}s!==null&&fh(a,s,l,u),a.flags|=262144}function Hl(s){for(s=s.firstContext;s!==null;){if(!ni(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Aa(s){Sa=s,sr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Cn(s){return dh(Sa,s)}function Ro(s,a){return Sa===null&&Aa(s),dh(s,a)}function dh(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},sr===null){if(s===null)throw Error(i(308));sr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else sr=sr.next=a;return l}var xa=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Ed=n.unstable_scheduleCallback,gh=n.unstable_NormalPriority,Je={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ql(){return{controller:new xa,data:new Map,refCount:0}}function Co(s){s.refCount--,s.refCount===0&&Ed(gh,function(){s.controller.abort()})}var Ra=null,ph=0,Oi=0,Ei=null;function om(s,a){if(Ra===null){var l=Ra=[];ph=0,Oi=$m(),Ei={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ph++,a.then(Td,Td),a}function Td(){if(--ph===0&&Ra!==null){Ei!==null&&(Ei.status="fulfilled");var s=Ra;Ra=null,Oi=0,Ei=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function lm(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var wd=et.S;et.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&om(s,a),wd!==null&&wd(s,a)};var Ca=ht(null);function mh(){var s=Ca.current;return s!==null?s:Ue.pooledCache}function Nc(s,a){a===null?mt(Ca,Ca.current):mt(Ca,a.pool)}function Sd(){var s=mh();return s===null?null:{parent:Je._currentValue,pool:s}}var Io=Error(i(460)),$l=Error(i(474)),Ia=Error(i(542)),_h={then:function(){}};function Ad(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Mr(){}function x(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Mr,Mr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,D(s),s;default:if(typeof a.status=="string")a.then(Mr,Mr);else{if(s=Ue,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,D(s),s}throw m=a,Io}}var m=null;function T(){if(m===null)throw Error(i(459));var s=m;return m=null,s}function D(s){if(s===Io||s===Ia)throw Error(i(483))}var $=!1;function Y(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function st(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lt(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _t(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=kc(s),sh(s,null,l),a}return Mc(s,u,a,l),kc(s)}function St(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Sl(s,l)}}function Rt(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Et=!1;function Yt(){if(Et){var s=Ei;if(s!==null)throw s}}function Pt(s,a,l,u){Et=!1;var p=s.updateQueue;$=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var B=C,Z=B.next;B.next=null,S===null?y=Z:S.next=Z,S=B;var ot=s.alternate;ot!==null&&(ot=ot.updateQueue,C=ot.lastBaseUpdate,C!==S&&(C===null?ot.firstBaseUpdate=Z:C.next=Z,ot.lastBaseUpdate=B))}if(y!==null){var ft=p.baseState;S=0,ot=Z=B=null,C=y;do{var tt=C.lane&-536870913,nt=tt!==C.lane;if(nt?(ge&tt)===tt:(u&tt)===tt){tt!==0&&tt===Oi&&(Et=!0),ot!==null&&(ot=ot.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Gt=s,Ut=C;tt=a;var Me=l;switch(Ut.tag){case 1:if(Gt=Ut.payload,typeof Gt=="function"){ft=Gt.call(Me,ft,tt);break t}ft=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Ut.payload,tt=typeof Gt=="function"?Gt.call(Me,ft,tt):Gt,tt==null)break t;ft=_({},ft,tt);break t;case 2:$=!0}}tt=C.callback,tt!==null&&(s.flags|=64,nt&&(s.flags|=8192),nt=p.callbacks,nt===null?p.callbacks=[tt]:nt.push(tt))}else nt={lane:tt,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ot===null?(Z=ot=nt,B=ft):ot=ot.next=nt,S|=tt;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;nt=C,C=nt.next,nt.next=null,p.lastBaseUpdate=nt,p.shared.pending=null}}while(!0);ot===null&&(B=ft),p.baseState=B,p.firstBaseUpdate=Z,p.lastBaseUpdate=ot,y===null&&(p.shared.lanes=0),Lo|=S,s.lanes=S,s.memoizedState=ft}}function Wt(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Bt(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Wt(l[s],a)}var Vt=ht(null),_e=ht(0);function Se(s,a){s=La,mt(_e,s),mt(Vt,a),La=s|a.baseLanes}function Zt(){mt(_e,La),mt(Vt,Vt.current)}function he(){La=_e.current,yt(Vt),yt(_e)}var Ft=0,Tt=null,Ot=null,Ht=null,de=!1,De=!1,ln=!1,ri=0,cn=0,In=null,Mi=0;function Qt(){throw Error(i(321))}function ki(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!ni(s[l],a[l]))return!1;return!0}function Pi(s,a,l,u,p,y){return Ft=y,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,et.H=s===null||s.memoizedState===null?fb:db,ln=!1,y=l(u,p),ln=!1,De&&(y=un(a,l,u,p)),Da(s),y}function Da(s){et.H=kd;var a=Ot!==null&&Ot.next!==null;if(Ft=0,Ht=Ot=Tt=null,de=!1,cn=0,In=null,a)throw Error(i(300));s===null||Vn||(s=s.dependencies,s!==null&&Hl(s)&&(Vn=!0))}function un(s,a,l,u){Tt=s;var p=0;do{if(De&&(In=null),cn=0,De=!1,25<=p)throw Error(i(301));if(p+=1,Ht=Ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}et.H=Q1,y=a(l,u)}while(De);return y}function Ae(){var s=et.H,a=s.useState()[0];return a=typeof a.then=="function"?kr(a):a,s=s.useState()[0],(Ot!==null?Ot.memoizedState:null)!==s&&(Tt.flags|=1024),a}function Dn(){var s=ri!==0;return ri=0,s}function ai(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Os(s){if(de){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}de=!1}Ft=0,Ht=Ot=Tt=null,De=!1,cn=ri=0,In=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function $e(){if(Ot===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var a=Ht===null?Tt.memoizedState:Ht.next;if(a!==null)Ht=a,Ot=s;else{if(s===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(s){var a=cn;return cn+=1,In===null&&(In=[]),s=x(In,s,a),a=Tt,(Ht===null?a.memoizedState:Ht.next)===null&&(a=a.alternate,et.H=a===null||a.memoizedState===null?fb:db),s}function Vc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kr(s);if(s.$$typeof===J)return Cn(s)}throw Error(i(438,String(s)))}function yh(s){var a=null,l=Tt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Lc(),Tt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=z;return a.index++,l}function is(s,a){return typeof a=="function"?a(s):a}function Uc(s){var a=$e();return jc(a,Ot,s)}function jc(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}a.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var C=S=null,B=null,Z=a,ot=!1;do{var ft=Z.lane&-536870913;if(ft!==Z.lane?(ge&ft)===ft:(Ft&ft)===ft){var tt=Z.revertLane;if(tt===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ft===Oi&&(ot=!0);else if((Ft&tt)===tt){Z=Z.next,tt===Oi&&(ot=!0);continue}else ft={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(C=B=ft,S=y):B=B.next=ft,Tt.lanes|=tt,Lo|=tt;ft=Z.action,ln&&l(y,ft),y=Z.hasEagerState?Z.eagerState:l(y,ft)}else tt={lane:ft,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(C=B=tt,S=y):B=B.next=tt,Tt.lanes|=ft,Lo|=ft;Z=Z.next}while(Z!==null&&Z!==a);if(B===null?S=y:B.next=C,!ni(y,s.memoizedState)&&(Vn=!0,ot&&(l=Ei,l!==null)))throw l;s.memoizedState=y,s.baseState=S,s.baseQueue=B,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function vh(s){var a=$e(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=s(y,S.action),S=S.next;while(S!==p);ni(y,a.memoizedState)||(Vn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function bh(s,a,l){var u=Tt,p=$e(),y=me;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!ni((Ot||p).memoizedState,l);S&&(p.memoizedState=l,Vn=!0),p=p.queue;var C=Rd.bind(null,u,p,s);if(Ch(2048,8,C,[s]),p.getSnapshot!==a||S||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Hc(9,Dd(),xd.bind(null,u,p,l,a),null),Ue===null)throw Error(i(349));y||(Ft&124)!==0||Eh(u,a,l)}return l}function Eh(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Tt.updateQueue,a===null?(a=Lc(),Tt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function xd(s,a,l,u){a.value=l,a.getSnapshot=u,Pr(a)&&Gl(s)}function Rd(s,a,l){return l(function(){Pr(a)&&Gl(s)})}function Pr(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!ni(s,l)}catch{return!0}}function Gl(s){var a=ii(s,2);a!==null&&ls(a,s,2)}function zc(s){var a=On();if(typeof s=="function"){var l=s;if(s=l(),ln){gi(!0);try{l()}finally{gi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},a}function Th(s,a,l,u){return s.baseState=l,jc(s,Ot,typeof u=="function"?u:is)}function wh(s,a,l,u,p){if(Md(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};et.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,Sh(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Sh(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var y=et.T,S={};et.T=S;try{var C=l(p,u),B=et.S;B!==null&&B(S,C),Ah(s,a,C)}catch(Z){Bc(s,a,Z)}finally{et.T=y}}else try{y=l(p,u),Ah(s,a,y)}catch(Z){Bc(s,a,Z)}}function Ah(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){xh(s,a,u)},function(u){return Bc(s,a,u)}):xh(s,a,l)}function xh(s,a,l){a.status="fulfilled",a.value=l,Cd(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Sh(s,l)))}function Bc(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Cd(a),a=a.next;while(a!==u)}s.action=null}function Cd(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Id(s,a){return a}function Fc(s,a){if(me){var l=Ue.formState;if(l!==null){t:{var u=Tt;if(me){if(Ve){e:{for(var p=Ve,y=Ds;p.nodeType!==8;){if(!y){p=null;break e}if(p=or(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ve=or(p.nextSibling),u=p.data==="F!";break t}}ir(u)}u=!1}u&&(a=l[0])}}return l=On(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:a},l.queue=u,l=cb.bind(null,Tt,u),u.dispatch=l,u=zc(!1),y=dm.bind(null,Tt,!1,u.queue),u=On(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=wh.bind(null,Tt,p,y,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function Rh(s){var a=$e();return Gv(a,Ot,s)}function Gv(s,a,l){if(a=jc(s,a,Id)[0],s=Uc(is)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=kr(a)}catch(S){throw S===Io?Ia:S}else u=a;a=$e();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Tt.flags|=2048,Hc(9,Dd(),G1.bind(null,p,l),null)),[u,y,s]}function G1(s,a){s.action=a}function Yv(s){var a=$e(),l=Ot;if(l!==null)return Gv(a,l,s);$e(),a=a.memoizedState,l=$e();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Hc(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Tt.updateQueue,a===null&&(a=Lc(),Tt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Dd(){return{destroy:void 0,resource:void 0}}function Wv(){return $e().memoizedState}function Od(s,a,l,u){var p=On();u=u===void 0?null:u,Tt.flags|=s,p.memoizedState=Hc(1|a,Dd(),l,u)}function Ch(s,a,l,u){var p=$e();u=u===void 0?null:u;var y=p.memoizedState.inst;Ot!==null&&u!==null&&ki(u,Ot.memoizedState.deps)?p.memoizedState=Hc(a,y,l,u):(Tt.flags|=s,p.memoizedState=Hc(1|a,y,l,u))}function Kv(s,a){Od(8390656,8,s,a)}function Qv(s,a){Ch(2048,8,s,a)}function Xv(s,a){return Ch(4,2,s,a)}function Zv(s,a){return Ch(4,4,s,a)}function Jv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function tb(s,a,l){l=l!=null?l.concat([s]):null,Ch(4,4,Jv.bind(null,a,s),l)}function cm(){}function eb(s,a){var l=$e();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&ki(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function nb(s,a){var l=$e();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&ki(a,u[1]))return u[0];if(u=s(),ln){gi(!0);try{s()}finally{gi(!1)}}return l.memoizedState=[u,a],u}function um(s,a,l){return l===void 0||(Ft&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=r0(),Tt.lanes|=s,Lo|=s,l)}function ib(s,a,l,u){return ni(l,a)?l:Vt.current!==null?(s=um(s,l,u),ni(s,a)||(Vn=!0),s):(Ft&42)===0?(Vn=!0,s.memoizedState=l):(s=r0(),Tt.lanes|=s,Lo|=s,a)}function sb(s,a,l,u,p){var y=gt.p;gt.p=y!==0&&8>y?y:8;var S=et.T,C={};et.T=C,dm(s,!1,a,l);try{var B=p(),Z=et.S;if(Z!==null&&Z(C,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ot=lm(B,u);Ih(s,a,ot,os(s))}else Ih(s,a,u,os(s))}catch(ft){Ih(s,a,{then:function(){},status:"rejected",reason:ft},os())}finally{gt.p=y,et.T=S}}function Y1(){}function hm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=rb(s).queue;sb(s,p,a,xt,l===null?Y1:function(){return ab(s),l(u)})}function rb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:xt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function ab(s){var a=rb(s).next.queue;Ih(s,a,{},os())}function fm(){return Cn(Yh)}function ob(){return $e().memoizedState}function lb(){return $e().memoizedState}function W1(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=os();s=lt(l);var u=_t(a,s,l);u!==null&&(ls(u,a,l),St(u,a,l)),a={cache:ql()},s.payload=a;return}a=a.return}}function K1(s,a,l){var u=os();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Md(s)?ub(a,l):(l=ih(s,a,l,u),l!==null&&(ls(l,s,u),hb(l,a,u)))}function cb(s,a,l){var u=os();Ih(s,a,l,u)}function Ih(s,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Md(s))ub(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,C=y(S,l);if(p.hasEagerState=!0,p.eagerState=C,ni(C,S))return Mc(s,a,p,0),Ue===null&&Oc(),!1}catch{}finally{}if(l=ih(s,a,p,u),l!==null)return ls(l,s,u),hb(l,a,u),!0}return!1}function dm(s,a,l,u){if(u={lane:2,revertLane:$m(),action:u,hasEagerState:!1,eagerState:null,next:null},Md(s)){if(a)throw Error(i(479))}else a=ih(s,l,u,2),a!==null&&ls(a,s,2)}function Md(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function ub(s,a){De=de=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function hb(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Sl(s,l)}}var kd={readContext:Cn,use:Vc,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},fb={readContext:Cn,use:Vc,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:Cn,useEffect:Kv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Od(4194308,4,Jv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Od(4194308,4,s,a)},useInsertionEffect:function(s,a){Od(4,2,s,a)},useMemo:function(s,a){var l=On();a=a===void 0?null:a;var u=s();if(ln){gi(!0);try{s()}finally{gi(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=On();if(l!==void 0){var p=l(a);if(ln){gi(!0);try{l(a)}finally{gi(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=K1.bind(null,Tt,s),[u.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:function(s){s=zc(s);var a=s.queue,l=cb.bind(null,Tt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:cm,useDeferredValue:function(s,a){var l=On();return um(l,s,a)},useTransition:function(){var s=zc(!1);return s=sb.bind(null,Tt,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Tt,p=On();if(me){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ue===null)throw Error(i(349));(ge&124)!==0||Eh(u,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,Kv(Rd.bind(null,u,y,s),[s]),u.flags|=2048,Hc(9,Dd(),xd.bind(null,u,y,l,a),null),l},useId:function(){var s=On(),a=Ue.identifierPrefix;if(me){var l=Yn,u=nr;l=(u&~(1<<32-Qe(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=ri++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Mi++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:fm,useFormState:Fc,useActionState:Fc,useOptimistic:function(s){var a=On();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=dm.bind(null,Tt,!0,l),l.dispatch=a,[s,a]},useMemoCache:yh,useCacheRefresh:function(){return On().memoizedState=W1.bind(null,Tt)}},db={readContext:Cn,use:Vc,useCallback:eb,useContext:Cn,useEffect:Qv,useImperativeHandle:tb,useInsertionEffect:Xv,useLayoutEffect:Zv,useMemo:nb,useReducer:Uc,useRef:Wv,useState:function(){return Uc(is)},useDebugValue:cm,useDeferredValue:function(s,a){var l=$e();return ib(l,Ot.memoizedState,s,a)},useTransition:function(){var s=Uc(is)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:kr(s),a]},useSyncExternalStore:bh,useId:ob,useHostTransitionStatus:fm,useFormState:Rh,useActionState:Rh,useOptimistic:function(s,a){var l=$e();return Th(l,Ot,s,a)},useMemoCache:yh,useCacheRefresh:lb},Q1={readContext:Cn,use:Vc,useCallback:eb,useContext:Cn,useEffect:Qv,useImperativeHandle:tb,useInsertionEffect:Xv,useLayoutEffect:Zv,useMemo:nb,useReducer:vh,useRef:Wv,useState:function(){return vh(is)},useDebugValue:cm,useDeferredValue:function(s,a){var l=$e();return Ot===null?um(l,s,a):ib(l,Ot.memoizedState,s,a)},useTransition:function(){var s=vh(is)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:kr(s),a]},useSyncExternalStore:bh,useId:ob,useHostTransitionStatus:fm,useFormState:Yv,useActionState:Yv,useOptimistic:function(s,a){var l=$e();return Ot!==null?Th(l,Ot,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:yh,useCacheRefresh:lb},qc=null,Dh=0;function Pd(s){var a=Dh;return Dh+=1,qc===null&&(qc=[]),x(qc,s,a)}function Oh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Nd(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function gb(s){var a=s._init;return a(s._payload)}function pb(s){function a(K,q){if(s){var X=K.deletions;X===null?(K.deletions=[q],K.flags|=16):X.push(q)}}function l(K,q){if(!s)return null;for(;q!==null;)a(K,q),q=q.sibling;return null}function u(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function p(K,q){return K=tr(K,q),K.index=0,K.sibling=null,K}function y(K,q,X){return K.index=X,s?(X=K.alternate,X!==null?(X=X.index,X<q?(K.flags|=67108866,q):X):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function S(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function C(K,q,X,ct){return q===null||q.tag!==6?(q=So(X,K.mode,ct),q.return=K,q):(q=p(q,X),q.return=K,q)}function B(K,q,X,ct){var Dt=X.type;return Dt===R?ot(K,q,X.props.children,ct,X.key):q!==null&&(q.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===P&&gb(Dt)===q.type)?(q=p(q,X.props),Oh(q,X),q.return=K,q):(q=Pc(X.type,X.key,X.props,null,K.mode,ct),Oh(q,X),q.return=K,q)}function Z(K,q,X,ct){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=ah(X,K.mode,ct),q.return=K,q):(q=p(q,X.children||[]),q.return=K,q)}function ot(K,q,X,ct,Dt){return q===null||q.tag!==7?(q=er(X,K.mode,ct,Dt),q.return=K,q):(q=p(q,X),q.return=K,q)}function ft(K,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=So(""+q,K.mode,X),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return X=Pc(q.type,q.key,q.props,null,K.mode,X),Oh(X,q),X.return=K,X;case A:return q=ah(q,K.mode,X),q.return=K,q;case P:var ct=q._init;return q=ct(q._payload),ft(K,q,X)}if(Mt(q)||H(q))return q=er(q,K.mode,X,null),q.return=K,q;if(typeof q.then=="function")return ft(K,Pd(q),X);if(q.$$typeof===J)return ft(K,Ro(K,q),X);Nd(K,q)}return null}function tt(K,q,X,ct){var Dt=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Dt!==null?null:C(K,q,""+X,ct);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Dt?B(K,q,X,ct):null;case A:return X.key===Dt?Z(K,q,X,ct):null;case P:return Dt=X._init,X=Dt(X._payload),tt(K,q,X,ct)}if(Mt(X)||H(X))return Dt!==null?null:ot(K,q,X,ct,null);if(typeof X.then=="function")return tt(K,q,Pd(X),ct);if(X.$$typeof===J)return tt(K,q,Ro(K,X),ct);Nd(K,X)}return null}function nt(K,q,X,ct,Dt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return K=K.get(X)||null,C(q,K,""+ct,Dt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case E:return K=K.get(ct.key===null?X:ct.key)||null,B(q,K,ct,Dt);case A:return K=K.get(ct.key===null?X:ct.key)||null,Z(q,K,ct,Dt);case P:var ee=ct._init;return ct=ee(ct._payload),nt(K,q,X,ct,Dt)}if(Mt(ct)||H(ct))return K=K.get(X)||null,ot(q,K,ct,Dt,null);if(typeof ct.then=="function")return nt(K,q,X,Pd(ct),Dt);if(ct.$$typeof===J)return nt(K,q,X,Ro(q,ct),Dt);Nd(q,ct)}return null}function Gt(K,q,X,ct){for(var Dt=null,ee=null,kt=q,zt=q=0,jn=null;kt!==null&&zt<X.length;zt++){kt.index>zt?(jn=kt,kt=null):jn=kt.sibling;var ye=tt(K,kt,X[zt],ct);if(ye===null){kt===null&&(kt=jn);break}s&&kt&&ye.alternate===null&&a(K,kt),q=y(ye,q,zt),ee===null?Dt=ye:ee.sibling=ye,ee=ye,kt=jn}if(zt===X.length)return l(K,kt),me&&wa(K,zt),Dt;if(kt===null){for(;zt<X.length;zt++)kt=ft(K,X[zt],ct),kt!==null&&(q=y(kt,q,zt),ee===null?Dt=kt:ee.sibling=kt,ee=kt);return me&&wa(K,zt),Dt}for(kt=u(kt);zt<X.length;zt++)jn=nt(kt,K,zt,X[zt],ct),jn!==null&&(s&&jn.alternate!==null&&kt.delete(jn.key===null?zt:jn.key),q=y(jn,q,zt),ee===null?Dt=jn:ee.sibling=jn,ee=jn);return s&&kt.forEach(function($o){return a(K,$o)}),me&&wa(K,zt),Dt}function Ut(K,q,X,ct){if(X==null)throw Error(i(151));for(var Dt=null,ee=null,kt=q,zt=q=0,jn=null,ye=X.next();kt!==null&&!ye.done;zt++,ye=X.next()){kt.index>zt?(jn=kt,kt=null):jn=kt.sibling;var $o=tt(K,kt,ye.value,ct);if($o===null){kt===null&&(kt=jn);break}s&&kt&&$o.alternate===null&&a(K,kt),q=y($o,q,zt),ee===null?Dt=$o:ee.sibling=$o,ee=$o,kt=jn}if(ye.done)return l(K,kt),me&&wa(K,zt),Dt;if(kt===null){for(;!ye.done;zt++,ye=X.next())ye=ft(K,ye.value,ct),ye!==null&&(q=y(ye,q,zt),ee===null?Dt=ye:ee.sibling=ye,ee=ye);return me&&wa(K,zt),Dt}for(kt=u(kt);!ye.done;zt++,ye=X.next())ye=nt(kt,K,zt,ye.value,ct),ye!==null&&(s&&ye.alternate!==null&&kt.delete(ye.key===null?zt:ye.key),q=y(ye,q,zt),ee===null?Dt=ye:ee.sibling=ye,ee=ye);return s&&kt.forEach(function(XR){return a(K,XR)}),me&&wa(K,zt),Dt}function Me(K,q,X,ct){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:t:{for(var Dt=X.key;q!==null;){if(q.key===Dt){if(Dt=X.type,Dt===R){if(q.tag===7){l(K,q.sibling),ct=p(q,X.props.children),ct.return=K,K=ct;break t}}else if(q.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===P&&gb(Dt)===q.type){l(K,q.sibling),ct=p(q,X.props),Oh(ct,X),ct.return=K,K=ct;break t}l(K,q);break}else a(K,q);q=q.sibling}X.type===R?(ct=er(X.props.children,K.mode,ct,X.key),ct.return=K,K=ct):(ct=Pc(X.type,X.key,X.props,null,K.mode,ct),Oh(ct,X),ct.return=K,K=ct)}return S(K);case A:t:{for(Dt=X.key;q!==null;){if(q.key===Dt)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){l(K,q.sibling),ct=p(q,X.children||[]),ct.return=K,K=ct;break t}else{l(K,q);break}else a(K,q);q=q.sibling}ct=ah(X,K.mode,ct),ct.return=K,K=ct}return S(K);case P:return Dt=X._init,X=Dt(X._payload),Me(K,q,X,ct)}if(Mt(X))return Gt(K,q,X,ct);if(H(X)){if(Dt=H(X),typeof Dt!="function")throw Error(i(150));return X=Dt.call(X),Ut(K,q,X,ct)}if(typeof X.then=="function")return Me(K,q,Pd(X),ct);if(X.$$typeof===J)return Me(K,q,Ro(K,X),ct);Nd(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(l(K,q.sibling),ct=p(q,X),ct.return=K,K=ct):(l(K,q),ct=So(X,K.mode,ct),ct.return=K,K=ct),S(K)):l(K,q)}return function(K,q,X,ct){try{Dh=0;var Dt=Me(K,q,X,ct);return qc=null,Dt}catch(kt){if(kt===Io||kt===Ia)throw kt;var ee=bi(29,kt,null,K.mode);return ee.lanes=ct,ee.return=K,ee}finally{}}}var $c=pb(!0),mb=pb(!1),Ms=ht(null),Nr=null;function Do(s){var a=s.alternate;mt(Mn,Mn.current&1),mt(Ms,s),Nr===null&&(a===null||Vt.current!==null||a.memoizedState!==null)&&(Nr=s)}function _b(s){if(s.tag===22){if(mt(Mn,Mn.current),mt(Ms,s),Nr===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Nr=s)}}else Oo()}function Oo(){mt(Mn,Mn.current),mt(Ms,Ms.current)}function Oa(s){yt(Ms),Nr===s&&(Nr=null),yt(Mn)}var Mn=ht(0);function Ld(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||i_(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function gm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var pm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=os(),p=lt(u);p.payload=a,l!=null&&(p.callback=l),a=_t(s,p,u),a!==null&&(ls(a,s,u),St(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=os(),p=lt(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=_t(s,p,u),a!==null&&(ls(a,s,u),St(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=os(),u=lt(l);u.tag=2,a!=null&&(u.callback=a),a=_t(s,u,l),a!==null&&(ls(a,s,l),St(a,s,l))}};function yb(s,a,l,u,p,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,S):a.prototype&&a.prototype.isPureReactComponent?!_a(l,u)||!_a(p,y):!0}function vb(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&pm.enqueueReplaceState(a,a.state,null)}function Yl(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Vd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function bb(s){Vd(s)}function Eb(s){console.error(s)}function Tb(s){Vd(s)}function Ud(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function wb(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function mm(s,a,l){return l=lt(l),l.tag=3,l.payload={element:null},l.callback=function(){Ud(s,a)},l}function Sb(s){return s=lt(s),s.tag=3,s}function Ab(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){wb(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){wb(a,l,u),typeof p!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function X1(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Fl(a,l,p,!0),l=Ms.current,l!==null){switch(l.tag){case 13:return Nr===null?zm():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===_h?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Fm(s,u,p)),!1;case 22:return l.flags|=65536,u===_h?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Fm(s,u,p)),!1}throw Error(i(435,l.tag))}return Fm(s,u,p),zm(),!1}if(me)return a=Ms.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==Dr&&(s=Error(i(422),{cause:u}),ns(yi(s,l)))):(u!==Dr&&(a=Error(i(423),{cause:u}),ns(yi(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=yi(u,l),p=mm(s.stateNode,u,p),Rt(s,p),tn!==4&&(tn=2)),!1;var y=Error(i(520),{cause:u});if(y=yi(y,l),Uh===null?Uh=[y]:Uh.push(y),tn!==4&&(tn=2),a===null)return!0;u=yi(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=mm(l.stateNode,u,s),Rt(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vo===null||!Vo.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Sb(p),Ab(p,s,l,u),Rt(l,p),!1}l=l.return}while(l!==null);return!1}var xb=Error(i(461)),Vn=!1;function Wn(s,a,l,u){a.child=s===null?mb(a,null,l,u):$c(a,s.child,l,u)}function Rb(s,a,l,u,p){l=l.render;var y=a.ref;if("ref"in u){var S={};for(var C in u)C!=="ref"&&(S[C]=u[C])}else S=u;return Aa(a),u=Pi(s,a,l,S,y,p),C=Dn(),s!==null&&!Vn?(ai(s,a,p),Ma(s,a,p)):(me&&C&&oh(a),a.flags|=1,Wn(s,a,u,p),a.child)}function Cb(s,a,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!rh(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Ib(s,a,y,u,p)):(s=Pc(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Sm(s,p)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:_a,l(S,u)&&s.ref===a.ref)return Ma(s,a,p)}return a.flags|=1,s=tr(y,u),s.ref=a.ref,s.return=a,a.child=s}function Ib(s,a,l,u,p){if(s!==null){var y=s.memoizedProps;if(_a(y,u)&&s.ref===a.ref)if(Vn=!1,a.pendingProps=u=y,Sm(s,p))(s.flags&131072)!==0&&(Vn=!0);else return a.lanes=s.lanes,Ma(s,a,p)}return _m(s,a,l,u,p)}function Db(s,a,l){var u=a.pendingProps,p=u.children,y=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,s!==null){for(p=a.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return Ob(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Nc(a,y!==null?y.cachePool:null),y!==null?Se(a,y):Zt(),_b(a);else return a.lanes=a.childLanes=536870912,Ob(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Nc(a,y.cachePool),Se(a,y),Oo(),a.memoizedState=null):(s!==null&&Nc(a,null),Zt(),Oo());return Wn(s,a,p,l),a.child}function Ob(s,a,l,u){var p=mh();return p=p===null?null:{parent:Je._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Nc(a,null),Zt(),_b(a),s!==null&&Fl(s,a,u,!0),null}function jd(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function _m(s,a,l,u,p){return Aa(a),l=Pi(s,a,l,u,void 0,p),u=Dn(),s!==null&&!Vn?(ai(s,a,p),Ma(s,a,p)):(me&&u&&oh(a),a.flags|=1,Wn(s,a,l,p),a.child)}function Mb(s,a,l,u,p,y){return Aa(a),a.updateQueue=null,l=un(a,u,l,p),Da(s),u=Dn(),s!==null&&!Vn?(ai(s,a,y),Ma(s,a,y)):(me&&u&&oh(a),a.flags|=1,Wn(s,a,l,y),a.child)}function kb(s,a,l,u,p){if(Aa(a),a.stateNode===null){var y=wo,S=l.contextType;typeof S=="object"&&S!==null&&(y=Cn(S)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pm,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Y(a),S=l.contextType,y.context=typeof S=="object"&&S!==null?Cn(S):wo,y.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(gm(a,l,S,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&pm.enqueueReplaceState(y,y.state,null),Pt(a,u,y,p),Yt(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var C=a.memoizedProps,B=Yl(l,C);y.props=B;var Z=y.context,ot=l.contextType;S=wo,typeof ot=="object"&&ot!==null&&(S=Cn(ot));var ft=l.getDerivedStateFromProps;ot=typeof ft=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,ot||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||Z!==S)&&vb(a,y,u,S),$=!1;var tt=a.memoizedState;y.state=tt,Pt(a,u,y,p),Yt(),Z=a.memoizedState,C||tt!==Z||$?(typeof ft=="function"&&(gm(a,l,ft,u),Z=a.memoizedState),(B=$||yb(a,l,B,u,tt,Z,S))?(ot||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Z),y.props=u,y.state=Z,y.context=S,u=B):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,st(s,a),S=a.memoizedProps,ot=Yl(l,S),y.props=ot,ft=a.pendingProps,tt=y.context,Z=l.contextType,B=wo,typeof Z=="object"&&Z!==null&&(B=Cn(Z)),C=l.getDerivedStateFromProps,(Z=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ft||tt!==B)&&vb(a,y,u,B),$=!1,tt=a.memoizedState,y.state=tt,Pt(a,u,y,p),Yt();var nt=a.memoizedState;S!==ft||tt!==nt||$||s!==null&&s.dependencies!==null&&Hl(s.dependencies)?(typeof C=="function"&&(gm(a,l,C,u),nt=a.memoizedState),(ot=$||yb(a,l,ot,u,tt,nt,B)||s!==null&&s.dependencies!==null&&Hl(s.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,nt,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,nt,B)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=nt),y.props=u,y.state=nt,y.context=B,u=ot):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,jd(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=$c(a,s.child,null,p),a.child=$c(a,null,l,p)):Wn(s,a,l,p),a.memoizedState=y.state,s=a.child):s=Ma(s,a,p),s}function Pb(s,a,l,u){return Bl(),a.flags|=256,Wn(s,a,l,u),a.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vm(s){return{baseLanes:s,cachePool:Sd()}}function bm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=ks),s}function Nb(s,a,l){var u=a.pendingProps,p=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(Mn.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(me){if(p?Do(a):Oo(),me){var C=Ve,B;if(B=C){t:{for(B=C,C=Ds;B.nodeType!==8;){if(!C){C=null;break t}if(B=or(B.nextSibling),B===null){C=null;break t}}C=B}C!==null?(a.memoizedState={dehydrated:C,treeContext:Ta!==null?{id:nr,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},B=bi(18,null,null,0),B.stateNode=C,B.return=a,a.child=B,vn=a,Ve=null,B=!0):B=!1}B||ir(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return i_(C)?a.lanes=32:a.lanes=536870912,null;Oa(a)}return C=u.children,u=u.fallback,p?(Oo(),p=a.mode,C=zd({mode:"hidden",children:C},p),u=er(u,p,l,null),C.return=a,u.return=a,C.sibling=u,a.child=C,p=a.child,p.memoizedState=vm(l),p.childLanes=bm(s,S,l),a.memoizedState=ym,u):(Do(a),Em(a,C))}if(B=s.memoizedState,B!==null&&(C=B.dehydrated,C!==null)){if(y)a.flags&256?(Do(a),a.flags&=-257,a=Tm(s,a,l)):a.memoizedState!==null?(Oo(),a.child=s.child,a.flags|=128,a=null):(Oo(),p=u.fallback,C=a.mode,u=zd({mode:"visible",children:u.children},C),p=er(p,C,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,$c(a,s.child,null,l),u=a.child,u.memoizedState=vm(l),u.childLanes=bm(s,S,l),a.memoizedState=ym,a=p);else if(Do(a),i_(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var Z=S.dgst;S=Z,u=Error(i(419)),u.stack="",u.digest=S,ns({value:u,source:null,stack:null}),a=Tm(s,a,l)}else if(Vn||Fl(s,a,l,!1),S=(l&s.childLanes)!==0,Vn||S){if(S=Ue,S!==null&&(u=l&-l,u=(u&42)!==0?1:_r(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,ii(s,u),ls(S,s,u),xb;C.data==="$?"||zm(),a=Tm(s,a,l)}else C.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=B.treeContext,Ve=or(C.nextSibling),vn=a,me=!0,Ir=null,Ds=!1,s!==null&&(si[Di++]=nr,si[Di++]=Yn,si[Di++]=Ta,nr=s.id,Yn=s.overflow,Ta=a),a=Em(a,u.children),a.flags|=4096);return a}return p?(Oo(),p=u.fallback,C=a.mode,B=s.child,Z=B.sibling,u=tr(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,Z!==null?p=tr(Z,p):(p=er(p,C,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,C=s.child.memoizedState,C===null?C=vm(l):(B=C.cachePool,B!==null?(Z=Je._currentValue,B=B.parent!==Z?{parent:Z,pool:Z}:B):B=Sd(),C={baseLanes:C.baseLanes|l,cachePool:B}),p.memoizedState=C,p.childLanes=bm(s,S,l),a.memoizedState=ym,u):(Do(a),l=s.child,s=l.sibling,l=tr(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function Em(s,a){return a=zd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function zd(s,a){return s=bi(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Tm(s,a,l){return $c(a,s.child,null,l),s=Em(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Lb(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),hh(s.return,a,l)}function wm(s,a,l,u,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function Vb(s,a,l){var u=a.pendingProps,p=u.revealOrder,y=u.tail;if(Wn(s,a,u.children,l),u=Mn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lb(s,l,a);else if(s.tag===19)Lb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(mt(Mn,u),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Ld(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),wm(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Ld(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}wm(a,!0,l,null,y);break;case"together":wm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ma(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Lo|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Fl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=tr(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=tr(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Sm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Hl(s)))}function Z1(s,a,l){switch(a.tag){case 3:bt(a,a.stateNode.containerInfo),Or(a,Je,s.memoizedState.cache),Bl();break;case 27:case 5:Bs(a);break;case 4:bt(a,a.stateNode.containerInfo);break;case 10:Or(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Do(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Nb(s,a,l):(Do(a),s=Ma(s,a,l),s!==null?s.sibling:null);Do(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Fl(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Vb(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Mn,Mn.current),u)break;return null;case 22:case 23:return a.lanes=0,Db(s,a,l);case 24:Or(a,Je,s.memoizedState.cache)}return Ma(s,a,l)}function Ub(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Vn=!0;else{if(!Sm(s,l)&&(a.flags&128)===0)return Vn=!1,Z1(s,a,l);Vn=(s.flags&131072)!==0}else Vn=!1,me&&(a.flags&1048576)!==0&&vd(a,Ao,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")rh(u)?(s=Yl(u,s),a.tag=1,a=kb(null,a,u,s,l)):(a.tag=0,a=_m(null,a,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===at){a.tag=11,a=Rb(null,a,u,s,l);break t}else if(p===V){a.tag=14,a=Cb(null,a,u,s,l);break t}}throw a=ne(u)||u,Error(i(306,a,""))}}return a;case 0:return _m(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=Yl(u,a.pendingProps),kb(s,a,u,p,l);case 3:t:{if(bt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;p=y.element,st(s,a),Pt(a,u,null,l);var S=a.memoizedState;if(u=S.cache,Or(a,Je,u),u!==y.cache&&fh(a,[Je],l,!0),Yt(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Pb(s,a,u,l);break t}else if(u!==p){p=yi(Error(i(424)),a),ns(p),a=Pb(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ve=or(s.firstChild),vn=a,me=!0,Ir=null,Ds=!0,l=mb(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Bl(),u===p){a=Ma(s,a,l);break t}Wn(s,a,u,l)}a=a.child}return a;case 26:return jd(s,a),s===null?(l=F0(a.type,null,a.pendingProps,null))?a.memoizedState=l:me||(l=a.type,s=a.pendingProps,u=tg(It.current).createElement(l),u[nn]=a,u[Xe]=s,Qn(u,l,s),ie(u),a.stateNode=u):a.memoizedState=F0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Bs(a),s===null&&me&&(u=a.stateNode=j0(a.type,a.pendingProps,It.current),vn=a,Ds=!0,p=Ve,zo(a.type)?(s_=p,Ve=or(u.firstChild)):Ve=p),Wn(s,a,a.pendingProps.children,l),jd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&me&&((p=u=Ve)&&(u=xR(u,a.type,a.pendingProps,Ds),u!==null?(a.stateNode=u,vn=a,Ve=or(u.firstChild),Ds=!1,p=!0):p=!1),p||ir(a)),Bs(a),p=a.type,y=a.pendingProps,S=s!==null?s.memoizedProps:null,u=y.children,t_(p,y)?u=null:S!==null&&t_(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=Pi(s,a,Ae,null,null,l),Yh._currentValue=p),jd(s,a),Wn(s,a,u,l),a.child;case 6:return s===null&&me&&((s=l=Ve)&&(l=RR(l,a.pendingProps,Ds),l!==null?(a.stateNode=l,vn=a,Ve=null,s=!0):s=!1),s||ir(a)),null;case 13:return Nb(s,a,l);case 4:return bt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=$c(a,null,u,l):Wn(s,a,u,l),a.child;case 11:return Rb(s,a,a.type,a.pendingProps,l);case 7:return Wn(s,a,a.pendingProps,l),a.child;case 8:return Wn(s,a,a.pendingProps.children,l),a.child;case 12:return Wn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Or(a,a.type,u.value),Wn(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Aa(a),p=Cn(p),u=u(p),a.flags|=1,Wn(s,a,u,l),a.child;case 14:return Cb(s,a,a.type,a.pendingProps,l);case 15:return Ib(s,a,a.type,a.pendingProps,l);case 19:return Vb(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=zd(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=tr(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Db(s,a,l);case 24:return Aa(a),u=Cn(Je),s===null?(p=mh(),p===null&&(p=Ue,y=ql(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:u,cache:p},Y(a),Or(a,Je,p)):((s.lanes&l)!==0&&(st(s,a),Pt(a,null,null,l),Yt()),p=s.memoizedState,y=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Or(a,Je,u)):(u=y.cache,Or(a,Je,u),u!==p.cache&&fh(a,[Je],l,!0))),Wn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ka(s){s.flags|=4}function jb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Y0(a)){if(a=Ms.current,a!==null&&((ge&4194048)===ge?Nr!==null:(ge&62914560)!==ge&&(ge&536870912)===0||a!==Nr))throw m=_h,$l;s.flags|=8192}}function Bd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?wl():536870912,s.lanes|=a,Kc|=a)}function Mh(s,a){if(!me)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ge(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function J1(s,a,l){var u=a.pendingProps;switch(lh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(a),null;case 1:return Ge(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),rr(Je),di(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(zl(a)?ka(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xo())),Ge(a),null;case 26:return l=a.memoizedState,s===null?(ka(a),l!==null?(Ge(a),jb(a,l)):(Ge(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ka(a),Ge(a),jb(a,l)):(Ge(a),a.flags&=-16777217):(s.memoizedProps!==u&&ka(a),Ge(a),a.flags&=-16777217),null;case 27:Fs(a),l=It.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ka(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}s=At.current,zl(a)?ch(a):(s=j0(p,u,l),a.stateNode=s,ka(a))}return Ge(a),null;case 5:if(Fs(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ka(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}if(s=At.current,zl(a))ch(a);else{switch(p=tg(It.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[nn]=a,s[Xe]=u;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(Qn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ka(a)}}return Ge(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ka(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=It.current,zl(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[nn]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||M0(s.nodeValue,l)),s||ir(a)}else s=tg(s).createTextNode(u),s[nn]=a,a.stateNode=s}return Ge(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=zl(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[nn]=a}else Bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ge(a),p=!1}else p=xo(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Oa(a),a):(Oa(a),null)}if(Oa(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Bd(a,a.updateQueue),Ge(a),null;case 4:return di(),s===null&&Km(a.stateNode.containerInfo),Ge(a),null;case 10:return rr(a.type),Ge(a),null;case 19:if(yt(Mn),p=a.memoizedState,p===null)return Ge(a),null;if(u=(a.flags&128)!==0,y=p.rendering,y===null)if(u)Mh(p,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ld(s),y!==null){for(a.flags|=128,Mh(p,!1),s=y.updateQueue,a.updateQueue=s,Bd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)yd(l,s),l=l.sibling;return mt(Mn,Mn.current&1|2),a.child}s=s.sibling}p.tail!==null&&wi()>qd&&(a.flags|=128,u=!0,Mh(p,!1),a.lanes=4194304)}else{if(!u)if(s=Ld(y),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Bd(a,s),Mh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!me)return Ge(a),null}else 2*wi()-p.renderingStartTime>qd&&l!==536870912&&(a.flags|=128,u=!0,Mh(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(s=p.last,s!==null?s.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=wi(),a.sibling=null,s=Mn.current,mt(Mn,u?s&1|2:s&1),a):(Ge(a),null);case 22:case 23:return Oa(a),he(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Ge(a),a.subtreeFlags&6&&(a.flags|=8192)):Ge(a),l=a.updateQueue,l!==null&&Bd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&yt(Ca),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),rr(Je),Ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function tR(s,a){switch(lh(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return rr(Je),di(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Fs(a),null;case 13:if(Oa(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Bl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return yt(Mn),null;case 4:return di(),null;case 10:return rr(a.type),null;case 22:case 23:return Oa(a),he(),s!==null&&yt(Ca),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return rr(Je),null;case 25:return null;default:return null}}function zb(s,a){switch(lh(a),a.tag){case 3:rr(Je),di();break;case 26:case 27:case 5:Fs(a);break;case 4:di();break;case 13:Oa(a);break;case 19:yt(Mn);break;case 10:rr(a.type);break;case 22:case 23:Oa(a),he(),s!==null&&yt(Ca);break;case 24:rr(Je)}}function kh(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,S=l.inst;u=y(),S.destroy=u}l=l.next}while(l!==p)}}catch(C){Pe(a,a.return,C)}}function Mo(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var S=u.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,p=a;var B=l,Z=C;try{Z()}catch(ot){Pe(p,B,ot)}}}u=u.next}while(u!==y)}}catch(ot){Pe(a,a.return,ot)}}function Bb(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Bt(a,l)}catch(u){Pe(s,s.return,u)}}}function Fb(s,a,l){l.props=Yl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Pe(s,a,u)}}function Ph(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){Pe(s,a,p)}}function Lr(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Pe(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Pe(s,a,p)}else l.current=null}function Hb(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Pe(s,s.return,p)}}function Am(s,a,l){try{var u=s.stateNode;ER(u,s.type,l,a),u[Xe]=a}catch(p){Pe(s,s.return,p)}}function qb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zo(s.type)||s.tag===4}function xm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||qb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zo(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Jd));else if(u!==4&&(u===27&&zo(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Rm(s,a,l),s=s.sibling;s!==null;)Rm(s,a,l),s=s.sibling}function Fd(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&zo(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Fd(s,a,l),s=s.sibling;s!==null;)Fd(s,a,l),s=s.sibling}function $b(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Qn(a,u,l),a[nn]=s,a[Xe]=l}catch(y){Pe(s,s.return,y)}}var Pa=!1,hn=!1,Cm=!1,Gb=typeof WeakSet=="function"?WeakSet:Set,Un=null;function eR(s,a){if(s=s.containerInfo,Zm=ag,s=Ku(s),Dc(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var S=0,C=-1,B=-1,Z=0,ot=0,ft=s,tt=null;e:for(;;){for(var nt;ft!==l||p!==0&&ft.nodeType!==3||(C=S+p),ft!==y||u!==0&&ft.nodeType!==3||(B=S+u),ft.nodeType===3&&(S+=ft.nodeValue.length),(nt=ft.firstChild)!==null;)tt=ft,ft=nt;for(;;){if(ft===s)break e;if(tt===l&&++Z===p&&(C=S),tt===y&&++ot===u&&(B=S),(nt=ft.nextSibling)!==null)break;ft=tt,tt=ft.parentNode}ft=nt}l=C===-1||B===-1?null:{start:C,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jm={focusedElem:s,selectionRange:l},ag=!1,Un=a;Un!==null;)if(a=Un,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Un=s;else for(;Un!==null;){switch(a=Un,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Gt=Yl(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Gt,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ut){Pe(l,l.return,Ut)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)n_(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":n_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Un=s;break}Un=a.return}}function Yb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ko(s,l),u&4&&kh(5,l);break;case 1:if(ko(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){Pe(l,l.return,S)}else{var p=Yl(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(l,l.return,S)}}u&64&&Bb(l),u&512&&Ph(l,l.return);break;case 3:if(ko(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Bt(s,a)}catch(S){Pe(l,l.return,S)}}break;case 27:a===null&&u&4&&$b(l);case 26:case 5:ko(s,l),a===null&&u&4&&Hb(l),u&512&&Ph(l,l.return);break;case 12:ko(s,l);break;case 13:ko(s,l),u&4&&Qb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=uR.bind(null,l),CR(s,l))));break;case 22:if(u=l.memoizedState!==null||Pa,!u){a=a!==null&&a.memoizedState!==null||hn,p=Pa;var y=hn;Pa=u,(hn=a)&&!y?Po(s,l,(l.subtreeFlags&8772)!==0):ko(s,l),Pa=p,hn=y}break;case 30:break;default:ko(s,l)}}function Wb(s){var a=s.alternate;a!==null&&(s.alternate=null,Wb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&vr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var He=null,Ni=!1;function Na(s,a,l){for(l=l.child;l!==null;)Kb(s,a,l),l=l.sibling}function Kb(s,a,l){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(ze,l)}catch{}switch(l.tag){case 26:hn||Lr(l,a),Na(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:hn||Lr(l,a);var u=He,p=Ni;zo(l.type)&&(He=l.stateNode,Ni=!1),Na(s,a,l),Hh(l.stateNode),He=u,Ni=p;break;case 5:hn||Lr(l,a);case 6:if(u=He,p=Ni,He=null,Na(s,a,l),He=u,Ni=p,He!==null)if(Ni)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(y){Pe(l,a,y)}else try{He.removeChild(l.stateNode)}catch(y){Pe(l,a,y)}break;case 18:He!==null&&(Ni?(s=He,V0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Xh(s)):V0(He,l.stateNode));break;case 4:u=He,p=Ni,He=l.stateNode.containerInfo,Ni=!0,Na(s,a,l),He=u,Ni=p;break;case 0:case 11:case 14:case 15:hn||Mo(2,l,a),hn||Mo(4,l,a),Na(s,a,l);break;case 1:hn||(Lr(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Fb(l,a,u)),Na(s,a,l);break;case 21:Na(s,a,l);break;case 22:hn=(u=hn)||l.memoizedState!==null,Na(s,a,l),hn=u;break;default:Na(s,a,l)}}function Qb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xh(s)}catch(l){Pe(a,a.return,l)}}function nR(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Gb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Gb),a;default:throw Error(i(435,s.tag))}}function Im(s,a){var l=nR(s);a.forEach(function(u){var p=hR.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function ss(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,S=a,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(zo(C.type)){He=C.stateNode,Ni=!1;break t}break;case 5:He=C.stateNode,Ni=!1;break t;case 3:case 4:He=C.stateNode.containerInfo,Ni=!0;break t}C=C.return}if(He===null)throw Error(i(160));Kb(y,S,p),He=null,Ni=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Xb(a,s),a=a.sibling}var ar=null;function Xb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ss(a,s),rs(s),u&4&&(Mo(3,s,s.return),kh(3,s),Mo(5,s,s.return));break;case 1:ss(a,s),rs(s),u&512&&(hn||l===null||Lr(l,l.return)),u&64&&Pa&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=ar;if(ss(a,s),rs(s),u&512&&(hn||l===null||Lr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ps]||y[nn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Qn(y,u,l),y[nn]=s,ie(y),u=y;break t;case"link":var S=$0("link","href",p).get(u+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break e}}y=p.createElement(u),Qn(y,u,l),p.head.appendChild(y);break;case"meta":if(S=$0("meta","content",p).get(u+(l.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break e}}y=p.createElement(u),Qn(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[nn]=s,ie(y),u=y}s.stateNode=u}else G0(p,s.type,s.stateNode);else s.stateNode=q0(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?G0(p,s.type,s.stateNode):q0(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Am(s,s.memoizedProps,l.memoizedProps)}break;case 27:ss(a,s),rs(s),u&512&&(hn||l===null||Lr(l,l.return)),l!==null&&u&4&&Am(s,s.memoizedProps,l.memoizedProps);break;case 5:if(ss(a,s),rs(s),u&512&&(hn||l===null||Lr(l,l.return)),s.flags&32){p=s.stateNode;try{An(p,"")}catch(nt){Pe(s,s.return,nt)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Am(s,p,l!==null?l.memoizedProps:p)),u&1024&&(Cm=!0);break;case 6:if(ss(a,s),rs(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(nt){Pe(s,s.return,nt)}}break;case 3:if(ig=null,p=ar,ar=eg(a.containerInfo),ss(a,s),ar=p,rs(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xh(a.containerInfo)}catch(nt){Pe(s,s.return,nt)}Cm&&(Cm=!1,Zb(s));break;case 4:u=ar,ar=eg(s.stateNode.containerInfo),ss(a,s),rs(s),ar=u;break;case 12:ss(a,s),rs(s);break;case 13:ss(a,s),rs(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nm=wi()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Im(s,u)));break;case 22:p=s.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,Z=Pa,ot=hn;if(Pa=Z||p,hn=ot||B,ss(a,s),hn=ot,Pa=Z,rs(s),u&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||B||Pa||hn||Wl(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){B=l=a;try{if(y=B.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=B.stateNode;var ft=B.memoizedProps.style,tt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;C.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(nt){Pe(B,B.return,nt)}}}else if(a.tag===6){if(l===null){B=a;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(nt){Pe(B,B.return,nt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Im(s,l))));break;case 19:ss(a,s),rs(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Im(s,u)));break;case 30:break;case 21:break;default:ss(a,s),rs(s)}}function rs(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(qb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=xm(s);Fd(s,y,p);break;case 5:var S=l.stateNode;l.flags&32&&(An(S,""),l.flags&=-33);var C=xm(s);Fd(s,C,S);break;case 3:case 4:var B=l.stateNode.containerInfo,Z=xm(s);Rm(s,Z,B);break;default:throw Error(i(161))}}catch(ot){Pe(s,s.return,ot)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Zb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Zb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ko(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Yb(s,a.alternate,a),a=a.sibling}function Wl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Mo(4,a,a.return),Wl(a);break;case 1:Lr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Fb(a,a.return,l),Wl(a);break;case 27:Hh(a.stateNode);case 26:case 5:Lr(a,a.return),Wl(a);break;case 22:a.memoizedState===null&&Wl(a);break;case 30:Wl(a);break;default:Wl(a)}s=s.sibling}}function Po(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:Po(p,y,l),kh(4,y);break;case 1:if(Po(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){Pe(u,u.return,Z)}if(u=y,p=u.updateQueue,p!==null){var C=u.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)Wt(B[p],C)}catch(Z){Pe(u,u.return,Z)}}l&&S&64&&Bb(y),Ph(y,y.return);break;case 27:$b(y);case 26:case 5:Po(p,y,l),l&&u===null&&S&4&&Hb(y),Ph(y,y.return);break;case 12:Po(p,y,l);break;case 13:Po(p,y,l),l&&S&4&&Qb(p,y);break;case 22:y.memoizedState===null&&Po(p,y,l),Ph(y,y.return);break;case 30:break;default:Po(p,y,l)}a=a.sibling}}function Dm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Co(l))}function Om(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Co(s))}function Vr(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jb(s,a,l,u),a=a.sibling}function Jb(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(s,a,l,u),p&2048&&kh(9,a);break;case 1:Vr(s,a,l,u);break;case 3:Vr(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Co(s)));break;case 12:if(p&2048){Vr(s,a,l,u),s=a.stateNode;try{var y=a.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){Pe(a,a.return,B)}}else Vr(s,a,l,u);break;case 13:Vr(s,a,l,u);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?Vr(s,a,l,u):Nh(s,a):y._visibility&2?Vr(s,a,l,u):(y._visibility|=2,Gc(s,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&Dm(S,a);break;case 24:Vr(s,a,l,u),p&2048&&Om(a.alternate,a);break;default:Vr(s,a,l,u)}}function Gc(s,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,S=a,C=l,B=u,Z=S.flags;switch(S.tag){case 0:case 11:case 15:Gc(y,S,C,B,p),kh(8,S);break;case 23:break;case 22:var ot=S.stateNode;S.memoizedState!==null?ot._visibility&2?Gc(y,S,C,B,p):Nh(y,S):(ot._visibility|=2,Gc(y,S,C,B,p)),p&&Z&2048&&Dm(S.alternate,S);break;case 24:Gc(y,S,C,B,p),p&&Z&2048&&Om(S.alternate,S);break;default:Gc(y,S,C,B,p)}a=a.sibling}}function Nh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:Nh(l,u),p&2048&&Dm(u.alternate,u);break;case 24:Nh(l,u),p&2048&&Om(u.alternate,u);break;default:Nh(l,u)}a=a.sibling}}var Lh=8192;function Yc(s){if(s.subtreeFlags&Lh)for(s=s.child;s!==null;)t0(s),s=s.sibling}function t0(s){switch(s.tag){case 26:Yc(s),s.flags&Lh&&s.memoizedState!==null&&BR(ar,s.memoizedState,s.memoizedProps);break;case 5:Yc(s);break;case 3:case 4:var a=ar;ar=eg(s.stateNode.containerInfo),Yc(s),ar=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Lh,Lh=16777216,Yc(s),Lh=a):Yc(s));break;default:Yc(s)}}function e0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Vh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Un=u,i0(u,s)}e0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n0(s),s=s.sibling}function n0(s){switch(s.tag){case 0:case 11:case 15:Vh(s),s.flags&2048&&Mo(9,s,s.return);break;case 3:Vh(s);break;case 12:Vh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Hd(s)):Vh(s);break;default:Vh(s)}}function Hd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Un=u,i0(u,s)}e0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Mo(8,a,a.return),Hd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Hd(a));break;default:Hd(a)}s=s.sibling}}function i0(s,a){for(;Un!==null;){var l=Un;switch(l.tag){case 0:case 11:case 15:Mo(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Co(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Un=u;else t:for(l=s;Un!==null;){u=Un;var p=u.sibling,y=u.return;if(Wb(u),u===l){Un=null;break t}if(p!==null){p.return=y,Un=p;break t}Un=y}}}var iR={getCacheForType:function(s){var a=Cn(Je),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},sR=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ue=null,se=null,ge=0,Re=0,as=null,No=!1,Wc=!1,Mm=!1,La=0,tn=0,Lo=0,Kl=0,km=0,ks=0,Kc=0,Uh=null,Li=null,Pm=!1,Nm=0,qd=1/0,$d=null,Vo=null,Kn=0,Uo=null,Qc=null,Xc=0,Lm=0,Vm=null,s0=null,jh=0,Um=null;function os(){if((xe&2)!==0&&ge!==0)return ge&-ge;if(et.T!==null){var s=Oi;return s!==0?s:$m()}return yr()}function r0(){ks===0&&(ks=(ge&536870912)===0||me?Tl():536870912);var s=Ms.current;return s!==null&&(s.flags|=32),ks}function ls(s,a,l){(s===Ue&&(Re===2||Re===9)||s.cancelPendingCommit!==null)&&(Zc(s,0),jo(s,ge,ks,!1)),Si(s,l),((xe&2)===0||s!==Ue)&&(s===Ue&&((xe&2)===0&&(Kl|=l),tn===4&&jo(s,ge,ks,!1)),Ur(s))}function a0(s,a,l){if((xe&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||na(s,a),p=u?oR(s,a):Bm(s,a,!0),y=u;do{if(p===0){Wc&&!u&&jo(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!rR(l)){p=Bm(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var C=s;p=Uh;var B=C.current.memoizedState.isDehydrated;if(B&&(Zc(C,S).flags|=256),S=Bm(C,S,!1),S!==2){if(Mm&&!B){C.errorRecoveryDisabledLanes|=y,Kl|=y,p=4;break t}y=Li,Li=p,y!==null&&(Li===null?Li=y:Li.push.apply(Li,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){Zc(s,0),jo(s,a,0,!0);break}t:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:jo(u,a,ks,!No);break t;case 2:Li=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Nm+300-wi(),10<p)){if(jo(u,a,ks,!No),ao(u,0,!0)!==0)break t;u.timeoutHandle=N0(o0.bind(null,u,l,Li,$d,Pm,a,ks,Kl,Kc,No,y,2,-0,0),p);break t}o0(u,l,Li,$d,Pm,a,ks,Kl,Kc,No,y,0,-0,0)}}break}while(!0);Ur(s)}function o0(s,a,l,u,p,y,S,C,B,Z,ot,ft,tt,nt){if(s.timeoutHandle=-1,ft=a.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Gh={stylesheets:null,count:0,unsuspend:zR},t0(a),ft=FR(),ft!==null)){s.cancelPendingCommit=ft(g0.bind(null,s,a,y,l,u,p,S,C,B,ot,1,tt,nt)),jo(s,y,S,!Z);return}g0(s,a,y,l,u,p,S,C,B)}function rR(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!ni(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function jo(s,a,l,u){a&=~km,a&=~Kl,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var y=31-Qe(p),S=1<<y;u[y]=-1,p&=~S}l!==0&&Yi(s,l,a)}function Gd(){return(xe&6)===0?(zh(0),!1):!0}function jm(){if(se!==null){if(Re===0)var s=se.return;else s=se,sr=Sa=null,Os(s),qc=null,Dh=0,s=se;for(;s!==null;)zb(s.alternate,s),s=s.return;se=null}}function Zc(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,wR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),jm(),Ue=s,se=l=tr(s.current,null),ge=a,Re=0,as=null,No=!1,Wc=na(s,a),Mm=!1,Kc=ks=km=Kl=Lo=tn=0,Li=Uh=null,Pm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-Qe(u),y=1<<p;a|=s[p],u&=~y}return La=a,Oc(),l}function l0(s,a){Tt=null,et.H=kd,a===Io||a===Ia?(a=T(),Re=3):a===$l?(a=T(),Re=4):Re=a===xb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,as=a,se===null&&(tn=1,Ud(s,yi(a,s.current)))}function c0(){var s=et.H;return et.H=kd,s===null?kd:s}function u0(){var s=et.A;return et.A=iR,s}function zm(){tn=4,No||(ge&4194048)!==ge&&Ms.current!==null||(Wc=!0),(Lo&134217727)===0&&(Kl&134217727)===0||Ue===null||jo(Ue,ge,ks,!1)}function Bm(s,a,l){var u=xe;xe|=2;var p=c0(),y=u0();(Ue!==s||ge!==a)&&($d=null,Zc(s,a)),a=!1;var S=tn;t:do try{if(Re!==0&&se!==null){var C=se,B=as;switch(Re){case 8:jm(),S=6;break t;case 3:case 2:case 9:case 6:Ms.current===null&&(a=!0);var Z=Re;if(Re=0,as=null,Jc(s,C,B,Z),l&&Wc){S=0;break t}break;default:Z=Re,Re=0,as=null,Jc(s,C,B,Z)}}aR(),S=tn;break}catch(ot){l0(s,ot)}while(!0);return a&&s.shellSuspendCounter++,sr=Sa=null,xe=u,et.H=p,et.A=y,se===null&&(Ue=null,ge=0,Oc()),S}function aR(){for(;se!==null;)h0(se)}function oR(s,a){var l=xe;xe|=2;var u=c0(),p=u0();Ue!==s||ge!==a?($d=null,qd=wi()+500,Zc(s,a)):Wc=na(s,a);t:do try{if(Re!==0&&se!==null){a=se;var y=as;e:switch(Re){case 1:Re=0,as=null,Jc(s,a,y,1);break;case 2:case 9:if(Ad(y)){Re=0,as=null,f0(a);break}a=function(){Re!==2&&Re!==9||Ue!==s||(Re=7),Ur(s)},y.then(a,a);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:Ad(y)?(Re=0,as=null,f0(a)):(Re=0,as=null,Jc(s,a,y,7));break;case 5:var S=null;switch(se.tag){case 26:S=se.memoizedState;case 5:case 27:var C=se;if(!S||Y0(S)){Re=0,as=null;var B=C.sibling;if(B!==null)se=B;else{var Z=C.return;Z!==null?(se=Z,Yd(Z)):se=null}break e}}Re=0,as=null,Jc(s,a,y,5);break;case 6:Re=0,as=null,Jc(s,a,y,6);break;case 8:jm(),tn=6;break t;default:throw Error(i(462))}}lR();break}catch(ot){l0(s,ot)}while(!0);return sr=Sa=null,et.H=u,et.A=p,xe=l,se!==null?0:(Ue=null,ge=0,Oc(),tn)}function lR(){for(;se!==null&&!Hs();)h0(se)}function h0(s){var a=Ub(s.alternate,s,La);s.memoizedProps=s.pendingProps,a===null?Yd(s):se=a}function f0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Mb(l,a,a.pendingProps,a.type,void 0,ge);break;case 11:a=Mb(l,a,a.pendingProps,a.type.render,a.ref,ge);break;case 5:Os(a);default:zb(l,a),a=se=yd(a,La),a=Ub(l,a,La)}s.memoizedProps=s.pendingProps,a===null?Yd(s):se=a}function Jc(s,a,l,u){sr=Sa=null,Os(a),qc=null,Dh=0;var p=a.return;try{if(X1(s,p,a,l,ge)){tn=1,Ud(s,yi(l,s.current)),se=null;return}}catch(y){if(p!==null)throw se=p,y;tn=1,Ud(s,yi(l,s.current)),se=null;return}a.flags&32768?(me||u===1?s=!0:Wc||(ge&536870912)!==0?s=!1:(No=s=!0,(u===2||u===9||u===3||u===6)&&(u=Ms.current,u!==null&&u.tag===13&&(u.flags|=16384))),d0(a,s)):Yd(a)}function Yd(s){var a=s;do{if((a.flags&32768)!==0){d0(a,No);return}s=a.return;var l=J1(a.alternate,a,La);if(l!==null){se=l;return}if(a=a.sibling,a!==null){se=a;return}se=a=s}while(a!==null);tn===0&&(tn=5)}function d0(s,a){do{var l=tR(s.alternate,s);if(l!==null){l.flags&=32767,se=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){se=s;return}se=s=l}while(s!==null);tn=6,se=null}function g0(s,a,l,u,p,y,S,C,B){s.cancelPendingCommit=null;do Wd();while(Kn!==0);if((xe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=nh,oo(s,l,y,S,C,B),s===Ue&&(se=Ue=null,ge=0),Qc=a,Uo=s,Xc=l,Lm=y,Vm=p,s0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,fR(ta,function(){return v0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=et.T,et.T=null,p=gt.p,gt.p=2,S=xe,xe|=4;try{eR(s,a,l)}finally{xe=S,gt.p=p,et.T=u}}Kn=1,p0(),m0(),_0()}}function p0(){if(Kn===1){Kn=0;var s=Uo,a=Qc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=et.T,et.T=null;var u=gt.p;gt.p=2;var p=xe;xe|=4;try{Xb(a,s);var y=Jm,S=Ku(s.containerInfo),C=y.focusedElem,B=y.selectionRange;if(S!==C&&C&&C.ownerDocument&&fd(C.ownerDocument.documentElement,C)){if(B!==null&&Dc(C)){var Z=B.start,ot=B.end;if(ot===void 0&&(ot=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ot,C.value.length);else{var ft=C.ownerDocument||document,tt=ft&&ft.defaultView||window;if(tt.getSelection){var nt=tt.getSelection(),Gt=C.textContent.length,Ut=Math.min(B.start,Gt),Me=B.end===void 0?Ut:Math.min(B.end,Gt);!nt.extend&&Ut>Me&&(S=Me,Me=Ut,Ut=S);var K=hd(C,Ut),q=hd(C,Me);if(K&&q&&(nt.rangeCount!==1||nt.anchorNode!==K.node||nt.anchorOffset!==K.offset||nt.focusNode!==q.node||nt.focusOffset!==q.offset)){var X=ft.createRange();X.setStart(K.node,K.offset),nt.removeAllRanges(),Ut>Me?(nt.addRange(X),nt.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),nt.addRange(X))}}}}for(ft=[],nt=C;nt=nt.parentNode;)nt.nodeType===1&&ft.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ft.length;C++){var ct=ft[C];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}ag=!!Zm,Jm=Zm=null}finally{xe=p,gt.p=u,et.T=l}}s.current=a,Kn=2}}function m0(){if(Kn===2){Kn=0;var s=Uo,a=Qc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=et.T,et.T=null;var u=gt.p;gt.p=2;var p=xe;xe|=4;try{Yb(s,a.alternate,a)}finally{xe=p,gt.p=u,et.T=l}}Kn=3}}function _0(){if(Kn===4||Kn===3){Kn=0,qs();var s=Uo,a=Qc,l=Xc,u=s0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Kn=5:(Kn=0,Qc=Uo=null,y0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Vo=null),lo(l),a=a.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(ze,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=et.T,p=gt.p,gt.p=2,et.T=null;try{for(var y=s.onRecoverableError,S=0;S<u.length;S++){var C=u[S];y(C.value,{componentStack:C.stack})}}finally{et.T=a,gt.p=p}}(Xc&3)!==0&&Wd(),Ur(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Um?jh++:(jh=0,Um=s):jh=0,zh(0)}}function y0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Co(a)))}function Wd(s){return p0(),m0(),_0(),v0()}function v0(){if(Kn!==5)return!1;var s=Uo,a=Lm;Lm=0;var l=lo(Xc),u=et.T,p=gt.p;try{gt.p=32>l?32:l,et.T=null,l=Vm,Vm=null;var y=Uo,S=Xc;if(Kn=0,Qc=Uo=null,Xc=0,(xe&6)!==0)throw Error(i(331));var C=xe;if(xe|=4,n0(y.current),Jb(y,y.current,S,l),xe=C,zh(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(ze,y)}catch{}return!0}finally{gt.p=p,et.T=u,y0(s,a)}}function b0(s,a,l){a=yi(l,a),a=mm(s.stateNode,a,2),s=_t(s,a,2),s!==null&&(Si(s,2),Ur(s))}function Pe(s,a,l){if(s.tag===3)b0(s,s,l);else for(;a!==null;){if(a.tag===3){b0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vo===null||!Vo.has(u))){s=yi(l,s),l=Sb(2),u=_t(a,l,2),u!==null&&(Ab(l,u,a,s),Si(u,2),Ur(u));break}}a=a.return}}function Fm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new sR;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(Mm=!0,p.add(l),s=cR.bind(null,s,a,l),a.then(s,s))}function cR(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ue===s&&(ge&l)===l&&(tn===4||tn===3&&(ge&62914560)===ge&&300>wi()-Nm?(xe&2)===0&&Zc(s,0):km|=l,Kc===ge&&(Kc=0)),Ur(s)}function E0(s,a){a===0&&(a=wl()),s=ii(s,a),s!==null&&(Si(s,a),Ur(s))}function uR(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),E0(s,l)}function hR(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),E0(s,l)}function fR(s,a){return qi(s,a)}var Kd=null,tu=null,Hm=!1,Qd=!1,qm=!1,Ql=0;function Ur(s){s!==tu&&s.next===null&&(tu===null?Kd=tu=s:tu=tu.next=s),Qd=!0,Hm||(Hm=!0,gR())}function zh(s,a){if(!qm&&Qd){qm=!0;do for(var l=!1,u=Kd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var S=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-Qe(42|s)+1)-1,y&=p&~(S&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,A0(u,y))}else y=ge,y=ao(u,u===Ue?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||na(u,y)||(l=!0,A0(u,y));u=u.next}while(l);qm=!1}}function dR(){T0()}function T0(){Qd=Hm=!1;var s=0;Ql!==0&&(TR()&&(s=Ql),Ql=0);for(var a=wi(),l=null,u=Kd;u!==null;){var p=u.next,y=w0(u,a);y===0?(u.next=null,l===null?Kd=p:l.next=p,p===null&&(tu=l)):(l=u,(s!==0||(y&3)!==0)&&(Qd=!0)),u=p}zh(s)}function w0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-Qe(y),C=1<<S,B=p[S];B===-1?((C&l)===0||(C&u)!==0)&&(p[S]=El(C,a)):B<=a&&(s.expiredLanes|=C),y&=~C}if(a=Ue,l=ge,l=ao(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Re===2||Re===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&gr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||na(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&gr(u),lo(l)){case 2:case 8:l=so;break;case 32:l=ta;break;case 268435456:l=ro;break;default:l=ta}return u=S0.bind(null,s),l=qi(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&gr(u),s.callbackPriority=2,s.callbackNode=null,2}function S0(s,a){if(Kn!==0&&Kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Wd()&&s.callbackNode!==l)return null;var u=ge;return u=ao(s,s===Ue?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(a0(s,u,a),w0(s,wi()),s.callbackNode!=null&&s.callbackNode===l?S0.bind(null,s):null)}function A0(s,a){if(Wd())return null;a0(s,a,!0)}function gR(){SR(function(){(xe&6)!==0?qi(bl,dR):T0()})}function $m(){return Ql===0&&(Ql=Tl()),Ql}function x0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:go(""+s)}function R0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function pR(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var y=x0((p[Xe]||null).action),S=u.submitter;S&&(a=(a=S[Xe]||null)?x0(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var C=new Er("action","action",null,u,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ql!==0){var B=S?R0(p,S):new FormData(p);hm(l,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(C.preventDefault(),B=S?R0(p,S):new FormData(p),hm(l,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var Gm=0;Gm<eh.length;Gm++){var Ym=eh[Gm],mR=Ym.toLowerCase(),_R=Ym[0].toUpperCase()+Ym.slice(1);es(mR,"on"+_R)}es(Rr,"onAnimationEnd"),es(Is,"onAnimationIteration"),es(Zu,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(rm,"onTransitionRun"),es(pd,"onTransitionStart"),es(md,"onTransitionCancel"),es(Ju,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function C0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;t:{var y=void 0;if(a)for(var S=u.length-1;0<=S;S--){var C=u[S],B=C.instance,Z=C.currentTarget;if(C=C.listener,B!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=Z;try{y(p)}catch(ot){Vd(ot)}p.currentTarget=null,y=B}else for(S=0;S<u.length;S++){if(C=u[S],B=C.instance,Z=C.currentTarget,C=C.listener,B!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=Z;try{y(p)}catch(ot){Vd(ot)}p.currentTarget=null,y=B}}}}function re(s,a){var l=a[Al];l===void 0&&(l=a[Al]=new Set);var u=s+"__bubble";l.has(u)||(I0(a,s,2,!1),l.add(u))}function Wm(s,a,l){var u=0;a&&(u|=4),I0(l,s,u,a)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Km(s){if(!s[Xd]){s[Xd]=!0,Sn.forEach(function(l){l!=="selectionchange"&&(yR.has(l)||Wm(l,!1,s),Wm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Xd]||(a[Xd]=!0,Wm("selectionchange",!1,a))}}function I0(s,a,l,u){switch(J0(a)){case 2:var p=$R;break;case 8:p=GR;break;default:p=c_}l=p.bind(null,a,l,s),p=void 0,!xn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Qm(s,a,l,u,p){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var C=u.stateNode.containerInfo;if(C===p)break;if(S===4)for(S=u.return;S!==null;){var B=S.tag;if((B===3||B===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;C!==null;){if(S=Wi(C),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){u=y=S;continue t}C=C.parentNode}}u=u.return}Cl(function(){var Z=y,ot=$n(l),ft=[];t:{var tt=th.get(s);if(tt!==void 0){var nt=Er,Gt=s;switch(s){case"keypress":if(xs(l)===0)break t;case"keydown":case"keyup":nt=ma;break;case"focusin":Gt="focus",nt=ha;break;case"focusout":Gt="blur",nt=ha;break;case"beforeblur":case"afterblur":nt=ha;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Ac;break;case Rr:case Is:case Zu:nt=fa;break;case Ju:nt=xc;break;case"scroll":case"scrollend":nt=Dl;break;case"wheel":nt=yo;break;case"copy":case"cut":case"paste":nt=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Zi;break;case"toggle":case"beforetoggle":nt=Ll}var Ut=(a&4)!==0,Me=!Ut&&(s==="scroll"||s==="scrollend"),K=Ut?tt!==null?tt+"Capture":null:tt;Ut=[];for(var q=Z,X;q!==null;){var ct=q;if(X=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||X===null||K===null||(ct=br(q,K),ct!=null&&Ut.push(Fh(q,ct,X))),Me)break;q=q.return}0<Ut.length&&(tt=new nt(tt,Gt,null,l,ot),ft.push({event:tt,listeners:Ut}))}}if((a&7)===0){t:{if(tt=s==="mouseover"||s==="pointerover",nt=s==="mouseout"||s==="pointerout",tt&&l!==Ln&&(Gt=l.relatedTarget||l.fromElement)&&(Wi(Gt)||Gt[Ai]))break t;if((nt||tt)&&(tt=ot.window===ot?ot:(tt=ot.ownerDocument)?tt.defaultView||tt.parentWindow:window,nt?(Gt=l.relatedTarget||l.toElement,nt=Z,Gt=Gt?Wi(Gt):null,Gt!==null&&(Me=o(Gt),Ut=Gt.tag,Gt!==Me||Ut!==5&&Ut!==27&&Ut!==6)&&(Gt=null)):(nt=null,Gt=Z),nt!==Gt)){if(Ut=Rn,ct="onMouseLeave",K="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Ut=Zi,ct="onPointerLeave",K="onPointerEnter",q="pointer"),Me=nt==null?tt:_s(nt),X=Gt==null?tt:_s(Gt),tt=new Ut(ct,q+"leave",nt,l,ot),tt.target=Me,tt.relatedTarget=X,ct=null,Wi(ot)===Z&&(Ut=new Ut(K,q+"enter",Gt,l,ot),Ut.target=X,Ut.relatedTarget=Me,ct=Ut),Me=ct,nt&&Gt)e:{for(Ut=nt,K=Gt,q=0,X=Ut;X;X=eu(X))q++;for(X=0,ct=K;ct;ct=eu(ct))X++;for(;0<q-X;)Ut=eu(Ut),q--;for(;0<X-q;)K=eu(K),X--;for(;q--;){if(Ut===K||K!==null&&Ut===K.alternate)break e;Ut=eu(Ut),K=eu(K)}Ut=null}else Ut=null;nt!==null&&D0(ft,tt,nt,Ut,!1),Gt!==null&&Me!==null&&D0(ft,Me,Gt,Ut,!0)}}t:{if(tt=Z?_s(Z):window,nt=tt.nodeName&&tt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&tt.type==="file")var Dt=rd;else if(an(tt))if(Gu)Dt=ud;else{Dt=ld;var ee=im}else nt=tt.nodeName,!nt||nt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&oa(Z.elementType)&&(Dt=rd):Dt=cd;if(Dt&&(Dt=Dt(s,Z))){on(ft,Dt,l,ot);break t}ee&&ee(s,tt,Z),s==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&Es(tt,"number",tt.value)}switch(ee=Z?_s(Z):window,s){case"focusin":(an(ee)||ee.contentEditable==="true")&&(Eo=ee,Qu=Z,Ul=null);break;case"focusout":Ul=Qu=Eo=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,dd(ft,l,ot);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":dd(ft,l,ot)}var kt;if(Cs)t:{switch(s){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else oe?it(s,l)&&(zt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(zt="onCompositionStart");zt&&(w&&l.locale!=="ko"&&(oe||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&oe&&(kt=ua()):(Qi=ot,As="value"in Qi?Qi.value:Qi.textContent,oe=!0)),ee=Zd(Z,zt),0<ee.length&&(zt=new Ol(zt,s,null,l,ot),ft.push({event:zt,listeners:ee}),kt?zt.data=kt:(kt=vt(l),kt!==null&&(zt.data=kt)))),(kt=v?rn(s,l):le(s,l))&&(zt=Zd(Z,"onBeforeInput"),0<zt.length&&(ee=new Ol("onBeforeInput","beforeinput",null,l,ot),ft.push({event:ee,listeners:zt}),ee.data=kt)),pR(ft,s,Z,l,ot)}C0(ft,a)})}function Fh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Zd(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=br(s,l),p!=null&&u.unshift(Fh(s,p,y)),p=br(s,a),p!=null&&u.push(Fh(s,p,y))),s.tag===3)return u;s=s.return}return[]}function eu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function D0(s,a,l,u,p){for(var y=a._reactName,S=[];l!==null&&l!==u;){var C=l,B=C.alternate,Z=C.stateNode;if(C=C.tag,B!==null&&B===u)break;C!==5&&C!==26&&C!==27||Z===null||(B=Z,p?(Z=br(l,y),Z!=null&&S.unshift(Fh(l,Z,B))):p||(Z=br(l,y),Z!=null&&S.push(Fh(l,Z,B)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var vR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function O0(s){return(typeof s=="string"?s:""+s).replace(vR,`
`).replace(bR,"")}function M0(s,a){return a=O0(a),O0(s)===a}function Jd(){}function Oe(s,a,l,u,p,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||An(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&An(s,""+u);break;case"className":Hn(s,"class",u);break;case"tabIndex":Hn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(s,l,u);break;case"style":ws(s,u,y);break;case"data":if(a!=="object"){Hn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=go(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Oe(s,a,"name",p.name,p,null),Oe(s,a,"formEncType",p.formEncType,p,null),Oe(s,a,"formMethod",p.formMethod,p,null),Oe(s,a,"formTarget",p.formTarget,p,null)):(Oe(s,a,"encType",p.encType,p,null),Oe(s,a,"method",p.method,p,null),Oe(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=go(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Jd);break;case"onScroll":u!=null&&re("scroll",s);break;case"onScrollEnd":u!=null&&re("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=go(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":re("beforetoggle",s),re("toggle",s),vs(s,"popover",u);break;case"xlinkActuate":pn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vs(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tc.get(l)||l,vs(s,l,u))}}function Xm(s,a,l,u,p,y){switch(l){case"style":ws(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?An(s,u):(typeof u=="number"||typeof u=="bigint")&&An(s,""+u);break;case"onScroll":u!=null&&re("scroll",s);break;case"onScrollEnd":u!=null&&re("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gn.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=s[Xe]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):vs(s,l,u)}}}function Qn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",s),re("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Oe(s,a,y,S,l,null)}}p&&Oe(s,a,"srcSet",l.srcSet,l,null),u&&Oe(s,a,"src",l.src,l,null);return;case"input":re("invalid",s);var C=y=S=p=null,B=null,Z=null;for(u in l)if(l.hasOwnProperty(u)){var ot=l[u];if(ot!=null)switch(u){case"name":p=ot;break;case"type":S=ot;break;case"checked":B=ot;break;case"defaultChecked":Z=ot;break;case"value":y=ot;break;case"defaultValue":C=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,a));break;default:Oe(s,a,u,ot,l,null)}}Xs(s,y,C,B,Z,S,p,!1),aa(s);return;case"select":re("invalid",s),u=S=y=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":u=C;default:Oe(s,a,p,C,l,null)}a=y,l=S,s.multiple=!!u,a!=null?mn(s,!!u,a,!1):l!=null&&mn(s,!!u,l,!0);return;case"textarea":re("invalid",s),y=p=u=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":u=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Oe(s,a,S,C,l,null)}Ts(s,u,p,y),aa(s);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Oe(s,a,B,u,l,null)}return;case"dialog":re("beforetoggle",s),re("toggle",s),re("cancel",s),re("close",s);break;case"iframe":case"object":re("load",s);break;case"video":case"audio":for(u=0;u<Bh.length;u++)re(Bh[u],s);break;case"image":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"embed":case"source":case"link":re("error",s),re("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(u=l[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Oe(s,a,Z,u,l,null)}return;default:if(oa(a)){for(ot in l)l.hasOwnProperty(ot)&&(u=l[ot],u!==void 0&&Xm(s,a,ot,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&Oe(s,a,C,u,l,null))}function ER(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,C=null,B=null,Z=null,ot=null;for(nt in l){var ft=l[nt];if(l.hasOwnProperty(nt)&&ft!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":B=ft;default:u.hasOwnProperty(nt)||Oe(s,a,nt,null,u,ft)}}for(var tt in u){var nt=u[tt];if(ft=l[tt],u.hasOwnProperty(tt)&&(nt!=null||ft!=null))switch(tt){case"type":y=nt;break;case"name":p=nt;break;case"checked":Z=nt;break;case"defaultChecked":ot=nt;break;case"value":S=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:nt!==ft&&Oe(s,a,tt,nt,u,ft)}}Le(s,S,C,B,Z,ot,y,p);return;case"select":nt=S=C=tt=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":nt=B;default:u.hasOwnProperty(y)||Oe(s,a,y,null,u,B)}for(p in u)if(y=u[p],B=l[p],u.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":tt=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==B&&Oe(s,a,p,y,u,B)}a=C,l=S,u=nt,tt!=null?mn(s,!!l,tt,!1):!!u!=!!l&&(a!=null?mn(s,!!l,a,!0):mn(s,!!l,l?[]:"",!1));return;case"textarea":nt=tt=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Oe(s,a,C,null,u,p)}for(S in u)if(p=u[S],y=l[S],u.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":tt=p;break;case"defaultValue":nt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Oe(s,a,S,p,u,y)}ae(s,tt,nt);return;case"option":for(var Gt in l)if(tt=l[Gt],l.hasOwnProperty(Gt)&&tt!=null&&!u.hasOwnProperty(Gt))switch(Gt){case"selected":s.selected=!1;break;default:Oe(s,a,Gt,null,u,tt)}for(B in u)if(tt=u[B],nt=l[B],u.hasOwnProperty(B)&&tt!==nt&&(tt!=null||nt!=null))switch(B){case"selected":s.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:Oe(s,a,B,tt,u,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in l)tt=l[Ut],l.hasOwnProperty(Ut)&&tt!=null&&!u.hasOwnProperty(Ut)&&Oe(s,a,Ut,null,u,tt);for(Z in u)if(tt=u[Z],nt=l[Z],u.hasOwnProperty(Z)&&tt!==nt&&(tt!=null||nt!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:Oe(s,a,Z,tt,u,nt)}return;default:if(oa(a)){for(var Me in l)tt=l[Me],l.hasOwnProperty(Me)&&tt!==void 0&&!u.hasOwnProperty(Me)&&Xm(s,a,Me,void 0,u,tt);for(ot in u)tt=u[ot],nt=l[ot],!u.hasOwnProperty(ot)||tt===nt||tt===void 0&&nt===void 0||Xm(s,a,ot,tt,u,nt);return}}for(var K in l)tt=l[K],l.hasOwnProperty(K)&&tt!=null&&!u.hasOwnProperty(K)&&Oe(s,a,K,null,u,tt);for(ft in u)tt=u[ft],nt=l[ft],!u.hasOwnProperty(ft)||tt===nt||tt==null&&nt==null||Oe(s,a,ft,tt,u,nt)}var Zm=null,Jm=null;function tg(s){return s.nodeType===9?s:s.ownerDocument}function k0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function t_(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var e_=null;function TR(){var s=window.event;return s&&s.type==="popstate"?s===e_?!1:(e_=s,!0):(e_=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(s){return L0.resolve(null).then(s).catch(AR)}:N0;function AR(s){setTimeout(function(){throw s})}function zo(s){return s==="head"}function V0(s,a){var l=a,u=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&Hh(S.documentElement),l&2&&Hh(S.body),l&4)for(l=S.head,Hh(l),S=l.firstChild;S;){var C=S.nextSibling,B=S.nodeName;S[ps]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(p===0){s.removeChild(y),Xh(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);Xh(a)}function n_(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":n_(l),vr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function xR(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ps])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=or(s.nextSibling),s===null)break}return null}function RR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=or(s.nextSibling),s===null))return null;return s}function i_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function CR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function or(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var s_=null;function U0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function j0(s,a,l){switch(a=tg(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Hh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);vr(s)}var Ps=new Map,z0=new Set;function eg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Va=gt.d;gt.d={f:IR,r:DR,D:OR,C:MR,L:kR,m:PR,X:LR,S:NR,M:VR};function IR(){var s=Va.f(),a=Gd();return s||a}function DR(s){var a=ms(s);a!==null&&a.tag===5&&a.type==="form"?ab(a):Va.r(s)}var nu=typeof document>"u"?null:document;function B0(s,a,l){var u=nu;if(u&&typeof a=="string"&&a){var p=Ie(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),z0.has(p)||(z0.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),Qn(a,"link",s),ie(a),u.head.appendChild(a)))}}function OR(s){Va.D(s),B0("dns-prefetch",s,null)}function MR(s,a){Va.C(s,a),B0("preconnect",s,a)}function kR(s,a,l){Va.L(s,a,l);var u=nu;if(u&&s&&a){var p='link[rel="preload"][as="'+Ie(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ie(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ie(l.imageSizes)+'"]')):p+='[href="'+Ie(s)+'"]';var y=p;switch(a){case"style":y=iu(s);break;case"script":y=su(s)}Ps.has(y)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Ps.set(y,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(qh(y))||a==="script"&&u.querySelector($h(y))||(a=u.createElement("link"),Qn(a,"link",s),ie(a),u.head.appendChild(a)))}}function PR(s,a){Va.m(s,a);var l=nu;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ie(u)+'"][href="'+Ie(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=su(s)}if(!Ps.has(y)&&(s=_({rel:"modulepreload",href:s},a),Ps.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector($h(y)))return}u=l.createElement("link"),Qn(u,"link",s),ie(u),l.head.appendChild(u)}}}function NR(s,a,l){Va.S(s,a,l);var u=nu;if(u&&s){var p=Ze(u).hoistableStyles,y=iu(s);a=a||"default";var S=p.get(y);if(!S){var C={loading:0,preload:null};if(S=u.querySelector(qh(y)))C.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Ps.get(y))&&r_(s,l);var B=S=u.createElement("link");ie(B),Qn(B,"link",s),B._p=new Promise(function(Z,ot){B.onload=Z,B.onerror=ot}),B.addEventListener("load",function(){C.loading|=1}),B.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ng(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:C},p.set(y,S)}}}function LR(s,a){Va.X(s,a);var l=nu;if(l&&s){var u=Ze(l).hoistableScripts,p=su(s),y=u.get(p);y||(y=l.querySelector($h(p)),y||(s=_({src:s,async:!0},a),(a=Ps.get(p))&&a_(s,a),y=l.createElement("script"),ie(y),Qn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function VR(s,a){Va.M(s,a);var l=nu;if(l&&s){var u=Ze(l).hoistableScripts,p=su(s),y=u.get(p);y||(y=l.querySelector($h(p)),y||(s=_({src:s,async:!0,type:"module"},a),(a=Ps.get(p))&&a_(s,a),y=l.createElement("script"),ie(y),Qn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function F0(s,a,l,u){var p=(p=It.current)?eg(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=iu(l.href),l=Ze(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=iu(l.href);var y=Ze(p).hoistableStyles,S=y.get(s);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=p.querySelector(qh(s)))&&!y._p&&(S.instance=y,S.state.loading=5),Ps.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ps.set(s,l),y||UR(p,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=su(l),l=Ze(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function iu(s){return'href="'+Ie(s)+'"'}function qh(s){return'link[rel="stylesheet"]['+s+"]"}function H0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function UR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Qn(a,"link",l),ie(a),s.head.appendChild(a))}function su(s){return'[src="'+Ie(s)+'"]'}function $h(s){return"script[async]"+s}function q0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Ie(l.href)+'"]');if(u)return a.instance=u,ie(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ie(u),Qn(u,"style",p),ng(u,l.precedence,s),a.instance=u;case"stylesheet":p=iu(l.href);var y=s.querySelector(qh(p));if(y)return a.state.loading|=4,a.instance=y,ie(y),y;u=H0(l),(p=Ps.get(p))&&r_(u,p),y=(s.ownerDocument||s).createElement("link"),ie(y);var S=y;return S._p=new Promise(function(C,B){S.onload=C,S.onerror=B}),Qn(y,"link",u),a.state.loading|=4,ng(y,l.precedence,s),a.instance=y;case"script":return y=su(l.src),(p=s.querySelector($h(y)))?(a.instance=p,ie(p),p):(u=l,(p=Ps.get(y))&&(u=_({},l),a_(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),ie(p),Qn(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,ng(u,l.precedence,s));return a.instance}function ng(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,S=0;S<u.length;S++){var C=u[S];if(C.dataset.precedence===a)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function r_(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function a_(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ig=null;function $0(s,a,l){if(ig===null){var u=new Map,p=ig=new Map;p.set(l,u)}else p=ig,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[ps]||y[nn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=s+S;var C=u.get(S);C?C.push(y):u.set(S,[y])}}return u}function G0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function jR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Y0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Gh=null;function zR(){}function BR(s,a,l){if(Gh===null)throw Error(i(475));var u=Gh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=iu(l.href),y=s.querySelector(qh(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=sg.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=y,ie(y);return}y=s.ownerDocument||s,l=H0(l),(p=Ps.get(p))&&r_(l,p),y=y.createElement("link"),ie(y);var S=y;S._p=new Promise(function(C,B){S.onload=C,S.onerror=B}),Qn(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=sg.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function FR(){if(Gh===null)throw Error(i(475));var s=Gh;return s.stylesheets&&s.count===0&&o_(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&o_(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function sg(){if(this.count--,this.count===0){if(this.stylesheets)o_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rg=null;function o_(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rg=new Map,a.forEach(HR,s),rg=null,sg.call(s))}function HR(s,a){if(!(a.state.loading&4)){var l=rg.get(s);if(l)var u=l.get(null);else{l=new Map,rg.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}p=a.instance,S=p.getAttribute("data-precedence"),y=l.get(S)||u,y===u&&l.set(null,p),l.set(S,p),this.count++,u=sg.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Yh={$$typeof:J,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function qR(s,a,l,u,p,y,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function W0(s,a,l,u,p,y,S,C,B,Z,ot,ft){return s=new qR(s,a,l,S,C,B,Z,ft),a=1,y===!0&&(a|=24),y=bi(3,null,null,a),s.current=y,y.stateNode=s,a=ql(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},Y(y),s}function K0(s){return s?(s=wo,s):wo}function Q0(s,a,l,u,p,y){p=K0(p),u.context===null?u.context=p:u.pendingContext=p,u=lt(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=_t(s,u,a),l!==null&&(ls(l,s,a),St(l,s,a))}function X0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function l_(s,a){X0(s,a),(s=s.alternate)&&X0(s,a)}function Z0(s){if(s.tag===13){var a=ii(s,67108864);a!==null&&ls(a,s,67108864),l_(s,67108864)}}var ag=!0;function $R(s,a,l,u){var p=et.T;et.T=null;var y=gt.p;try{gt.p=2,c_(s,a,l,u)}finally{gt.p=y,et.T=p}}function GR(s,a,l,u){var p=et.T;et.T=null;var y=gt.p;try{gt.p=8,c_(s,a,l,u)}finally{gt.p=y,et.T=p}}function c_(s,a,l,u){if(ag){var p=u_(u);if(p===null)Qm(s,a,u,og,l),tE(s,u);else if(WR(p,s,a,l,u))u.stopPropagation();else if(tE(s,u),a&4&&-1<YR.indexOf(s)){for(;p!==null;){var y=ms(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Gi(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var B=1<<31-Qe(S);C.entanglements[1]|=B,S&=~B}Ur(y),(xe&6)===0&&(qd=wi()+500,zh(0))}}break;case 13:C=ii(y,2),C!==null&&ls(C,y,2),Gd(),l_(y,2)}if(y=u_(u),y===null&&Qm(s,a,u,og,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Qm(s,a,u,null,l)}}function u_(s){return s=$n(s),h_(s)}var og=null;function h_(s){if(og=null,s=Wi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return og=s,null}function J0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fu()){case bl:return 2;case so:return 8;case ta:case Hu:return 32;case ro:return 268435456;default:return 32}default:return 32}}var f_=!1,Bo=null,Fo=null,Ho=null,Wh=new Map,Kh=new Map,qo=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(s,a){switch(s){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Wh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(a.pointerId)}}function Qh(s,a,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},a!==null&&(a=ms(a),a!==null&&Z0(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function WR(s,a,l,u,p){switch(a){case"focusin":return Bo=Qh(Bo,s,a,l,u,p),!0;case"dragenter":return Fo=Qh(Fo,s,a,l,u,p),!0;case"mouseover":return Ho=Qh(Ho,s,a,l,u,p),!0;case"pointerover":var y=p.pointerId;return Wh.set(y,Qh(Wh.get(y)||null,s,a,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Kh.set(y,Qh(Kh.get(y)||null,s,a,l,u,p)),!0}return!1}function eE(s){var a=Wi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Ys(s.priority,function(){if(l.tag===13){var u=os();u=_r(u);var p=ii(l,u);p!==null&&ls(p,l,u),l_(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function lg(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=u_(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ln=u,l.target.dispatchEvent(u),Ln=null}else return a=ms(l),a!==null&&Z0(a),s.blockedOn=l,!1;a.shift()}return!0}function nE(s,a,l){lg(s)&&l.delete(a)}function KR(){f_=!1,Bo!==null&&lg(Bo)&&(Bo=null),Fo!==null&&lg(Fo)&&(Fo=null),Ho!==null&&lg(Ho)&&(Ho=null),Wh.forEach(nE),Kh.forEach(nE)}function cg(s,a){s.blockedOn===a&&(s.blockedOn=null,f_||(f_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KR)))}var ug=null;function iE(s){ug!==s&&(ug=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ug===s&&(ug=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(h_(u||l)===null)continue;break}var y=ms(l);y!==null&&(s.splice(a,3),a-=3,hm(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Xh(s){function a(B){return cg(B,s)}Bo!==null&&cg(Bo,s),Fo!==null&&cg(Fo,s),Ho!==null&&cg(Ho,s),Wh.forEach(a),Kh.forEach(a);for(var l=0;l<qo.length;l++){var u=qo[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<qo.length&&(l=qo[0],l.blockedOn===null);)eE(l),l.blockedOn===null&&qo.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],S=p[Xe]||null;if(typeof y=="function")S||iE(l);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[Xe]||null)C=S.formAction;else if(h_(p)!==null)continue}else C=S.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),iE(l)}}}function d_(s){this._internalRoot=s}hg.prototype.render=d_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=os();Q0(l,u,s,a,null,null)},hg.prototype.unmount=d_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Q0(s.current,2,null,s,null,null),Gd(),a[Ai]=null}};function hg(s){this._internalRoot=s}hg.prototype.unstable_scheduleHydration=function(s){if(s){var a=yr();s={blockedOn:null,target:s,priority:a};for(var l=0;l<qo.length&&a!==0&&a<qo[l].priority;l++);qo.splice(l,0,s),l===0&&eE(s)}};var sE=t.version;if(sE!=="19.1.0")throw Error(i(527,sE,"19.1.0"));gt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var QR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fg.isDisabled&&fg.supportsFiber)try{ze=fg.inject(QR),Ee=fg}catch{}}return Jh.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=bb,y=Eb,S=Tb,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=W0(s,1,!1,null,null,l,u,p,y,S,C,null),s[Ai]=a.current,Km(s),new d_(a)},Jh.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",y=bb,S=Eb,C=Tb,B=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=W0(s,1,!0,a,l??null,u,p,y,S,C,B,Z),a.context=K0(null),l=a.current,u=os(),u=_r(u),p=lt(u),p.callback=null,_t(l,p,u),l=u,a.current.lanes=l,Si(a,l),Ur(a),s[Ai]=a.current,Km(s),new hg(a)},Jh.version="19.1.0",Jh}var gE;function oC(){if(gE)return m_.exports;gE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),m_.exports=aC(),m_.exports}var lC=oC(),tf={},pE;function cC(){if(pE)return tf;pE=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.parse=c,tf.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const R=new o,I=E.length;if(I<2)return R;const M=A?.decode||_;let L=0;do{const G=E.indexOf("=",L);if(G===-1)break;const J=E.indexOf(";",L),at=J===-1?I:J;if(G>at){L=E.lastIndexOf(";",G-1)+1;continue}const rt=h(E,L,G),pt=f(E,G,rt),V=E.slice(rt,pt);if(R[V]===void 0){let P=h(E,G+1,at),N=f(E,at,P);const z=M(E.slice(P,N));R[V]=z}L=at+1}while(L<I);return R}function h(E,A,R){do{const I=E.charCodeAt(A);if(I!==32&&I!==9)return A}while(++A<R);return R}function f(E,A,R){for(;A>R;){const I=E.charCodeAt(--A);if(I!==32&&I!==9)return A+1}return R}function g(E,A,R){const I=R?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const M=I(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let L=E+"="+M;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!e.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return r.call(E)==="[object Date]"}return tf}cC();var mE="popstate";function uC(n={}){function t(r,o){let{pathname:c="/",search:h="",hash:f=""}=_c(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$_("",{pathname:c,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=r.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:Rf(o))}function i(r,o){js(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return fC(t,e,i,n)}function qe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function js(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hC(){return Math.random().toString(36).substring(2,10)}function _E(n,t){return{usr:n.state,key:n.key,idx:t}}function $_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?_c(t):t,state:e,key:t&&t.key||i||hC()}}function Rf({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function _c(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function fC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){h="POP";let M=_(),L=M==null?null:M-g;g=M,f&&f({action:h,location:I.location,delta:L})}function E(M,L){h="PUSH";let G=$_(I.location,M,L);e&&e(G,M),g=_()+1;let J=_E(G,g),at=I.createHref(G);try{c.pushState(J,"",at)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;r.location.assign(at)}o&&f&&f({action:h,location:I.location,delta:1})}function A(M,L){h="REPLACE";let G=$_(I.location,M,L);e&&e(G,M),g=_();let J=_E(G,g),at=I.createHref(G);c.replaceState(J,"",at),o&&f&&f({action:h,location:I.location,delta:0})}function R(M){return dC(M)}let I={get action(){return h},get location(){return n(r,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(mE,b),f=M,()=>{r.removeEventListener(mE,b),f=null}},createHref(M){return t(r,M)},createURL:R,encodeLocation(M){let L=R(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:A,go(M){return c.go(M)}};return I}function dC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Rf(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function fS(n,t,e="/"){return gC(n,t,e,!1)}function gC(n,t,e,i){let r=typeof t=="string"?_c(t):t,o=Wa(r.pathname||"/",e);if(o==null)return null;let c=dS(n);pC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=xC(o);h=SC(c[f],g,i)}return h}function dS(n,t=[],e=[],i=""){let r=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=qa([i,f.relativePath]),_=e.concat(f);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),dS(o.children,t,_,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:TC(g,o.index),routesMeta:_})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of gS(o.path))r(o,c,h)}),t}function gS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=gS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function pC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:wC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var mC=/^:[\w-]+$/,_C=3,yC=2,vC=1,bC=10,EC=-2,yE=n=>n==="*";function TC(n,t){let e=n.split("/"),i=e.length;return e.some(yE)&&(i+=EC),t&&(i+=yC),e.filter(r=>!yE(r)).reduce((r,o)=>r+(mC.test(o)?_C:o===""?vC:bC),i)}function wC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function SC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,_=o==="/"?t:t.slice(o.length)||"/",b=Kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),E=f.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=Kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:qa([o,b.pathname]),pathnameBase:DC(qa([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=qa([o,b.pathnameBase]))}return c}function Kg(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=AC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:b},E)=>{if(_==="*"){let R=h[E]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const A=h[E];return b&&!A?g[_]=void 0:g[_]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function AC(n,t=!1,e=!0){js(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function xC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return js(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Wa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function RC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?_c(n):n;return{pathname:e?e.startsWith("/")?e:CC(e,t):t,search:OC(i),hash:MC(r)}}function CC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function b_(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ry(n){let t=IC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Cy(n,t,e,i=!1){let r;typeof n=="string"?r=_c(n):(r={...n},qe(!r.pathname||!r.pathname.includes("?"),b_("?","pathname","search",r)),qe(!r.pathname||!r.pathname.includes("#"),b_("#","pathname","hash",r)),qe(!r.search||!r.search.includes("#"),b_("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;r.pathname=E.join("/")}h=b>=0?t[b]:"/"}let f=RC(r,h),g=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var qa=n=>n.join("/").replace(/\/\/+/g,"/"),DC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pS=["POST","PUT","PATCH","DELETE"];new Set(pS);var PC=["GET",...pS];new Set(PC);var Cu=W.createContext(null);Cu.displayName="DataRouter";var xp=W.createContext(null);xp.displayName="DataRouterState";var mS=W.createContext({isTransitioning:!1});mS.displayName="ViewTransition";var NC=W.createContext(new Map);NC.displayName="Fetchers";var LC=W.createContext(null);LC.displayName="Await";var fr=W.createContext(null);fr.displayName="Navigation";var Hf=W.createContext(null);Hf.displayName="Location";var dr=W.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var Iy=W.createContext(null);Iy.displayName="RouteError";function VC(n,{relative:t}={}){qe(Iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=W.useContext(fr),{hash:r,pathname:o,search:c}=qf(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:qa([e,o])),i.createHref({pathname:h,search:c,hash:r})}function Iu(){return W.useContext(Hf)!=null}function to(){return qe(Iu(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Hf).location}var _S="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yS(n){W.useContext(fr).static||W.useLayoutEffect(n)}function Du(){let{isDataRoute:n}=W.useContext(dr);return n?XC():UC()}function UC(){qe(Iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Cu),{basename:t,navigator:e}=W.useContext(fr),{matches:i}=W.useContext(dr),{pathname:r}=to(),o=JSON.stringify(Ry(i)),c=W.useRef(!1);return yS(()=>{c.current=!0}),W.useCallback((f,g={})=>{if(js(c.current,_S),!c.current)return;if(typeof f=="number"){e.go(f);return}let _=Cy(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:qa([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,o,r,n])}W.createContext(null);function jC(){let{matches:n}=W.useContext(dr),t=n[n.length-1];return t?t.params:{}}function qf(n,{relative:t}={}){let{matches:e}=W.useContext(dr),{pathname:i}=to(),r=JSON.stringify(Ry(e));return W.useMemo(()=>Cy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function zC(n,t){return vS(n,t)}function vS(n,t,e,i){qe(Iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=W.useContext(fr),{matches:o}=W.useContext(dr),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let L=_&&_.path||"";bS(f,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=to(),E;if(t){let L=typeof t=="string"?_c(t):t;qe(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=b;let A=E.pathname||"/",R=A;if(g!=="/"){let L=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=fS(n,{pathname:R});js(_||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),js(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=$C(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:qa([g,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:qa([g,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,e,i);return t&&M?W.createElement(Hf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function BC(){let n=QC(),t=kC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:r},e):null,c)}var FC=W.createElement(BC,null),HC=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?W.createElement(dr.Provider,{value:this.props.routeContext},W.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qC({routeContext:n,match:t,children:e}){let i=W.useContext(Cu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(dr.Provider,{value:n},e)}function $C(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:b}=e,E=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,_)=>{let b,E=!1,A=null,R=null;e&&(b=o&&g.route.id?o[g.route.id]:void 0,A=g.route.errorElement||FC,c&&(h<0&&_===0?(bS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===_&&(E=!0,R=g.route.hydrateFallbackElement||null)));let I=t.concat(r.slice(0,_+1)),M=()=>{let L;return b?L=A:E?L=R:g.route.Component?L=W.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=f,W.createElement(qC,{match:g,routeContext:{outlet:f,matches:I,isDataRoute:e!=null},children:L})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?W.createElement(HC,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:M(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):M()},null)}function Dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GC(n){let t=W.useContext(Cu);return qe(t,Dy(n)),t}function YC(n){let t=W.useContext(xp);return qe(t,Dy(n)),t}function WC(n){let t=W.useContext(dr);return qe(t,Dy(n)),t}function Oy(n){let t=WC(n),e=t.matches[t.matches.length-1];return qe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function KC(){return Oy("useRouteId")}function QC(){let n=W.useContext(Iy),t=YC("useRouteError"),e=Oy("useRouteError");return n!==void 0?n:t.errors?.[e]}function XC(){let{router:n}=GC("useNavigate"),t=Oy("useNavigate"),e=W.useRef(!1);return yS(()=>{e.current=!0}),W.useCallback(async(r,o={})=>{js(e.current,_S),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var vE={};function bS(n,t,e){!t&&!vE[n]&&(vE[n]=!0,js(!1,e))}W.memo(ZC);function ZC({routes:n,future:t,state:e}){return vS(n,void 0,e,t)}function JC({to:n,replace:t,state:e,relative:i}){qe(Iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=W.useContext(fr);js(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(dr),{pathname:c}=to(),h=Du(),f=Cy(n,Ry(o),c,i==="path"),g=JSON.stringify(f);return W.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function zr(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){qe(!Iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=_c(e));let{pathname:f="/",search:g="",hash:_="",state:b=null,key:E="default"}=e,A=W.useMemo(()=>{let R=Wa(f,c);return R==null?null:{location:{pathname:R,search:g,hash:_,state:b,key:E},navigationType:i}},[c,f,g,_,b,E,i]);return js(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:W.createElement(fr.Provider,{value:h},W.createElement(Hf.Provider,{children:t,value:A}))}function eI({children:n,location:t}){return zC(G_(n),t)}function G_(n,t=[]){let e=[];return W.Children.forEach(n,(i,r)=>{if(!W.isValidElement(i))return;let o=[...t,r];if(i.type===W.Fragment){e.push.apply(e,G_(i.props.children,o));return}qe(i.type===zr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=G_(i.props.children,o)),e.push(c)}),e}var kg="get",Pg="application/x-www-form-urlencoded";function Rp(n){return n!=null&&typeof n.tagName=="string"}function nI(n){return Rp(n)&&n.tagName.toLowerCase()==="button"}function iI(n){return Rp(n)&&n.tagName.toLowerCase()==="form"}function sI(n){return Rp(n)&&n.tagName.toLowerCase()==="input"}function rI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aI(n,t){return n.button===0&&(!t||t==="_self")&&!rI(n)}var dg=null;function oI(){if(dg===null)try{new FormData(document.createElement("form"),0),dg=!1}catch{dg=!0}return dg}var lI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function E_(n){return n!=null&&!lI.has(n)?(js(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pg}"`),null):n}function cI(n,t){let e,i,r,o,c;if(iI(n)){let h=n.getAttribute("action");i=h?Wa(h,t):null,e=n.getAttribute("method")||kg,r=E_(n.getAttribute("enctype"))||Pg,o=new FormData(n)}else if(nI(n)||sI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Wa(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||kg,r=E_(n.getAttribute("formenctype"))||E_(h.getAttribute("enctype"))||Pg,o=new FormData(h,n),!oI()){let{name:g,type:_,value:b}=n;if(_==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,b)}}else{if(Rp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=kg,i=null,r=Pg,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function My(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function uI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await uI(o,e);return c.links?c.links():[]}return[]}));return mI(i.flat(1).filter(hI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function bE(n,t,e,i,r,o){let c=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>e[g].pathname!==f.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dI(n,t,{includeHydrateFallback:e}={}){return gI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function gI(n){return[...new Set(n)]}function pI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function mI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(pI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _I=new Set([100,101,204,205]);function yI(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Wa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ES(){let n=W.useContext(Cu);return My(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vI(){let n=W.useContext(xp);return My(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ky=W.createContext(void 0);ky.displayName="FrameworkContext";function TS(){let n=W.useContext(ky);return My(n,"You must render this element inside a <HydratedRouter> element"),n}function bI(n,t){let e=W.useContext(ky),[i,r]=W.useState(!1),[o,c]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=t,E=W.useRef(null);W.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=L=>{L.forEach(G=>{c(G.isIntersecting)})},M=new IntersectionObserver(I,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[n]),W.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let A=()=>{r(!0)},R=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:ef(h,A),onBlur:ef(f,R),onMouseEnter:ef(g,A),onMouseLeave:ef(_,R),onTouchStart:ef(b,A)}]:[!1,E,{}]}function ef(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function EI({page:n,...t}){let{router:e}=ES(),i=W.useMemo(()=>fS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?W.createElement(wI,{page:n,matches:i,...t}):null}function TI(n){let{manifest:t,routeModules:e}=TS(),[i,r]=W.useState([]);return W.useEffect(()=>{let o=!1;return fI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function wI({page:n,matches:t,...e}){let i=to(),{manifest:r,routeModules:o}=TS(),{basename:c}=ES(),{loaderData:h,matches:f}=vI(),g=W.useMemo(()=>bE(n,t,f,r,i,"data"),[n,t,f,r,i]),_=W.useMemo(()=>bE(n,t,f,r,i,"assets"),[n,t,f,r,i]),b=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,I=!1;if(t.forEach(L=>{let G=r.routes[L.route.id];!G||!G.hasLoader||(!g.some(J=>J.route.id===L.route.id)&&L.route.id in h&&o[L.route.id]?.shouldRevalidate||G.hasClientLoader?I=!0:R.add(L.route.id))}),R.size===0)return[];let M=yI(n,c);return I&&R.size>0&&M.searchParams.set("_routes",t.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[c,h,i,r,g,t,n,o]),E=W.useMemo(()=>dI(_,r),[_,r]),A=TI(_);return W.createElement(W.Fragment,null,b.map(R=>W.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...e})),E.map(R=>W.createElement("link",{key:R,rel:"modulepreload",href:R,...e})),A.map(({key:R,link:I})=>W.createElement("link",{key:R,...I})))}function SI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wS&&(window.__reactRouterVersion="7.6.3")}catch{}function AI({basename:n,children:t,window:e}){let i=W.useRef();i.current==null&&(i.current=uC({window:e,v5Compat:!0}));let r=i.current,[o,c]=W.useState({action:r.action,location:r.location}),h=W.useCallback(f=>{W.startTransition(()=>c(f))},[c]);return W.useLayoutEffect(()=>r.listen(h),[r,h]),W.createElement(tI,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=W.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:_,viewTransition:b,...E},A){let{basename:R}=W.useContext(fr),I=typeof g=="string"&&SS.test(g),M,L=!1;if(typeof g=="string"&&I&&(M=g,wS))try{let N=new URL(window.location.href),z=g.startsWith("//")?new URL(N.protocol+g):new URL(g),F=Wa(z.pathname,R);z.origin===N.origin&&F!=null?g=F+z.search+z.hash:L=!0}catch{js(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=VC(g,{relative:r}),[J,at,rt]=bI(i,E),pt=II(g,{replace:c,state:h,target:f,preventScrollReset:_,relative:r,viewTransition:b});function V(N){t&&t(N),N.defaultPrevented||pt(N)}let P=W.createElement("a",{...E,...rt,href:M||G,onClick:L||o?t:V,ref:SI(A,at),target:f,"data-discover":!I&&e==="render"?"true":void 0});return J&&!I?W.createElement(W.Fragment,null,P,W.createElement(EI,{page:G})):P});us.displayName="Link";var xI=W.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...g},_){let b=qf(c,{relative:g.relative}),E=to(),A=W.useContext(xp),{navigator:R,basename:I}=W.useContext(fr),M=A!=null&&PI(b)&&h===!0,L=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,G=E.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(G=G.toLowerCase(),J=J?J.toLowerCase():null,L=L.toLowerCase()),J&&I&&(J=Wa(J,I)||J);const at=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let rt=G===L||!r&&G.startsWith(L)&&G.charAt(at)==="/",pt=J!=null&&(J===L||!r&&J.startsWith(L)&&J.charAt(L.length)==="/"),V={isActive:rt,isPending:pt,isTransitioning:M},P=rt?t:void 0,N;typeof i=="function"?N=i(V):N=[i,rt?"active":null,pt?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(V):o;return W.createElement(us,{...g,"aria-current":P,className:N,ref:_,style:z,to:c,viewTransition:h},typeof f=="function"?f(V):f)});xI.displayName="NavLink";var RI=W.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=kg,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:b,...E},A)=>{let R=MI(),I=kI(h,{relative:g}),M=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&SS.test(h),G=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let at=J.nativeEvent.submitter,rt=at?.getAttribute("formmethod")||c;R(at||J.currentTarget,{fetcherKey:t,method:rt,navigate:e,replace:r,state:o,relative:g,preventScrollReset:_,viewTransition:b})};return W.createElement("form",{ref:A,method:M,action:I,onSubmit:i?f:G,...E,"data-discover":!L&&n==="render"?"true":void 0})});RI.displayName="Form";function CI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AS(n){let t=W.useContext(Cu);return qe(t,CI(n)),t}function II(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=Du(),f=to(),g=qf(n,{relative:o});return W.useCallback(_=>{if(aI(_,t)){_.preventDefault();let b=e!==void 0?e:Rf(f)===Rf(g);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,g,e,i,t,n,r,o,c])}var DI=0,OI=()=>`__${String(++DI)}__`;function MI(){let{router:n}=AS("useSubmit"),{basename:t}=W.useContext(fr),e=KC();return W.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=cI(i,t);if(r.navigate===!1){let _=r.fetcherKey||OI();await n.fetch(_,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function kI(n,{relative:t}={}){let{basename:e}=W.useContext(fr),i=W.useContext(dr);qe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...qf(n||".",{relative:t})},c=to();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let _=h.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:qa([e,o.pathname])),Rf(o)}function PI(n,t={}){let e=W.useContext(mS);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=AS("useViewTransitionState"),r=qf(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Wa(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Wa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Kg(r.pathname,c)!=null||Kg(r.pathname,o)!=null}[..._I];const NI=()=>{};var EE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},LI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,_=o>>2,b=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,A=g&63;f||(A=64,c||(E=64)),i.push(e[_],e[b],e[E],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(xS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):LI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const b=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||b==null)throw new VI;const E=o<<2|h>>4;if(i.push(E),g!==64){const A=h<<4&240|g>>2;if(i.push(A),b!==64){const R=g<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(n){const t=xS(n);return RS.encodeByteArray(t,!0)},Qg=function(n){return UI(n).replace(/\./g,"")},CS=function(n){try{return RS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=()=>jI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof EE>"u")return;const n=EE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&CS(n[1]);return t&&JSON.parse(t)},Cp=()=>{try{return NI()||zI()||BI()||FI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IS=n=>{var t,e;return(e=(t=Cp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},HI=n=>{const t=IS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},DS=()=>{var n;return(n=Cp())===null||n===void 0?void 0:n.config},OS=n=>{var t;return(t=Cp())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qg(JSON.stringify(e)),Qg(JSON.stringify(c)),""].join(".")}const _f={};function GI(){const n={prod:[],emulator:[]};for(const t of Object.keys(_f))_f[t]?n.emulator.push(t):n.prod.push(t);return n}function YI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let TE=!1;function kS(n,t){if(typeof window>"u"||typeof document>"u"||!Ou(window.location.host)||_f[n]===t||_f[n]||TE)return;_f[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=GI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{TE=!0,c()},E}function _(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=YI(i),A=e("text"),R=document.getElementById(A)||document.createElement("span"),I=e("learnmore"),M=document.getElementById(I)||document.createElement("a"),L=e("preprendIcon"),G=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;h(J),_(M,I);const at=g();f(G,L),J.append(G,R,M,at),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fi())}function KI(){var n;const t=(n=Cp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JI(){const n=fi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tD(){return!KI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eD(){try{return typeof indexedDB=="object"}catch{return!1}}function nD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="FirebaseError";class eo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=iD,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$f.prototype.create)}}class $f{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?sD(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new eo(r,h,i)}}function sD(n,t){return n.replace(rD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const rD=/\{\$([^}]+)}/g;function aD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function uc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(wE(o)&&wE(c)){if(!uc(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function wE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function lf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function cf(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function oD(n,t){const e=new lD(n,t);return e.subscribe.bind(e)}class lD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");cD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=T_),r.error===void 0&&(r.error=T_),r.complete===void 0&&(r.complete=T_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function T_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){return n&&n._delegate?n._delegate:n}class hc{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new qI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fD(t))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ec){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ec){return this.instances.has(t)}getOptions(t=ec){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hD(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ec){return this.component?this.component.multipleInstances?t:ec:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hD(n){return n===ec?void 0:n}function fD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new uD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ce||(ce={}));const gD={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},pD=ce.INFO,mD={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},_D=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=mD[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Py{constructor(t){this.name=t,this._logLevel=pD,this._logHandler=_D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const yD=(n,t)=>t.some(e=>n instanceof e);let SE,AE;function vD(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bD(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PS=new WeakMap,Y_=new WeakMap,NS=new WeakMap,w_=new WeakMap,Ny=new WeakMap;function ED(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(nl(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&PS.set(e,n)}).catch(()=>{}),Ny.set(t,n),t}function TD(n){if(Y_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Y_.set(n,t)}let W_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Y_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||NS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return nl(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wD(n){W_=n(W_)}function SD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(S_(this),t,...e);return NS.set(i,t.sort?t.sort():[t]),nl(i)}:bD().includes(n)?function(...t){return n.apply(S_(this),t),nl(PS.get(this))}:function(...t){return nl(n.apply(S_(this),t))}}function AD(n){return typeof n=="function"?SD(n):(n instanceof IDBTransaction&&TD(n),yD(n,vD())?new Proxy(n,W_):n)}function nl(n){if(n instanceof IDBRequest)return ED(n);if(w_.has(n))return w_.get(n);const t=AD(n);return t!==n&&(w_.set(n,t),Ny.set(t,n)),t}const S_=n=>Ny.get(n);function xD(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=nl(c);return i&&c.addEventListener("upgradeneeded",f=>{i(nl(c.result),f.oldVersion,f.newVersion,nl(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const RD=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],A_=new Map;function xE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(A_.get(t))return A_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=CD.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||RD.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return A_.set(t,o),o}wD(n=>({...n,get:(t,e,i)=>xE(t,e)||n.get(t,e,i),has:(t,e)=>!!xE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DD(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function DD(n){const t=n.getComponent();return t?.type==="VERSION"}const K_="@firebase/app",RE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Py("@firebase/app"),OD="@firebase/app-compat",MD="@firebase/analytics-compat",kD="@firebase/analytics",PD="@firebase/app-check-compat",ND="@firebase/app-check",LD="@firebase/auth",VD="@firebase/auth-compat",UD="@firebase/database",jD="@firebase/data-connect",zD="@firebase/database-compat",BD="@firebase/functions",FD="@firebase/functions-compat",HD="@firebase/installations",qD="@firebase/installations-compat",$D="@firebase/messaging",GD="@firebase/messaging-compat",YD="@firebase/performance",WD="@firebase/performance-compat",KD="@firebase/remote-config",QD="@firebase/remote-config-compat",XD="@firebase/storage",ZD="@firebase/storage-compat",JD="@firebase/firestore",tO="@firebase/ai",eO="@firebase/firestore-compat",nO="firebase",iO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="[DEFAULT]",sO={[K_]:"fire-core",[OD]:"fire-core-compat",[kD]:"fire-analytics",[MD]:"fire-analytics-compat",[ND]:"fire-app-check",[PD]:"fire-app-check-compat",[LD]:"fire-auth",[VD]:"fire-auth-compat",[UD]:"fire-rtdb",[jD]:"fire-data-connect",[zD]:"fire-rtdb-compat",[BD]:"fire-fn",[FD]:"fire-fn-compat",[HD]:"fire-iid",[qD]:"fire-iid-compat",[$D]:"fire-fcm",[GD]:"fire-fcm-compat",[YD]:"fire-perf",[WD]:"fire-perf-compat",[KD]:"fire-rc",[QD]:"fire-rc-compat",[XD]:"fire-gcs",[ZD]:"fire-gcs-compat",[JD]:"fire-fst",[eO]:"fire-fst-compat",[tO]:"fire-vertex","fire-js":"fire-js",[nO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map,rO=new Map,X_=new Map;function CE(n,t){try{n.container.addComponent(t)}catch(e){Ka.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function vu(n){const t=n.name;if(X_.has(t))return Ka.debug(`There were multiple attempts to register component ${t}.`),!1;X_.set(t,n);for(const e of Xg.values())CE(e,n);for(const e of rO.values())CE(e,n);return!0}function Ly(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ls(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},il=new $f("app","Firebase",aO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw il.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=iO;function LS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Q_,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw il.create("bad-app-name",{appName:String(r)});if(e||(e=DS()),!e)throw il.create("no-options");const o=Xg.get(r);if(o){if(uc(e,o.options)&&uc(i,o.config))return o;throw il.create("duplicate-app",{appName:r})}const c=new dD(r);for(const f of X_.values())c.addComponent(f);const h=new oO(e,i,c);return Xg.set(r,h),h}function VS(n=Q_){const t=Xg.get(n);if(!t&&n===Q_&&DS())return LS();if(!t)throw il.create("no-app",{appName:n});return t}function sl(n,t,e){var i;let r=(i=sO[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ka.warn(h.join(" "));return}vu(new hc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="firebase-heartbeat-database",cO=1,Cf="firebase-heartbeat-store";let x_=null;function US(){return x_||(x_=xD(lO,cO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Cf)}catch(e){console.warn(e)}}}}).catch(n=>{throw il.create("idb-open",{originalErrorMessage:n.message})})),x_}async function uO(n){try{const e=(await US()).transaction(Cf),i=await e.objectStore(Cf).get(jS(n));return await e.done,i}catch(t){if(t instanceof eo)Ka.warn(t.message);else{const e=il.create("idb-get",{originalErrorMessage:t?.message});Ka.warn(e.message)}}}async function IE(n,t){try{const i=(await US()).transaction(Cf,"readwrite");await i.objectStore(Cf).put(t,jS(n)),await i.done}catch(e){if(e instanceof eo)Ka.warn(e.message);else{const i=il.create("idb-set",{originalErrorMessage:e?.message});Ka.warn(i.message)}}}function jS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=1024,fO=30;class dO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new pO(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>fO){const c=mO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ka.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:i,unsentEntries:r}=gO(this._heartbeatsCache.heartbeats),o=Qg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ka.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function gO(n,t=hO){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),OE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),OE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class pO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eD()?nD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await uO(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return IE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return IE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function OE(n){return Qg(JSON.stringify({version:2,heartbeats:n})).length}function mO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){vu(new hc("platform-logger",t=>new ID(t),"PRIVATE")),vu(new hc("heartbeat",t=>new dO(t),"PRIVATE")),sl(K_,RE,n),sl(K_,RE,"esm2017"),sl("fire-js","")}_O("");var yO="firebase",vO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl(yO,vO,"app");function Vy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bO=zS,BS=new $f("auth","Firebase",zS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new Py("@firebase/auth");function EO(n,...t){Zg.logLevel<=ce.WARN&&Zg.warn(`Auth (${Mu}): ${n}`,...t)}function Ng(n,...t){Zg.logLevel<=ce.ERROR&&Zg.error(`Auth (${Mu}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,...t){throw Uy(n,...t)}function $r(n,...t){return Uy(n,...t)}function FS(n,t,e){const i=Object.assign(Object.assign({},bO()),{[t]:e});return new $f("auth","Firebase",i).create(t,{appName:n.name})}function $a(n){return FS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return BS.create(n,...t)}function qt(n,t,...e){if(!n)throw Uy(t,...e)}function Fa(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ng(t),new Error(t)}function Qa(n,t){n||Fa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TO(){return ME()==="http:"||ME()==="https:"}function ME(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TO()||XI()||"connection"in navigator)?navigator.onLine:!0}function SO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e){this.shortDelay=t,this.longDelay=e,Qa(e>t,"Short delay should be less than long delay!"),this.isMobile=WI()||ZI()}get(){return wO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n,t){Qa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RO=new Yf(3e4,6e4);function no(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function io(n,t,e,i,r={}){return qS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Gf(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return QI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ou(n.emulatorConfig.host)&&(g.credentials="include"),HS.fetch()(await $S(n,n.config.apiHost,e,h),g)})}async function qS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},AO),t);try{const r=new IO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw gg(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw gg(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw gg(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw gg(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw FS(n,_,g);cr(n,_)}}catch(r){if(r instanceof eo)throw r;cr(n,"network-request-failed",{message:String(r)})}}async function Wf(n,t,e,i,r={}){const o=await io(n,t,e,i,r);return"mfaPendingCredential"in o&&cr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $S(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?jy(n.config,r):`${n.config.apiScheme}://${r}`;return xO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function CO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),RO.get())})}}function gg(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=$r(n,t,i);return r.customData._tokenResponse=e,r}function kE(n){return n!==void 0&&n.enterprise!==void 0}class DO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return CO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OO(n,t){return io(n,"GET","/v2/recaptchaConfig",no(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,t){return io(n,"POST","/v1/accounts:delete",t)}async function Jg(n,t){return io(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kO(n,t=!1){const e=wn(n),i=await e.getIdToken(t),r=zy(i);qt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:yf(R_(r.auth_time)),issuedAtTime:yf(R_(r.iat)),expirationTime:yf(R_(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function R_(n){return Number(n)*1e3}function zy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Ng("JWT malformed, contained fewer than 3 sections"),null;try{const r=CS(e);return r?JSON.parse(r):(Ng("Failed to decode base64 JWT payload"),null)}catch(r){return Ng("Caught error parsing JWT payload as JSON",r?.toString()),null}}function PE(n){const t=zy(n);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof eo&&PO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=yf(this.lastLoginAt),this.creationTime=yf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(n){var t;const e=n.auth,i=await n.getIdToken(),r=await If(n,Jg(e,{idToken:i}));qt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?GS(o.providerUserInfo):[],h=VO(n.providerData,c),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,_=f?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new J_(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,b)}async function LO(n){const t=wn(n);await tp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function GS(n){return n.map(t=>{var{providerId:e}=t,i=Vy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n,t){const e=await qS(n,{},async()=>{const i=Gf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await $S(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ou(n.emulatorConfig.host)&&(f.credentials="include"),HS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function jO(n,t){return io(n,"POST","/v2/accounts:revokeToken",no(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):PE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const e=PE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await UO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new fu;return i&&(qt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(qt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(qt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fu,this.toJSON())}_performRefresh(){return Fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(n,t){qt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class lr{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Vy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new J_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await If(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return kO(this,t)}reload(){return LO(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new lr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await tp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject($a(this.auth));const t=await this.getIdToken();return await If(this,MO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,f,g,_;const b=(i=e.displayName)!==null&&i!==void 0?i:void 0,E=(r=e.email)!==null&&r!==void 0?r:void 0,A=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,R=(c=e.photoURL)!==null&&c!==void 0?c:void 0,I=(h=e.tenantId)!==null&&h!==void 0?h:void 0,M=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,L=(g=e.createdAt)!==null&&g!==void 0?g:void 0,G=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:at,isAnonymous:rt,providerData:pt,stsTokenManager:V}=e;qt(J&&V,t,"internal-error");const P=fu.fromJSON(this.name,V);qt(typeof J=="string",t,"internal-error"),Go(b,t.name),Go(E,t.name),qt(typeof at=="boolean",t,"internal-error"),qt(typeof rt=="boolean",t,"internal-error"),Go(A,t.name),Go(R,t.name),Go(I,t.name),Go(M,t.name),Go(L,t.name),Go(G,t.name);const N=new lr({uid:J,auth:t,email:E,emailVerified:at,displayName:b,isAnonymous:rt,photoURL:R,phoneNumber:A,tenantId:I,stsTokenManager:P,createdAt:L,lastLoginAt:G});return pt&&Array.isArray(pt)&&(N.providerData=pt.map(z=>Object.assign({},z))),M&&(N._redirectEventId=M),N}static async _fromIdTokenResponse(t,e,i=!1){const r=new fu;r.updateFromServerResponse(e);const o=new lr({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await tp(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];qt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?GS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new fu;h.updateFromIdToken(i);const f=new lr({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new J_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function Ha(n){Qa(n instanceof Function,"Expected a class definition");let t=NE.get(n);return t?(Qa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,NE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}YS.type="NONE";const LE=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,t,e){return`firebase:${n}:${t}:${e}`}class du{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Lg(this.userKey,r.apiKey,o),this.fullPersistenceKey=Lg("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Jg(this.auth,{idToken:t}).catch(()=>{});return e?lr._fromGetAccountInfoResponse(this.auth,e,t):null}return lr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new du(Ha(LE),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||Ha(LE);const c=Lg(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const E=await Jg(t,{idToken:_}).catch(()=>{});if(!E)break;b=await lr._fromGetAccountInfoResponse(t,E,_)}else b=lr._fromJSON(t,_);g!==o&&(h=b),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new du(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new du(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JS(t))return"Blackberry";if(tA(t))return"Webos";if(KS(t))return"Safari";if((t.includes("chrome/")||QS(t))&&!t.includes("edge/"))return"Chrome";if(ZS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function WS(n=fi()){return/firefox\//i.test(n)}function KS(n=fi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QS(n=fi()){return/crios\//i.test(n)}function XS(n=fi()){return/iemobile/i.test(n)}function ZS(n=fi()){return/android/i.test(n)}function JS(n=fi()){return/blackberry/i.test(n)}function tA(n=fi()){return/webos/i.test(n)}function By(n=fi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zO(n=fi()){var t;return By(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function BO(){return JI()&&document.documentMode===10}function eA(n=fi()){return By(n)||ZS(n)||tA(n)||JS(n)||/windows phone/i.test(n)||XS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n,t=[]){let e;switch(n){case"Browser":e=VE(fi());break;case"Worker":e=`${VE(fi())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n,t={}){return io(n,"GET","/v2/passwordPolicy",no(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=6;class $O{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:qO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new FO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ha(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await du.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Jg(this,{idToken:t}),i=await lr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ls(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ls(this.app))return Promise.reject($a(this));const e=t?wn(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ls(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ha(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HO(this),e=new $O(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $f("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await jO(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ha(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[Ha(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&EO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yc(n){return wn(n)}class UE{constructor(t){this.auth=t,this.observer=null,this.addObserver=oD(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YO(n){Ip=n}function iA(n){return Ip.loadJS(n)}function WO(){return Ip.recaptchaEnterpriseScript}function KO(){return Ip.gapiScript}function QO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XO{constructor(){this.enterprise=new ZO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class ZO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const JO="recaptcha-enterprise",sA="NO_RECAPTCHA";class tM{constructor(t){this.type=JO,this.auth=yc(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{OO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new DO(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;kE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(sA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XO().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&kE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=WO();f.length!==0&&(f+=h),iA(f).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function jE(n,t,e,i=!1,r=!1){const o=new tM(n);let c;if(r)c=sA;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ty(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await jE(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await jE(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n,t){const e=Ly(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(uc(o,t??{}))return r;cr(r,"already-initialized")}return e.initialize({options:t})}function nM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ha);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function iM(n,t,e){const i=yc(n);qt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=rA(t),{host:c,port:h}=sM(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){qt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qt(uc(g,i.config.emulator)&&uc(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Ou(c)?(MS(`${o}//${c}${f}`),kS("Auth",!0)):rM()}function rA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function sM(n){const t=rA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:zE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:zE(c)}}}function zE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function rM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Fa("not implemented")}_getIdTokenResponse(t){return Fa("not implemented")}_linkToIdToken(t,e){return Fa("not implemented")}_getReauthenticationResolver(t){return Fa("not implemented")}}async function aM(n,t){return io(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n,t){return Wf(n,"POST","/v1/accounts:signInWithPassword",no(n,t))}async function lM(n,t){return io(n,"POST","/v1/accounts:sendOobCode",no(n,t))}async function cM(n,t){return lM(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,t){return Wf(n,"POST","/v1/accounts:signInWithEmailLink",no(n,t))}async function hM(n,t){return Wf(n,"POST","/v1/accounts:signInWithEmailLink",no(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Fy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Df(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Df(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(t,e,"signInWithPassword",oM);case"emailLink":return uM(t,{email:this._email,oobCode:this._password});default:cr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(t,i,"signUpPassword",aM);case"emailLink":return hM(t,{idToken:e,email:this._email,oobCode:this._password});default:cr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(n,t){return Wf(n,"POST","/v1/accounts:signInWithIdp",no(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="http://localhost";class fc extends Fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):cr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Vy(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new fc(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return gu(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,gu(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,gu(t,e)}buildRequest(){const t={requestUri:fM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gM(n){const t=lf(cf(n)).link,e=t?lf(cf(t)).deep_link_id:null,i=lf(cf(n)).deep_link_id;return(i?lf(cf(i)).link:null)||i||e||t||n}class Hy{constructor(t){var e,i,r,o,c,h;const f=lf(cf(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,b=dM((r=f.mode)!==null&&r!==void 0?r:null);qt(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=gM(t);try{return new Hy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.providerId=ku.PROVIDER_ID}static credential(t,e){return Df._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Hy.parseLink(e);return qt(i,"argument-error"),Df._fromEmailAndCode(t,i.code,i.tenantId)}}ku.PROVIDER_ID="password";ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends aA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Kf{constructor(){super("facebook.com")}static credential(t){return fc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yo.credentialFromTaggedObject(t)}static credentialFromError(t){return Yo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yo.credential(t.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Kf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Wo.credentialFromTaggedObject(t)}static credentialFromError(t){return Wo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Wo.credential(e,i)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Kf{constructor(){super("github.com")}static credential(t){return fc._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ko.credentialFromTaggedObject(t)}static credentialFromError(t){return Ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ko.credential(t.oauthAccessToken)}catch{return null}}}Ko.GITHUB_SIGN_IN_METHOD="github.com";Ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Kf{constructor(){super("twitter.com")}static credential(t,e){return fc._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Qo.credentialFromTaggedObject(t)}static credentialFromError(t){return Qo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Qo.credential(e,i)}catch{return null}}}Qo.TWITTER_SIGN_IN_METHOD="twitter.com";Qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(n,t){return Wf(n,"POST","/v1/accounts:signUp",no(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await lr._fromIdTokenResponse(t,i,r),c=BE(i);return new dc({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=BE(i);return new dc({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function BE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends eo{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ep.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new ep(t,e,i,r)}}function oA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ep._fromErrorAndOperation(n,o,t,i):o})}async function mM(n,t,e=!1){const i=await If(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return dc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(n,t,e=!1){const{auth:i}=n;if(Ls(i.app))return Promise.reject($a(i));const r="reauthenticate";try{const o=await If(n,oA(i,r,t,n),e);qt(o.idToken,i,"internal-error");const c=zy(o.idToken);qt(c,i,"internal-error");const{sub:h}=c;return qt(n.uid===h,i,"user-mismatch"),dc._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&cr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n,t,e=!1){if(Ls(n.app))return Promise.reject($a(n));const i="signIn",r=await oA(n,i,t),o=await dc._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function yM(n,t){return lA(yc(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(n){const t=yc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vM(n,t,e){if(Ls(n.app))return Promise.reject($a(n));const i=yc(n),c=await ty(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&cA(n),f}),h=await dc._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function bM(n,t,e){return Ls(n.app)?Promise.reject($a(n)):yM(wn(n),ku.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cA(n),i})}async function uA(n,t){const e=wn(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await cM(e.auth,r);o!==n.email&&await n.reload()}function EM(n,t,e,i){return wn(n).onIdTokenChanged(t,e,i)}function TM(n,t,e){return wn(n).beforeAuthStateChanged(t,e)}function vf(n,t,e,i){return wn(n).onAuthStateChanged(t,e,i)}function ey(n){return wn(n).signOut()}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=1e3,SM=10;class fA extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);BO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,SM):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fA.type="LOCAL";const AM=fA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}dA.type="SESSION";const gA=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Dp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await xM(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=qy("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function CM(n){Gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function IM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DM(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function OM(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",MM=1,ip="firebaseLocalStorage",_A="fbase_key";class Qf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Op(n,t){return n.transaction([ip],t?"readwrite":"readonly").objectStore(ip)}function kM(){const n=indexedDB.deleteDatabase(mA);return new Qf(n).toPromise()}function ny(){const n=indexedDB.open(mA,MM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ip,{keyPath:_A})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ip)?t(i):(i.close(),await kM(),t(await ny()))})})}async function FE(n,t,e){const i=Op(n,!0).put({[_A]:t,value:e});return new Qf(i).toPromise()}async function PM(n,t){const e=Op(n,!1).get(t),i=await new Qf(e).toPromise();return i===void 0?null:i.value}function HE(n,t){const e=Op(n,!0).delete(t);return new Qf(e).toPromise()}const NM=800,LM=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>LM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dp._getInstance(OM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await IM(),!this.activeServiceWorker)return;this.sender=new RM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ny();return await FE(t,np,"1"),await HE(t,np),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>FE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>PM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>HE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Op(r,!1).getAll();return new Qf(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const VM=yA;new Yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n,t){return t?Ha(t):(qt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Fy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return gu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return gu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return gu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function jM(n){return lA(n.auth,new $y(n),n.bypassAuthState)}function zM(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),_M(e,new $y(n),n.bypassAuthState)}async function BM(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),mM(e,new $y(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jM;case"linkViaPopup":case"linkViaRedirect":return BM;case"reauthViaPopup":case"reauthViaRedirect":return zM;default:cr(this.auth,"internal-error")}}resolve(t){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new Yf(2e3,1e4);class hu extends vA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){Qa(this.filter.length===1,"Popup operations only handle one event");const t=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FM.get())};t()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="pendingRedirect",Vg=new Map;class qM extends vA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Vg.get(this.auth._key());if(!t){try{const i=await $M(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Vg.set(this.auth._key(),t)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $M(n,t){const e=WM(t),i=YM(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function GM(n,t){Vg.set(n._key(),t)}function YM(n){return Ha(n._redirectPersistence)}function WM(n){return Lg(HM,n.config.apiKey,n.name)}async function KM(n,t,e=!1){if(Ls(n.app))return Promise.reject($a(n));const i=yc(n),r=UM(i,t),c=await new qM(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=10*60*1e3;class XM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!bA(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError($r(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QM&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(t))}saveEventToCache(t){this.cachedEventUids.add(qE(t)),this.lastProcessedEventTime=Date.now()}}function qE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function bA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function ZM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(n,t={}){return io(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function n2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await JM(n);for(const e of t)try{if(i2(e))return}catch{}cr(n,"unauthorized-domain")}function i2(n){const t=Z_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!e2.test(e))return!1;if(t2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Yf(3e4,6e4);function $E(){const n=Gr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function r2(n){return new Promise((t,e)=>{var i,r,o;function c(){$E(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$E(),e($r(n,"network-request-failed"))},timeout:s2.get()})}if(!((r=(i=Gr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Gr().gapi)===null||o===void 0)&&o.load)c();else{const h=QO("iframefcb");return Gr()[h]=()=>{gapi.load?c():e($r(n,"network-request-failed"))},iA(`${KO()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw Ug=null,t})}let Ug=null;function a2(n){return Ug=Ug||r2(n),Ug}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Yf(5e3,15e3),l2="__/auth/iframe",c2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f2(n){const t=n.config;qt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?jy(t,c2):`https://${n.config.authDomain}/${l2}`,i={apiKey:t.apiKey,appName:n.name,v:Mu},r=h2.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Gf(i).slice(1)}`}async function d2(n){const t=await a2(n),e=Gr().gapi;return qt(e,n,"internal-error"),t.open({where:document.body,url:f2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=$r(n,"network-request-failed"),h=Gr().setTimeout(()=>{o(c)},o2.get());function f(){Gr().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2=500,m2=600,_2="_blank",y2="http://localhost";class GE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(n,t,e,i=p2,r=m2){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},g2),{width:i.toString(),height:r.toString(),top:o,left:c}),g=fi().toLowerCase();e&&(h=QS(g)?_2:e),WS(g)&&(t=t||y2,f.scrollbars="yes");const _=Object.entries(f).reduce((E,[A,R])=>`${E}${A}=${R},`,"");if(zO(g)&&h!=="_self")return b2(t||"",h),new GE(null);const b=window.open(t||"",h,_);qt(b,n,"popup-blocked");try{b.focus()}catch{}return new GE(b)}function b2(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__/auth/handler",T2="emulator/auth/handler",w2=encodeURIComponent("fac");async function YE(n,t,e,i,r,o){qt(n.config.authDomain,n,"auth-domain-config-required"),qt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Mu,eventId:r};if(t instanceof aA){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",aD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(t instanceof Kf){const _=t.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${w2}=${encodeURIComponent(f)}`:"";return`${S2(n)}?${Gf(h).slice(1)}${g}`}function S2({config:n}){return n.emulator?jy(n,T2):`https://${n.authDomain}/${E2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gA,this._completeRedirectFn=KM,this._overrideRedirectResult=GM}async _openPopup(t,e,i,r){var o;Qa((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await YE(t,e,i,Z_(),r);return v2(t,c,qy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await YE(t,e,i,Z_(),r);return CM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Qa(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await d2(t),i=new XM(t);return e.register("authEvent",r=>(qt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(C_,{type:C_},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[C_];c!==void 0&&e(!!c),cr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=n2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return eA()||KS()||By()}}const x2=A2;var WE="@firebase/auth",KE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(n){vu(new hc("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;qt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nA(n)},g=new GO(i,r,o,f);return nM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),vu(new hc("auth-internal",t=>{const e=yc(t.getProvider("auth").getImmediate());return(i=>new R2(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),sl(WE,KE,C2(n)),sl(WE,KE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=5*60,O2=OS("authIdTokenMaxAge")||D2;let QE=null;const M2=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>O2)return;const r=e?.token;QE!==r&&(QE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ac(n=VS()){const t=Ly(n,"auth");if(t.isInitialized())return t.getImmediate();const e=eM(n,{popupRedirectResolver:x2,persistence:[VM,AM,gA]}),i=OS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=M2(o.toString());TM(e,c,()=>c(e.currentUser)),EM(e,h=>c(h))}}const r=IS("auth");return r&&iM(e,`http://${r}`),e}function k2(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}YO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=$r("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",k2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rl,EA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,P){function N(){}N.prototype=P.prototype,V.D=P.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(z,F,H){for(var U=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)U[ne-2]=arguments[ne];return P.prototype[F].apply(z,U)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,P,N){N||(N=0);var z=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)z[F]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(F=0;16>F;++F)z[F]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=V.g[0],N=V.g[1],F=V.g[2];var H=V.g[3],U=P+(H^N&(F^H))+z[0]+3614090360&4294967295;P=N+(U<<7&4294967295|U>>>25),U=H+(F^P&(N^F))+z[1]+3905402710&4294967295,H=P+(U<<12&4294967295|U>>>20),U=F+(N^H&(P^N))+z[2]+606105819&4294967295,F=H+(U<<17&4294967295|U>>>15),U=N+(P^F&(H^P))+z[3]+3250441966&4294967295,N=F+(U<<22&4294967295|U>>>10),U=P+(H^N&(F^H))+z[4]+4118548399&4294967295,P=N+(U<<7&4294967295|U>>>25),U=H+(F^P&(N^F))+z[5]+1200080426&4294967295,H=P+(U<<12&4294967295|U>>>20),U=F+(N^H&(P^N))+z[6]+2821735955&4294967295,F=H+(U<<17&4294967295|U>>>15),U=N+(P^F&(H^P))+z[7]+4249261313&4294967295,N=F+(U<<22&4294967295|U>>>10),U=P+(H^N&(F^H))+z[8]+1770035416&4294967295,P=N+(U<<7&4294967295|U>>>25),U=H+(F^P&(N^F))+z[9]+2336552879&4294967295,H=P+(U<<12&4294967295|U>>>20),U=F+(N^H&(P^N))+z[10]+4294925233&4294967295,F=H+(U<<17&4294967295|U>>>15),U=N+(P^F&(H^P))+z[11]+2304563134&4294967295,N=F+(U<<22&4294967295|U>>>10),U=P+(H^N&(F^H))+z[12]+1804603682&4294967295,P=N+(U<<7&4294967295|U>>>25),U=H+(F^P&(N^F))+z[13]+4254626195&4294967295,H=P+(U<<12&4294967295|U>>>20),U=F+(N^H&(P^N))+z[14]+2792965006&4294967295,F=H+(U<<17&4294967295|U>>>15),U=N+(P^F&(H^P))+z[15]+1236535329&4294967295,N=F+(U<<22&4294967295|U>>>10),U=P+(F^H&(N^F))+z[1]+4129170786&4294967295,P=N+(U<<5&4294967295|U>>>27),U=H+(N^F&(P^N))+z[6]+3225465664&4294967295,H=P+(U<<9&4294967295|U>>>23),U=F+(P^N&(H^P))+z[11]+643717713&4294967295,F=H+(U<<14&4294967295|U>>>18),U=N+(H^P&(F^H))+z[0]+3921069994&4294967295,N=F+(U<<20&4294967295|U>>>12),U=P+(F^H&(N^F))+z[5]+3593408605&4294967295,P=N+(U<<5&4294967295|U>>>27),U=H+(N^F&(P^N))+z[10]+38016083&4294967295,H=P+(U<<9&4294967295|U>>>23),U=F+(P^N&(H^P))+z[15]+3634488961&4294967295,F=H+(U<<14&4294967295|U>>>18),U=N+(H^P&(F^H))+z[4]+3889429448&4294967295,N=F+(U<<20&4294967295|U>>>12),U=P+(F^H&(N^F))+z[9]+568446438&4294967295,P=N+(U<<5&4294967295|U>>>27),U=H+(N^F&(P^N))+z[14]+3275163606&4294967295,H=P+(U<<9&4294967295|U>>>23),U=F+(P^N&(H^P))+z[3]+4107603335&4294967295,F=H+(U<<14&4294967295|U>>>18),U=N+(H^P&(F^H))+z[8]+1163531501&4294967295,N=F+(U<<20&4294967295|U>>>12),U=P+(F^H&(N^F))+z[13]+2850285829&4294967295,P=N+(U<<5&4294967295|U>>>27),U=H+(N^F&(P^N))+z[2]+4243563512&4294967295,H=P+(U<<9&4294967295|U>>>23),U=F+(P^N&(H^P))+z[7]+1735328473&4294967295,F=H+(U<<14&4294967295|U>>>18),U=N+(H^P&(F^H))+z[12]+2368359562&4294967295,N=F+(U<<20&4294967295|U>>>12),U=P+(N^F^H)+z[5]+4294588738&4294967295,P=N+(U<<4&4294967295|U>>>28),U=H+(P^N^F)+z[8]+2272392833&4294967295,H=P+(U<<11&4294967295|U>>>21),U=F+(H^P^N)+z[11]+1839030562&4294967295,F=H+(U<<16&4294967295|U>>>16),U=N+(F^H^P)+z[14]+4259657740&4294967295,N=F+(U<<23&4294967295|U>>>9),U=P+(N^F^H)+z[1]+2763975236&4294967295,P=N+(U<<4&4294967295|U>>>28),U=H+(P^N^F)+z[4]+1272893353&4294967295,H=P+(U<<11&4294967295|U>>>21),U=F+(H^P^N)+z[7]+4139469664&4294967295,F=H+(U<<16&4294967295|U>>>16),U=N+(F^H^P)+z[10]+3200236656&4294967295,N=F+(U<<23&4294967295|U>>>9),U=P+(N^F^H)+z[13]+681279174&4294967295,P=N+(U<<4&4294967295|U>>>28),U=H+(P^N^F)+z[0]+3936430074&4294967295,H=P+(U<<11&4294967295|U>>>21),U=F+(H^P^N)+z[3]+3572445317&4294967295,F=H+(U<<16&4294967295|U>>>16),U=N+(F^H^P)+z[6]+76029189&4294967295,N=F+(U<<23&4294967295|U>>>9),U=P+(N^F^H)+z[9]+3654602809&4294967295,P=N+(U<<4&4294967295|U>>>28),U=H+(P^N^F)+z[12]+3873151461&4294967295,H=P+(U<<11&4294967295|U>>>21),U=F+(H^P^N)+z[15]+530742520&4294967295,F=H+(U<<16&4294967295|U>>>16),U=N+(F^H^P)+z[2]+3299628645&4294967295,N=F+(U<<23&4294967295|U>>>9),U=P+(F^(N|~H))+z[0]+4096336452&4294967295,P=N+(U<<6&4294967295|U>>>26),U=H+(N^(P|~F))+z[7]+1126891415&4294967295,H=P+(U<<10&4294967295|U>>>22),U=F+(P^(H|~N))+z[14]+2878612391&4294967295,F=H+(U<<15&4294967295|U>>>17),U=N+(H^(F|~P))+z[5]+4237533241&4294967295,N=F+(U<<21&4294967295|U>>>11),U=P+(F^(N|~H))+z[12]+1700485571&4294967295,P=N+(U<<6&4294967295|U>>>26),U=H+(N^(P|~F))+z[3]+2399980690&4294967295,H=P+(U<<10&4294967295|U>>>22),U=F+(P^(H|~N))+z[10]+4293915773&4294967295,F=H+(U<<15&4294967295|U>>>17),U=N+(H^(F|~P))+z[1]+2240044497&4294967295,N=F+(U<<21&4294967295|U>>>11),U=P+(F^(N|~H))+z[8]+1873313359&4294967295,P=N+(U<<6&4294967295|U>>>26),U=H+(N^(P|~F))+z[15]+4264355552&4294967295,H=P+(U<<10&4294967295|U>>>22),U=F+(P^(H|~N))+z[6]+2734768916&4294967295,F=H+(U<<15&4294967295|U>>>17),U=N+(H^(F|~P))+z[13]+1309151649&4294967295,N=F+(U<<21&4294967295|U>>>11),U=P+(F^(N|~H))+z[4]+4149444226&4294967295,P=N+(U<<6&4294967295|U>>>26),U=H+(N^(P|~F))+z[11]+3174756917&4294967295,H=P+(U<<10&4294967295|U>>>22),U=F+(P^(H|~N))+z[2]+718787259&4294967295,F=H+(U<<15&4294967295|U>>>17),U=N+(H^(F|~P))+z[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(F+(U<<21&4294967295|U>>>11))&4294967295,V.g[2]=V.g[2]+F&4294967295,V.g[3]=V.g[3]+H&4294967295}i.prototype.u=function(V,P){P===void 0&&(P=V.length);for(var N=P-this.blockSize,z=this.B,F=this.h,H=0;H<P;){if(F==0)for(;H<=N;)r(this,V,H),H+=this.blockSize;if(typeof V=="string"){for(;H<P;)if(z[F++]=V.charCodeAt(H++),F==this.blockSize){r(this,z),F=0;break}}else for(;H<P;)if(z[F++]=V[H++],F==this.blockSize){r(this,z),F=0;break}}this.h=F,this.o+=P},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;var N=8*this.o;for(P=V.length-8;P<V.length;++P)V[P]=N&255,N/=256;for(this.u(V),V=Array(16),P=N=0;4>P;++P)for(var z=0;32>z;z+=8)V[N++]=this.g[P]>>>z&255;return V};function o(V,P){var N=h;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=P(V)}function c(V,P){this.h=P;for(var N=[],z=!0,F=V.length-1;0<=F;F--){var H=V[F]|0;z&&H==P||(N[F]=H,z=!1)}this.g=N}var h={};function f(V){return-128<=V&&128>V?o(V,function(P){return new c([P|0],0>P?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return M(g(-V));for(var P=[],N=1,z=0;V>=N;z++)P[z]=V/N|0,N*=4294967296;return new c(P,0)}function _(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return M(_(V.substring(1),P));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(P,8)),z=b,F=0;F<V.length;F+=8){var H=Math.min(8,V.length-F),U=parseInt(V.substring(F,F+H),P);8>H?(H=g(Math.pow(P,H)),z=z.j(H).add(g(U))):(z=z.j(N),z=z.add(g(U)))}return z}var b=f(0),E=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-M(this).m();for(var V=0,P=1,N=0;N<this.g.length;N++){var z=this.i(N);V+=(0<=z?z:4294967296+z)*P,P*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(I(this))return"-"+M(this).toString(V);for(var P=g(Math.pow(V,6)),N=this,z="";;){var F=at(N,P).g;N=L(N,F.j(P));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=F,R(N))return H+z;for(;6>H.length;)H="0"+H;z=H+z}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=L(this,V),I(V)?-1:R(V)?0:1};function M(V){for(var P=V.g.length,N=[],z=0;z<P;z++)N[z]=~V.g[z];return new c(N,~V.h).add(E)}n.abs=function(){return I(this)?M(this):this},n.add=function(V){for(var P=Math.max(this.g.length,V.g.length),N=[],z=0,F=0;F<=P;F++){var H=z+(this.i(F)&65535)+(V.i(F)&65535),U=(H>>>16)+(this.i(F)>>>16)+(V.i(F)>>>16);z=U>>>16,H&=65535,U&=65535,N[F]=U<<16|H}return new c(N,N[N.length-1]&-2147483648?-1:0)};function L(V,P){return V.add(M(P))}n.j=function(V){if(R(this)||R(V))return b;if(I(this))return I(V)?M(this).j(M(V)):M(M(this).j(V));if(I(V))return M(this.j(M(V)));if(0>this.l(A)&&0>V.l(A))return g(this.m()*V.m());for(var P=this.g.length+V.g.length,N=[],z=0;z<2*P;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(var F=0;F<V.g.length;F++){var H=this.i(z)>>>16,U=this.i(z)&65535,ne=V.i(F)>>>16,Mt=V.i(F)&65535;N[2*z+2*F]+=U*Mt,G(N,2*z+2*F),N[2*z+2*F+1]+=H*Mt,G(N,2*z+2*F+1),N[2*z+2*F+1]+=U*ne,G(N,2*z+2*F+1),N[2*z+2*F+2]+=H*ne,G(N,2*z+2*F+2)}for(z=0;z<P;z++)N[z]=N[2*z+1]<<16|N[2*z];for(z=P;z<2*P;z++)N[z]=0;return new c(N,0)};function G(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function J(V,P){this.g=V,this.h=P}function at(V,P){if(R(P))throw Error("division by zero");if(R(V))return new J(b,b);if(I(V))return P=at(M(V),P),new J(M(P.g),M(P.h));if(I(P))return P=at(V,M(P)),new J(M(P.g),P.h);if(30<V.g.length){if(I(V)||I(P))throw Error("slowDivide_ only works with positive integers.");for(var N=E,z=P;0>=z.l(V);)N=rt(N),z=rt(z);var F=pt(N,1),H=pt(z,1);for(z=pt(z,2),N=pt(N,2);!R(z);){var U=H.add(z);0>=U.l(V)&&(F=F.add(N),H=U),z=pt(z,1),N=pt(N,1)}return P=L(V,F.j(P)),new J(F,P)}for(F=b;0<=V.l(P);){for(N=Math.max(1,Math.floor(V.m()/P.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),H=g(N),U=H.j(P);I(U)||0<U.l(V);)N-=z,H=g(N),U=H.j(P);R(H)&&(H=E),F=F.add(H),V=L(V,U)}return new J(F,V)}n.A=function(V){return at(this,V).h},n.and=function(V){for(var P=Math.max(this.g.length,V.g.length),N=[],z=0;z<P;z++)N[z]=this.i(z)&V.i(z);return new c(N,this.h&V.h)},n.or=function(V){for(var P=Math.max(this.g.length,V.g.length),N=[],z=0;z<P;z++)N[z]=this.i(z)|V.i(z);return new c(N,this.h|V.h)},n.xor=function(V){for(var P=Math.max(this.g.length,V.g.length),N=[],z=0;z<P;z++)N[z]=this.i(z)^V.i(z);return new c(N,this.h^V.h)};function rt(V){for(var P=V.g.length+1,N=[],z=0;z<P;z++)N[z]=V.i(z)<<1|V.i(z-1)>>>31;return new c(N,V.h)}function pt(V,P){var N=P>>5;P%=32;for(var z=V.g.length-N,F=[],H=0;H<z;H++)F[H]=0<P?V.i(H+N)>>>P|V.i(H+N+1)<<32-P:V.i(H+N);return new c(F,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,EA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,rl=c}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TA,uf,wA,jg,iy,SA,AA,xA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pg=="object"&&pg];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var w=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var Q=d[O];if(!(Q in w))break t;w=w[Q]}d=d[d.length-1],O=w[d],v=v(O),v!=O&&v!=null&&t(w,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var w=0,O=!1,Q={next:function(){if(!O&&w<d.length){var it=w++;return{value:v(it,d[it]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function _(d,v,w){return d.call.apply(d.bind,arguments)}function b(d,v,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),d.apply(v,Q)}}return function(){return d.apply(v,arguments)}}function E(d,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,E.apply(null,arguments)}function A(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,Q,it){for(var vt=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)vt[oe-2]=arguments[oe];return v.prototype[Q].apply(O,vt)}}function I(d){const v=d.length;if(0<v){const w=Array(v);for(let O=0;O<v;O++)w[O]=d[O];return w}return[]}function M(d,v){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(f(O)){const Q=d.length||0,it=O.length||0;d.length=Q+it;for(let vt=0;vt<it;vt++)d[Q+vt]=O[vt]}else d.push(O)}}class L{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function at(d){return at[" "](d),d}at[" "]=function(){};var rt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pt(d,v,w){for(const O in d)v.call(w,d[O],O,d)}function V(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function P(d){const v={};for(const w in d)v[w]=d[w];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(d,v){let w,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(w in O)d[w]=O[w];for(let it=0;it<N.length;it++)w=N[it],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function F(d){var v=1;d=d.split(":");const w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function H(d){h.setTimeout(()=>{throw d},0)}function U(){var d=Lt;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ne{constructor(){this.h=this.g=null}add(v,w){const O=Mt.get();O.set(v,w),this.h?this.h.next=O:this.g=O,this.h=O}}var Mt=new L(()=>new et,d=>d.reset());class et{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,xt=!1,Lt=new ne,k=()=>{const d=h.Promise.resolve(void 0);gt=()=>{d.then(ht)}};var ht=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(w){H(w)}var v=Mt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}xt=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return d}();function jt(d,v){if(mt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(rt){t:{try{at(v.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:It[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&jt.aa.h.call(this)}}R(jt,mt);var It={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),bt=0;function di(d,v,w,O,Q){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!O,this.ha=Q,this.key=++bt,this.da=this.fa=!1}function Bs(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fs(d){this.src=d,this.g={},this.h=0}Fs.prototype.add=function(d,v,w,O,Q){var it=d.toString();d=this.g[it],d||(d=this.g[it]=[],this.h++);var vt=qi(d,v,O,Q);return-1<vt?(v=d[vt],w||(v.fa=!1)):(v=new di(v,this.src,it,!!O,Q),v.fa=w,d.push(v)),v};function Jr(d,v){var w=v.type;if(w in d.g){var O=d.g[w],Q=Array.prototype.indexOf.call(O,v,void 0),it;(it=0<=Q)&&Array.prototype.splice.call(O,Q,1),it&&(Bs(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function qi(d,v,w,O){for(var Q=0;Q<d.length;++Q){var it=d[Q];if(!it.da&&it.listener==v&&it.capture==!!w&&it.ha==O)return Q}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Hs={};function qs(d,v,w,O,Q){if(Array.isArray(v)){for(var it=0;it<v.length;it++)qs(d,v[it],w,O,Q);return null}return w=$i(w),d&&d[Ke]?d.K(v,w,g(O)?!!O.capture:!1,Q):wi(d,v,w,!1,O,Q)}function wi(d,v,w,O,Q,it){if(!v)throw Error("Invalid event type");var vt=g(Q)?!!Q.capture:!!Q,oe=ro(d);if(oe||(d[gr]=oe=new Fs(d)),w=oe.add(v,w,O,vt,it),w.proxy)return w;if(O=Fu(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)At||(Q=vt),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),O,Q);else if(d.attachEvent)d.attachEvent(ta(v.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Fu(){function d(w){return v.call(d.src,d.listener,w)}const v=Hu;return d}function bl(d,v,w,O,Q){if(Array.isArray(v))for(var it=0;it<v.length;it++)bl(d,v[it],w,O,Q);else O=g(O)?!!O.capture:!!O,w=$i(w),d&&d[Ke]?(d=d.i,v=String(v).toString(),v in d.g&&(it=d.g[v],w=qi(it,w,O,Q),-1<w&&(Bs(it[w]),Array.prototype.splice.call(it,w,1),it.length==0&&(delete d.g[v],d.h--)))):d&&(d=ro(d))&&(v=d.g[v.toString()],d=-1,v&&(d=qi(v,w,O,Q)),(w=-1<d?v[d]:null)&&so(w))}function so(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ke])Jr(v.i,d);else{var w=d.type,O=d.proxy;v.removeEventListener?v.removeEventListener(w,O,d.capture):v.detachEvent?v.detachEvent(ta(w),O):v.addListener&&v.removeListener&&v.removeListener(O),(w=ro(v))?(Jr(w,d),w.h==0&&(w.src=null,v[gr]=null)):Bs(d)}}}function ta(d){return d in Hs?Hs[d]:Hs[d]="on"+d}function Hu(d,v){if(d.da)d=!0;else{v=new jt(v,this);var w=d.listener,O=d.ha||d.src;d.fa&&so(d),d=w.call(O,v)}return d}function ro(d){return d=d[gr],d instanceof Fs?d:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(d){return typeof d=="function"?d:(d[pr]||(d[pr]=function(v){return d.handleEvent(v)}),d[pr])}function ze(){yt.call(this),this.i=new Fs(this),this.M=this,this.F=null}R(ze,yt),ze.prototype[Ke]=!0,ze.prototype.removeEventListener=function(d,v,w,O){bl(this,d,v,w,O)};function Ee(d,v){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=v.type||v,typeof v=="string")v=new mt(v,d);else if(v instanceof mt)v.target=v.target||d;else{var Q=v;v=new mt(O,d),z(v,Q)}if(Q=!0,w)for(var it=w.length-1;0<=it;it--){var vt=v.g=w[it];Q=gi(vt,O,!0,v)&&Q}if(vt=v.g=d,Q=gi(vt,O,!0,v)&&Q,Q=gi(vt,O,!1,v)&&Q,w)for(it=0;it<w.length;it++)vt=v.g=w[it],Q=gi(vt,O,!1,v)&&Q}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],O=0;O<w.length;O++)Bs(w[O]);delete d.g[v],d.h--}}this.F=null},ze.prototype.K=function(d,v,w,O){return this.i.add(String(d),v,!1,w,O)},ze.prototype.L=function(d,v,w,O){return this.i.add(String(d),v,!0,w,O)};function gi(d,v,w,O){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,it=0;it<v.length;++it){var vt=v[it];if(vt&&!vt.da&&vt.capture==w){var oe=vt.listener,rn=vt.ha||vt.src;vt.fa&&Jr(d.i,vt),Q=oe.call(rn,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function Qe(d,v,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function $s(d){d.g=Qe(()=>{d.g=null,d.i&&(d.i=!1,$s(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class mr extends yt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(d){yt.call(this),this.h=d,this.g={}}R(fs,yt);var ea=[];function Gs(d){pt(d.g,function(v,w){this.g.hasOwnProperty(w)&&so(v)},d),d.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Gs(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=h.JSON.stringify,ao=h.JSON.parse,na=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function El(){}El.prototype.h=null;function Tl(d){return d.h||(d.h=d.i())}function wl(){}var ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){mt.call(this,"d")}R(Si,mt);function oo(){mt.call(this,"c")}R(oo,mt);var Yi={},Sl=null;function _r(){return Sl=Sl||new ze}Yi.La="serverreachability";function lo(d){mt.call(this,Yi.La,d)}R(lo,mt);function yr(d){const v=_r();Ee(v,new lo(v))}Yi.STAT_EVENT="statevent";function Ys(d,v){mt.call(this,Yi.STAT_EVENT,d),this.stat=v}R(Ys,mt);function Te(d){const v=_r();Ee(v,new Ys(v,d))}Yi.Ma="timingevent";function nn(d,v){mt.call(this,Yi.Ma,d),this.size=v}R(nn,mt);function Xe(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ai(){this.g=!0}Ai.prototype.xa=function(){this.g=!1};function Al(d,v,w,O,Q,it){d.info(function(){if(d.g)if(it)for(var vt="",oe=it.split("&"),rn=0;rn<oe.length;rn++){var le=oe[rn].split("=");if(1<le.length){var _n=le[0];le=le[1];var an=_n.split("_");vt=2<=an.length&&an[1]=="type"?vt+(_n+"="+le+"&"):vt+(_n+"=redacted&")}}else vt=null;else vt=it;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+v+`
`+w+`
`+vt})}function qu(d,v,w,O,Q,it,vt){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+v+`
`+w+`
`+it+" "+vt})}function gs(d,v,w,O){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+ps(d,w)+(O?" "+O:"")})}function Ws(d,v){d.info(function(){return"TIMEOUT: "+v})}Ai.prototype.info=function(){};function ps(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var it=Q[0];if(it!="noop"&&it!="stop"&&it!="close")for(var vt=1;vt<Q.length;vt++)Q[vt]=""}}}}return Gi(w)}catch{return v}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ms;function _s(){}R(_s,El),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},ms=new _s;function Ze(d,v,w,O){this.j=d,this.i=v,this.l=w,this.R=O||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ie}function ie(){this.i=null,this.g="",this.h=!1}var Sn={},gn={};function ke(d,v,w){d.L=1,d.v=Ts(Le(v)),d.m=w,d.P=!0,xi(d,null)}function xi(d,v){d.F=Date.now(),Ri(d),d.A=Le(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),la(w.i,"t",O),d.C=0,w=d.j.J,d.h=new ie,d.g=xc(d.j,w?v:null,!d.m),0<d.O&&(d.M=new mr(E(d.Y,d,d.g),d.O)),v=d.U,w=d.g,O=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ea[0]=Q.toString()),Q=ea);for(var it=0;it<Q.length;it++){var vt=qs(w,Q[it],O||v.handleEvent,!1,v.h||v);if(!vt)break;v.g[vt.key]=vt}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),yr(),Al(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const v=this.M;v&&Rn(d)==3?v.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)t:{const an=Rn(this.g);var v=this.g.Ba();const on=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||wc(this.g)))){this.J||an!=4||v==7||(v==8||0>=on?yr(3):yr(2)),vs(this);var w=this.g.Z();this.X=w;e:if(Ks(this)){var O=wc(this.g);d="";var Q=O.length,it=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Hn(this);var vt="";break e}this.h.i=new h.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,d+=this.h.i.decode(O[v],{stream:!(it&&v==Q-1)});O.length=0,this.h.g+=d,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=w==200,qu(this.i,this.u,this.A,this.l,this.R,an,w),this.o){if(this.T&&!this.K){e:{if(this.g){var oe,rn=this.g;if((oe=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(oe)){var le=oe;break e}}le=null}if(w=le)gs(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,w);else{this.o=!1,this.s=3,Te(12),pn(this),Hn(this);break t}}if(this.P){w=!0;let yn;for(;!this.J&&this.C<vt.length;)if(yn=ys(this,vt),yn==gn){an==4&&(this.s=4,Te(14),w=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Sn){this.s=4,Te(15),gs(this.i,this.l,vt,"[Invalid Chunk]"),w=!1;break}else gs(this.i,this.l,yn,null),Qs(this,yn);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||vt.length!=0||this.h.h||(this.s=1,Te(16),w=!1),this.o=this.o&&w,!w)gs(this.i,this.l,vt,"[Invalid Chunked Response]"),pn(this),Hn(this);else if(0<vt.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),pa(_n),_n.M=!0,Te(11))}}else gs(this.i,this.l,vt,null),Qs(this,vt);an==4&&pn(this),this.o&&!this.J&&(an==4?Pl(this.j,this):(this.o=!1,Ri(this)))}else Sc(this.g),w==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),pn(this),Hn(this)}}}catch{}finally{}};function Ks(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ys(d,v){var w=d.C,O=v.indexOf(`
`,w);return O==-1?gn:(w=Number(v.substring(w,O)),isNaN(w)?Sn:(O+=1,O+w>v.length?gn:(v=v.slice(O,O+w),d.C=O+w,v)))}Ze.prototype.cancel=function(){this.J=!0,pn(this)};function Ri(d){d.S=Date.now()+d.I,xl(d,d.I)}function xl(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Xe(E(d.ba,d),v)}function vs(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ws(this.i,this.A),this.L!=2&&(yr(),Te(17)),pn(this),this.s=2,Hn(this)):xl(this,this.S-d)};function Hn(d){d.j.G==0||d.J||Pl(d.j,d)}function pn(d){vs(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Gs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Qs(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||uo(w.h,d))){if(!d.K&&uo(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)ma(w),fa(w);else break t;kl(w),Te(18)}}else w.za=Q[1],0<w.za-w.T&&37500>Q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xe(E(w.Za,w),6e3));if(1>=sa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ji(w,11)}else if((d.K||w.g==d)&&ma(w),!G(v))for(Q=w.Da.g.parse(v),v=0;v<Q.length;v++){let le=Q[v];if(w.T=le[0],le=le[1],w.G==2)if(le[0]=="c"){w.K=le[1],w.ia=le[2];const _n=le[3];_n!=null&&(w.la=_n,w.j.info("VER="+w.la));const an=le[4];an!=null&&(w.Aa=an,w.j.info("SVER="+w.Aa));const on=le[5];on!=null&&typeof on=="number"&&0<on&&(O=1.5*on,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const yn=d.g;if(yn){const ts=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var it=O.h;it.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(ra(it,it.h),it.h=null))}if(O.D){const vo=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(O.ya=vo,ae(O.I,O.D,vo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var vt=d;if(O.qa=Nl(O,O.J?O.ia:null,O.W),vt.K){Pn(O.h,vt);var oe=vt,rn=O.L;rn&&(oe.I=rn),oe.B&&(vs(oe),Ri(oe)),O.g=vt}else ga(O);0<w.i.length&&da(w)}else le[0]!="stop"&&le[0]!="close"||Ji(w,7);else w.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Ji(w,7):po(w):le[0]!="noop"&&w.l&&w.l.ta(le),w.v=0)}}yr(4)}catch{}}var co=class{constructor(d,v){this.g=d,this.map=v}};function bs(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function sa(d){return d.h?1:d.g?d.g.size:0}function uo(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function ra(d,v){d.g?d.g.add(v):d.h=v}function Pn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}bs.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ho(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.D);return v}return I(d.i)}function Ec(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],w=d.length,O=0;O<w;O++)v.push(d[O]);return v}v=[],w=0;for(O in d)v[w++]=d[O];return v}function aa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(const O in d)v[w++]=O;return v}}}function fo(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=aa(d),O=Ec(d),Q=O.length,it=0;it<Q;it++)v.call(void 0,O[it],w&&w[it],d)}var Nn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qn(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),Q=null;if(0<=O){var it=d[w].substring(0,O);Q=d[w].substring(O+1)}else it=d[w];v(it,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ie(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ie){this.h=d.h,Xs(this,d.j),this.o=d.o,this.g=d.g,Es(this,d.s),this.l=d.l;var v=d.i,w=new Ln;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),mn(this,w),this.m=d.m}else d&&(v=String(d).match(Nn))?(this.h=!1,Xs(this,v[1]||"",!0),this.o=An(v[2]||""),this.g=An(v[3]||"",!0),Es(this,v[4]),this.l=An(v[5]||"",!0),mn(this,v[6]||"",!0),this.m=An(v[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Ie.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Zs(v,ws,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Zs(v,ws,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Zs(w,w.charAt(0)=="/"?Tc:oa,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Zs(w,go)),d.join("")};function Le(d){return new Ie(d)}function Xs(d,v,w){d.j=w?An(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Es(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function mn(d,v,w){v instanceof Ln?(d.i=v,Cl(d.i,d.h)):(w||(v=Zs(v,Ki)),d.i=new Ln(v,d.h))}function ae(d,v,w){d.i.set(v,w)}function Ts(d){return ae(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function An(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zs(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,Rl),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ws=/[#\/\?@]/g,oa=/[#\?:]/g,Tc=/[#\?]/g,Ki=/[#\?@]/g,go=/#/g;function Ln(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function $n(d){d.g||(d.g=new Map,d.h=0,d.i&&qn(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Ln.prototype,n.add=function(d,v){$n(this),this.i=null,d=ei(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function Ss(d,v){$n(d),v=ei(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function pi(d,v){return $n(d),v=ei(d,v),d.g.has(v)}n.forEach=function(d,v){$n(this),this.g.forEach(function(w,O){w.forEach(function(Q){d.call(v,Q,O,this)},this)},this)},n.na=function(){$n(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let O=0;O<v.length;O++){const Q=d[O];for(let it=0;it<Q.length;it++)w.push(v[O])}return w},n.V=function(d){$n(this);let v=[];if(typeof d=="string")pi(this,d)&&(v=v.concat(this.g.get(ei(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},n.set=function(d,v){return $n(this),this.i=null,d=ei(this,d),pi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function la(d,v,w){Ss(d,v),0<w.length&&(d.i=null,d.g.set(ei(d,v),I(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var O=v[w];const it=encodeURIComponent(String(O)),vt=this.V(O);for(O=0;O<vt.length;O++){var Q=it;vt[O]!==""&&(Q+="="+encodeURIComponent(String(vt[O]))),d.push(Q)}}return this.i=d.join("&")};function ei(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Cl(d,v){v&&!d.j&&($n(d),d.i=null,d.g.forEach(function(w,O){var Q=O.toLowerCase();O!=Q&&(Ss(this,O),la(this,Q,w))},d)),d.j=v}function br(d,v){const w=new Ai;if(h.Image){const O=new Image;O.onload=A(xn,w,"TestLoadImage: loaded",!0,v,O),O.onerror=A(xn,w,"TestLoadImage: error",!1,v,O),O.onabort=A(xn,w,"TestLoadImage: abort",!1,v,O),O.ontimeout=A(xn,w,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else v(!1)}function Ci(d,v){const w=new Ai,O=new AbortController,Q=setTimeout(()=>{O.abort(),xn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:O.signal}).then(it=>{clearTimeout(Q),it.ok?xn(w,"TestPingServer: ok",!0,v):xn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),xn(w,"TestPingServer: error",!1,v)})}function xn(d,v,w,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(w)}catch{}}function ca(){this.g=new na}function Qi(d,v,w){const O=w||"";try{fo(d,function(Q,it){let vt=Q;g(Q)&&(vt=Gi(Q)),v.push(O+it+"="+encodeURIComponent(vt))})}catch(Q){throw v.push(O+"type="+encodeURIComponent("_badmap")),Q}}function As(d){this.l=d.Ub||null,this.j=d.eb||!1}R(As,El),As.prototype.g=function(){return new Ii(this.l,this.j)},As.prototype.i=function(d){return function(){return d}}({});function Ii(d,v){ze.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ii,ze),n=Ii.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,mi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ua(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ua(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?xs(this):mi(this),this.readyState==3&&ua(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,xs(this))},n.Qa=function(d){this.g&&(this.response=d,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(d){d.readyState=4,d.l=null,d.j=null,d.v=null,mi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Il(d){let v="";return pt(d,function(w,O){v+=O,v+=":",v+=w,v+=`\r
`}),v}function sn(d,v,w){t:{for(O in w){var O=!1;break t}O=!0}O||(w=Il(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ae(d,v,w))}function fe(d){ze.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(fe,ze);var Er=/^https?$/i,Js=["POST","PUT"];n=fe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ms.g(),this.v=this.o?Tl(this.o):Tl(ms),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(it){Dl(this,it);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)w.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const it of O.keys())w.set(it,O.get(it));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(it=>it.toLowerCase()=="content-type"),Q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Js,v,void 0))||O||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,vt]of w)this.g.setRequestHeader(it,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wr(this),this.u=!0,this.g.send(d),this.u=!1}catch(it){Dl(this,it)}};function Dl(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Rs(d),Xi(d)}function Rs(d){d.A||(d.A=!0,Ee(d,"complete"),Ee(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ee(this,"complete"),Ee(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Tr(this):this.bb())},n.bb=function(){Tr(this)};function Tr(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Rn(d)!=4||d.Z()!=2)){if(d.u&&Rn(d)==4)Qe(d.Ea,0,d);else if(Ee(d,"readystatechange"),Rn(d)==4){d.h=!1;try{const vt=d.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var O;if(O=vt===0){var Q=String(d.D).match(Nn)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),O=!Er.test(Q?Q.toLowerCase():"")}w=O}if(w)Ee(d,"complete"),Ee(d,"success");else{d.m=6;try{var it=2<Rn(d)?d.g.statusText:""}catch{it=""}d.l=it+" ["+d.Z()+"]",Rs(d)}}finally{Xi(d)}}}}function Xi(d,v){if(d.g){wr(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ee(d,"ready");try{w.onreadystatechange=O}catch{}}}function wr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Rn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ao(v)}};function wc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Sc(d){const v={};d=(d.g&&2<=Rn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(G(d[O]))continue;var w=F(d[O]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const it=v[Q]||[];v[Q]=it,it.push(w)}V(v,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function ha(d){this.Aa=0,this.i=[],this.j=new Ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,d),this.cb=Sr("retryDelaySeedMs",1e4,d),this.Wa=Sr("forwardChannelMaxRetries",2,d),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(d&&d.concurrentRequestLimit),this.Da=new ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(d,v,w,O){Te(0),this.W=d,this.H=v||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=Nl(this,null,this.W),da(this)};function po(d){if(mo(d),d.G==3){var v=d.U++,w=Le(d.I);if(ae(w,"SID",d.K),ae(w,"RID",v),ae(w,"TYPE","terminate"),Ar(d,w),v=new Ze(d,d.j,v),v.L=2,v.v=Ts(Le(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=xc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ri(v)}Ac(d)}function fa(d){d.g&&(pa(d),d.g.cancel(),d.g=null)}function mo(d){fa(d),d.u&&(h.clearTimeout(d.u),d.u=null),ma(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function da(d){if(!ia(d.h)&&!d.s){d.s=!0;var v=d.Ga;gt||k(),xt||(gt(),xt=!0),Lt.add(v,d),d.B=0}}function $u(d,v){return sa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Xe(E(d.Ga,d,v),Zi(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Ze(this,this.j,d);let it=this.o;if(this.S&&(it?(it=P(it),z(it,this.S)):it=this.S),this.m!==null||this.O||(Q.H=it,it=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=Ml(this,Q,v),w=Le(this.I),ae(w,"RID",d),ae(w,"CVER",22),this.D&&ae(w,"X-HTTP-Session-Id",this.D),Ar(this,w),it&&(this.O?v="headers="+encodeURIComponent(String(Il(it)))+"&"+v:this.m&&sn(w,this.m,it)),ra(this.h,Q),this.Ua&&ae(w,"TYPE","init"),this.P?(ae(w,"$req",v),ae(w,"SID","null"),Q.T=!0,ke(Q,w,null)):ke(Q,w,v),this.G=2}}else this.G==3&&(d?Ol(this,d):this.i.length==0||ia(this.h)||Ol(this))};function Ol(d,v){var w;v?w=v.l:w=d.U++;const O=Le(d.I);ae(O,"SID",d.K),ae(O,"RID",w),ae(O,"AID",d.T),Ar(d,O),d.m&&d.o&&sn(O,d.m,d.o),w=new Ze(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Ml(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ra(d.h,w),ke(w,O,v)}function Ar(d,v){d.H&&pt(d.H,function(w,O){ae(v,O,w)}),d.l&&fo({},function(w,O){ae(v,O,w)})}function Ml(d,v,w){w=Math.min(d.i.length,w);var O=d.l?E(d.l.Na,d.l,d):null;t:{var Q=d.i;let it=-1;for(;;){const vt=["count="+w];it==-1?0<w?(it=Q[0].g,vt.push("ofs="+it)):it=0:vt.push("ofs="+it);let oe=!0;for(let rn=0;rn<w;rn++){let le=Q[rn].g;const _n=Q[rn].map;if(le-=it,0>le)it=Math.max(0,Q[rn].g-100),oe=!1;else try{Qi(_n,vt,"req"+le+"_")}catch{O&&O(_n)}}if(oe){O=vt.join("&");break t}}}return d=d.i.splice(0,w),v.D=d,O}function ga(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;gt||k(),xt||(gt(),xt=!0),Lt.add(v,d),d.v=0}}function kl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Xe(E(d.Fa,d),Zi(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,_o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Xe(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),fa(this),_o(this))};function pa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function _o(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Le(d.qa);ae(v,"RID","rpc"),ae(v,"SID",d.K),ae(v,"AID",d.T),ae(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ae(v,"TO",d.ja),ae(v,"TYPE","xmlhttp"),Ar(d,v),d.m&&d.o&&sn(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Ts(Le(v)),w.m=null,w.P=!0,xi(w,d)}n.Za=function(){this.C!=null&&(this.C=null,fa(this),kl(this),Te(19))};function ma(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Pl(d,v){var w=null;if(d.g==v){ma(d),pa(d),d.g=null;var O=2}else if(uo(d.h,v))w=v.D,Pn(d.h,v),O=1;else return;if(d.G!=0){if(v.o)if(O==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Q=d.B;O=_r(),Ee(O,new nn(O,w)),da(d)}else ga(d);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(O==1&&$u(d,v)||O==2&&kl(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),Q){case 1:Ji(d,5);break;case 4:Ji(d,10);break;case 3:Ji(d,6);break;default:Ji(d,2)}}}function Zi(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function Ji(d,v){if(d.j.info("Error code "+v),v==2){var w=E(d.fb,d),O=d.Xa;const Q=!O;O=new Ie(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Xs(O,"https"),Ts(O),Q?br(O.toString(),w):Ci(O.toString(),w)}else Te(2);d.G=0,d.l&&d.l.sa(v),Ac(d),mo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Ac(d){if(d.G=0,d.ka=[],d.l){const v=ho(d.h);(v.length!=0||d.i.length!=0)&&(M(d.ka,v),M(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Nl(d,v,w){var O=w instanceof Ie?Le(w):new Ie(w);if(O.g!="")v&&(O.g=v+"."+O.g),Es(O,O.s);else{var Q=h.location;O=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var it=new Ie(null);O&&Xs(it,O),v&&(it.g=v),Q&&Es(it,Q),w&&(it.l=w),O=it}return w=d.D,v=d.ya,w&&v&&ae(O,w,v),ae(O,"VER",d.la),Ar(d,O),O}function xc(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new fe(new As({eb:w})):new fe(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}n=Rc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(d,v){return new Gn(d,v)};function Gn(d,v){ze.call(this),this.g=new ha(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!G(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Cs(this)}R(Gn,ze),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){po(this.g)},Gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Gi(d),d=w);v.i.push(new co(v.Ya++,d)),v.G==3&&da(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,po(this.g),delete this.g,Gn.aa.N.call(this)};function Ll(d){Si.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const w in v){d=w;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(Ll,Si);function Vl(){oo.call(this),this.status=1}R(Vl,oo);function Cs(d){this.g=d}R(Cs,Rc),Cs.prototype.ua=function(){Ee(this.g,"a")},Cs.prototype.ta=function(d){Ee(this.g,new Ll(d))},Cs.prototype.sa=function(d){Ee(this.g,new Vl)},Cs.prototype.ra=function(){Ee(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,xA=function(){return new yo},AA=function(){return _r()},SA=Yi,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,jg=vr,Wi.COMPLETE="complete",wA=Wi,wl.EventType=ds,ds.OPEN="a",ds.CLOSE="b",ds.ERROR="c",ds.MESSAGE="d",ze.prototype.listen=ze.prototype.K,uf=wl,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,TA=fe}).apply(typeof pg<"u"?pg:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",JE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Py("@firebase/firestore");function ou(){return gc.logLevel}function Ct(n,...t){if(gc.logLevel<=ce.DEBUG){const e=t.map(Gy);gc.debug(`Firestore (${Pu}): ${n}`,...e)}}function Xa(n,...t){if(gc.logLevel<=ce.ERROR){const e=t.map(Gy);gc.error(`Firestore (${Pu}): ${n}`,...e)}}function cl(n,...t){if(gc.logLevel<=ce.WARN){const e=t.map(Gy);gc.warn(`Firestore (${Pu}): ${n}`,...e)}}function Gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,RA(n,i,e)}function RA(n,t,e){let i=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Xa(i),new Error(i)}function we(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||RA(t,r,i)}function Xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends eo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class P2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ci.UNAUTHENTICATED))}shutdown(){}}class N2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class L2{constructor(t){this.t=t,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){we(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ga,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ga)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string",31837,{l:i}),new CA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string",2055,{h:t}),new ci(t)}}class V2{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new V2(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ls(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){we(this.o===void 0,3512);const i=o=>{o.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(we(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new tT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=z2(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function te(n,t){return n<t?-1:n>t?1:0}function sy(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return te(i,r);{const o=IA(),c=B2(o.encode(eT(n,e)),o.encode(eT(t,e)));return c!==0?c:te(i,r)}}e+=i>65535?2:1}return te(n.length,t.length)}function eT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function B2(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return te(n[e],t[e]);return te(n.length,t.length)}function bu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class Hr{constructor(t,e,i){e===void 0?e=0:e>t.length&&$t(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&$t(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Hr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Hr.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return te(t.length,e.length)}static compareSegments(t,e){const i=Hr.isNumericId(t),r=Hr.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Hr.extractNumericId(t).compare(Hr.extractNumericId(e)):sy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rl.fromString(t.substring(4,t.length-2))}}class je extends Hr{construct(t,e,i){return new je(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new wt(ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new je(e)}static emptyPath(){return new je([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Hr{construct(t,e,i){return new Zn(t,e,i)}static isValidIdentifier(t){return F2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new Zn([nT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new wt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new wt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new wt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new wt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zn(e)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(je.fromString(t))}static fromName(t){return new Nt(je.fromString(t).popFirst(5))}static empty(){return new Nt(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return je.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new je(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,t,e){if(!e)throw new wt(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function H2(n,t,e,i){if(t===!0&&i===!0)throw new wt(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function iT(n){if(!Nt.isDocumentKey(n))throw new wt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sT(n){if(Nt.isDocumentKey(n))throw new wt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":$t(12329,{type:typeof n})}function Hi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new wt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Mp(n);throw new wt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xf(n,t){if(!OA(n))throw new wt(ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new wt(ut.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=-62135596800,aT=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*aT);return new Fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<rT)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aT}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xf(t,Fe._jsonSchema))return new Fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Tn("string",Fe._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(t){return new Kt(t)}static min(){return new Kt(new Fe(0,0))}static max(){return new Kt(new Fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=-1;function q2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Kt.fromTimestamp(i===1e9?new Fe(e+1,0):new Fe(e,i));return new ul(r,Nt.empty(),t)}function $2(n){return new ul(n.readTime,n.key,Of)}class ul{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ul(Kt.min(),Nt.empty(),Of)}static max(){return new ul(Kt.max(),Nt.empty(),Of)}}function G2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Nt.comparator(n.documentKey,t.documentKey),e!==0?e:te(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==Y2)throw n;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.reject(e)}static resolve(t){return new dt((e,i)=>{e(t)})}static reject(t){return new dt((e,i)=>{i(t)})}static waitFor(t){return new dt((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=dt.resolve(!1);for(const i of t)e=e.next(r=>r?dt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new dt((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(_=>{c[g]=_,++h,h===o&&i(c)},_=>r(_))}})}static doWhile(t,e){return new dt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function K2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Lu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}kp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-1;function Pp(n){return n==null}function sp(n){return n===0&&1/n==-1/0}function Q2(n){return typeof n=="number"&&Number.isInteger(n)&&!sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="";function X2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=oT(t)),t=Z2(n.get(e),t);return oT(t)}function Z2(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case MA:e+="";break;default:e+=o}}return e}function oT(n){return n+MA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function _l(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function kA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,e){this.comparator=t,this.root=e||Xn.EMPTY}insert(t,e){return new We(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mg(this.root,t,this.comparator,!1)}getReverseIterator(){return new mg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mg(this.root,t,this.comparator,!0)}}class mg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Xn.RED,this.left=r??Xn.EMPTY,this.right=o??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Xn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Xn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $t(27949);return t+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(t){return new cT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof kn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new kn(this.comparator);return e.data=t,e}}class cT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this.fields=t,t.sort(Zn.comparator)}static empty(){return new hs([])}unionWith(t){let e=new kn(Zn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new hs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PA("Invalid base64 string: "+o):o}}(t);return new ti(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new ti(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const J2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(n){if(we(!!n,39018),typeof n=="string"){let t=0;const e=J2.exec(n);if(we(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fl(n){return typeof n=="string"?ti.fromBase64String(n):ti.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="server_timestamp",LA="__type__",VA="__previous_value__",UA="__local_write_time__";function Ky(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[LA])===null||e===void 0?void 0:e.stringValue)===NA}function Np(n){const t=n.mapValue.fields[VA];return Ky(t)?Np(t):t}function Mf(n){const t=hl(n.mapValue.fields[UA].timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,e,i,r,o,c,h,f,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=_}}const rp="(default)";class kf{constructor(t,e){this.projectId=t,this.database=e||rp}static empty(){return new kf("","")}get isDefaultDatabase(){return this.database===rp}isEqual(t){return t instanceof kf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="__type__",ek="__max__",_g={mapValue:{}},zA="__vector__",ap="value";function dl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ky(n)?4:ik(n)?9007199254740991:nk(n)?10:11:$t(28295,{value:n})}function Zr(n,t){if(n===t)return!0;const e=dl(n);if(e!==dl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Mf(n).isEqual(Mf(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=hl(r.timestampValue),h=hl(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return fl(r.bytesValue).isEqual(fl(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return fn(r.geoPointValue.latitude)===fn(o.geoPointValue.latitude)&&fn(r.geoPointValue.longitude)===fn(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return fn(r.integerValue)===fn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=fn(r.doubleValue),h=fn(o.doubleValue);return c===h?sp(c)===sp(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return bu(n.arrayValue.values||[],t.arrayValue.values||[],Zr);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(lT(c)!==lT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Zr(c[f],h[f])))return!1;return!0}(n,t);default:return $t(52216,{left:n})}}function Pf(n,t){return(n.values||[]).find(e=>Zr(e,t))!==void 0}function Eu(n,t){if(n===t)return 0;const e=dl(n),i=dl(t);if(e!==i)return te(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=fn(o.integerValue||o.doubleValue),f=fn(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return uT(n.timestampValue,t.timestampValue);case 4:return uT(Mf(n),Mf(t));case 5:return sy(n.stringValue,t.stringValue);case 6:return function(o,c){const h=fl(o),f=fl(c);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=te(h[g],f[g]);if(_!==0)return _}return te(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=te(fn(o.latitude),fn(c.latitude));return h!==0?h:te(fn(o.longitude),fn(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return hT(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,f,g,_;const b=o.fields||{},E=c.fields||{},A=(h=b[ap])===null||h===void 0?void 0:h.arrayValue,R=(f=E[ap])===null||f===void 0?void 0:f.arrayValue,I=te(((g=A?.values)===null||g===void 0?void 0:g.length)||0,((_=R?.values)===null||_===void 0?void 0:_.length)||0);return I!==0?I:hT(A,R)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===_g.mapValue&&c===_g.mapValue)return 0;if(o===_g.mapValue)return 1;if(c===_g.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let b=0;b<f.length&&b<_.length;++b){const E=sy(f[b],_[b]);if(E!==0)return E;const A=Eu(h[f[b]],g[_[b]]);if(A!==0)return A}return te(f.length,_.length)}(n.mapValue,t.mapValue);default:throw $t(23264,{le:e})}}function uT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return te(n,t);const e=hl(n),i=hl(t),r=te(e.seconds,i.seconds);return r!==0?r:te(e.nanos,i.nanos)}function hT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Eu(e[r],i[r]);if(o)return o}return te(e.length,i.length)}function Tu(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=hl(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return fl(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Nt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=ry(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${ry(e.fields[c])}`;return r+"}"}(n.mapValue):$t(61005,{value:n})}function zg(n){switch(dl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Np(n);return t?16+zg(t):16;case 5:return 2*n.stringValue.length;case 6:return fl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+zg(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return _l(i.fields,(o,c)=>{r+=o.length+zg(c)}),r}(n.mapValue);default:throw $t(13486,{value:n})}}function fT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ay(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function dT(n){return!!n&&"nullValue"in n}function gT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bg(n){return!!n&&"mapValue"in n}function nk(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[jA])===null||e===void 0?void 0:e.stringValue)===zA}function bf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return _l(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=bf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ik(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ek}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.value=t}static empty(){return new ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Bg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bf(e)}setAll(t){let e=Zn.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=bf(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Bg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Bg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){_l(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ji(bf(this.value))}}function BA(n){const t=[];return _l(n.fields,(e,i)=>{const r=new Zn([e]);if(Bg(i)){const o=BA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new hs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ui(t,0,Kt.min(),Kt.min(),Kt.min(),ji.empty(),0)}static newFoundDocument(t,e,i,r){return new ui(t,1,e,Kt.min(),i,r,0)}static newNoDocument(t,e){return new ui(t,2,e,Kt.min(),Kt.min(),ji.empty(),0)}static newUnknownDocument(t,e){return new ui(t,3,e,Kt.min(),Kt.min(),ji.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,e){this.position=t,this.inclusive=e}}function pT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=Nt.comparator(Nt.fromName(c.referenceValue),e.key):i=Eu(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function mT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Zr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e="asc"){this.field=t,this.dir=e}}function sk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class En extends FA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new ak(t,e,i):e==="array-contains"?new ck(t,i):e==="in"?new uk(t,i):e==="not-in"?new hk(t,i):e==="array-contains-any"?new fk(t,i):new En(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ok(t,i):new lk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Eu(e,this.value)):e!==null&&dl(this.value)===dl(e)&&this.matchesComparison(Eu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends FA{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new ur(t,e)}matches(t){return HA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function HA(n){return n.op==="and"}function qA(n){return rk(n)&&HA(n)}function rk(n){for(const t of n.filters)if(t instanceof ur)return!1;return!0}function oy(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Tu(n.value);if(qA(n))return n.filters.map(t=>oy(t)).join(",");{const t=n.filters.map(e=>oy(e)).join(",");return`${n.op}(${t})`}}function $A(n,t){return n instanceof En?function(i,r){return r instanceof En&&i.op===r.op&&i.field.isEqual(r.field)&&Zr(i.value,r.value)}(n,t):n instanceof ur?function(i,r){return r instanceof ur&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&$A(c,r.filters[h]),!0):!1}(n,t):void $t(19439)}function GA(n){return n instanceof En?function(e){return`${e.field.canonicalString()} ${e.op} ${Tu(e.value)}`}(n):n instanceof ur?function(e){return e.op.toString()+" {"+e.getFilters().map(GA).join(" ,")+"}"}(n):"Filter"}class ak extends En{constructor(t,e,i){super(t,e,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const e=Nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ok extends En{constructor(t,e){super(t,"in",e),this.keys=YA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lk extends En{constructor(t,e){super(t,"not-in",e),this.keys=YA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function YA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Nt.fromName(i.referenceValue))}class ck extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Qy(e)&&Pf(e.arrayValue,this.value)}}class uk extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Pf(this.value.arrayValue,e)}}class hk extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Pf(this.value.arrayValue,e)}}class fk extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Qy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Pf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Pe=null}}function _T(n,t=null,e=[],i=[],r=null,o=null,c=null){return new dk(n,t,e,i,r,o,c)}function Xy(n){const t=Xt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>oy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Pp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Tu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Tu(i)).join(",")),t.Pe=e}return t.Pe}function Zy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!sk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$A(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!mT(n.startAt,t.startAt)&&mT(n.endAt,t.endAt)}function ly(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gk(n,t,e,i,r,o,c,h){return new Vu(n,t,e,i,r,o,c,h)}function Lp(n){return new Vu(n)}function yT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WA(n){return n.collectionGroup!==null}function Ef(n){const t=Xt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new kn(Zn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new Nf(o,i))}),e.has(Zn.keyField().canonicalString())||t.Te.push(new Nf(Zn.keyField(),i))}return t.Te}function Yr(n){const t=Xt(n);return t.Ie||(t.Ie=pk(t,Ef(n))),t.Ie}function pk(n,t){if(n.limitType==="F")return _T(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Nf(r.field,o)});const e=n.endAt?new op(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new op(n.startAt.position,n.startAt.inclusive):null;return _T(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function cy(n,t){const e=n.filters.concat([t]);return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function uy(n,t,e){return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Vp(n,t){return Zy(Yr(n),Yr(t))&&n.limitType===t.limitType}function KA(n){return`${Xy(Yr(n))}|lt:${n.limitType}`}function lu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>GA(r)).join(", ")}]`),Pp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Tu(r)).join(",")),`Target(${i})`}(Yr(n))}; limitType=${n.limitType})`}function Up(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Nt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Ef(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,f){const g=pT(c,h,f);return c.inclusive?g<=0:g<0}(i.startAt,Ef(i),r)||i.endAt&&!function(c,h,f){const g=pT(c,h,f);return c.inclusive?g>=0:g>0}(i.endAt,Ef(i),r))}(n,t)}function mk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QA(n){return(t,e)=>{let i=!1;for(const r of Ef(n)){const o=_k(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function _k(n,t,e){const i=n.field.isKeyField()?Nt.comparator(t.key,e.key):function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?Eu(f,g):$t(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $t(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){_l(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new We(Nt.comparator);function Za(){return yk}const XA=new We(Nt.comparator);function hf(...n){let t=XA;for(const e of n)t=t.insert(e.key,e);return t}function ZA(n){let t=XA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ic(){return Tf()}function JA(){return Tf()}function Tf(){return new vc(n=>n.toString(),(n,t)=>n.isEqual(t))}const vk=new We(Nt.comparator),bk=new kn(Nt.comparator);function ue(...n){let t=bk;for(const e of n)t=t.add(e);return t}const Ek=new kn(te);function Tk(){return Ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(t)?"-0":t}}function tx(n){return{integerValue:""+n}}function wk(n,t){return Q2(t)?tx(t):Jy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this._=void 0}}function Sk(n,t,e){return n instanceof Lf?function(r,o){const c={fields:{[LA]:{stringValue:NA},[UA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ky(o)&&(o=Np(o)),o&&(c.fields[VA]=o),{mapValue:c}}(e,t):n instanceof Vf?nx(n,t):n instanceof Uf?ix(n,t):function(r,o){const c=ex(r,o),h=vT(c)+vT(r.Ee);return ay(c)&&ay(r.Ee)?tx(h):Jy(r.serializer,h)}(n,t)}function Ak(n,t,e){return n instanceof Vf?nx(n,t):n instanceof Uf?ix(n,t):e}function ex(n,t){return n instanceof lp?function(i){return ay(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Lf extends jp{}class Vf extends jp{constructor(t){super(),this.elements=t}}function nx(n,t){const e=sx(t);for(const i of n.elements)e.some(r=>Zr(r,i))||e.push(i);return{arrayValue:{values:e}}}class Uf extends jp{constructor(t){super(),this.elements=t}}function ix(n,t){let e=sx(t);for(const i of n.elements)e=e.filter(r=>!Zr(r,i));return{arrayValue:{values:e}}}class lp extends jp{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function vT(n){return fn(n.integerValue||n.doubleValue)}function sx(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t,e){this.field=t,this.transform=e}}function Rk(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Vf&&r instanceof Vf||i instanceof Uf&&r instanceof Uf?bu(i.elements,r.elements,Zr):i instanceof lp&&r instanceof lp?Zr(i.Ee,r.Ee):i instanceof Lf&&r instanceof Lf}(n.transform,t.transform)}class Ck{constructor(t,e){this.version=t,this.transformResults=e}}class Us{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Us}static exists(t){return new Us(void 0,t)}static updateTime(t){return new Us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fg(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zp{}function rx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new tv(n.key,Us.none()):new Zf(n.key,n.data,Us.none());{const e=n.data,i=ji.empty();let r=new kn(Zn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new yl(n.key,i,new hs(r.toArray()),Us.none())}}function Ik(n,t,e){n instanceof Zf?function(r,o,c){const h=r.value.clone(),f=ET(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof yl?function(r,o,c){if(!Fg(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=ET(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(ax(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function wf(n,t,e,i){return n instanceof Zf?function(o,c,h,f){if(!Fg(o.precondition,c))return h;const g=o.value.clone(),_=TT(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof yl?function(o,c,h,f){if(!Fg(o.precondition,c))return h;const g=TT(o.fieldTransforms,f,c),_=c.data;return _.setAll(ax(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,t,e,i):function(o,c,h){return Fg(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function Dk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=ex(i.transform,r||null);o!=null&&(e===null&&(e=ji.empty()),e.set(i.field,o))}return e||null}function bT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&bu(i,r,(o,c)=>Rk(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Zf extends zp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yl extends zp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ax(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ET(n,t,e){const i=new Map;we(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,Ak(c,h,e[r]))}return i}function TT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,Sk(o,c,t))}return i}class tv extends zp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ok extends zp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Ik(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=wf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=wf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=JA();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=rx(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Kt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ue())}isEqual(t){return this.batchId===t.batchId&&bu(this.mutations,t.mutations,(e,i)=>bT(e,i))&&bu(this.baseMutations,t.baseMutations,(e,i)=>bT(e,i))}}class ev{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){we(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return vk}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new ev(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,pe;function Nk(n){switch(n){case ut.OK:return $t(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return $t(15467,{code:n})}}function ox(n){if(n===void 0)return Xa("GRPC error has no .code"),ut.UNKNOWN;switch(n){case bn.OK:return ut.OK;case bn.CANCELLED:return ut.CANCELLED;case bn.UNKNOWN:return ut.UNKNOWN;case bn.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case bn.INTERNAL:return ut.INTERNAL;case bn.UNAVAILABLE:return ut.UNAVAILABLE;case bn.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case bn.NOT_FOUND:return ut.NOT_FOUND;case bn.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case bn.ABORTED:return ut.ABORTED;case bn.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case bn.DATA_LOSS:return ut.DATA_LOSS;default:return $t(39323,{code:n})}}(pe=bn||(bn={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new rl([4294967295,4294967295],0);function wT(n){const t=IA().encode(n),e=new EA;return e.update(t),new Uint8Array(e.digest())}function ST(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new rl([e,i],0),new rl([r,o],0)]}class nv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ff(`Invalid padding: ${e}`);if(i<0)throw new ff(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ff(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ff(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=rl.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(rl.fromNumber(i)));return r.compare(Lk)===1&&(r=new rl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=wT(t),[i,r]=ST(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);if(!this.ye(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new nv(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(this.fe===0)return;const e=wT(t),[i,r]=ST(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);this.we(c)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Jf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Bp(Kt.min(),r,new We(te),Za(),ue())}}class Jf{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Jf(i,e,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class lx{constructor(t,e){this.targetId=t,this.De=e}}class cx{constructor(t,e,i=ti.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class AT{constructor(){this.ve=0,this.Ce=xT(),this.Fe=ti.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ue(),e=ue(),i=ue();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$t(38017,{changeType:o})}}),new Jf(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=xT()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Vk{constructor(t){this.We=t,this.Ge=new Map,this.ze=Za(),this.je=yg(),this.Je=yg(),this.He=new We(te)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:$t(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(ly(o))if(i===0){const c=new Nt(o.path);this.Xe(e,c,ui.newNoDocument(c,Kt.min()))}else we(i===1,20013,{expectedCount:i});else{const c=this.ot(e);if(c!==i){const h=this._t(t),f=h?this.ut(h,t,c):1;if(f!==0){this.rt(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,g)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=fl(i).toUint8Array()}catch(f){if(f instanceof PA)return cl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new nv(c,r,o)}catch(f){return cl(f instanceof ff?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,c)=>{const h=this.st(c);if(h){if(o.current&&ly(h.target)){const f=new Nt(h.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,ui.newNoDocument(f,t))}o.Ne&&(e.set(c,o.Le()),o.ke())}});let i=ue();this.Je.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const g=this.st(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(t));const r=new Bp(t,e,this.He,this.ze,i);return this.ze=Za(),this.je=yg(),this.Je=yg(),this.He=new We(te),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new AT,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new kn(te),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new kn(te),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||Ct("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new AT),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function yg(){return new We(Nt.comparator)}function xT(){return new We(Nt.comparator)}const Uk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class Bk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hy(n,t){return n.useProto3Json||Pp(t)?t:{value:t}}function cp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ux(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Fk(n,t){return cp(n,t.toTimestamp())}function Wr(n){return we(!!n,49232),Kt.fromTimestamp(function(e){const i=hl(e);return new Fe(i.seconds,i.nanos)}(n))}function iv(n,t){return fy(n,t).canonicalString()}function fy(n,t){const e=function(r){return new je(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function hx(n){const t=je.fromString(n);return we(mx(t),10190,{key:t.toString()}),t}function dy(n,t){return iv(n.databaseId,t.path)}function I_(n,t){const e=hx(t);if(e.get(1)!==n.databaseId.projectId)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Nt(dx(e))}function fx(n,t){return iv(n.databaseId,t)}function Hk(n){const t=hx(n);return t.length===4?je.emptyPath():dx(t)}function gy(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dx(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RT(n,t,e){return{name:dy(n,t),fields:e.value.mapValue.fields}}function qk(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:$t(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,_){return g.useProto3Json?(we(_===void 0||typeof _=="string",58123),ti.fromBase64String(_||"")):(we(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ti.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(g){const _=g.code===void 0?ut.UNKNOWN:ox(g.code);return new wt(_,g.message||"")}(c);e=new cx(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=I_(n,i.document.name),o=Wr(i.document.updateTime),c=i.document.createTime?Wr(i.document.createTime):Kt.min(),h=new ji({mapValue:{fields:i.document.fields}}),f=ui.newFoundDocument(r,o,c,h),g=i.targetIds||[],_=i.removedTargetIds||[];e=new Hg(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=I_(n,i.document),o=i.readTime?Wr(i.readTime):Kt.min(),c=ui.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Hg([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=I_(n,i.document),o=i.removedTargetIds||[];e=new Hg([],o,r,null)}else{if(!("filter"in t))return $t(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new Pk(r,o),h=i.targetId;e=new lx(h,c)}}return e}function $k(n,t){let e;if(t instanceof Zf)e={update:RT(n,t.key,t.value)};else if(t instanceof tv)e={delete:dy(n,t.key)};else if(t instanceof yl)e={update:RT(n,t.key,t.data),updateMask:tP(t.fieldMask)};else{if(!(t instanceof Ok))return $t(16599,{Rt:t.type});e={verify:dy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof Lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lp)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw $t(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Fk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$t(27497)}(n,t.precondition)),e}function Gk(n,t){return n&&n.length>0?(we(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?Wr(r.updateTime):Wr(o);return c.isEqual(Kt.min())&&(c=Wr(o)),new Ck(c,r.transformResults||[])}(e,t))):[]}function Yk(n,t){return{documents:[fx(n,t.path)]}}function Wk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=fx(n,r);const o=function(g){if(g.length!==0)return px(ur.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(_=>function(E){return{field:cu(E.field),direction:Xk(E.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=hy(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:e,parent:r}}function Kk(n){let t=Hk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){we(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(b){const E=gx(b);return E instanceof ur&&qA(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=function(b){return b.map(E=>function(R){return new Nf(uu(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(e.orderBy));let h=null;e.limit&&(h=function(b){let E;return E=typeof b=="object"?b.value:b,Pp(E)?null:E}(e.limit));let f=null;e.startAt&&(f=function(b){const E=!!b.before,A=b.values||[];return new op(A,E)}(e.startAt));let g=null;return e.endAt&&(g=function(b){const E=!b.before,A=b.values||[];return new op(A,E)}(e.endAt)),gk(t,r,c,o,h,"F",f,g)}function Qk(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gx(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=uu(e.unaryFilter.field);return En.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=uu(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uu(e.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uu(e.unaryFilter.field);return En.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}}(n):n.fieldFilter!==void 0?function(e){return En.create(uu(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ur.create(e.compositeFilter.filters.map(i=>gx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $t(1026)}}(e.compositeFilter.op))}(n):$t(30097,{filter:n})}function Xk(n){return Uk[n]}function Zk(n){return jk[n]}function Jk(n){return zk[n]}function cu(n){return{fieldPath:n.canonicalString()}}function uu(n){return Zn.fromServerFormat(n.fieldPath)}function px(n){return n instanceof En?function(e){if(e.op==="=="){if(gT(e.value))return{unaryFilter:{field:cu(e.field),op:"IS_NAN"}};if(dT(e.value))return{unaryFilter:{field:cu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gT(e.value))return{unaryFilter:{field:cu(e.field),op:"IS_NOT_NAN"}};if(dT(e.value))return{unaryFilter:{field:cu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(e.field),op:Zk(e.op),value:e.value}}}(n):n instanceof ur?function(e){const i=e.getFilters().map(r=>px(r));return i.length===1?i[0]:{compositeFilter:{op:Jk(e.op),filters:i}}}(n):$t(54877,{filter:n})}function tP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,e,i,r,o=Kt.min(),c=Kt.min(),h=ti.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Xo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.gt=t}}function nP(n){const t=Kk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Dn=new sP}addToCollectionParentIndex(t,e){return this.Dn.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(ul.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(ul.min())}updateCollectionGroup(t,e,i){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class sP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new kn(je.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new kn(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_x=41943040;class Ui{static withCacheSize(t){return new Ui(t,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(_x,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new wu(0)}static ur(){return new wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",rP=1048576;function DT([n,t],[e,i]){const r=te(n,e);return r===0?te(t,i):r}class aP{constructor(t){this.Tr=t,this.buffer=new kn(DT),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();DT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class oP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){Ct(IT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lu(e)?Ct(IT,"Ignoring IndexedDB error during garbage collection: ",e):await Nu(e)}await this.Rr(3e5)})}}class lP{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return dt.resolve(kp.ue);const i=new aP(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(CT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,c,h,f,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,c=Date.now(),this.nthSequenceNumber(t,r))).next(b=>(i=b,h=Date.now(),this.removeTargets(t,i,e))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(g=Date.now(),ou()<=ce.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b})))}}function cP(n,t){return new lP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.changes=new vc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?dt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&wf(i.mutation,r,hs.empty(),Fe.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ue()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ue()){const r=ic();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=hf();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=ic();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ue()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=Za();const c=Tf(),h=function(){return Tf()}();return e.forEach((f,g)=>{const _=i.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof yl)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),wf(_.mutation,g,_.mutation.getFieldMask(),Fe.now())):c.set(g.key,hs.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,_)=>c.set(g,_)),e.forEach((g,_)=>{var b;return h.set(g,new hP(_,(b=c.get(g))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Tf();let r=new We((c,h)=>c-h),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let _=i.get(f)||hs.empty();_=h.applyToLocalView(g,_),i.set(f,_);const b=(r.get(h.batchId)||ue()).add(f);r=r.insert(h.batchId,b)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,b=JA();_.forEach(E=>{if(!o.has(E)){const A=rx(e.get(E),i.get(E));A!==null&&b.set(E,A),o=o.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return dt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return Nt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):WA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):dt.resolve(ic());let h=Of,f=o;return c.next(g=>dt.forEach(g,(_,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(_)?dt.resolve():this.remoteDocumentCache.getEntry(t,_).next(E=>{f=f.insert(_,E)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,ue())).next(_=>({batchId:h,changes:ZA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Nt(e)).next(i=>{let r=hf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=hf();return this.indexManager.getCollectionParents(t,o).next(h=>dt.forEach(h,f=>{const g=function(b,E){return new Vu(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(_=>{_.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,ui.newInvalidDocument(_)))});let h=hf();return c.forEach((f,g)=>{const _=o.get(f);_!==void 0&&wf(_.mutation,g,hs.empty(),Fe.now()),Up(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return dt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Wr(r.createTime)}}(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:nP(r.bundledQuery),readTime:Wr(r.readTime)}}(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.overlays=new We(Nt.comparator),this.kr=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ic();return dt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),dt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),dt.resolve()}getOverlaysForCollection(t,e,i){const r=ic(),o=e.length+1,c=new Nt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return dt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new We((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=o.get(g.largestBatchId);_===null&&(_=ic(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=ic(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=r)););return dt.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new kk(e,i));let o=this.kr.get(e);o===void 0&&(o=ue(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.qr=new kn(zn.Qr),this.$r=new kn(zn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new zn(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new zn(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new Nt(new je([])),i=new zn(e,t),r=new zn(e,t+1),o=[];return this.$r.forEachInRange([i,r],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Nt(new je([])),i=new zn(e,t),r=new zn(e,t+1);let o=ue();return this.$r.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new zn(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class zn{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Nt.comparator(t.key,e.key)||te(t.Hr,e.Hr)}static Ur(t,e){return te(t.Hr,e.Hr)||Nt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new kn(zn.Qr)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Mk(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Yr=this.Yr.add(new zn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return dt.resolve(c)}lookupMutationBatch(t,e){return dt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return dt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?Wy:this.er-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new zn(e,0),r=new zn(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],c=>{const h=this.Zr(c.Hr);o.push(h)}),dt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new kn(te);return e.forEach(r=>{const o=new zn(r,0),c=new zn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],h=>{i=i.add(h.Hr)})}),dt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Nt.isDocumentKey(o)||(o=o.child(""));const c=new zn(new Nt(o),0);let h=new kn(te);return this.Yr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Hr)),!0)},c),dt.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){we(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return dt.forEach(e.mutations,r=>{const o=new zn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new zn(e,0),r=this.Yr.firstAfterOrEqual(i);return dt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.ni=t,this.docs=function(){return new We(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return dt.resolve(i?i.document.mutableCopy():ui.newInvalidDocument(e))}getEntries(t,e){let i=Za();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ui.newInvalidDocument(r))}),dt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Za();const c=e.path,h=new Nt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||G2($2(_),i)<=0||(r.has(_.key)||Up(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return dt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$t(9500)}ri(t,e){return dt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new yP(this)}getSize(t){return dt.resolve(this.size)}}class yP extends uP{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),dt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.persistence=t,this.ii=new vc(e=>Xy(e),Zy),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.si=0,this.oi=new sv,this.targetCount=0,this._i=wu.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),dt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new wu(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.hr(e),dt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),dt.waitFor(o).next(()=>r)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return dt.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),dt.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),dt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return dt.resolve(i)}containsKey(t,e){return dt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e){this.ai={},this.overlays={},this.ui=new kp(0),this.ci=!1,this.ci=!0,this.li=new pP,this.referenceDelegate=t(this),this.hi=new vP(this),this.indexManager=new iP,this.remoteDocumentCache=function(r){return new _P(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new eP(e),this.Ti=new dP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new mP(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){Ct("MemoryPersistence","Starting transaction:",t);const r=new bP(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return dt.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class bP extends W2{constructor(t){super(),this.currentSequenceNumber=t}}class rv{constructor(t){this.persistence=t,this.Ai=new sv,this.Ri=null}static Vi(t){return new rv(t)}get mi(){if(this.Ri)return this.Ri;throw $t(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),dt.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,i=>{const r=Nt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,Kt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return dt.or([()=>dt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class up{constructor(t,e){this.persistence=t,this.gi=new vc(i=>X2(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=cP(this,e)}static Vi(t,e){return new up(t,e)}Ii(){}di(t){return dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return dt.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?dt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,c=>this.Sr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,Kt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),dt.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zg(t.data.value)),e}Sr(t,e,i){return dt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return dt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=ue(),r=ue();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new av(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return tD()?8:K2(fi())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new EP;return this.ws(t,e,c).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,c,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(ou()<=ce.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",lu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(ou()<=ce.DEBUG&&Ct("QueryEngine","Query:",lu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(ou()<=ce.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",lu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yr(e))):dt.resolve())}ps(t,e){if(yT(e))return dt.resolve(null);let i=Yr(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=uy(e,null,"F"),i=Yr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=ue(...o);return this.gs.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.bs(e,h);return this.Ds(e,g,c,f.readTime)?this.ps(t,uy(e,null,"F")):this.vs(t,g,e,f)}))})))}ys(t,e,i,r){return yT(e)||r.isEqual(Kt.min())?dt.resolve(null):this.gs.getDocuments(t,i).next(o=>{const c=this.bs(e,o);return this.Ds(e,c,i,r)?dt.resolve(null):(ou()<=ce.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lu(e)),this.vs(t,c,e,q2(r,Of)).next(h=>h))})}bs(t,e){let i=new kn(QA(t));return e.forEach((r,o)=>{Up(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return ou()<=ce.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",lu(e)),this.gs.getDocumentsMatchingQuery(t,e,ul.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",wP=3e8;class SP{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new We(te),this.Ms=new vc(o=>Xy(o),Zy),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function AP(n,t,e,i){return new SP(n,t,e,i)}async function vx(n,t){const e=Xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=ue();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:h}))})})}function xP(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,f,g,_){const b=g.batch,E=b.keys();let A=dt.resolve();return E.forEach(R=>{A=A.next(()=>_.getEntry(f,R)).next(I=>{const M=g.docVersions.get(R);we(M!==null,48541),I.version.compareTo(M)<0&&(b.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),_.addEntry(I)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(f,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=ue();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function bx(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function RP(n,t){const e=Xt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((_,b)=>{const E=r.get(b);if(!E)return;h.push(e.hi.removeMatchingKeys(o,_.removedDocuments,b).next(()=>e.hi.addMatchingKeys(o,_.addedDocuments,b)));let A=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(b)!==null?A=A.withResumeToken(ti.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),r=r.insert(b,A),function(I,M,L){return I.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=wP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,A,_)&&h.push(e.hi.updateTargetData(o,A))});let f=Za(),g=ue();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(CP(o,c,t.documentUpdates).next(_=>{f=_.Ls,g=_.ks})),!i.isEqual(Kt.min())){const _=e.hi.getLastRemoteSnapshotVersion(o).next(b=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return dt.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Fs=r,o))}function CP(n,t,e){let i=ue(),r=ue();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Za();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Kt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):Ct(ov,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Ls:c,ks:r}})}function IP(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Wy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function DP(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,dt.resolve(r)):e.hi.allocateTargetId(i).next(c=>(r=new Xo(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function py(n,t,e){const i=Xt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Lu(c))throw c;Ct(ov,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function OT(n,t,e){const i=Xt(n);let r=Kt.min(),o=ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,_){const b=Xt(f),E=b.Ms.get(_);return E!==void 0?dt.resolve(b.Fs.get(E)):b.hi.getTargetData(g,_)}(i,c,Yr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:Kt.min(),e?o:ue())).next(h=>(OP(i,mk(t),h),{documents:h,qs:o})))}function OP(n,t,e){let i=n.xs.get(t)||Kt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class MT{constructor(){this.activeTargetIds=Tk()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MP{constructor(){this.Fo=new MT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new MT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class PT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ct(kT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){Ct(kT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg=null;function my(){return vg===null?vg=function(){return 268435456+Math.round(2147483648*Math.random())}():vg++,"0x"+vg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="RestConnection",PP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NP{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===rp?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=my(),h=this.Go(t,e.toUriEncodedString());Ct(D_,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,r,o);const{host:g}=new URL(h),_=Ou(g);return this.jo(t,h,f,i,_).then(b=>(Ct(D_,`Received RPC '${t}' ${c}: `,b),b),b=>{throw cl(D_,`RPC '${t}' ${c} failed with error: `,b,"url: ",h,"request:",i),b})}Jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=PP[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class VP extends NP{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const c=my();return new Promise((h,f)=>{const g=new TA;g.setWithCredentials(!0),g.listenOnce(wA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jg.NO_ERROR:const b=g.getResponseJson();Ct(li,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),h(b);break;case jg.TIMEOUT:Ct(li,`RPC '${t}' ${c} timed out`),f(new wt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case jg.HTTP_ERROR:const E=g.getStatus();if(Ct(li,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A?.error;if(R&&R.status&&R.message){const I=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(G)>=0?G:ut.UNKNOWN}(R.status);f(new wt(I,R.message))}else f(new wt(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new wt(ut.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{c_:t,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ct(li,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(r);Ct(li,`RPC '${t}' ${c} sending request:`,r),g.send(e,"POST",_,i,15)})}P_(t,e,i){const r=my(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=xA(),h=AA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");Ct(li,`Creating RPC '${t}' stream ${r}: ${_}`,f);const b=c.createWebChannel(_,f);this.T_(b);let E=!1,A=!1;const R=new LP({Ho:M=>{A?Ct(li,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(E||(Ct(li,`Opening RPC '${t}' stream ${r} transport.`),b.open(),E=!0),Ct(li,`RPC '${t}' stream ${r} sending:`,M),b.send(M))},Yo:()=>b.close()}),I=(M,L,G)=>{M.listen(L,J=>{try{G(J)}catch(at){setTimeout(()=>{throw at},0)}})};return I(b,uf.EventType.OPEN,()=>{A||(Ct(li,`RPC '${t}' stream ${r} transport opened.`),R.s_())}),I(b,uf.EventType.CLOSE,()=>{A||(A=!0,Ct(li,`RPC '${t}' stream ${r} transport closed`),R.__(),this.I_(b))}),I(b,uf.EventType.ERROR,M=>{A||(A=!0,cl(li,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),R.__(new wt(ut.UNAVAILABLE,"The operation could not be completed")))}),I(b,uf.EventType.MESSAGE,M=>{var L;if(!A){const G=M.data[0];we(!!G,16349);const J=G,at=J?.error||((L=J[0])===null||L===void 0?void 0:L.error);if(at){Ct(li,`RPC '${t}' stream ${r} received error:`,at);const rt=at.status;let pt=function(N){const z=bn[N];if(z!==void 0)return ox(z)}(rt),V=at.message;pt===void 0&&(pt=ut.INTERNAL,V="Unknown error status: "+rt+" with message "+at.message),A=!0,R.__(new wt(pt,V)),b.close()}else Ct(li,`RPC '${t}' stream ${r} received:`,G),R.a_(G)}}),I(h,SA.STAT_EVENT,M=>{M.stat===iy.PROXY?Ct(li,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===iy.NOPROXY&&Ct(li,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function O_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n){return new Bk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&Ct("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="PersistentStream";class Tx{constructor(t,e,i,r,o,c,h,f){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ex(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(Xa(e.toString()),Xa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new wt(ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return Ct(NT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(Ct(NT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UP extends Tx{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=qk(this.serializer,t),i=function(o){if(!("targetChange"in o))return Kt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Kt.min():c.readTime?Wr(c.readTime):Kt.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=gy(this.serializer),e.addTarget=function(o,c){let h;const f=c.target;if(h=ly(f)?{documents:Yk(o,f)}:{query:Wk(o,f).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=ux(o,c.resumeToken);const g=hy(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Kt.min())>0){h.readTime=cp(o,c.snapshotVersion.toTimestamp());const g=hy(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=Qk(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=gy(this.serializer),e.removeTarget=t,this.k_(e)}}class jP extends Tx{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return we(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,we(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){we(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=Gk(t.writeResults,t.commitTime),i=Wr(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=gy(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>$k(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{}class BP extends zP{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(t,fy(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new wt(ut.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Jo(t,fy(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new wt(ut.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class FP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xa(e),this._a=!1):Ct("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class HP{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{bc(this)&&(Ct(pc,"Restarting streams for network reachability change."),await async function(f){const g=Xt(f);g.Ia.add(4),await td(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Hp(g)}(this))})}),this.Aa=new FP(i,r)}}async function Hp(n){if(bc(n))for(const t of n.da)await t(!0)}async function td(n){for(const t of n.da)await t(!1)}function wx(n,t){const e=Xt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),hv(e)?uv(e):Uu(e).x_()&&cv(e,t))}function lv(n,t){const e=Xt(n),i=Uu(e);e.Ta.delete(t),i.x_()&&Sx(e,t),e.Ta.size===0&&(i.x_()?i.B_():bc(e)&&e.Aa.set("Unknown"))}function cv(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Uu(n).H_(t)}function Sx(n,t){n.Ra.$e(t),Uu(n).Y_(t)}function uv(n){n.Ra=new Vk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Uu(n).start(),n.Aa.aa()}function hv(n){return bc(n)&&!Uu(n).M_()&&n.Ta.size>0}function bc(n){return Xt(n).Ia.size===0}function Ax(n){n.Ra=void 0}async function qP(n){n.Aa.set("Online")}async function $P(n){n.Ta.forEach((t,e)=>{cv(n,t)})}async function GP(n,t){Ax(n),hv(n)?(n.Aa.la(t),uv(n)):n.Aa.set("Unknown")}async function YP(n,t,e){if(n.Aa.set("Online"),t instanceof cx&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){Ct(pc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await hp(n,i)}else if(t instanceof Hg?n.Ra.Ye(t):t instanceof lx?n.Ra.it(t):n.Ra.et(t),!e.isEqual(Kt.min()))try{const i=await bx(n.localStore);e.compareTo(i)>=0&&await function(o,c){const h=o.Ra.Pt(c);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ta.get(g);_&&o.Ta.set(g,_.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,g)=>{const _=o.Ta.get(f);if(!_)return;o.Ta.set(f,_.withResumeToken(ti.EMPTY_BYTE_STRING,_.snapshotVersion)),Sx(o,f);const b=new Xo(_.target,f,g,_.sequenceNumber);cv(o,b)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){Ct(pc,"Failed to raise snapshot:",i),await hp(n,i)}}async function hp(n,t,e){if(!Lu(t))throw t;n.Ia.add(1),await td(n),n.Aa.set("Offline"),e||(e=()=>bx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ct(pc,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Hp(n)})}function xx(n,t){return t().catch(e=>hp(n,e,t))}async function qp(n){const t=Xt(n),e=gl(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Wy;for(;WP(t);)try{const r=await IP(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,KP(t,r)}catch(r){await hp(t,r)}Rx(t)&&Cx(t)}function WP(n){return bc(n)&&n.Pa.length<10}function KP(n,t){n.Pa.push(t);const e=gl(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function Rx(n){return bc(n)&&!gl(n).M_()&&n.Pa.length>0}function Cx(n){gl(n).start()}async function QP(n){gl(n).na()}async function XP(n){const t=gl(n);for(const e of n.Pa)t.X_(e.mutations)}async function ZP(n,t,e){const i=n.Pa.shift(),r=ev.from(i,t,e);await xx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await qp(n)}async function JP(n,t){t&&gl(n).Z_&&await async function(i,r){if(function(c){return Nk(c)&&c!==ut.ABORTED}(r.code)){const o=i.Pa.shift();gl(i).N_(),await xx(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await qp(i)}}(n,t),Rx(n)&&Cx(n)}async function LT(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),Ct(pc,"RemoteStore received new credentials");const i=bc(e);e.Ia.add(3),await td(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Hp(e)}async function tN(n,t){const e=Xt(n);t?(e.Ia.delete(2),await Hp(e)):t||(e.Ia.add(2),await td(e),e.Aa.set("Unknown"))}function Uu(n){return n.Va||(n.Va=function(e,i,r){const o=Xt(e);return o.ia(),new UP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:qP.bind(null,n),e_:$P.bind(null,n),n_:GP.bind(null,n),J_:YP.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),hv(n)?uv(n):n.Aa.set("Unknown")):(await n.Va.stop(),Ax(n))})),n.Va}function gl(n){return n.ma||(n.ma=function(e,i,r){const o=Xt(e);return o.ia(),new jP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:QP.bind(null,n),n_:JP.bind(null,n),ea:XP.bind(null,n),ta:ZP.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await qp(n)):(await n.ma.stop(),n.Pa.length>0&&(Ct(pc,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new fv(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(n,t){if(Xa("AsyncQueue",`${t}: ${n}`),Lu(n))return new wt(ut.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{static emptySet(t){return new pu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Nt.comparator(e.key,i.key):(e,i)=>Nt.comparator(e.key,i.key),this.keyedMap=hf(),this.sortedSet=new We(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof pu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new pu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.fa=new We(Nt.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):$t(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Su{constructor(t,e,i,r,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new Su(t,e,pu.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class nN{constructor(){this.queries=UT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=Xt(e),o=r.queries;r.queries=UT(),o.forEach((c,h)=>{for(const f of h.wa)f.onError(i)})})(this,new wt(ut.ABORTED,"Firestore shutting down"))}}function UT(){return new vc(n=>KA(n),Vp)}async function gv(n,t){const e=Xt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new eN,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=dv(c,`Initialization of query '${lu(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&mv(e)}async function pv(n,t){const e=Xt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.wa.indexOf(t);c>=0&&(o.wa.splice(c,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function iN(n,t){const e=Xt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.wa)h.Ca(r)&&(i=!0);c.ya=r}}i&&mv(e)}function sN(n,t,e){const i=Xt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function mv(n){n.Da.forEach(t=>{t.next()})}var _y,jT;(jT=_y||(_y={})).Fa="default",jT.Cache="cache";class _v{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Su(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.key=t}}class Dx{constructor(t){this.key=t}}class rN{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=QA(t),this.eu=new pu(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new VT,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,b)=>{const E=r.get(_),A=Up(this.query,b)?b:null,R=!!E&&this.mutatedKeys.has(E.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;E&&A?E.data.isEqual(A.data)?R!==I&&(i.track({type:3,doc:A}),M=!0):this.iu(E,A)||(i.track({type:2,doc:A}),M=!0,(f&&this.Xa(A,f)>0||g&&this.Xa(A,g)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),M=!0):E&&!A&&(i.track({type:1,doc:E}),M=!0,(f||g)&&(h=!0)),M&&(A?(c=c.add(A),o=I?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((_,b)=>function(A,R){const I=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{At:M})}};return I(A)-I(R)}(_.type,b.type)||this.Xa(_.doc,b.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],f=this.Za.size===0&&this.current&&!r?1:0,g=f!==this.Ya;return this.Ya=f,c.length!==0||g?{snapshot:new Su(this.query,t.eu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new VT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=ue(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new Dx(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new Ix(i))}),e}uu(t){this.Ha=t.qs,this.Za=ue();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Su.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yv="SyncEngine";class aN{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class oN{constructor(t){this.key=t,this.lu=!1}}class lN{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new vc(h=>KA(h),Vp),this.Tu=new Map,this.Iu=new Set,this.du=new We(Nt.comparator),this.Eu=new Map,this.Au=new sv,this.Ru={},this.Vu=new Map,this.mu=wu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function cN(n,t,e=!0){const i=Lx(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await Ox(i,t,e,!0),r}async function uN(n,t){const e=Lx(n);await Ox(e,t,!0,!1)}async function Ox(n,t,e,i){const r=await DP(n.localStore,Yr(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await hN(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&wx(n.remoteStore,r),h}async function hN(n,t,e,i,r){n.gu=(b,E,A)=>async function(I,M,L,G){let J=M.view.nu(L);J.Ds&&(J=await OT(I.localStore,M.query,!1).then(({documents:V})=>M.view.nu(V,J)));const at=G&&G.targetChanges.get(M.targetId),rt=G&&G.targetMismatches.get(M.targetId)!=null,pt=M.view.applyChanges(J,I.isPrimaryClient,at,rt);return BT(I,M.targetId,pt._u),pt.snapshot}(n,b,E,A);const o=await OT(n.localStore,t,!0),c=new rN(t,o.qs),h=c.nu(o.documents),f=Jf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=c.applyChanges(h,n.isPrimaryClient,f);BT(n,e,g._u);const _=new aN(t,e,c);return n.Pu.set(t,_),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),g.snapshot}async function fN(n,t,e){const i=Xt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(c=>!Vp(c,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await py(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&lv(i.remoteStore,r.targetId),yy(i,r.targetId)}).catch(Nu)):(yy(i,r.targetId),await py(i.localStore,r.targetId,!0))}async function dN(n,t){const e=Xt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),lv(e.remoteStore,i.targetId))}async function gN(n,t,e){const i=EN(n);try{const r=await function(c,h){const f=Xt(c),g=Fe.now(),_=h.reduce((A,R)=>A.add(R.key),ue());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=Za(),I=ue();return f.Os.getEntries(A,_).next(M=>{R=M,R.forEach((L,G)=>{G.isValidDocument()||(I=I.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,R)).next(M=>{b=M;const L=[];for(const G of h){const J=Dk(G,b.get(G.key).overlayedDocument);J!=null&&L.push(new yl(G.key,J,BA(J.value.mapValue),Us.exists(!0)))}return f.mutationQueue.addMutationBatch(A,g,L,h)}).next(M=>{E=M;const L=M.applyToLocalDocumentSet(b,I);return f.documentOverlayCache.saveOverlays(A,M.batchId,L)})}).then(()=>({batchId:E.batchId,changes:ZA(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,f){let g=c.Ru[c.currentUser.toKey()];g||(g=new We(te)),g=g.insert(h,f),c.Ru[c.currentUser.toKey()]=g}(i,r.batchId,e),await ed(i,r.changes),await qp(i.remoteStore)}catch(r){const o=dv(r,"Failed to persist write");e.reject(o)}}async function Mx(n,t){const e=Xt(n);try{const i=await RP(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Eu.get(o);c&&(we(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.lu=!0:r.modifiedDocuments.size>0?we(c.lu,14607):r.removedDocuments.size>0&&(we(c.lu,42227),c.lu=!1))}),await ed(e,i,t)}catch(i){await Nu(i)}}function zT(n,t,e){const i=Xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const f=Xt(c);f.onlineState=h;let g=!1;f.queries.forEach((_,b)=>{for(const E of b.wa)E.va(h)&&(g=!0)}),g&&mv(f)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function pN(n,t,e){const i=Xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let c=new We(Nt.comparator);c=c.insert(o,ui.newNoDocument(o,Kt.min()));const h=ue().add(o),f=new Bp(Kt.min(),new Map,new We(te),c,h);await Mx(i,f),i.du=i.du.remove(o),i.Eu.delete(t),vv(i)}else await py(i.localStore,t,!1).then(()=>yy(i,t,e)).catch(Nu)}async function mN(n,t){const e=Xt(n),i=t.batch.batchId;try{const r=await xP(e.localStore,t);Px(e,i,null),kx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ed(e,r)}catch(r){await Nu(r)}}async function _N(n,t,e){const i=Xt(n);try{const r=await function(c,h){const f=Xt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next(b=>(we(b!==null,37113),_=b.keys(),f.mutationQueue.removeMutationBatch(g,b))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(i.localStore,t);Px(i,t,e),kx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ed(i,r)}catch(r){await Nu(r)}}function kx(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function Px(n,t,e){const i=Xt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function yy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||Nx(n,i)})}function Nx(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(lv(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),vv(n))}function BT(n,t,e){for(const i of e)i instanceof Ix?(n.Au.addReference(i.key,t),yN(n,i)):i instanceof Dx?(Ct(yv,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||Nx(n,i.key)):$t(19791,{yu:i})}function yN(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(Ct(yv,"New document in limbo: "+e),n.Iu.add(i),vv(n))}function vv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Nt(je.fromString(t)),i=n.mu.next();n.Eu.set(i,new oN(e)),n.du=n.du.insert(e,i),wx(n.remoteStore,new Xo(Yr(Lp(e.path)),i,"TargetPurposeLimboResolution",kp.ue))}}async function ed(n,t,e){const i=Xt(n),r=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((h,f)=>{c.push(i.gu(f,t,e).then(g=>{var _;if((g||e)&&i.isPrimaryClient){const b=g?!g.fromCache:(_=e?.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){r.push(g);const b=av.Es(f.targetId,g);o.push(b)}}))}),await Promise.all(c),i.hu.J_(r),await async function(f,g){const _=Xt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>dt.forEach(g,E=>dt.forEach(E.Is,A=>_.persistence.referenceDelegate.addReference(b,E.targetId,A)).next(()=>dt.forEach(E.ds,A=>_.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))}catch(b){if(!Lu(b))throw b;Ct(ov,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const A=_.Fs.get(E),R=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(R);_.Fs=_.Fs.insert(E,I)}}}(i.localStore,o))}async function vN(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){Ct(yv,"User change. New user:",t.toKey());const i=await vx(e.localStore,t);e.currentUser=t,function(o,c){o.Vu.forEach(h=>{h.forEach(f=>{f.reject(new wt(ut.CANCELLED,c))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ed(e,i.Bs)}}function bN(n,t){const e=Xt(n),i=e.Eu.get(t);if(i&&i.lu)return ue().add(i.key);{let r=ue();const o=e.Tu.get(t);if(!o)return r;for(const c of o){const h=e.Pu.get(c);r=r.unionWith(h.view.tu)}return r}}function Lx(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pN.bind(null,t),t.hu.J_=iN.bind(null,t.eventManager),t.hu.pu=sN.bind(null,t.eventManager),t}function EN(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,t),t}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return AP(this.persistence,new TP,t.initialUser,this.serializer)}Du(t){return new yx(rv.Vi,this.serializer)}bu(t){return new MP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class TN extends fp{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){we(this.persistence.referenceDelegate instanceof up,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oP(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?Ui.withCacheSize(this.cacheSizeBytes):Ui.DEFAULT;return new yx(i=>up.Vi(i,e),this.serializer)}}class vy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nN}()}createDatastore(t){const e=Fp(t.databaseInfo.databaseId),i=function(o){return new VP(o)}(t.databaseInfo);return function(o,c,h,f){return new BP(o,c,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new HP(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>zT(this.syncEngine,e,0),function(){return PT.C()?new PT:new kP}())}createSyncEngine(t,e){return function(r,o,c,h,f,g,_){const b=new lN(r,o,c,h,f,g);return _&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Xt(r);Ct(pc,"RemoteStore shutting down."),o.Ia.add(5),await td(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}vy.provider={build:()=>new vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Xa("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="FirestoreClient";class wN{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ci.UNAUTHENTICATED,this.clientId=Yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{Ct(pl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ct(pl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=dv(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function M_(n,t){n.asyncQueue.verifyOperationInProgress(),Ct(pl,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await vx(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{cl("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{cl("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function FT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await SN(n);Ct(pl,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>LT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>LT(t.remoteStore,r)),n._onlineComponents=t}async function SN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ct(pl,"Using user provided OfflineComponentProvider");try{await M_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===ut.FAILED_PRECONDITION||r.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;cl("Error using user provided cache. Falling back to memory cache: "+e),await M_(n,new fp)}}else Ct(pl,"Using default OfflineComponentProvider"),await M_(n,new TN(void 0));return n._offlineComponents}async function Vx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ct(pl,"Using user provided OnlineComponentProvider"),await FT(n,n._uninitializedComponentsProvider._online)):(Ct(pl,"Using default OnlineComponentProvider"),await FT(n,new vy))),n._onlineComponents}function AN(n){return Vx(n).then(t=>t.syncEngine)}async function dp(n){const t=await Vx(n),e=t.eventManager;return e.onListen=cN.bind(null,t.syncEngine),e.onUnlisten=fN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=uN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=dN.bind(null,t.syncEngine),e}function xN(n,t,e={}){const i=new Ga;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,g){const _=new bv({next:E=>{_.Ou(),c.enqueueAndForget(()=>pv(o,b));const A=E.docs.has(h);!A&&E.fromCache?g.reject(new wt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?g.reject(new wt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new _v(Lp(h.path),_,{includeMetadataChanges:!0,ka:!0});return gv(o,b)}(await dp(n),n.asyncQueue,t,e,i)),i.promise}function RN(n,t,e={}){const i=new Ga;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,g){const _=new bv({next:E=>{_.Ou(),c.enqueueAndForget(()=>pv(o,b)),E.fromCache&&f.source==="server"?g.reject(new wt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new _v(h,_,{includeMetadataChanges:!0,ka:!0});return gv(o,b)}(await dp(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="firestore.googleapis.com",qT=!0;class $T{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new wt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jx,this.ssl=qT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:qT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_x;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rP)throw new wt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}H2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new wt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $p{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new P2;switch(i.type){case"firstParty":return new U2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new wt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=HT.get(e);i&&(Ct("ComponentProvider","Removing Datastore"),HT.delete(e),i.terminate())}(this),Promise.resolve()}}function CN(n,t,e,i={}){var r;n=Hi(n,$p);const o=Ou(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(MS(`https://${f}`),kS("Firestore",!0)),c.host!==jx&&c.host!==f&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!uc(g,h)&&(n._setSettings(g),i.mockUserToken)){let _,b;if(typeof i.mockUserToken=="string")_=i.mockUserToken,b=ci.MOCK_USER;else{_=$I(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new wt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ci(E)}n._authCredentials=new N2(new CA(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vl(this.firestore,t,this._query)}}class en{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Xf(e,en._jsonSchema))return new en(t,i||null,new Nt(je.fromString(e.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Tn("string",en._jsonSchemaVersion),referencePath:Tn("string")};class al extends vl{constructor(t,e,i){super(t,e,Lp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Nt(t))}withConverter(t){return new al(this.firestore,t,this._path)}}function Ya(n,t,...e){if(n=wn(n),DA("collection","path",t),n instanceof $p){const i=je.fromString(t,...e);return sT(i),new al(n,null,i)}{if(!(n instanceof en||n instanceof al))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(je.fromString(t,...e));return sT(i),new al(n.firestore,null,i)}}function Kr(n,t,...e){if(n=wn(n),arguments.length===1&&(t=Yy.newId()),DA("doc","path",t),n instanceof $p){const i=je.fromString(t,...e);return iT(i),new en(n,null,new Nt(i))}{if(!(n instanceof en||n instanceof al))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(je.fromString(t,...e));return iT(i),new en(n.firestore,n instanceof al?n.converter:null,new Nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class YT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ex(this,"async_queue_retry"),this.oc=()=>{const i=O_();i&&Ct(GT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=O_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=O_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new Ga;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Lu(t))throw t;Ct(GT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Xa("INTERNAL UNHANDLED ERROR: ",WT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=fv.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&$t(47125,{hc:WT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function WT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ja extends $p{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new YT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new YT(t),this._firestoreClient=void 0,await t}}}function IN(n,t){const e=typeof n=="object"?n:VS(),i=typeof n=="string"?n:rp,r=Ly(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=HI("firestore");o&&CN(r,...o)}return r}function Gp(n){if(n._terminated)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DN(n),n._firestoreClient}function DN(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,_){return new tk(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Ux(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new wN(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vs(ti.fromBase64String(t))}catch(e){throw new wt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vs(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xf(t,Vs._jsonSchema))return Vs.fromBase64String(t.bytes)}}Vs._jsonSchemaVersion="firestore/bytes/1.0",Vs._jsonSchema={type:Tn("string",Vs._jsonSchemaVersion),bytes:Tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new wt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new wt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(t){if(Xf(t,Qr._jsonSchema))return new Qr(t.latitude,t.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Tn("string",Qr._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xf(t,Xr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Xr(t.vectorValues);throw new wt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:Tn("string",Xr._jsonSchemaVersion),vectorValues:Tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^__.*__$/;class MN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new yl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zf(t,this.data,e,this.fieldTransforms)}}class zx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new yl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Bx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ec:n})}}class Ev{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Ev(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return gp(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(Bx(this.Ec)&&ON.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class kN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Fp(t)}Dc(t,e,i,r=!1){return new Ev({Ec:t,methodName:e,bc:i,path:Zn.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(n){const t=n._freezeSettings(),e=Fp(n._databaseId);return new kN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Fx(n,t,e,i,r,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);wv("Data must be an object, but it was:",c,i);const h=Hx(i,c);let f,g;if(o.merge)f=new hs(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const b of o.mergeFields){const E=by(t,b,e);if(!c.contains(E))throw new wt(ut.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);$x(_,E)||_.push(E)}f=new hs(_),g=c.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,g=c.fieldTransforms;return new MN(new ji(h),f,g)}class Qp extends Wp{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qp}}class Tv extends Wp{_toFieldTransform(t){return new xk(t.path,new Lf)}isEqual(t){return t instanceof Tv}}function PN(n,t,e,i){const r=n.Dc(1,t,e);wv("Data must be an object, but it was:",r,i);const o=[],c=ji.empty();_l(i,(f,g)=>{const _=Sv(t,f,e);g=wn(g);const b=r.gc(_);if(g instanceof Qp)o.push(_);else{const E=nd(g,b);E!=null&&(o.push(_),c.set(_,E))}});const h=new hs(o);return new zx(c,h,r.fieldTransforms)}function NN(n,t,e,i,r,o){const c=n.Dc(1,t,e),h=[by(t,i,e)],f=[r];if(o.length%2!=0)throw new wt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(by(t,o[E])),f.push(o[E+1]);const g=[],_=ji.empty();for(let E=h.length-1;E>=0;--E)if(!$x(g,h[E])){const A=h[E];let R=f[E];R=wn(R);const I=c.gc(A);if(R instanceof Qp)g.push(A);else{const M=nd(R,I);M!=null&&(g.push(A),_.set(A,M))}}const b=new hs(g);return new zx(_,b,c.fieldTransforms)}function LN(n,t,e,i=!1){return nd(e,n.Dc(i?4:3,t))}function nd(n,t){if(qx(n=wn(n)))return wv("Unsupported field value:",t,n),Hx(n,t);if(n instanceof Wp)return function(i,r){if(!Bx(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let f=nd(h,r.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Fe.fromDate(i);return{timestampValue:cp(r.serializer,o)}}if(i instanceof Fe){const o=new Fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cp(r.serializer,o)}}if(i instanceof Qr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vs)return{bytesValue:ux(r.serializer,i._byteString)};if(i instanceof en){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Xr)return function(c,h){return{mapValue:{fields:{[jA]:{stringValue:zA},[ap]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.wc("VectorValues must only contain numeric values.");return Jy(h.serializer,g)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Mp(i)}`)}(n,t)}function Hx(n,t){const e={};return kA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_l(n,(i,r)=>{const o=nd(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fe||n instanceof Qr||n instanceof Vs||n instanceof en||n instanceof Wp||n instanceof Xr)}function wv(n,t,e){if(!qx(e)||!OA(e)){const i=Mp(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function by(n,t,e){if((t=wn(t))instanceof Yp)return t._internalPath;if(typeof t=="string")return Sv(n,t);throw gp("Field path arguments must be of type string or ",n,!1,void 0,e)}const VN=new RegExp("[~\\*/\\[\\]]");function Sv(n,t,e){if(t.search(VN)>=0)throw gp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Yp(...t.split("."))._internalPath}catch{throw gp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function gp(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new wt(ut.INVALID_ARGUMENT,h+n+f)}function $x(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Xp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class UN extends Gx{data(){return super.data()}}function Xp(n,t){return typeof t=="string"?Sv(n,t):t instanceof Yp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new wt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class Wx extends Av{}function Au(n,t,...e){let i=[];t instanceof Av&&i.push(t),i=i.concat(e),function(o){const c=o.filter(f=>f instanceof xv).length,h=o.filter(f=>f instanceof Zp).length;if(c>1||c>0&&h>0)throw new wt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Zp extends Wx{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Zp(t,e,i)}_apply(t){const e=this._parse(t);return Kx(t._query,e),new vl(t.firestore,t.converter,cy(t._query,e))}_parse(t){const e=Kp(t.firestore);return function(o,c,h,f,g,_,b){let E;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new wt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){XT(b,_);const R=[];for(const I of b)R.push(QT(f,o,I));E={arrayValue:{values:R}}}else E=QT(f,o,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||XT(b,_),E=LN(h,c,b,_==="in"||_==="not-in");return En.create(g,_,E)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Zo(n,t,e){const i=t,r=Xp("where",n);return Zp._create(r,i,e)}class xv extends Av{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new xv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ur.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)Kx(c,f),c=cy(c,f)}(t._query,e),new vl(t.firestore,t.converter,cy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rv extends Wx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Rv(t,e)}_apply(t){const e=function(r,o,c){if(r.startAt!==null)throw new wt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new wt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nf(o,c)}(t._query,this._field,this._direction);return new vl(t.firestore,t.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Vu(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function jN(n,t="asc"){const e=t,i=Xp("orderBy",n);return Rv._create(i,e)}function QT(n,t,e){if(typeof(e=wn(e))=="string"){if(e==="")throw new wt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WA(t)&&e.indexOf("/")!==-1)throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(je.fromString(e));if(!Nt.isDocumentKey(i))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fT(n,new Nt(i))}if(e instanceof en)return fT(n,e._key);throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mp(e)}.`)}function XT(n,t){if(!Array.isArray(n)||n.length===0)throw new wt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Kx(n,t){const e=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new wt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new wt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class zN{convertValue(t,e="none"){switch(dl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw $t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return _l(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[ap].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>fn(c.doubleValue));return new Xr(o)}convertGeoPoint(t){return new Qr(fn(t.latitude),fn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Np(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Mf(t));default:return null}}convertTimestamp(t){const e=hl(t);return new Fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=je.fromString(t);we(mx(i),9688,{name:t});const r=new kf(i.get(1),i.get(3)),o=new Nt(i.popFirst(5));return r.isEqual(e)||Xa(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class df{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oc extends Gx{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Xp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=oc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}oc._jsonSchemaVersion="firestore/documentSnapshot/1.0",oc._jsonSchema={type:Tn("string",oc._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class qg extends oc{data(t={}){return super.data(t)}}class lc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new df(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qg(this._firestore,this._userDataWriter,i.key,i,new df(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const f=new qg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new df(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new qg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new df(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:BN(h.type),doc:f,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){n=Hi(n,en);const t=Hi(n.firestore,Ja);return xN(Gp(t),n._key).then(e=>Xx(t,n,e))}lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:Tn("string",lc._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class Iv extends zN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vs(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,e)}}function pp(n){n=Hi(n,vl);const t=Hi(n.firestore,Ja),e=Gp(t),i=new Iv(t);return Yx(n._query),RN(e,n._query).then(r=>new lc(t,i,n,r))}function FN(n,t,e){n=Hi(n,en);const i=Hi(n.firestore,Ja),r=Qx(n.converter,t);return Jp(i,[Fx(Kp(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Us.none())])}function mu(n,t,e,...i){n=Hi(n,en);const r=Hi(n.firestore,Ja),o=Kp(r);let c;return c=typeof(t=wn(t))=="string"||t instanceof Yp?NN(o,"updateDoc",n._key,t,e,i):PN(o,"updateDoc",n._key,t),Jp(r,[c.toMutation(n._key,Us.exists(!0))])}function HN(n){return Jp(Hi(n.firestore,Ja),[new tv(n._key,Us.none())])}function Dv(n,t){const e=Hi(n.firestore,Ja),i=Kr(n),r=Qx(n.converter,t);return Jp(e,[Fx(Kp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Us.exists(!1))]).then(()=>i)}function mp(n,...t){var e,i,r;n=wn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||KT(t[c])||(o=t[c++]);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KT(t[c])){const b=t[c];t[c]=(e=b.next)===null||e===void 0?void 0:e.bind(b),t[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),t[c+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}let f,g,_;if(n instanceof en)g=Hi(n.firestore,Ja),_=Lp(n._key.path),f={next:b=>{t[c]&&t[c](Xx(g,n,b))},error:t[c+1],complete:t[c+2]};else{const b=Hi(n,vl);g=Hi(b.firestore,Ja),_=b._query;const E=new Iv(g);f={next:A=>{t[c]&&t[c](new lc(g,E,b,A))},error:t[c+1],complete:t[c+2]},Yx(n._query)}return function(E,A,R,I){const M=new bv(I),L=new _v(A,M,R);return E.asyncQueue.enqueueAndForget(async()=>gv(await dp(E),L)),()=>{M.Ou(),E.asyncQueue.enqueueAndForget(async()=>pv(await dp(E),L))}}(Gp(g),_,h,f)}function Jp(n,t){return function(i,r){const o=new Ga;return i.asyncQueue.enqueueAndForget(async()=>gN(await AN(i),r,o)),o.promise}(Gp(n),t)}function Xx(n,t,e){const i=e.docs.get(t._key),r=new Iv(n);return new oc(n,r,t._key,i,new df(e.hasPendingWrites,e.fromCache),t.converter)}function qN(){return new Tv("serverTimestamp")}(function(t,e=!0){(function(r){Pu=r})(Mu),vu(new hc("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Ja(new L2(i.getProvider("auth-internal")),new j2(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new wt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(g.options.projectId,_)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),sl(ZE,JE,t),sl(ZE,JE,"esm2017")})();const $N={apiKey:"AIzaSyCHO2dPqK6jIN9xG_mKrAP823liRVjCshw",authDomain:"main-project-d44f1.firebaseapp.com",projectId:"main-project-d44f1",storageBucket:"main-project-d44f1.firebasestorage.app",messagingSenderId:"923550952943",appId:"1:923550952943:web:dc25f0ddc4751849021a1a"},Zx=LS($N),Fn=IN(Zx),hi=ac(Zx);var $g={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var GN=$g.exports,ZT;function YN(){return ZT||(ZT=1,function(n,t){(function(e,i){n.exports=i()})(GN,function(){const e=new Map,i={set(x,m,T){e.has(x)||e.set(x,new Map);const D=e.get(x);D.has(m)||D.size===0?D.set(m,T):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(D.keys())[0]}.`)},get:(x,m)=>e.has(x)&&e.get(x).get(m)||null,remove(x,m){if(!e.has(x))return;const T=e.get(x);T.delete(m),T.size===0&&e.delete(x)}},r="transitionend",o=x=>(x&&window.CSS&&window.CSS.escape&&(x=x.replace(/#([^\s"#']+)/g,(m,T)=>`#${CSS.escape(T)}`)),x),c=x=>{x.dispatchEvent(new Event(r))},h=x=>!(!x||typeof x!="object")&&(x.jquery!==void 0&&(x=x[0]),x.nodeType!==void 0),f=x=>h(x)?x.jquery?x[0]:x:typeof x=="string"&&x.length>0?document.querySelector(o(x)):null,g=x=>{if(!h(x)||x.getClientRects().length===0)return!1;const m=getComputedStyle(x).getPropertyValue("visibility")==="visible",T=x.closest("details:not([open])");if(!T)return m;if(T!==x){const D=x.closest("summary");if(D&&D.parentNode!==T||D===null)return!1}return m},_=x=>!x||x.nodeType!==Node.ELEMENT_NODE||!!x.classList.contains("disabled")||(x.disabled!==void 0?x.disabled:x.hasAttribute("disabled")&&x.getAttribute("disabled")!=="false"),b=x=>{if(!document.documentElement.attachShadow)return null;if(typeof x.getRootNode=="function"){const m=x.getRootNode();return m instanceof ShadowRoot?m:null}return x instanceof ShadowRoot?x:x.parentNode?b(x.parentNode):null},E=()=>{},A=x=>{x.offsetHeight},R=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,I=[],M=()=>document.documentElement.dir==="rtl",L=x=>{var m;m=()=>{const T=R();if(T){const D=x.NAME,$=T.fn[D];T.fn[D]=x.jQueryInterface,T.fn[D].Constructor=x,T.fn[D].noConflict=()=>(T.fn[D]=$,x.jQueryInterface)}},document.readyState==="loading"?(I.length||document.addEventListener("DOMContentLoaded",()=>{for(const T of I)T()}),I.push(m)):m()},G=(x,m=[],T=x)=>typeof x=="function"?x.call(...m):T,J=(x,m,T=!0)=>{if(!T)return void G(x);const D=(st=>{if(!st)return 0;let{transitionDuration:lt,transitionDelay:_t}=window.getComputedStyle(st);const St=Number.parseFloat(lt),Rt=Number.parseFloat(_t);return St||Rt?(lt=lt.split(",")[0],_t=_t.split(",")[0],1e3*(Number.parseFloat(lt)+Number.parseFloat(_t))):0})(m)+5;let $=!1;const Y=({target:st})=>{st===m&&($=!0,m.removeEventListener(r,Y),G(x))};m.addEventListener(r,Y),setTimeout(()=>{$||c(m)},D)},at=(x,m,T,D)=>{const $=x.length;let Y=x.indexOf(m);return Y===-1?!T&&D?x[$-1]:x[0]:(Y+=T?1:-1,D&&(Y=(Y+$)%$),x[Math.max(0,Math.min(Y,$-1))])},rt=/[^.]*(?=\..*)\.|.*/,pt=/\..*/,V=/::\d+$/,P={};let N=1;const z={mouseenter:"mouseover",mouseleave:"mouseout"},F=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function H(x,m){return m&&`${m}::${N++}`||x.uidEvent||N++}function U(x){const m=H(x);return x.uidEvent=m,P[m]=P[m]||{},P[m]}function ne(x,m,T=null){return Object.values(x).find(D=>D.callable===m&&D.delegationSelector===T)}function Mt(x,m,T){const D=typeof m=="string",$=D?T:m||T;let Y=Lt(x);return F.has(Y)||(Y=x),[D,$,Y]}function et(x,m,T,D,$){if(typeof m!="string"||!x)return;let[Y,st,lt]=Mt(m,T,D);m in z&&(st=(Wt=>function(Bt){if(!Bt.relatedTarget||Bt.relatedTarget!==Bt.delegateTarget&&!Bt.delegateTarget.contains(Bt.relatedTarget))return Wt.call(this,Bt)})(st));const _t=U(x),St=_t[lt]||(_t[lt]={}),Rt=ne(St,st,Y?T:null);if(Rt)return void(Rt.oneOff=Rt.oneOff&&$);const Et=H(st,m.replace(rt,"")),Yt=Y?function(Pt,Wt,Bt){return function Vt(_e){const Se=Pt.querySelectorAll(Wt);for(let{target:Zt}=_e;Zt&&Zt!==this;Zt=Zt.parentNode)for(const he of Se)if(he===Zt)return ht(_e,{delegateTarget:Zt}),Vt.oneOff&&k.off(Pt,_e.type,Wt,Bt),Bt.apply(Zt,[_e])}}(x,T,st):function(Pt,Wt){return function Bt(Vt){return ht(Vt,{delegateTarget:Pt}),Bt.oneOff&&k.off(Pt,Vt.type,Wt),Wt.apply(Pt,[Vt])}}(x,st);Yt.delegationSelector=Y?T:null,Yt.callable=st,Yt.oneOff=$,Yt.uidEvent=Et,St[Et]=Yt,x.addEventListener(lt,Yt,Y)}function gt(x,m,T,D,$){const Y=ne(m[T],D,$);Y&&(x.removeEventListener(T,Y,!!$),delete m[T][Y.uidEvent])}function xt(x,m,T,D){const $=m[T]||{};for(const[Y,st]of Object.entries($))Y.includes(D)&&gt(x,m,T,st.callable,st.delegationSelector)}function Lt(x){return x=x.replace(pt,""),z[x]||x}const k={on(x,m,T,D){et(x,m,T,D,!1)},one(x,m,T,D){et(x,m,T,D,!0)},off(x,m,T,D){if(typeof m!="string"||!x)return;const[$,Y,st]=Mt(m,T,D),lt=st!==m,_t=U(x),St=_t[st]||{},Rt=m.startsWith(".");if(Y===void 0){if(Rt)for(const Et of Object.keys(_t))xt(x,_t,Et,m.slice(1));for(const[Et,Yt]of Object.entries(St)){const Pt=Et.replace(V,"");lt&&!m.includes(Pt)||gt(x,_t,st,Yt.callable,Yt.delegationSelector)}}else{if(!Object.keys(St).length)return;gt(x,_t,st,Y,$?T:null)}},trigger(x,m,T){if(typeof m!="string"||!x)return null;const D=R();let $=null,Y=!0,st=!0,lt=!1;m!==Lt(m)&&D&&($=D.Event(m,T),D(x).trigger($),Y=!$.isPropagationStopped(),st=!$.isImmediatePropagationStopped(),lt=$.isDefaultPrevented());const _t=ht(new Event(m,{bubbles:Y,cancelable:!0}),T);return lt&&_t.preventDefault(),st&&x.dispatchEvent(_t),_t.defaultPrevented&&$&&$.preventDefault(),_t}};function ht(x,m={}){for(const[T,D]of Object.entries(m))try{x[T]=D}catch{Object.defineProperty(x,T,{configurable:!0,get:()=>D})}return x}function yt(x){if(x==="true")return!0;if(x==="false")return!1;if(x===Number(x).toString())return Number(x);if(x===""||x==="null")return null;if(typeof x!="string")return x;try{return JSON.parse(decodeURIComponent(x))}catch{return x}}function mt(x){return x.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const At={setDataAttribute(x,m,T){x.setAttribute(`data-bs-${mt(m)}`,T)},removeDataAttribute(x,m){x.removeAttribute(`data-bs-${mt(m)}`)},getDataAttributes(x){if(!x)return{};const m={},T=Object.keys(x.dataset).filter(D=>D.startsWith("bs")&&!D.startsWith("bsConfig"));for(const D of T){let $=D.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1),m[$]=yt(x.dataset[D])}return m},getDataAttribute:(x,m)=>yt(x.getAttribute(`data-bs-${mt(m)}`))};class jt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,T){const D=h(T)?At.getDataAttribute(T,"config"):{};return{...this.constructor.Default,...typeof D=="object"?D:{},...h(T)?At.getDataAttributes(T):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,T=this.constructor.DefaultType){for(const[$,Y]of Object.entries(T)){const st=m[$],lt=h(st)?"element":(D=st)==null?`${D}`:Object.prototype.toString.call(D).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Y).test(lt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${$}" provided type "${lt}" but expected type "${Y}".`)}var D}}class It extends jt{constructor(m,T){super(),(m=f(m))&&(this._element=m,this._config=this._getConfig(T),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),k.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,T,D=!0){J(m,T,D)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return i.get(f(m),this.DATA_KEY)}static getOrCreateInstance(m,T={}){return this.getInstance(m)||new this(m,typeof T=="object"?T:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const Ke=x=>{let m=x.getAttribute("data-bs-target");if(!m||m==="#"){let T=x.getAttribute("href");if(!T||!T.includes("#")&&!T.startsWith("."))return null;T.includes("#")&&!T.startsWith("#")&&(T=`#${T.split("#")[1]}`),m=T&&T!=="#"?T.trim():null}return m?m.split(",").map(T=>o(T)).join(","):null},bt={find:(x,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,x)),findOne:(x,m=document.documentElement)=>Element.prototype.querySelector.call(m,x),children:(x,m)=>[].concat(...x.children).filter(T=>T.matches(m)),parents(x,m){const T=[];let D=x.parentNode.closest(m);for(;D;)T.push(D),D=D.parentNode.closest(m);return T},prev(x,m){let T=x.previousElementSibling;for(;T;){if(T.matches(m))return[T];T=T.previousElementSibling}return[]},next(x,m){let T=x.nextElementSibling;for(;T;){if(T.matches(m))return[T];T=T.nextElementSibling}return[]},focusableChildren(x){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(T=>`${T}:not([tabindex^="-"])`).join(",");return this.find(m,x).filter(T=>!_(T)&&g(T))},getSelectorFromElement(x){const m=Ke(x);return m&&bt.findOne(m)?m:null},getElementFromSelector(x){const m=Ke(x);return m?bt.findOne(m):null},getMultipleElementsFromSelector(x){const m=Ke(x);return m?bt.find(m):[]}},di=(x,m="hide")=>{const T=`click.dismiss${x.EVENT_KEY}`,D=x.NAME;k.on(document,T,`[data-bs-dismiss="${D}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this))return;const Y=bt.getElementFromSelector(this)||this.closest(`.${D}`);x.getOrCreateInstance(Y)[m]()})},Bs=".bs.alert",Fs=`close${Bs}`,Jr=`closed${Bs}`;class qi extends It{static get NAME(){return"alert"}close(){if(k.trigger(this._element,Fs).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),k.trigger(this._element,Jr),this.dispose()}static jQueryInterface(m){return this.each(function(){const T=qi.getOrCreateInstance(this);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m](this)}})}}di(qi,"close"),L(qi);const gr='[data-bs-toggle="button"]';class Hs extends It{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const T=Hs.getOrCreateInstance(this);m==="toggle"&&T[m]()})}}k.on(document,"click.bs.button.data-api",gr,x=>{x.preventDefault();const m=x.target.closest(gr);Hs.getOrCreateInstance(m).toggle()}),L(Hs);const qs=".bs.swipe",wi=`touchstart${qs}`,Fu=`touchmove${qs}`,bl=`touchend${qs}`,so=`pointerdown${qs}`,ta=`pointerup${qs}`,Hu={endCallback:null,leftCallback:null,rightCallback:null},ro={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class pr extends jt{constructor(m,T){super(),this._element=m,m&&pr.isSupported()&&(this._config=this._getConfig(T),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Hu}static get DefaultType(){return ro}static get NAME(){return"swipe"}dispose(){k.off(this._element,qs)}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const T=m/this._deltaX;this._deltaX=0,T&&G(T>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(k.on(this._element,so,m=>this._start(m)),k.on(this._element,ta,m=>this._end(m)),this._element.classList.add("pointer-event")):(k.on(this._element,wi,m=>this._start(m)),k.on(this._element,Fu,m=>this._move(m)),k.on(this._element,bl,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $i=".bs.carousel",ze=".data-api",Ee="ArrowLeft",gi="ArrowRight",Qe="next",$s="prev",mr="left",fs="right",ea=`slide${$i}`,Gs=`slid${$i}`,Gi=`keydown${$i}`,ao=`mouseenter${$i}`,na=`mouseleave${$i}`,El=`dragstart${$i}`,Tl=`load${$i}${ze}`,wl=`click${$i}${ze}`,ds="carousel",Si="active",oo=".active",Yi=".carousel-item",Sl=oo+Yi,_r={[Ee]:fs,[gi]:mr},lo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},yr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ys extends It{constructor(m,T){super(m,T),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=bt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ds&&this.cycle()}static get Default(){return lo}static get DefaultType(){return yr}static get NAME(){return"carousel"}next(){this._slide(Qe)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide($s)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?k.one(this._element,Gs,()=>this.cycle()):this.cycle())}to(m){const T=this._getItems();if(m>T.length-1||m<0)return;if(this._isSliding)return void k.one(this._element,Gs,()=>this.to(m));const D=this._getItemIndex(this._getActive());if(D===m)return;const $=m>D?Qe:$s;this._slide($,T[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&k.on(this._element,Gi,m=>this._keydown(m)),this._config.pause==="hover"&&(k.on(this._element,ao,()=>this.pause()),k.on(this._element,na,()=>this._maybeEnableCycle())),this._config.touch&&pr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const T of bt.find(".carousel-item img",this._element))k.on(T,El,D=>D.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(mr)),rightCallback:()=>this._slide(this._directionToOrder(fs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new pr(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const T=_r[m.key];T&&(m.preventDefault(),this._slide(this._directionToOrder(T)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const T=bt.findOne(oo,this._indicatorsElement);T.classList.remove(Si),T.removeAttribute("aria-current");const D=bt.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);D&&(D.classList.add(Si),D.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const T=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=T||this._config.defaultInterval}_slide(m,T=null){if(this._isSliding)return;const D=this._getActive(),$=m===Qe,Y=T||at(this._getItems(),D,$,this._config.wrap);if(Y===D)return;const st=this._getItemIndex(Y),lt=Et=>k.trigger(this._element,Et,{relatedTarget:Y,direction:this._orderToDirection(m),from:this._getItemIndex(D),to:st});if(lt(ea).defaultPrevented||!D||!Y)return;const _t=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(st),this._activeElement=Y;const St=$?"carousel-item-start":"carousel-item-end",Rt=$?"carousel-item-next":"carousel-item-prev";Y.classList.add(Rt),A(Y),D.classList.add(St),Y.classList.add(St),this._queueCallback(()=>{Y.classList.remove(St,Rt),Y.classList.add(Si),D.classList.remove(Si,Rt,St),this._isSliding=!1,lt(Gs)},D,this._isAnimated()),_t&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return bt.findOne(Sl,this._element)}_getItems(){return bt.find(Yi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return M()?m===mr?$s:Qe:m===mr?Qe:$s}_orderToDirection(m){return M()?m===$s?mr:fs:m===$s?fs:mr}static jQueryInterface(m){return this.each(function(){const T=Ys.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}}else T.to(m)})}}k.on(document,wl,"[data-bs-slide], [data-bs-slide-to]",function(x){const m=bt.getElementFromSelector(this);if(!m||!m.classList.contains(ds))return;x.preventDefault();const T=Ys.getOrCreateInstance(m),D=this.getAttribute("data-bs-slide-to");return D?(T.to(D),void T._maybeEnableCycle()):At.getDataAttribute(this,"slide")==="next"?(T.next(),void T._maybeEnableCycle()):(T.prev(),void T._maybeEnableCycle())}),k.on(window,Tl,()=>{const x=bt.find('[data-bs-ride="carousel"]');for(const m of x)Ys.getOrCreateInstance(m)}),L(Ys);const Te=".bs.collapse",nn=`show${Te}`,Xe=`shown${Te}`,Ai=`hide${Te}`,Al=`hidden${Te}`,qu=`click${Te}.data-api`,gs="show",Ws="collapse",ps="collapsing",vr=`:scope .${Ws} .${Ws}`,Wi='[data-bs-toggle="collapse"]',ms={parent:null,toggle:!0},_s={parent:"(null|element)",toggle:"boolean"};class Ze extends It{constructor(m,T){super(m,T),this._isTransitioning=!1,this._triggerArray=[];const D=bt.find(Wi);for(const $ of D){const Y=bt.getSelectorFromElement($),st=bt.find(Y).filter(lt=>lt===this._element);Y!==null&&st.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ms}static get DefaultType(){return _s}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter($=>$!==this._element).map($=>Ze.getOrCreateInstance($,{toggle:!1}))),m.length&&m[0]._isTransitioning||k.trigger(this._element,nn).defaultPrevented)return;for(const $ of m)$.hide();const T=this._getDimension();this._element.classList.remove(Ws),this._element.classList.add(ps),this._element.style[T]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const D=`scroll${T[0].toUpperCase()+T.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ps),this._element.classList.add(Ws,gs),this._element.style[T]="",k.trigger(this._element,Xe)},this._element,!0),this._element.style[T]=`${this._element[D]}px`}hide(){if(this._isTransitioning||!this._isShown()||k.trigger(this._element,Ai).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,A(this._element),this._element.classList.add(ps),this._element.classList.remove(Ws,gs);for(const T of this._triggerArray){const D=bt.getElementFromSelector(T);D&&!this._isShown(D)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ps),this._element.classList.add(Ws),k.trigger(this._element,Al)},this._element,!0)}_isShown(m=this._element){return m.classList.contains(gs)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=f(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(Wi);for(const T of m){const D=bt.getElementFromSelector(T);D&&this._addAriaAndCollapsedClass([T],this._isShown(D))}}_getFirstLevelChildren(m){const T=bt.find(vr,this._config.parent);return bt.find(m,this._config.parent).filter(D=>!T.includes(D))}_addAriaAndCollapsedClass(m,T){if(m.length)for(const D of m)D.classList.toggle("collapsed",!T),D.setAttribute("aria-expanded",T)}static jQueryInterface(m){const T={};return typeof m=="string"&&/show|hide/.test(m)&&(T.toggle=!1),this.each(function(){const D=Ze.getOrCreateInstance(this,T);if(typeof m=="string"){if(D[m]===void 0)throw new TypeError(`No method named "${m}"`);D[m]()}})}}k.on(document,qu,Wi,function(x){(x.target.tagName==="A"||x.delegateTarget&&x.delegateTarget.tagName==="A")&&x.preventDefault();for(const m of bt.getMultipleElementsFromSelector(this))Ze.getOrCreateInstance(m,{toggle:!1}).toggle()}),L(Ze);var ie="top",Sn="bottom",gn="right",ke="left",xi="auto",Ks=[ie,Sn,gn,ke],ys="start",Ri="end",xl="clippingParents",vs="viewport",Hn="popper",pn="reference",Qs=Ks.reduce(function(x,m){return x.concat([m+"-"+ys,m+"-"+Ri])},[]),co=[].concat(Ks,[xi]).reduce(function(x,m){return x.concat([m,m+"-"+ys,m+"-"+Ri])},[]),bs="beforeRead",ia="read",sa="afterRead",uo="beforeMain",ra="main",Pn="afterMain",ho="beforeWrite",Ec="write",aa="afterWrite",fo=[bs,ia,sa,uo,ra,Pn,ho,Ec,aa];function Nn(x){return x?(x.nodeName||"").toLowerCase():null}function qn(x){if(x==null)return window;if(x.toString()!=="[object Window]"){var m=x.ownerDocument;return m&&m.defaultView||window}return x}function Ie(x){return x instanceof qn(x).Element||x instanceof Element}function Le(x){return x instanceof qn(x).HTMLElement||x instanceof HTMLElement}function Xs(x){return typeof ShadowRoot<"u"&&(x instanceof qn(x).ShadowRoot||x instanceof ShadowRoot)}const Es={name:"applyStyles",enabled:!0,phase:"write",fn:function(x){var m=x.state;Object.keys(m.elements).forEach(function(T){var D=m.styles[T]||{},$=m.attributes[T]||{},Y=m.elements[T];Le(Y)&&Nn(Y)&&(Object.assign(Y.style,D),Object.keys($).forEach(function(st){var lt=$[st];lt===!1?Y.removeAttribute(st):Y.setAttribute(st,lt===!0?"":lt)}))})},effect:function(x){var m=x.state,T={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,T.popper),m.styles=T,m.elements.arrow&&Object.assign(m.elements.arrow.style,T.arrow),function(){Object.keys(m.elements).forEach(function(D){var $=m.elements[D],Y=m.attributes[D]||{},st=Object.keys(m.styles.hasOwnProperty(D)?m.styles[D]:T[D]).reduce(function(lt,_t){return lt[_t]="",lt},{});Le($)&&Nn($)&&(Object.assign($.style,st),Object.keys(Y).forEach(function(lt){$.removeAttribute(lt)}))})}},requires:["computeStyles"]};function mn(x){return x.split("-")[0]}var ae=Math.max,Ts=Math.min,An=Math.round;function Zs(){var x=navigator.userAgentData;return x!=null&&x.brands&&Array.isArray(x.brands)?x.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function Rl(){return!/^((?!chrome|android).)*safari/i.test(Zs())}function ws(x,m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);var D=x.getBoundingClientRect(),$=1,Y=1;m&&Le(x)&&($=x.offsetWidth>0&&An(D.width)/x.offsetWidth||1,Y=x.offsetHeight>0&&An(D.height)/x.offsetHeight||1);var st=(Ie(x)?qn(x):window).visualViewport,lt=!Rl()&&T,_t=(D.left+(lt&&st?st.offsetLeft:0))/$,St=(D.top+(lt&&st?st.offsetTop:0))/Y,Rt=D.width/$,Et=D.height/Y;return{width:Rt,height:Et,top:St,right:_t+Rt,bottom:St+Et,left:_t,x:_t,y:St}}function oa(x){var m=ws(x),T=x.offsetWidth,D=x.offsetHeight;return Math.abs(m.width-T)<=1&&(T=m.width),Math.abs(m.height-D)<=1&&(D=m.height),{x:x.offsetLeft,y:x.offsetTop,width:T,height:D}}function Tc(x,m){var T=m.getRootNode&&m.getRootNode();if(x.contains(m))return!0;if(T&&Xs(T)){var D=m;do{if(D&&x.isSameNode(D))return!0;D=D.parentNode||D.host}while(D)}return!1}function Ki(x){return qn(x).getComputedStyle(x)}function go(x){return["table","td","th"].indexOf(Nn(x))>=0}function Ln(x){return((Ie(x)?x.ownerDocument:x.document)||window.document).documentElement}function $n(x){return Nn(x)==="html"?x:x.assignedSlot||x.parentNode||(Xs(x)?x.host:null)||Ln(x)}function Ss(x){return Le(x)&&Ki(x).position!=="fixed"?x.offsetParent:null}function pi(x){for(var m=qn(x),T=Ss(x);T&&go(T)&&Ki(T).position==="static";)T=Ss(T);return T&&(Nn(T)==="html"||Nn(T)==="body"&&Ki(T).position==="static")?m:T||function(D){var $=/firefox/i.test(Zs());if(/Trident/i.test(Zs())&&Le(D)&&Ki(D).position==="fixed")return null;var Y=$n(D);for(Xs(Y)&&(Y=Y.host);Le(Y)&&["html","body"].indexOf(Nn(Y))<0;){var st=Ki(Y);if(st.transform!=="none"||st.perspective!=="none"||st.contain==="paint"||["transform","perspective"].indexOf(st.willChange)!==-1||$&&st.willChange==="filter"||$&&st.filter&&st.filter!=="none")return Y;Y=Y.parentNode}return null}(x)||m}function la(x){return["top","bottom"].indexOf(x)>=0?"x":"y"}function ei(x,m,T){return ae(x,Ts(m,T))}function Cl(x){return Object.assign({},{top:0,right:0,bottom:0,left:0},x)}function br(x,m){return m.reduce(function(T,D){return T[D]=x,T},{})}const Ci={name:"arrow",enabled:!0,phase:"main",fn:function(x){var m,T=x.state,D=x.name,$=x.options,Y=T.elements.arrow,st=T.modifiersData.popperOffsets,lt=mn(T.placement),_t=la(lt),St=[ke,gn].indexOf(lt)>=0?"height":"width";if(Y&&st){var Rt=function(Ht,de){return Cl(typeof(Ht=typeof Ht=="function"?Ht(Object.assign({},de.rects,{placement:de.placement})):Ht)!="number"?Ht:br(Ht,Ks))}($.padding,T),Et=oa(Y),Yt=_t==="y"?ie:ke,Pt=_t==="y"?Sn:gn,Wt=T.rects.reference[St]+T.rects.reference[_t]-st[_t]-T.rects.popper[St],Bt=st[_t]-T.rects.reference[_t],Vt=pi(Y),_e=Vt?_t==="y"?Vt.clientHeight||0:Vt.clientWidth||0:0,Se=Wt/2-Bt/2,Zt=Rt[Yt],he=_e-Et[St]-Rt[Pt],Ft=_e/2-Et[St]/2+Se,Tt=ei(Zt,Ft,he),Ot=_t;T.modifiersData[D]=((m={})[Ot]=Tt,m.centerOffset=Tt-Ft,m)}},effect:function(x){var m=x.state,T=x.options.element,D=T===void 0?"[data-popper-arrow]":T;D!=null&&(typeof D!="string"||(D=m.elements.popper.querySelector(D)))&&Tc(m.elements.popper,D)&&(m.elements.arrow=D)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xn(x){return x.split("-")[1]}var ca={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qi(x){var m,T=x.popper,D=x.popperRect,$=x.placement,Y=x.variation,st=x.offsets,lt=x.position,_t=x.gpuAcceleration,St=x.adaptive,Rt=x.roundOffsets,Et=x.isFixed,Yt=st.x,Pt=Yt===void 0?0:Yt,Wt=st.y,Bt=Wt===void 0?0:Wt,Vt=typeof Rt=="function"?Rt({x:Pt,y:Bt}):{x:Pt,y:Bt};Pt=Vt.x,Bt=Vt.y;var _e=st.hasOwnProperty("x"),Se=st.hasOwnProperty("y"),Zt=ke,he=ie,Ft=window;if(St){var Tt=pi(T),Ot="clientHeight",Ht="clientWidth";Tt===qn(T)&&Ki(Tt=Ln(T)).position!=="static"&&lt==="absolute"&&(Ot="scrollHeight",Ht="scrollWidth"),($===ie||($===ke||$===gn)&&Y===Ri)&&(he=Sn,Bt-=(Et&&Tt===Ft&&Ft.visualViewport?Ft.visualViewport.height:Tt[Ot])-D.height,Bt*=_t?1:-1),$!==ke&&($!==ie&&$!==Sn||Y!==Ri)||(Zt=gn,Pt-=(Et&&Tt===Ft&&Ft.visualViewport?Ft.visualViewport.width:Tt[Ht])-D.width,Pt*=_t?1:-1)}var de,De=Object.assign({position:lt},St&&ca),ln=Rt===!0?function(ri,cn){var In=ri.x,Mi=ri.y,Qt=cn.devicePixelRatio||1;return{x:An(In*Qt)/Qt||0,y:An(Mi*Qt)/Qt||0}}({x:Pt,y:Bt},qn(T)):{x:Pt,y:Bt};return Pt=ln.x,Bt=ln.y,_t?Object.assign({},De,((de={})[he]=Se?"0":"",de[Zt]=_e?"0":"",de.transform=(Ft.devicePixelRatio||1)<=1?"translate("+Pt+"px, "+Bt+"px)":"translate3d("+Pt+"px, "+Bt+"px, 0)",de)):Object.assign({},De,((m={})[he]=Se?Bt+"px":"",m[Zt]=_e?Pt+"px":"",m.transform="",m))}const As={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var m=x.state,T=x.options,D=T.gpuAcceleration,$=D===void 0||D,Y=T.adaptive,st=Y===void 0||Y,lt=T.roundOffsets,_t=lt===void 0||lt,St={placement:mn(m.placement),variation:xn(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:$,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,Qi(Object.assign({},St,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:st,roundOffsets:_t})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,Qi(Object.assign({},St,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_t})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}};var Ii={passive:!0};const ua={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(x){var m=x.state,T=x.instance,D=x.options,$=D.scroll,Y=$===void 0||$,st=D.resize,lt=st===void 0||st,_t=qn(m.elements.popper),St=[].concat(m.scrollParents.reference,m.scrollParents.popper);return Y&&St.forEach(function(Rt){Rt.addEventListener("scroll",T.update,Ii)}),lt&&_t.addEventListener("resize",T.update,Ii),function(){Y&&St.forEach(function(Rt){Rt.removeEventListener("scroll",T.update,Ii)}),lt&&_t.removeEventListener("resize",T.update,Ii)}},data:{}};var xs={left:"right",right:"left",bottom:"top",top:"bottom"};function mi(x){return x.replace(/left|right|bottom|top/g,function(m){return xs[m]})}var Il={start:"end",end:"start"};function sn(x){return x.replace(/start|end/g,function(m){return Il[m]})}function fe(x){var m=qn(x);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function Er(x){return ws(Ln(x)).left+fe(x).scrollLeft}function Js(x){var m=Ki(x),T=m.overflow,D=m.overflowX,$=m.overflowY;return/auto|scroll|overlay|hidden/.test(T+$+D)}function Dl(x){return["html","body","#document"].indexOf(Nn(x))>=0?x.ownerDocument.body:Le(x)&&Js(x)?x:Dl($n(x))}function Rs(x,m){var T;m===void 0&&(m=[]);var D=Dl(x),$=D===((T=x.ownerDocument)==null?void 0:T.body),Y=qn(D),st=$?[Y].concat(Y.visualViewport||[],Js(D)?D:[]):D,lt=m.concat(st);return $?lt:lt.concat(Rs($n(st)))}function Tr(x){return Object.assign({},x,{left:x.x,top:x.y,right:x.x+x.width,bottom:x.y+x.height})}function Xi(x,m,T){return m===vs?Tr(function(D,$){var Y=qn(D),st=Ln(D),lt=Y.visualViewport,_t=st.clientWidth,St=st.clientHeight,Rt=0,Et=0;if(lt){_t=lt.width,St=lt.height;var Yt=Rl();(Yt||!Yt&&$==="fixed")&&(Rt=lt.offsetLeft,Et=lt.offsetTop)}return{width:_t,height:St,x:Rt+Er(D),y:Et}}(x,T)):Ie(m)?function(D,$){var Y=ws(D,!1,$==="fixed");return Y.top=Y.top+D.clientTop,Y.left=Y.left+D.clientLeft,Y.bottom=Y.top+D.clientHeight,Y.right=Y.left+D.clientWidth,Y.width=D.clientWidth,Y.height=D.clientHeight,Y.x=Y.left,Y.y=Y.top,Y}(m,T):Tr(function(D){var $,Y=Ln(D),st=fe(D),lt=($=D.ownerDocument)==null?void 0:$.body,_t=ae(Y.scrollWidth,Y.clientWidth,lt?lt.scrollWidth:0,lt?lt.clientWidth:0),St=ae(Y.scrollHeight,Y.clientHeight,lt?lt.scrollHeight:0,lt?lt.clientHeight:0),Rt=-st.scrollLeft+Er(D),Et=-st.scrollTop;return Ki(lt||Y).direction==="rtl"&&(Rt+=ae(Y.clientWidth,lt?lt.clientWidth:0)-_t),{width:_t,height:St,x:Rt,y:Et}}(Ln(x)))}function wr(x){var m,T=x.reference,D=x.element,$=x.placement,Y=$?mn($):null,st=$?xn($):null,lt=T.x+T.width/2-D.width/2,_t=T.y+T.height/2-D.height/2;switch(Y){case ie:m={x:lt,y:T.y-D.height};break;case Sn:m={x:lt,y:T.y+T.height};break;case gn:m={x:T.x+T.width,y:_t};break;case ke:m={x:T.x-D.width,y:_t};break;default:m={x:T.x,y:T.y}}var St=Y?la(Y):null;if(St!=null){var Rt=St==="y"?"height":"width";switch(st){case ys:m[St]=m[St]-(T[Rt]/2-D[Rt]/2);break;case Ri:m[St]=m[St]+(T[Rt]/2-D[Rt]/2)}}return m}function Rn(x,m){m===void 0&&(m={});var T=m,D=T.placement,$=D===void 0?x.placement:D,Y=T.strategy,st=Y===void 0?x.strategy:Y,lt=T.boundary,_t=lt===void 0?xl:lt,St=T.rootBoundary,Rt=St===void 0?vs:St,Et=T.elementContext,Yt=Et===void 0?Hn:Et,Pt=T.altBoundary,Wt=Pt!==void 0&&Pt,Bt=T.padding,Vt=Bt===void 0?0:Bt,_e=Cl(typeof Vt!="number"?Vt:br(Vt,Ks)),Se=Yt===Hn?pn:Hn,Zt=x.rects.popper,he=x.elements[Wt?Se:Yt],Ft=function(cn,In,Mi,Qt){var ki=In==="clippingParents"?function(Ae){var Dn=Rs($n(Ae)),ai=["absolute","fixed"].indexOf(Ki(Ae).position)>=0&&Le(Ae)?pi(Ae):Ae;return Ie(ai)?Dn.filter(function(Os){return Ie(Os)&&Tc(Os,ai)&&Nn(Os)!=="body"}):[]}(cn):[].concat(In),Pi=[].concat(ki,[Mi]),Da=Pi[0],un=Pi.reduce(function(Ae,Dn){var ai=Xi(cn,Dn,Qt);return Ae.top=ae(ai.top,Ae.top),Ae.right=Ts(ai.right,Ae.right),Ae.bottom=Ts(ai.bottom,Ae.bottom),Ae.left=ae(ai.left,Ae.left),Ae},Xi(cn,Da,Qt));return un.width=un.right-un.left,un.height=un.bottom-un.top,un.x=un.left,un.y=un.top,un}(Ie(he)?he:he.contextElement||Ln(x.elements.popper),_t,Rt,st),Tt=ws(x.elements.reference),Ot=wr({reference:Tt,element:Zt,placement:$}),Ht=Tr(Object.assign({},Zt,Ot)),de=Yt===Hn?Ht:Tt,De={top:Ft.top-de.top+_e.top,bottom:de.bottom-Ft.bottom+_e.bottom,left:Ft.left-de.left+_e.left,right:de.right-Ft.right+_e.right},ln=x.modifiersData.offset;if(Yt===Hn&&ln){var ri=ln[$];Object.keys(De).forEach(function(cn){var In=[gn,Sn].indexOf(cn)>=0?1:-1,Mi=[ie,Sn].indexOf(cn)>=0?"y":"x";De[cn]+=ri[Mi]*In})}return De}function wc(x,m){m===void 0&&(m={});var T=m,D=T.placement,$=T.boundary,Y=T.rootBoundary,st=T.padding,lt=T.flipVariations,_t=T.allowedAutoPlacements,St=_t===void 0?co:_t,Rt=xn(D),Et=Rt?lt?Qs:Qs.filter(function(Wt){return xn(Wt)===Rt}):Ks,Yt=Et.filter(function(Wt){return St.indexOf(Wt)>=0});Yt.length===0&&(Yt=Et);var Pt=Yt.reduce(function(Wt,Bt){return Wt[Bt]=Rn(x,{placement:Bt,boundary:$,rootBoundary:Y,padding:st})[mn(Bt)],Wt},{});return Object.keys(Pt).sort(function(Wt,Bt){return Pt[Wt]-Pt[Bt]})}const Sc={name:"flip",enabled:!0,phase:"main",fn:function(x){var m=x.state,T=x.options,D=x.name;if(!m.modifiersData[D]._skip){for(var $=T.mainAxis,Y=$===void 0||$,st=T.altAxis,lt=st===void 0||st,_t=T.fallbackPlacements,St=T.padding,Rt=T.boundary,Et=T.rootBoundary,Yt=T.altBoundary,Pt=T.flipVariations,Wt=Pt===void 0||Pt,Bt=T.allowedAutoPlacements,Vt=m.options.placement,_e=mn(Vt),Se=_t||(_e!==Vt&&Wt?function(Ae){if(mn(Ae)===xi)return[];var Dn=mi(Ae);return[sn(Ae),Dn,sn(Dn)]}(Vt):[mi(Vt)]),Zt=[Vt].concat(Se).reduce(function(Ae,Dn){return Ae.concat(mn(Dn)===xi?wc(m,{placement:Dn,boundary:Rt,rootBoundary:Et,padding:St,flipVariations:Wt,allowedAutoPlacements:Bt}):Dn)},[]),he=m.rects.reference,Ft=m.rects.popper,Tt=new Map,Ot=!0,Ht=Zt[0],de=0;de<Zt.length;de++){var De=Zt[de],ln=mn(De),ri=xn(De)===ys,cn=[ie,Sn].indexOf(ln)>=0,In=cn?"width":"height",Mi=Rn(m,{placement:De,boundary:Rt,rootBoundary:Et,altBoundary:Yt,padding:St}),Qt=cn?ri?gn:ke:ri?Sn:ie;he[In]>Ft[In]&&(Qt=mi(Qt));var ki=mi(Qt),Pi=[];if(Y&&Pi.push(Mi[ln]<=0),lt&&Pi.push(Mi[Qt]<=0,Mi[ki]<=0),Pi.every(function(Ae){return Ae})){Ht=De,Ot=!1;break}Tt.set(De,Pi)}if(Ot)for(var Da=function(Ae){var Dn=Zt.find(function(ai){var Os=Tt.get(ai);if(Os)return Os.slice(0,Ae).every(function(On){return On})});if(Dn)return Ht=Dn,"break"},un=Wt?3:1;un>0&&Da(un)!=="break";un--);m.placement!==Ht&&(m.modifiersData[D]._skip=!0,m.placement=Ht,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Sr(x,m,T){return T===void 0&&(T={x:0,y:0}),{top:x.top-m.height-T.y,right:x.right-m.width+T.x,bottom:x.bottom-m.height+T.y,left:x.left-m.width-T.x}}function ha(x){return[ie,gn,Sn,ke].some(function(m){return x[m]>=0})}const po={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(x){var m=x.state,T=x.name,D=m.rects.reference,$=m.rects.popper,Y=m.modifiersData.preventOverflow,st=Rn(m,{elementContext:"reference"}),lt=Rn(m,{altBoundary:!0}),_t=Sr(st,D),St=Sr(lt,$,Y),Rt=ha(_t),Et=ha(St);m.modifiersData[T]={referenceClippingOffsets:_t,popperEscapeOffsets:St,isReferenceHidden:Rt,hasPopperEscaped:Et},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Rt,"data-popper-escaped":Et})}},fa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(x){var m=x.state,T=x.options,D=x.name,$=T.offset,Y=$===void 0?[0,0]:$,st=co.reduce(function(Rt,Et){return Rt[Et]=function(Yt,Pt,Wt){var Bt=mn(Yt),Vt=[ke,ie].indexOf(Bt)>=0?-1:1,_e=typeof Wt=="function"?Wt(Object.assign({},Pt,{placement:Yt})):Wt,Se=_e[0],Zt=_e[1];return Se=Se||0,Zt=(Zt||0)*Vt,[ke,gn].indexOf(Bt)>=0?{x:Zt,y:Se}:{x:Se,y:Zt}}(Et,m.rects,Y),Rt},{}),lt=st[m.placement],_t=lt.x,St=lt.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=_t,m.modifiersData.popperOffsets.y+=St),m.modifiersData[D]=st}},mo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(x){var m=x.state,T=x.name;m.modifiersData[T]=wr({reference:m.rects.reference,element:m.rects.popper,placement:m.placement})},data:{}},da={name:"preventOverflow",enabled:!0,phase:"main",fn:function(x){var m=x.state,T=x.options,D=x.name,$=T.mainAxis,Y=$===void 0||$,st=T.altAxis,lt=st!==void 0&&st,_t=T.boundary,St=T.rootBoundary,Rt=T.altBoundary,Et=T.padding,Yt=T.tether,Pt=Yt===void 0||Yt,Wt=T.tetherOffset,Bt=Wt===void 0?0:Wt,Vt=Rn(m,{boundary:_t,rootBoundary:St,padding:Et,altBoundary:Rt}),_e=mn(m.placement),Se=xn(m.placement),Zt=!Se,he=la(_e),Ft=he==="x"?"y":"x",Tt=m.modifiersData.popperOffsets,Ot=m.rects.reference,Ht=m.rects.popper,de=typeof Bt=="function"?Bt(Object.assign({},m.rects,{placement:m.placement})):Bt,De=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),ln=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,ri={x:0,y:0};if(Tt){if(Y){var cn,In=he==="y"?ie:ke,Mi=he==="y"?Sn:gn,Qt=he==="y"?"height":"width",ki=Tt[he],Pi=ki+Vt[In],Da=ki-Vt[Mi],un=Pt?-Ht[Qt]/2:0,Ae=Se===ys?Ot[Qt]:Ht[Qt],Dn=Se===ys?-Ht[Qt]:-Ot[Qt],ai=m.elements.arrow,Os=Pt&&ai?oa(ai):{width:0,height:0},On=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$e=On[In],Lc=On[Mi],kr=ei(0,Ot[Qt],Os[Qt]),Vc=Zt?Ot[Qt]/2-un-kr-$e-De.mainAxis:Ae-kr-$e-De.mainAxis,yh=Zt?-Ot[Qt]/2+un+kr+Lc+De.mainAxis:Dn+kr+Lc+De.mainAxis,is=m.elements.arrow&&pi(m.elements.arrow),Uc=is?he==="y"?is.clientTop||0:is.clientLeft||0:0,jc=(cn=ln?.[he])!=null?cn:0,vh=ki+yh-jc,bh=ei(Pt?Ts(Pi,ki+Vc-jc-Uc):Pi,ki,Pt?ae(Da,vh):Da);Tt[he]=bh,ri[he]=bh-ki}if(lt){var Eh,xd=he==="x"?ie:ke,Rd=he==="x"?Sn:gn,Pr=Tt[Ft],Gl=Ft==="y"?"height":"width",zc=Pr+Vt[xd],Th=Pr-Vt[Rd],wh=[ie,ke].indexOf(_e)!==-1,Sh=(Eh=ln?.[Ft])!=null?Eh:0,Ah=wh?zc:Pr-Ot[Gl]-Ht[Gl]-Sh+De.altAxis,xh=wh?Pr+Ot[Gl]+Ht[Gl]-Sh-De.altAxis:Th,Bc=Pt&&wh?function(Cd,Id,Fc){var Rh=ei(Cd,Id,Fc);return Rh>Fc?Fc:Rh}(Ah,Pr,xh):ei(Pt?Ah:zc,Pr,Pt?xh:Th);Tt[Ft]=Bc,ri[Ft]=Bc-Pr}m.modifiersData[D]=ri}},requiresIfExists:["offset"]};function $u(x,m,T){T===void 0&&(T=!1);var D,$,Y=Le(m),st=Le(m)&&function(Et){var Yt=Et.getBoundingClientRect(),Pt=An(Yt.width)/Et.offsetWidth||1,Wt=An(Yt.height)/Et.offsetHeight||1;return Pt!==1||Wt!==1}(m),lt=Ln(m),_t=ws(x,st,T),St={scrollLeft:0,scrollTop:0},Rt={x:0,y:0};return(Y||!Y&&!T)&&((Nn(m)!=="body"||Js(lt))&&(St=(D=m)!==qn(D)&&Le(D)?{scrollLeft:($=D).scrollLeft,scrollTop:$.scrollTop}:fe(D)),Le(m)?((Rt=ws(m,!0)).x+=m.clientLeft,Rt.y+=m.clientTop):lt&&(Rt.x=Er(lt))),{x:_t.left+St.scrollLeft-Rt.x,y:_t.top+St.scrollTop-Rt.y,width:_t.width,height:_t.height}}function Ol(x){var m=new Map,T=new Set,D=[];function $(Y){T.add(Y.name),[].concat(Y.requires||[],Y.requiresIfExists||[]).forEach(function(st){if(!T.has(st)){var lt=m.get(st);lt&&$(lt)}}),D.push(Y)}return x.forEach(function(Y){m.set(Y.name,Y)}),x.forEach(function(Y){T.has(Y.name)||$(Y)}),D}var Ar={placement:"bottom",modifiers:[],strategy:"absolute"};function Ml(){for(var x=arguments.length,m=new Array(x),T=0;T<x;T++)m[T]=arguments[T];return!m.some(function(D){return!(D&&typeof D.getBoundingClientRect=="function")})}function ga(x){x===void 0&&(x={});var m=x,T=m.defaultModifiers,D=T===void 0?[]:T,$=m.defaultOptions,Y=$===void 0?Ar:$;return function(st,lt,_t){_t===void 0&&(_t=Y);var St,Rt,Et={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ar,Y),modifiersData:{},elements:{reference:st,popper:lt},attributes:{},styles:{}},Yt=[],Pt=!1,Wt={state:Et,setOptions:function(Vt){var _e=typeof Vt=="function"?Vt(Et.options):Vt;Bt(),Et.options=Object.assign({},Y,Et.options,_e),Et.scrollParents={reference:Ie(st)?Rs(st):st.contextElement?Rs(st.contextElement):[],popper:Rs(lt)};var Se,Zt,he=function(Ft){var Tt=Ol(Ft);return fo.reduce(function(Ot,Ht){return Ot.concat(Tt.filter(function(de){return de.phase===Ht}))},[])}((Se=[].concat(D,Et.options.modifiers),Zt=Se.reduce(function(Ft,Tt){var Ot=Ft[Tt.name];return Ft[Tt.name]=Ot?Object.assign({},Ot,Tt,{options:Object.assign({},Ot.options,Tt.options),data:Object.assign({},Ot.data,Tt.data)}):Tt,Ft},{}),Object.keys(Zt).map(function(Ft){return Zt[Ft]})));return Et.orderedModifiers=he.filter(function(Ft){return Ft.enabled}),Et.orderedModifiers.forEach(function(Ft){var Tt=Ft.name,Ot=Ft.options,Ht=Ot===void 0?{}:Ot,de=Ft.effect;if(typeof de=="function"){var De=de({state:Et,name:Tt,instance:Wt,options:Ht});Yt.push(De||function(){})}}),Wt.update()},forceUpdate:function(){if(!Pt){var Vt=Et.elements,_e=Vt.reference,Se=Vt.popper;if(Ml(_e,Se)){Et.rects={reference:$u(_e,pi(Se),Et.options.strategy==="fixed"),popper:oa(Se)},Et.reset=!1,Et.placement=Et.options.placement,Et.orderedModifiers.forEach(function(de){return Et.modifiersData[de.name]=Object.assign({},de.data)});for(var Zt=0;Zt<Et.orderedModifiers.length;Zt++)if(Et.reset!==!0){var he=Et.orderedModifiers[Zt],Ft=he.fn,Tt=he.options,Ot=Tt===void 0?{}:Tt,Ht=he.name;typeof Ft=="function"&&(Et=Ft({state:Et,options:Ot,name:Ht,instance:Wt})||Et)}else Et.reset=!1,Zt=-1}}},update:(St=function(){return new Promise(function(Vt){Wt.forceUpdate(),Vt(Et)})},function(){return Rt||(Rt=new Promise(function(Vt){Promise.resolve().then(function(){Rt=void 0,Vt(St())})})),Rt}),destroy:function(){Bt(),Pt=!0}};if(!Ml(st,lt))return Wt;function Bt(){Yt.forEach(function(Vt){return Vt()}),Yt=[]}return Wt.setOptions(_t).then(function(Vt){!Pt&&_t.onFirstUpdate&&_t.onFirstUpdate(Vt)}),Wt}}var kl=ga(),pa=ga({defaultModifiers:[ua,mo,As,Es]}),_o=ga({defaultModifiers:[ua,mo,As,Es,fa,Sc,da,Ci,po]});const ma=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Pn,afterRead:sa,afterWrite:aa,applyStyles:Es,arrow:Ci,auto:xi,basePlacements:Ks,beforeMain:uo,beforeRead:bs,beforeWrite:ho,bottom:Sn,clippingParents:xl,computeStyles:As,createPopper:_o,createPopperBase:kl,createPopperLite:pa,detectOverflow:Rn,end:Ri,eventListeners:ua,flip:Sc,hide:po,left:ke,main:ra,modifierPhases:fo,offset:fa,placements:co,popper:Hn,popperGenerator:ga,popperOffsets:mo,preventOverflow:da,read:ia,reference:pn,right:gn,start:ys,top:ie,variationPlacements:Qs,viewport:vs,write:Ec},Symbol.toStringTag,{value:"Module"})),Pl="dropdown",Zi=".bs.dropdown",Ji=".data-api",Ac="ArrowUp",Nl="ArrowDown",xc=`hide${Zi}`,Rc=`hidden${Zi}`,yo=`show${Zi}`,Gn=`shown${Zi}`,Ll=`click${Zi}${Ji}`,Vl=`keydown${Zi}${Ji}`,Cs=`keyup${Zi}${Ji}`,d="show",v='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',w=`${v}.${d}`,O=".dropdown-menu",Q=M()?"top-end":"top-start",it=M()?"top-start":"top-end",vt=M()?"bottom-end":"bottom-start",oe=M()?"bottom-start":"bottom-end",rn=M()?"left-start":"right-start",le=M()?"right-start":"left-start",_n={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},an={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class on extends It{constructor(m,T){super(m,T),this._popper=null,this._parent=this._element.parentNode,this._menu=bt.next(this._element,O)[0]||bt.prev(this._element,O)[0]||bt.findOne(O,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _n}static get DefaultType(){return an}static get NAME(){return Pl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!k.trigger(this._element,yo,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const T of[].concat(...document.body.children))k.on(T,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(d),this._element.classList.add(d),k.trigger(this._element,Gn,m)}}hide(){if(_(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!k.trigger(this._element,xc,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))k.off(T,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(d),this._element.classList.remove(d),this._element.setAttribute("aria-expanded","false"),At.removeDataAttribute(this._menu,"popper"),k.trigger(this._element,Rc,m),this._element.focus()}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!h(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${Pl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(ma===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let m=this._element;this._config.reference==="parent"?m=this._parent:h(this._config.reference)?m=f(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const T=this._getPopperConfig();this._popper=_o(m,this._menu,T)}_isShown(){return this._menu.classList.contains(d)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return rn;if(m.classList.contains("dropstart"))return le;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const T=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?T?it:Q:T?oe:vt}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(T=>Number.parseInt(T,10)):typeof m=="function"?T=>m(T,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(At.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...G(this._config.popperConfig,[void 0,m])}}_selectMenuItem({key:m,target:T}){const D=bt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($=>g($));D.length&&at(D,T,m===Nl,!D.includes(T)).focus()}static jQueryInterface(m){return this.each(function(){const T=on.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const T=bt.find(w);for(const D of T){const $=on.getInstance(D);if(!$||$._config.autoClose===!1)continue;const Y=m.composedPath(),st=Y.includes($._menu);if(Y.includes($._element)||$._config.autoClose==="inside"&&!st||$._config.autoClose==="outside"&&st||$._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const lt={relatedTarget:$._element};m.type==="click"&&(lt.clickEvent=m),$._completeHide(lt)}}static dataApiKeydownHandler(m){const T=/input|textarea/i.test(m.target.tagName),D=m.key==="Escape",$=[Ac,Nl].includes(m.key);if(!$&&!D||T&&!D)return;m.preventDefault();const Y=this.matches(v)?this:bt.prev(this,v)[0]||bt.next(this,v)[0]||bt.findOne(v,m.delegateTarget.parentNode),st=on.getOrCreateInstance(Y);if($)return m.stopPropagation(),st.show(),void st._selectMenuItem(m);st._isShown()&&(m.stopPropagation(),st.hide(),Y.focus())}}k.on(document,Vl,v,on.dataApiKeydownHandler),k.on(document,Vl,O,on.dataApiKeydownHandler),k.on(document,Ll,on.clearMenus),k.on(document,Cs,on.clearMenus),k.on(document,Ll,v,function(x){x.preventDefault(),on.getOrCreateInstance(this).toggle()}),L(on);const yn="backdrop",ts="show",vo=`mousedown.bs.${yn}`,Cc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Gu extends jt{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return Cc}static get DefaultType(){return rd}static get NAME(){return yn}show(m){if(!this._config.isVisible)return void G(m);this._append();const T=this._getElement();this._config.isAnimated&&A(T),T.classList.add(ts),this._emulateAnimation(()=>{G(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(ts),this._emulateAnimation(()=>{this.dispose(),G(m)})):G(m)}dispose(){this._isAppended&&(k.off(this._element,vo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=f(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),k.on(m,vo,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){J(m,this._getElement(),this._config.isAnimated)}}const bo=".bs.focustrap",Yu=`focusin${bo}`,ad=`keydown.tab${bo}`,Wu="backward",od={autofocus:!0,trapElement:null},im={autofocus:"boolean",trapElement:"element"};class ld extends jt{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return od}static get DefaultType(){return im}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),k.off(document,bo),k.on(document,Yu,m=>this._handleFocusin(m)),k.on(document,ad,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,k.off(document,bo))}_handleFocusin(m){const{trapElement:T}=this._config;if(m.target===document||m.target===T||T.contains(m.target))return;const D=bt.focusableChildren(T);D.length===0?T.focus():this._lastTabNavDirection===Wu?D[D.length-1].focus():D[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?Wu:"forward")}}const cd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ud=".sticky-top",Ic="padding-right",ni="margin-right";class _a{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ic,T=>T+m),this._setElementAttributes(cd,Ic,T=>T+m),this._setElementAttributes(ud,ni,T=>T-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ic),this._resetElementAttributes(cd,Ic),this._resetElementAttributes(ud,ni)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,T,D){const $=this.getWidth();this._applyManipulationCallback(m,Y=>{if(Y!==this._element&&window.innerWidth>Y.clientWidth+$)return;this._saveInitialAttribute(Y,T);const st=window.getComputedStyle(Y).getPropertyValue(T);Y.style.setProperty(T,`${D(Number.parseFloat(st))}px`)})}_saveInitialAttribute(m,T){const D=m.style.getPropertyValue(T);D&&At.setDataAttribute(m,T,D)}_resetElementAttributes(m,T){this._applyManipulationCallback(m,D=>{const $=At.getDataAttribute(D,T);$!==null?(At.removeDataAttribute(D,T),D.style.setProperty(T,$)):D.style.removeProperty(T)})}_applyManipulationCallback(m,T){if(h(m))T(m);else for(const D of bt.find(m,this._element))T(D)}}const _i=".bs.modal",hd=`hide${_i}`,fd=`hidePrevented${_i}`,Ku=`hidden${_i}`,Dc=`show${_i}`,sm=`shown${_i}`,Eo=`resize${_i}`,Qu=`click.dismiss${_i}`,Ul=`mousedown.dismiss${_i}`,Xu=`keydown.dismiss${_i}`,dd=`click${_i}.data-api`,xr="modal-open",ya="show",jl="modal-static",gd={backdrop:!0,focus:!0,keyboard:!0},va={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Rr extends It{constructor(m,T){super(m,T),this._dialog=bt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _a,this._addEventListeners()}static get Default(){return gd}static get DefaultType(){return va}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||k.trigger(this._element,Dc,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(k.trigger(this._element,hd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ya),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){k.off(window,_i),k.off(this._dialog,_i),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Gu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ld({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const T=bt.findOne(".modal-body",this._dialog);T&&(T.scrollTop=0),A(this._element),this._element.classList.add(ya),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,k.trigger(this._element,sm,{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){k.on(this._element,Xu,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),k.on(window,Eo,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),k.on(this._element,Ul,m=>{k.one(this._element,Qu,T=>{this._element===m.target&&this._element===T.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xr),this._resetAdjustments(),this._scrollBar.reset(),k.trigger(this._element,Ku)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(k.trigger(this._element,fd).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,T=this._element.style.overflowY;T==="hidden"||this._element.classList.contains(jl)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(jl),this._queueCallback(()=>{this._element.classList.remove(jl),this._queueCallback(()=>{this._element.style.overflowY=T},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),D=T>0;if(D&&!m){const $=M()?"paddingLeft":"paddingRight";this._element.style[$]=`${T}px`}if(!D&&m){const $=M()?"paddingRight":"paddingLeft";this._element.style[$]=`${T}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,T){return this.each(function(){const D=Rr.getOrCreateInstance(this,m);if(typeof m=="string"){if(D[m]===void 0)throw new TypeError(`No method named "${m}"`);D[m](T)}})}}k.on(document,dd,'[data-bs-toggle="modal"]',function(x){const m=bt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&x.preventDefault(),k.one(m,Dc,D=>{D.defaultPrevented||k.one(m,Ku,()=>{g(this)&&this.focus()})});const T=bt.findOne(".modal.show");T&&Rr.getInstance(T).hide(),Rr.getOrCreateInstance(m).toggle(this)}),di(Rr),L(Rr);const Is=".bs.offcanvas",Zu=".data-api",rm=`load${Is}${Zu}`,pd="show",md="showing",Ju="hiding",th=".offcanvas.show",eh=`show${Is}`,es=`shown${Is}`,_d=`hide${Is}`,yi=`hidePrevented${Is}`,vi=`hidden${Is}`,To=`resize${Is}`,nh=`click${Is}${Zu}`,Oc=`keydown.dismiss${Is}`,Mc={backdrop:!0,keyboard:!0,scroll:!1},ih={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ii extends It{constructor(m,T){super(m,T),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Mc}static get DefaultType(){return ih}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||k.trigger(this._element,eh,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _a().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(md),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(pd),this._element.classList.remove(md),k.trigger(this._element,es,{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(k.trigger(this._element,_d).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ju),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(pd,Ju),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _a().reset(),k.trigger(this._element,vi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new Gu({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():k.trigger(this._element,yi)}:null})}_initializeFocusTrap(){return new ld({trapElement:this._element})}_addEventListeners(){k.on(this._element,Oc,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():k.trigger(this._element,yi))})}static jQueryInterface(m){return this.each(function(){const T=ii.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m](this)}})}}k.on(document,nh,'[data-bs-toggle="offcanvas"]',function(x){const m=bt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),_(this))return;k.one(m,vi,()=>{g(this)&&this.focus()});const T=bt.findOne(th);T&&T!==m&&ii.getInstance(T).hide(),ii.getOrCreateInstance(m).toggle(this)}),k.on(window,rm,()=>{for(const x of bt.find(th))ii.getOrCreateInstance(x).show()}),k.on(window,To,()=>{for(const x of bt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(x).position!=="fixed"&&ii.getOrCreateInstance(x).hide()}),di(ii),L(ii);const sh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},kc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,am=(x,m)=>{const T=x.nodeName.toLowerCase();return m.includes(T)?!kc.has(T)||!!wo.test(x.nodeValue):m.filter(D=>D instanceof RegExp).some(D=>D.test(T))},bi={allowList:sh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},rh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},tr={entry:"(string|element|function|null)",selector:"(string|element)"};class yd extends jt{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return bi}static get DefaultType(){return rh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[$,Y]of Object.entries(this._config.content))this._setContent(m,Y,$);const T=m.children[0],D=this._resolvePossibleFunction(this._config.extraClass);return D&&T.classList.add(...D.split(" ")),T}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[T,D]of Object.entries(m))super._typeCheckConfig({selector:T,entry:D},tr)}_setContent(m,T,D){const $=bt.findOne(D,m);$&&((T=this._resolvePossibleFunction(T))?h(T)?this._putElementInTemplate(f(T),$):this._config.html?$.innerHTML=this._maybeSanitize(T):$.textContent=T:$.remove())}_maybeSanitize(m){return this._config.sanitize?function(T,D,$){if(!T.length)return T;if($&&typeof $=="function")return $(T);const Y=new window.DOMParser().parseFromString(T,"text/html"),st=[].concat(...Y.body.querySelectorAll("*"));for(const lt of st){const _t=lt.nodeName.toLowerCase();if(!Object.keys(D).includes(_t)){lt.remove();continue}const St=[].concat(...lt.attributes),Rt=[].concat(D["*"]||[],D[_t]||[]);for(const Et of St)am(Et,Rt)||lt.removeAttribute(Et.nodeName)}return Y.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return G(m,[void 0,this])}_putElementInTemplate(m,T){if(this._config.html)return T.innerHTML="",void T.append(m);T.textContent=m.textContent}}const Pc=new Set(["sanitize","allowList","sanitizeFn"]),er="fade",So="show",ah=".tooltip-inner",ba=".modal",Ea="hide.bs.modal",Cr="hover",Ao="focus",si="click",Di={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},Ta={allowList:sh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},nr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yn extends It{constructor(m,T){if(ma===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(m,T),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ta}static get DefaultType(){return nr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),k.off(this._element.closest(ba),Ea,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=k.trigger(this._element,this.constructor.eventName("show")),T=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!T)return;this._disposePopper();const D=this._getTipElement();this._element.setAttribute("aria-describedby",D.getAttribute("id"));const{container:$}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||($.append(D),k.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(D),D.classList.add(So),"ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))k.on(Y,"mouseover",E);this._queueCallback(()=>{k.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!k.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(So),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))k.off(m,"mouseover",E);this._activeTrigger[si]=!1,this._activeTrigger[Ao]=!1,this._activeTrigger[Cr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),k.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const T=this._getTemplateFactory(m).toHtml();if(!T)return null;T.classList.remove(er,So),T.classList.add(`bs-${this.constructor.NAME}-auto`);const D=($=>{do $+=Math.floor(1e6*Math.random());while(document.getElementById($));return $})(this.constructor.NAME).toString();return T.setAttribute("id",D),this._isAnimated()&&T.classList.add(er),T}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new yd({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ah]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(er)}_isShown(){return this.tip&&this.tip.classList.contains(So)}_createPopper(m){const T=G(this._config.placement,[this,m,this._element]),D=Di[T.toUpperCase()];return _o(this._element,m,this._getPopperConfig(D))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(T=>Number.parseInt(T,10)):typeof m=="function"?T=>m(T,this._element):m}_resolvePossibleFunction(m){return G(m,[this._element,this._element])}_getPopperConfig(m){const T={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:D=>{this._getTipElement().setAttribute("data-popper-placement",D.state.placement)}}]};return{...T,...G(this._config.popperConfig,[void 0,T])}}_setListeners(){const m=this._config.trigger.split(" ");for(const T of m)if(T==="click")k.on(this._element,this.constructor.eventName("click"),this._config.selector,D=>{const $=this._initializeOnDelegatedTarget(D);$._activeTrigger[si]=!($._isShown()&&$._activeTrigger[si]),$.toggle()});else if(T!=="manual"){const D=T===Cr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),$=T===Cr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");k.on(this._element,D,this._config.selector,Y=>{const st=this._initializeOnDelegatedTarget(Y);st._activeTrigger[Y.type==="focusin"?Ao:Cr]=!0,st._enter()}),k.on(this._element,$,this._config.selector,Y=>{const st=this._initializeOnDelegatedTarget(Y);st._activeTrigger[Y.type==="focusout"?Ao:Cr]=st._element.contains(Y.relatedTarget),st._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},k.on(this._element.closest(ba),Ea,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,T){clearTimeout(this._timeout),this._timeout=setTimeout(m,T)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const T=At.getDataAttributes(this._element);for(const D of Object.keys(T))Pc.has(D)&&delete T[D];return m={...T,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:f(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[T,D]of Object.entries(this._config))this.constructor.Default[T]!==D&&(m[T]=D);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const T=Yn.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}}L(Yn);const wa=".popover-header",vd=".popover-body",oh={...Yn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},lh={...Yn.DefaultType,content:"(null|string|element|function)"};class vn extends Yn{static get Default(){return oh}static get DefaultType(){return lh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[wa]:this._getTitle(),[vd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const T=vn.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}}L(vn);const Ve=".bs.scrollspy",me=`activate${Ve}`,Ir=`click${Ve}`,Ds=`load${Ve}.data-api`,Dr="active",ir="[href]",ch=".nav-link",bd=`${ch}, .nav-item > ${ch}, .list-group-item`,zl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class xo extends It{constructor(m,T){super(m,T),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return zl}static get DefaultType(){return Bl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=f(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(T=>Number.parseFloat(T))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(k.off(this._config.target,Ir),k.on(this._config.target,Ir,ir,m=>{const T=this._observableSections.get(m.target.hash);if(T){m.preventDefault();const D=this._rootElement||window,$=T.offsetTop-this._element.offsetTop;if(D.scrollTo)return void D.scrollTo({top:$,behavior:"smooth"});D.scrollTop=$}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(T=>this._observerCallback(T),m)}_observerCallback(m){const T=st=>this._targetLinks.get(`#${st.target.id}`),D=st=>{this._previousScrollData.visibleEntryTop=st.target.offsetTop,this._process(T(st))},$=(this._rootElement||document.documentElement).scrollTop,Y=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const st of m){if(!st.isIntersecting){this._activeTarget=null,this._clearActiveClass(T(st));continue}const lt=st.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Y&&lt){if(D(st),!$)return}else Y||lt||D(st)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=bt.find(ir,this._config.target);for(const T of m){if(!T.hash||_(T))continue;const D=bt.findOne(decodeURI(T.hash),this._element);g(D)&&(this._targetLinks.set(decodeURI(T.hash),T),this._observableSections.set(T.hash,D))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(Dr),this._activateParents(m),k.trigger(this._element,me,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))bt.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(Dr);else for(const T of bt.parents(m,".nav, .list-group"))for(const D of bt.prev(T,bd))D.classList.add(Dr)}_clearActiveClass(m){m.classList.remove(Dr);const T=bt.find(`${ir}.${Dr}`,m);for(const D of T)D.classList.remove(Dr)}static jQueryInterface(m){return this.each(function(){const T=xo.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}})}}k.on(window,Ds,()=>{for(const x of bt.find('[data-bs-spy="scroll"]'))xo.getOrCreateInstance(x)}),L(xo);const ns=".bs.tab",uh=`hide${ns}`,Sa=`hidden${ns}`,sr=`show${ns}`,Or=`shown${ns}`,rr=`click${ns}`,hh=`keydown${ns}`,fh=`load${ns}`,Fl="ArrowLeft",Hl="ArrowRight",Aa="ArrowUp",Cn="ArrowDown",Ro="Home",dh="End",xa="active",Ed="fade",gh="show",Je=".dropdown-toggle",ql=`:not(${Je})`,Co='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ra=`.nav-link${ql}, .list-group-item${ql}, [role="tab"]${ql}, ${Co}`,ph=`.${xa}[data-bs-toggle="tab"], .${xa}[data-bs-toggle="pill"], .${xa}[data-bs-toggle="list"]`;class Oi extends It{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),k.on(this._element,hh,T=>this._keydown(T)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const T=this._getActiveElem(),D=T?k.trigger(T,uh,{relatedTarget:m}):null;k.trigger(m,sr,{relatedTarget:T}).defaultPrevented||D&&D.defaultPrevented||(this._deactivate(T,m),this._activate(m,T))}_activate(m,T){m&&(m.classList.add(xa),this._activate(bt.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),k.trigger(m,Or,{relatedTarget:T})):m.classList.add(gh)},m,m.classList.contains(Ed)))}_deactivate(m,T){m&&(m.classList.remove(xa),m.blur(),this._deactivate(bt.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),k.trigger(m,Sa,{relatedTarget:T})):m.classList.remove(gh)},m,m.classList.contains(Ed)))}_keydown(m){if(![Fl,Hl,Aa,Cn,Ro,dh].includes(m.key))return;m.stopPropagation(),m.preventDefault();const T=this._getChildren().filter($=>!_($));let D;if([Ro,dh].includes(m.key))D=T[m.key===Ro?0:T.length-1];else{const $=[Hl,Cn].includes(m.key);D=at(T,m.target,$,!0)}D&&(D.focus({preventScroll:!0}),Oi.getOrCreateInstance(D).show())}_getChildren(){return bt.find(Ra,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,T){this._setAttributeIfNotExists(m,"role","tablist");for(const D of T)this._setInitialAttributesOnChild(D)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const T=this._elemIsActive(m),D=this._getOuterElement(m);m.setAttribute("aria-selected",T),D!==m&&this._setAttributeIfNotExists(D,"role","presentation"),T||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const T=bt.getElementFromSelector(m);T&&(this._setAttributeIfNotExists(T,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(T,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,T){const D=this._getOuterElement(m);if(!D.classList.contains("dropdown"))return;const $=(Y,st)=>{const lt=bt.findOne(Y,D);lt&&lt.classList.toggle(st,T)};$(Je,xa),$(".dropdown-menu",gh),D.setAttribute("aria-expanded",T)}_setAttributeIfNotExists(m,T,D){m.hasAttribute(T)||m.setAttribute(T,D)}_elemIsActive(m){return m.classList.contains(xa)}_getInnerElement(m){return m.matches(Ra)?m:bt.findOne(Ra,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const T=Oi.getOrCreateInstance(this);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}})}}k.on(document,rr,Co,function(x){["A","AREA"].includes(this.tagName)&&x.preventDefault(),_(this)||Oi.getOrCreateInstance(this).show()}),k.on(window,fh,()=>{for(const x of bt.find(ph))Oi.getOrCreateInstance(x)}),L(Oi);const Ei=".bs.toast",om=`mouseover${Ei}`,Td=`mouseout${Ei}`,lm=`focusin${Ei}`,wd=`focusout${Ei}`,Ca=`hide${Ei}`,mh=`hidden${Ei}`,Nc=`show${Ei}`,Sd=`shown${Ei}`,Io="hide",$l="show",Ia="showing",_h={animation:"boolean",autohide:"boolean",delay:"number"},Ad={animation:!0,autohide:!0,delay:5e3};class Mr extends It{constructor(m,T){super(m,T),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ad}static get DefaultType(){return _h}static get NAME(){return"toast"}show(){k.trigger(this._element,Nc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Io),A(this._element),this._element.classList.add($l,Ia),this._queueCallback(()=>{this._element.classList.remove(Ia),k.trigger(this._element,Sd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(k.trigger(this._element,Ca).defaultPrevented||(this._element.classList.add(Ia),this._queueCallback(()=>{this._element.classList.add(Io),this._element.classList.remove(Ia,$l),k.trigger(this._element,mh)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($l),super.dispose()}isShown(){return this._element.classList.contains($l)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,T){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=T;break;case"focusin":case"focusout":this._hasKeyboardInteraction=T}if(T)return void this._clearTimeout();const D=m.relatedTarget;this._element===D||this._element.contains(D)||this._maybeScheduleHide()}_setListeners(){k.on(this._element,om,m=>this._onInteraction(m,!0)),k.on(this._element,Td,m=>this._onInteraction(m,!1)),k.on(this._element,lm,m=>this._onInteraction(m,!0)),k.on(this._element,wd,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const T=Mr.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m](this)}})}}return di(Mr),L(Mr),{Alert:qi,Button:Hs,Carousel:Ys,Collapse:Ze,Dropdown:on,Modal:Rr,Offcanvas:ii,Popover:vn,ScrollSpy:xo,Tab:Oi,Toast:Mr,Tooltip:Yn}})}($g)),$g.exports}YN();const Jx=W.createContext(),WN=({children:n})=>{const[t,e]=W.useState(null),[i,r]=W.useState(0),[o,c]=W.useState(0);return W.useEffect(()=>{const h=vf(hi,async f=>{if(f){const g=Kr(Fn,"users",f.uid),_=await Cv(g);_.exists()&&e(_.data())}else e(null)});return()=>h()},[]),W.useEffect(()=>{const h=ac();let f=null;const g=vf(h,async _=>{if(!_){r(0),f&&f();return}try{const b=Ya(Fn,"loans"),E=Au(b,Zo("status","==","Ongoing"),Zo("userId","==",_.uid));f=mp(E,A=>{r(A.size)})}catch(b){console.log("Error Fetching Count :",b)}});return()=>{g(),f&&f()}},[]),W.useEffect(()=>{const h=ac(),f=vf(h,async g=>{if(!g){c(0);return}try{const _=Ya(Fn,"loans"),b=Au(_,Zo("status","==","Finished"),Zo("userId","==",g.uid)),E=mp(b,A=>{c(A.size)});return()=>E()}catch(_){console.log("cant't get finished count : ",_)}});return()=>{f()}},[]),j.jsx(Jx.Provider,{value:{userData:t,ongoingCount:i,finishedCount:o},children:n})},Ov=()=>W.useContext(Jx),KN=()=>{const n=Du(),t=async()=>{try{const i=hi.currentUser;if(i){const r=Kr(Fn,"users",i.uid);await mu(r,{isLoggedIn:!1}),await ey(hi),n("/")}}catch(i){console.error("Logout failed:",i.message)}},{userData:e}=Ov();return j.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-light",children:j.jsxs("div",{className:"container-fluid",children:[j.jsx(us,{className:"navbar-brand  text-black ",to:"/home",children:"Loan Tracker"}),j.jsx("button",{className:"navbar-toggler bg-black",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:j.jsx("span",{className:"navbar-toggler-icon "})}),j.jsx("div",{className:"collapse navbar-collapse ms-5",id:"navbarNav",children:j.jsxs("ul",{className:"navbar-nav ms-auto",children:[j.jsx("li",{className:"nav-item   ",children:j.jsx(us,{className:"nav-link text-black",to:"/home",children:"Home"})}),j.jsxs("li",{className:"nav-item dropdown",children:[j.jsx(us,{className:"nav-link text-black dropdown-toggle",to:"#",id:"dropdownNavbar",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Loans"}),j.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownNavbar",children:[j.jsx("li",{children:j.jsx(us,{className:"dropdown-item",to:"/loan",children:"Current Loan"})}),j.jsx("li",{children:j.jsx(us,{className:"dropdown-item",to:"/finishedloan",children:"Finished Loan"})})]})]}),j.jsx("li",{className:"nav-item   ",children:j.jsx(us,{className:"nav-link text-black",to:"/InterestCalculator",children:"Calculator"})}),j.jsx("li",{className:"nav-item   ",children:j.jsx(us,{className:"nav-link text-black",to:"/CreateGroup",children:"Create Group"})}),j.jsx("li",{className:"nav-item   ",children:j.jsx(us,{className:"nav-link text-black",to:"/GroupList",children:"Groups"})}),j.jsx("div",{className:"nav-item logout-div  ",onClick:t,children:e?.username.slice(0,1).toUpperCase()})]})})]})})},QN=({addLoan:n,onclose:t,loan:e})=>{const[i,r]=W.useState(""),[o,c]=W.useState(""),[h,f]=W.useState(""),[g,_]=W.useState(""),[b,E]=W.useState(""),A=(I,M,L)=>{const G=M/12/100;return(I*G*Math.pow(1+G,L)/(Math.pow(1+G,L)-1)+I*M*L/(100*L)).toFixed(2)},R=I=>{I.preventDefault();const M=i,L=parseFloat(o),G=parseFloat(h),J=parseInt(g),at=parseInt(b),rt=null,pt=A(L,G,J),V=L*G*J/(100*J).toFixed(2),N=ac().currentUser;if(!N){alert("You must be logged in to add a loan.");return}const z={userId:N.uid,loanName:M,amount:L,interest:G,duration:J,duedate:at,lastPaidDate:rt,totalInterest:V,payment:pt,monthsPaid:0,status:"Ongoing"};n(z),r(""),c(""),f(""),_(""),E(""),alert("Your Form Submitted Successfully"),t()};return j.jsxs("form",{onSubmit:R,className:"loan-form",children:[j.jsx("h1",{children:"Enter Your Loan Form to Track"}),j.jsx("div",{className:"loan-form-div",children:j.jsx("input",{type:"text",placeholder:"Loan Name",value:i,onChange:I=>r(I.target.value),required:!0})}),j.jsx("div",{className:"loan-form-div",children:j.jsx("input",{type:"number",placeholder:"Loan Amount",value:o,onChange:I=>c(I.target.value),required:!0})}),j.jsx("div",{className:"loan-form-div",children:j.jsx("input",{type:"number",placeholder:"Annual Interest Rate (%)",value:h,onChange:I=>f(I.target.value),required:!0})}),j.jsx("div",{className:"loan-form-div",children:j.jsx("input",{type:"number",placeholder:"Duration (Months)",value:g,onChange:I=>_(I.target.value),required:!0})}),j.jsx("div",{className:"loan-form-div",children:j.jsx("input",{type:"number",placeholder:"Due Date",value:b,onChange:I=>E(I.target.value),required:!0})}),j.jsx("button",{type:"submit",children:"Add Loan"}),j.jsx("button",{onClick:t,children:"Cancel"})]})},XN=()=>{const{ongoingCount:n,finishedCount:t}=Ov(),e=Du(),i=()=>{e("/loan")},r=()=>{e("/finishedloan")};return j.jsx(j.Fragment,{children:j.jsxs("div",{className:"dashboard-div-container",children:[j.jsxs("div",{className:"dashboard-first-card",onClick:i,children:[j.jsx("h1",{children:"Current Loan"}),j.jsx("h1",{children:n})]}),j.jsxs("div",{className:"dashboard-second-card",onClick:r,children:[j.jsx("h1",{children:"Finished Loan"}),j.jsx("h1",{children:t})]})]})})},ZN=({addLoan:n})=>{const[t,e]=W.useState(!1),i=()=>{e(!0)},r=()=>{e(!1)},{userData:o}=Ov();return j.jsxs(j.Fragment,{children:[o&&j.jsxs("span",{className:"home-username",children:["Welcome, ",j.jsx("strong",{children:o?.username.toUpperCase()})]}),j.jsx(XN,{}),j.jsx("button",{onClick:i,className:"home-add-btn",children:"Add"}),t&&j.jsx(QN,{addLoan:n,onclose:r})]})},JN=()=>{const[n,t]=W.useState(""),[e,i]=W.useState(""),[r,o]=W.useState(""),[c,h]=W.useState(0),[f,g]=W.useState(0),[_,b]=W.useState(0),[E,A]=W.useState(0),[R,I]=W.useState(0),M=U=>{t(U.target.value)},L=U=>{i(U.target.value)},G=U=>{o(U.target.value)},J=()=>{t(""),i(""),o(""),h(0),g(0),b(0),A(0),I(0)},at=n,rt=e/100/12,pt=e,V=r,P=at*pt*V/(100*V),N=P*V,z=()=>{const U=P;g(U.toFixed(2));const ne=at*rt*Math.pow(1+rt,V)/(Math.pow(1+rt,V)-1);h(ne.toFixed(2));const Mt=U+ne;b(Mt.toFixed(2)),A(N.toFixed(2));const gt=Mt*V;I(gt.toFixed(2))},F=()=>{z()},H=()=>{J()};return j.jsx("section",{className:"calculator-section",children:j.jsxs("div",{className:"calculator-container",children:[j.jsx("h1",{children:"Interest Calculator"}),j.jsxs("div",{className:"input-fields",children:[j.jsx("label",{htmlFor:"emi-amount",children:"EMI Amount"}),j.jsx("input",{type:"number",id:"emi-amount",value:n,onChange:M}),j.jsx("label",{htmlFor:"interest",children:"Interest"}),j.jsx("input",{type:"number",id:"interest",value:e,onChange:L}),j.jsx("label",{htmlFor:"tenure",children:"Tenure(Month)"}),j.jsx("input",{type:"number",id:"tenure",value:r,onChange:G})]}),j.jsxs("div",{className:"buttons",children:[j.jsx("button",{onClick:F,children:"Calculate"}),j.jsx("button",{onClick:H,children:"Reset"})]}),j.jsx("div",{className:"details",children:j.jsxs("div",{className:"summary",children:[j.jsx("h1",{children:"Your EMI Details"}),j.jsxs("div",{className:"details-div",children:[j.jsxs("div",{className:"monthly-pay",children:[j.jsx("p",{children:"Monthly Payment"}),j.jsx("p",{children:c})]}),j.jsxs("div",{className:"monthly-pay",children:[j.jsx("p",{children:"Monthly Interest"}),j.jsx("p",{children:f})]}),j.jsxs("div",{className:"monthly-pay",children:[j.jsx("p",{children:"Monthly Payment with Interest"}),j.jsx("p",{children:_})]}),j.jsxs("div",{className:"monthly-pay",children:[j.jsx("p",{children:"Total Interest"}),j.jsx("p",{children:E})]}),j.jsxs("div",{className:"monthly-pay",children:[j.jsx("p",{children:"Total Payment"}),j.jsx("p",{children:R})]})]})]})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function id(n){return n+.5|0}const Jo=(n,t,e)=>Math.max(Math.min(n,e),t);function gf(n){return Jo(id(n*2.55),0,255)}function ol(n){return Jo(id(n*255),0,255)}function Ba(n){return Jo(id(n/2.55)/100,0,1)}function JT(n){return Jo(id(n*100),0,100)}const Ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ey=[..."0123456789ABCDEF"],tL=n=>Ey[n&15],eL=n=>Ey[(n&240)>>4]+Ey[n&15],bg=n=>(n&240)>>4===(n&15),nL=n=>bg(n.r)&&bg(n.g)&&bg(n.b)&&bg(n.a);function iL(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ns[n[1]]*17,g:255&Ns[n[2]]*17,b:255&Ns[n[3]]*17,a:t===5?Ns[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ns[n[1]]<<4|Ns[n[2]],g:Ns[n[3]]<<4|Ns[n[4]],b:Ns[n[5]]<<4|Ns[n[6]],a:t===9?Ns[n[7]]<<4|Ns[n[8]]:255})),e}const sL=(n,t)=>n<255?t(n):"";function rL(n){var t=nL(n)?tL:eL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+sL(n.a,t):void 0}const aL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function t1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function oL(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function lL(n,t,e){const i=t1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function cL(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Mv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=cL(e,i,r,_,o),f=f*60+.5),[f|0,g||0,h]}function kv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ol)}function Pv(n,t,e){return kv(t1,n,t,e)}function uL(n,t,e){return kv(lL,n,t,e)}function hL(n,t,e){return kv(oL,n,t,e)}function e1(n){return(n%360+360)%360}function fL(n){const t=aL.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?gf(+t[5]):ol(+t[5]));const r=e1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=uL(r,o,c):t[1]==="hsv"?i=hL(r,o,c):i=Pv(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function dL(n,t){var e=Mv(n);e[0]=e1(e[0]+t),e=Pv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function gL(n){if(!n)return;const t=Mv(n),e=t[0],i=JT(t[1]),r=JT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ba(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const tw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ew={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pL(){const n={},t=Object.keys(ew),e=Object.keys(tw);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,tw[o]);o=parseInt(ew[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Eg;function mL(n){Eg||(Eg=pL(),Eg.transparent=[0,0,0,0]);const t=Eg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const _L=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yL(n){const t=_L.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?gf(c):Jo(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?gf(i):Jo(i,0,255)),r=255&(t[4]?gf(r):Jo(r,0,255)),o=255&(t[6]?gf(o):Jo(o,0,255)),{r:i,g:r,b:o,a:e}}}function vL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ba(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const k_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ru=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function bL(n,t,e){const i=ru(Ba(n.r)),r=ru(Ba(n.g)),o=ru(Ba(n.b));return{r:ol(k_(i+e*(ru(Ba(t.r))-i))),g:ol(k_(r+e*(ru(Ba(t.g))-r))),b:ol(k_(o+e*(ru(Ba(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Tg(n,t,e){if(n){let i=Mv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Pv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function n1(n,t){return n&&Object.assign(t||{},n)}function nw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ol(n[3]))):(t=n1(n,{r:0,g:0,b:0,a:1}),t.a=ol(t.a)),t}function EL(n){return n.charAt(0)==="r"?yL(n):fL(n)}class jf{constructor(t){if(t instanceof jf)return t;const e=typeof t;let i;e==="object"?i=nw(t):e==="string"&&(i=iL(t)||mL(t)||EL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=n1(this._rgb);return t&&(t.a=Ba(t.a)),t}set rgb(t){this._rgb=nw(t)}rgbString(){return this._valid?vL(this._rgb):void 0}hexString(){return this._valid?rL(this._rgb):void 0}hslString(){return this._valid?gL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=bL(this._rgb,t._rgb,e)),this}clone(){return new jf(this.rgb)}alpha(t){return this._rgb.a=ol(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=id(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Tg(this._rgb,2,t),this}darken(t){return Tg(this._rgb,2,-t),this}saturate(t){return Tg(this._rgb,1,t),this}desaturate(t){return Tg(this._rgb,1,-t),this}rotate(t){return dL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ua(){}const TL=(()=>{let n=0;return()=>n++})();function Ne(n){return n==null}function Bn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function zs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function jr(n,t){return zs(n)?n:t}function ve(n,t){return typeof n>"u"?t:n}const wL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Be(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ce(n,t,e,i){let r,o,c;if(Bn(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(be(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function _p(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function yp(n){if(Bn(n))return n.map(yp);if(be(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=yp(n[e[r]]);return t}return n}function i1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function SL(n,t,e,i){if(!i1(n))return;const r=t[n],o=e[n];be(r)&&be(o)?zf(r,o,i):t[n]=yp(o)}function zf(n,t,e){const i=Bn(t)?t:[t],r=i.length;if(!be(n))return n;e=e||{};const o=e.merger||SL;let c;for(let h=0;h<r;++h){if(c=i[h],!be(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],n,c,e)}return n}function Sf(n,t){return zf(n,t,{merger:AL})}function AL(n,t,e){if(!i1(n))return;const i=t[n],r=e[n];be(i)&&be(r)?Sf(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=yp(r))}const iw={"":n=>n,x:n=>n.x,y:n=>n.y};function xL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function RL(n){const t=xL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function xu(n,t){return(iw[t]||(iw[t]=RL(t)))(n)}function Nv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Bf=n=>typeof n<"u",ml=n=>typeof n=="function",sw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function CL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,Ti=2*Ye,vp=Number.POSITIVE_INFINITY,IL=Ye/180,Jn=Ye/2,Xl=Ye/4,rw=Ye*2/3,s1=Math.log10,ll=Math.sign;function Gg(n,t,e){return Math.abs(n-t)<e}function aw(n){const t=Math.round(n);n=Gg(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(s1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function DL(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function OL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bp(n){return!OL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ML(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function kL(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function sc(n){return n*(Ye/180)}function PL(n){return n*(180/Ye)}function ow(n){if(!zs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function r1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ye&&(o+=Ti),{angle:o,distance:r}}function NL(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function qr(n){return(n%Ti+Ti)%Ti}function a1(n,t,e,i){const r=qr(n),o=qr(t),c=qr(e),h=qr(o-r),f=qr(c-r),g=qr(r-o),_=qr(r-c);return r===o||r===c||i&&o===c||h>f&&g<_}function Bi(n,t,e){return Math.max(t,Math.min(e,n))}function LL(n){return Bi(n,-32768,32767)}function rc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Lv(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ty=(n,t,e,i)=>Lv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),VL=(n,t,e)=>Lv(n,e,i=>n[i][t]>=e);function UL(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const o1=["push","pop","shift","splice","unshift"];function jL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),o1.forEach(e=>{const i="_onData"+Nv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function lw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(o1.forEach(o=>{delete n[o]}),delete n._chartjs)}function l1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const c1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function u1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,c1.call(window,()=>{i=!1,n.apply(t,e)}))}}function zL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const h1=n=>n==="start"?"left":n==="end"?"right":"center",cs=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,BL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,wg=n=>n===0||n===1,cw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ti/e)),uw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ti/e)+1,Af={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Jn)+1,easeOutSine:n=>Math.sin(n*Jn),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>wg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>wg(n)?n:cw(n,.075,.3),easeOutElastic:n=>wg(n)?n:uw(n,.075,.3),easeInOutElastic(n){return wg(n)?n:n<.5?.5*cw(n*2,.1125,.45):.5+.5*uw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Af.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Af.easeInBounce(n*2)*.5:Af.easeOutBounce(n*2-1)*.5+.5};function f1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function hw(n){return f1(n)?n:new jf(n)}function P_(n){return f1(n)?n:new jf(n).saturate(.5).darken(.1).hexString()}const FL=["x","y","borderWidth","radius","tension"],HL=["color","borderColor","backgroundColor"];function qL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:HL},numbers:{type:"number",properties:FL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $L(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const fw=new Map;function GL(n,t){t=t||{};const e=n+JSON.stringify(t);let i=fw.get(e);return i||(i=new Intl.NumberFormat(n,t),fw.set(e,i)),i}function d1(n,t,e){return GL(t,e).format(n)}const YL={values(n){return Bn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=WL(n,e)}const c=s1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),d1(n,i,f)}};function WL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var g1={formatters:YL};function KL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:g1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const mc=Object.create(null),wy=Object.create(null);function xf(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function N_(n,t,e){return typeof t=="string"?zf(xf(n,t),e):zf(xf(n,""),t)}class QL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>P_(r.backgroundColor),this.hoverBorderColor=(i,r)=>P_(r.borderColor),this.hoverColor=(i,r)=>P_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return N_(this,t,e)}get(t){return xf(this,t)}describe(t,e){return N_(wy,t,e)}override(t,e){return N_(mc,t,e)}route(t,e,i,r){const o=xf(this,t),c=xf(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return be(f)?Object.assign({},g,f):ve(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var dn=new QL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qL,$L,KL]);function XL(n){return!n||Ne(n.size)||Ne(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function dw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Zl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function pw(n,t,e,i){p1(n,t,e,i,null)}function p1(n,t,e,i,r){let o,c,h,f,g,_,b,E;const A=t.pointStyle,R=t.rotation,I=t.radius;let M=(R||0)*IL;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,I,0,0,Ti):n.arc(e,i,I,0,Ti),n.closePath();break;case"triangle":_=r?r/2:I,n.moveTo(e+Math.sin(M)*_,i-Math.cos(M)*I),M+=rw,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*I),M+=rw,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*I),n.closePath();break;case"rectRounded":g=I*.516,f=I-g,c=Math.cos(M+Xl)*f,b=Math.cos(M+Xl)*(r?r/2-g:f),h=Math.sin(M+Xl)*f,E=Math.sin(M+Xl)*(r?r/2-g:f),n.arc(e-b,i-h,g,M-Ye,M-Jn),n.arc(e+E,i-c,g,M-Jn,M),n.arc(e+b,i+h,g,M,M+Jn),n.arc(e-E,i+c,g,M+Jn,M+Ye),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*I,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}M+=Xl;case"rectRot":b=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,E=Math.sin(M)*(r?r/2:I),n.moveTo(e-b,i-h),n.lineTo(e+E,i-c),n.lineTo(e+b,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":M+=Xl;case"cross":b=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,E=Math.sin(M)*(r?r/2:I),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":b=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,E=Math.sin(M)*(r?r/2:I),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),M+=Xl,b=Math.cos(M)*(r?r/2:I),c=Math.cos(M)*I,h=Math.sin(M)*I,E=Math.sin(M)*(r?r/2:I),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(M)*I,h=Math.sin(M)*I,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:I),i+Math.sin(M)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function m1(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Vv(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Uv(n){n.restore()}function ZL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ne(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function JL(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function tV(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ep(n,t,e,i,r,o={}){const c=Bn(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,ZL(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&tV(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ne(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),JL(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Tp(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ye,Ye,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ye,Jn,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Jn,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Jn,!0),n.lineTo(e+c.topLeft,i)}const eV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,nV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function iV(n,t){const e=(""+n).match(eV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const sV=n=>+n||0;function jv(n,t){const e={},i=be(t),r=i?Object.keys(t):t,o=be(n)?i?c=>ve(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=sV(o(c));return e}function _1(n){return jv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _u(n){return jv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hr(n){const t=_1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Fi(n,t){n=n||{},t=t||dn.font;let e=ve(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ve(n.style,t.style);i&&!(""+i).match(nV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ve(n.family,t.family),lineHeight:iV(ve(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ve(n.weight,t.weight),string:""};return r.string=XL(r),r}function Sg(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function rV(n,t,e){const{min:i,max:r}=n,o=wL(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function ju(n,t){return Object.assign(Object.create(n),t)}function zv(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=E1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>zv([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return v1(h,f,()=>dV(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return _w(h).includes(f)},ownKeys(h){return _w(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function Ru(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:y1(n,i),setContext:o=>Ru(n,o,e,i),override:o=>Ru(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return v1(o,c,()=>oV(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function y1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ml(e)?e:()=>e,isIndexable:ml(i)?i:()=>i}}const aV=(n,t)=>n?n+Nv(t):t,Bv=(n,t)=>be(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function v1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function oV(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return ml(h)&&c.isScriptable(t)&&(h=lV(t,h,n,e)),Bn(h)&&h.length&&(h=cV(t,h,n,c.isIndexable)),Bv(t,h)&&(h=Ru(h,r,o&&o[t],c)),h}function lV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Bv(n,f)&&(f=Fv(r._scopes,r,n,f)),f}function cV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(be(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const b=Fv(g,r,n,_);t.push(Ru(b,o,c&&c[n],h))}}return t}function b1(n,t,e){return ml(n)?n(t,e):n}const uV=(n,t)=>n===!0?t:typeof n=="string"?xu(t,n):void 0;function hV(n,t,e,i,r){for(const o of t){const c=uV(e,o);if(c){n.add(c);const h=b1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Fv(n,t,e,i){const r=t._rootScopes,o=b1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=mw(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=mw(h,c,o,f,i),f===null)?!1:zv(Array.from(h),[""],r,o,()=>fV(t,e,i))}function mw(n,t,e,i,r){for(;e;)e=hV(n,t,e,i,r);return e}function fV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Bn(r)&&be(e)?e:r||{}}function dV(n,t,e,i){let r;for(const o of t)if(r=E1(aV(o,n),e),typeof r<"u")return Bv(n,r)?Fv(e,i,n,r):r}function E1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function _w(n){let t=n._keys;return t||(t=n._keys=gV(n._scopes)),t}function gV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Hv(){return typeof window<"u"&&typeof document<"u"}function qv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function wp(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const tm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function pV(n,t){return tm(n).getPropertyValue(t)}const mV=["top","right","bottom","left"];function cc(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=mV[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const _V=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function yV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(_V(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function nc(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=tm(e),o=r.boxSizing==="border-box",c=cc(r,"padding"),h=cc(r,"border","width"),{x:f,y:g,box:_}=yV(n,e),b=c.left+(_&&h.left),E=c.top+(_&&h.top);let{width:A,height:R}=t;return o&&(A-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-b)/A*e.width/i),y:Math.round((g-E)/R*e.height/i)}}function vV(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&qv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=tm(o),f=cc(h,"border","width"),g=cc(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=wp(h.maxWidth,o,"clientWidth"),r=wp(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||vp,maxHeight:r||vp}}const Ag=n=>Math.round(n*10)/10;function bV(n,t,e,i){const r=tm(n),o=cc(r,"margin"),c=wp(r.maxWidth,n,"clientWidth")||vp,h=wp(r.maxHeight,n,"clientHeight")||vp,f=vV(n,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const E=cc(r,"border","width"),A=cc(r,"padding");g-=A.width+E.width,_-=A.height+E.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=Ag(Math.min(g,c,f.maxWidth)),_=Ag(Math.min(_,h,f.maxHeight)),g&&!_&&(_=Ag(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,g=Ag(Math.floor(_*i))),{width:g,height:_}}function yw(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const EV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Hv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function vw(n,t){const e=pV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const TV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},wV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function yu(n,t,e){return n?TV(t,e):wV()}function T1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function w1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function xg(n,t,e){return n.options.clip?n[e]:t[e]}function SV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:xg(e,t,"left"),right:xg(e,t,"right"),top:xg(i,t,"top"),bottom:xg(i,t,"bottom")}:t}function AV(n,t){const e=t._clip;if(e.disabled)return!1;const i=SV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=c1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ja=new xV;const bw="transparent",RV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=hw(n||bw),r=i.valid&&hw(t||bw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class CV{constructor(t,e,i,r){const o=e[i];r=Sg([t.to,r,o,t.from]);const c=Sg([t.from,o,r]);this._active=!0,this._fn=t.fn||RV[t.type||typeof c],this._easing=Af[t.easing]||Af.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Sg([t.to,e,r,t.from]),this._from=Sg([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class S1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!be(t))return;const e=Object.keys(dn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!be(o))return;const c={};for(const h of e)c[h]=o[h];(Bn(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=DV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&IV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let b=o[g];const E=i.get(g);if(b)if(E&&b.active()){b.update(E,_,h);continue}else b.cancel();if(!E||!E.duration){t[g]=_;continue}o[g]=b=new CV(E,t,g,_),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ja.add(this._chart,i),!0}}function IV(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function DV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ew(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function OV(n,t,e){if(e===!1)return!1;const i=Ew(n,e),r=Ew(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function MV(n){let t,e,i,r;return be(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function A1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function Tw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}g=n.values[f],zs(g)&&(o||t===0||ll(t)===ll(g))&&(t+=g)}return!_&&!i.all?0:t}function kV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function L_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function PV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function NV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function LV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function ww(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Sw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,_=PV(o,c,i),b=t.length;let E;for(let A=0;A<b;++A){const R=t[A],{[f]:I,[g]:M}=R,L=R._stacks||(R._stacks={});E=L[g]=LV(r,_,I),E[h]=M,E._top=ww(E,c,!0,i.type),E._bottom=ww(E,c,!1,i.type);const G=E._visualValues||(E._visualValues={});G[h]=M}}function V_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function VV(n,t){return ju(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function UV(n,t,e){return ju(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function nf(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const U_=n=>n==="reset"||n==="none",Aw=(n,t)=>t?n:Object.assign({},n),jV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:A1(e,!0),values:null};class x1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=L_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&nf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,E,A,R)=>b==="x"?E:b==="r"?R:A,o=e.xAxisID=ve(i.xAxisID,V_(t,"x")),c=e.yAxisID=ve(i.yAxisID,V_(t,"y")),h=e.rAxisID=ve(i.rAxisID,V_(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&lw(this._data,this),t._stacked&&nf(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(be(e)){const r=this._cachedMeta;this._data=kV(e,r)}else if(i!==e){if(i){lw(i,this);const r=this._cachedMeta;nf(r),r._parsed=[]}e&&Object.isExtensible(e)&&jL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=L_(e.vScale,e),e.stack!==i.stack&&(r=!0,nf(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Sw(this,e._parsed),e._stacked=L_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,b,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{Bn(r[t])?E=this.parseArrayData(i,r,t,e):be(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const A=()=>b[h]===null||g&&b[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=b=E[_],f&&(A()&&(f=!1),g=b);i._sorted=f}c&&Sw(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,b=new Array(r);let E,A,R;for(E=0,A=r;E<A;++E)R=E+i,b[E]={[h]:_||o.parse(g[R],R),[f]:c.parse(e[R],R)};return b}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,_,b;for(f=0,g=r;f<g;++f)_=f+i,b=e[_],h[f]={x:o.parse(b[0],_),y:c.parse(b[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,b,E,A;for(_=0,b=r;_<b;++_)E=_+i,A=e[E],g[_]={x:o.parse(xu(A,h),E),y:c.parse(xu(A,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:A1(r,!0),values:e._stacks[t.axis]._visualValues};return Tw(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=Tw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=jV(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:b}=NV(h);let E,A;function R(){A=r[E];const I=A[h.axis];return!zs(A[t.axis])||_>I||b<I}for(E=0;E<c&&!(!R()&&(this.updateRangeFromParsed(g,t,A,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!R()){this.updateRangeFromParsed(g,t,A,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],zs(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=MV(ve(this.options.clip,OV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const b=r[_];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=UV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=VV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Bf(i);if(h)return Aw(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),_),A=Object.keys(dn.elements[t]),R=()=>this.getContext(i,r,e),I=g.resolveNamedOptions(E,A,R,b);return I.$shared&&(I.$shared=f,o[c]=Object.freeze(Aw(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,b=_.datasetAnimationScopeKeys(this._type,e),E=_.getOptionScopes(this.getDataset(),b);f=_.createResolver(E,this.getContext(t,i,e))}const g=new S1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||U_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){U_(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!U_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&nf(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=l1(i.sort((r,o)=>r-o))}return n._cache.$bar}function BV(n){const t=n.iScale,e=zV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Bf(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function FV(n,t,e,i){const r=e.barThickness;let o,c;return Ne(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function HV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function qV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function R1(n,t,e,i){return Bn(n)?qV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function xw(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let g,_,b,E;for(g=e,_=e+i;g<_;++g)E=t[g],b={},b[r.axis]=h||r.parse(c[g],g),f.push(R1(E,b,o,g));return f}function j_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function $V(n,t,e){return n!==0?ll(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function GV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function YV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=GV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=_:(o[Rw(_,c,h,f)]=!0,r=g)),o[Rw(r,c,h,f)]=!0,n.borderSkipped=o}function Rw(n,t,e,i){return i?(n=WV(n,t,e),n=Cw(n,e,t)):n=Cw(n,t,e),n}function WV(n,t,e){return n===t?e:n===e?t:n}function Cw(n,t,e){return n==="start"?t:n==="end"?e:n}function KV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class QV extends x1{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return xw(t,e,i,r)}parseArrayData(t,e,i,r){return xw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,b=[];let E,A,R,I;for(E=i,A=i+r;E<A;++E)I=e[E],R={},R[o.axis]=o.parse(xu(I,g),E),b.push(R1(xu(I,_),R,c,E));return b}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=j_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:b,includeOptions:E}=this._getSharedOptions(e,r);for(let A=e;A<e+i;A++){const R=this.getParsed(A),I=o||Ne(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(A),M=this._calculateBarIndexPixels(A,_),L=(R._stacks||{})[h.axis],G={horizontal:g,base:I.base,enableBorderRadius:!L||j_(R._custom)||c===L._top||c===L._bottom,x:g?I.head:M.center,y:g?M.center:I.head,height:g?M.size:Math.abs(I.size),width:g?Math.abs(I.size):M.size};E&&(G.options=b||this.resolveDataElementOptions(A,t[A].active?"active":r));const J=G.options||t[A].options;YV(G,J,L,c),KV(G,J,_.ratio),this.updateElement(t[A],A,G,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=_=>{const b=_._parsed.find(A=>A[i.axis]===f),E=b&&b[_.vScale.axis];if(Ne(E)||isNaN(E))return!0};for(const _ of r)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[ve(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||BV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=j_(g);let b=f[e.axis],E=0,A=i?this.applyStack(e,f,i):b,R,I;A!==b&&(E=A-b,A=b),_&&(b=g.barStart,A=g.barEnd-g.barStart,b!==0&&ll(b)!==ll(g.barEnd)&&(E=0),E+=b);const M=!Ne(o)&&!_?o:E;let L=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(E+A):R=L,I=R-L,Math.abs(I)<c){I=$V(I,e,h)*c,b===h&&(L-=I/2);const G=e.getPixelForDecimal(0),J=e.getPixelForDecimal(1),at=Math.min(G,J),rt=Math.max(G,J);L=Math.max(Math.min(L,rt),at),R=L+I,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const G=ll(I)*e.getLineWidthForValue(h)/2;L+=G,I-=G}return{size:I,base:L,head:R,center:R+I/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=ve(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,b=r.barThickness==="flex"?HV(t,e,r,_*g):FV(t,e,r,_*g),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,A=this._getAxis().indexOf(ve(E,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+A;h=b.start+b.chunk*R+b.chunk/2,f=Math.min(c,b.chunk*b.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function Jl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $v{static override(t){Object.assign($v.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Jl()}parse(){return Jl()}format(){return Jl()}add(){return Jl()}diff(){return Jl()}startOf(){return Jl()}endOf(){return Jl()}}var XV={_date:$v};function ZV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?VL:Ty;if(i){if(r._sharedOptions){const _=o[0],b=typeof _.getRange=="function"&&_.getRange(t);if(b){const E=g(o,t,e-b),A=g(o,t,e+b);return{lo:E.lo,hi:A.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:b}=r._cachedMeta,{_parsed:E}=n,A=E.slice(0,_.lo+1).reverse().findIndex(I=>!Ne(I[b.axis]));_.lo-=Math.max(0,A);const R=E.slice(_.hi).findIndex(I=>!Ne(I[b.axis]));_.hi+=Math.max(0,R)}return _}}return{lo:0,hi:o.length-1}}function em(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:b,hi:E}=ZV(o[h],t,c,r);for(let A=b;A<=E;++A){const R=_[A];R.skip||i(R,g,A)}}}function JV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function z_(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||em(n,e,t,function(h,f,g){!r&&!m1(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function t4(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:b}=r1(c,{x:t.x,y:t.y});a1(b,g,_)&&r.push({element:c,datasetIndex:h,index:f})}return em(n,e,t,o),r}function e4(n,t,e,i,r,o){let c=[];const h=JV(e);let f=Number.POSITIVE_INFINITY;function g(_,b,E){const A=_.inRange(t.x,t.y,r);if(i&&!A)return;const R=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!A)return;const M=h(t,R);M<f?(c=[{element:_,datasetIndex:b,index:E}],f=M):M===f&&c.push({element:_,datasetIndex:b,index:E})}return em(n,e,t,g),c}function B_(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?t4(n,t,e,r):e4(n,t,e,i,r,o)}function Iw(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return em(n,e,t,(f,g,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var n4={modes:{index(n,t,e,i){const r=nc(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?z_(n,r,o,i,c):B_(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,b=g.data[_];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const r=nc(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?z_(n,r,o,i,c):B_(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=nc(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return z_(n,r,o,i,c)},nearest(n,t,e,i){const r=nc(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return B_(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=nc(t,n);return Iw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=nc(t,n);return Iw(n,r,"y",e.intersect,i)}}};const C1=["left","top","right","bottom"];function sf(n,t){return n.filter(e=>e.pos===t)}function Dw(n,t){return n.filter(e=>C1.indexOf(e.pos)===-1&&e.box.axis===t)}function rf(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function i4(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function s4(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!C1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function r4(n,t){const e=s4(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function a4(n){const t=i4(n),e=rf(t.filter(g=>g.box.fullSize),!0),i=rf(sf(t,"left"),!0),r=rf(sf(t,"right")),o=rf(sf(t,"top"),!0),c=rf(sf(t,"bottom")),h=Dw(t,"x"),f=Dw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:sf(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function Ow(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function I1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function o4(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!be(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[r]+=e.size}o.getPadding&&I1(c,o.getPadding());const h=Math.max(0,t.outerWidth-Ow(c,n,"left","right")),f=Math.max(0,t.outerHeight-Ow(c,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function l4(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function c4(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function pf(n,t,e,i){const r=[];let o,c,h,f,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,c4(h.horizontal,t));const{same:b,other:E}=o4(t,e,h,i);g|=b&&r.length,_=_||E,f.fullSize||r.push(h)}return g&&pf(r,t,e,i)||_}function Rg(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Mw(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*_,E=g.size||f.height;Bf(g.start)&&(c=g.start),f.fullSize?Rg(f,r.left,c,e.outerWidth-r.right-r.left,E):Rg(f,t.left+g.placed,c,b,E),g.start=c,g.placed+=b,c=f.bottom}else{const b=t.h*_,E=g.size||f.width;Bf(g.start)&&(o=g.start),f.fullSize?Rg(f,o,r.top,E,e.outerHeight-r.bottom-r.top):Rg(f,o,t.top+g.placed,E,b),g.start=o,g.placed+=b,o=f.right}}t.x=o,t.y=c}var tl={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=hr(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=a4(n.boxes),f=h.vertical,g=h.horizontal;Ce(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const _=f.reduce((I,M)=>M.box.options&&M.box.options.display===!1?I:I+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),E=Object.assign({},r);I1(E,hr(i));const A=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),R=r4(f.concat(g),b);pf(h.fullSize,A,b,R),pf(f,A,b,R),pf(g,A,b,R)&&pf(f,A,b,R),l4(A),Mw(h.leftAndTop,A,b,R),A.x+=A.w,A.y+=A.h,Mw(h.rightAndBottom,A,b,R),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Ce(h.chartArea,I=>{const M=I.box;Object.assign(M,n.chartArea),M.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class D1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class u4 extends D1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Yg="$chartjs",h4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kw=n=>n===null||n==="";function f4(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Yg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",kw(r)){const o=vw(n,"width");o!==void 0&&(n.width=o)}if(kw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=vw(n,"height");o!==void 0&&(n.height=o)}return n}const O1=EV?{passive:!0}:!1;function d4(n,t,e){n&&n.addEventListener(t,e,O1)}function g4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,O1)}function p4(n,t){const e=h4[n.type]||n.type,{x:i,y:r}=nc(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Sp(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function m4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Sp(h.addedNodes,i),c=c&&!Sp(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function _4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Sp(h.removedNodes,i),c=c&&!Sp(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ff=new Map;let Pw=0;function M1(){const n=window.devicePixelRatio;n!==Pw&&(Pw=n,Ff.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function y4(n,t){Ff.size||window.addEventListener("resize",M1),Ff.set(n,t)}function v4(n){Ff.delete(n),Ff.size||window.removeEventListener("resize",M1)}function b4(n,t,e){const i=n.canvas,r=i&&qv(i);if(!r)return;const o=u1((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),y4(n,o),c}function F_(n,t,e){e&&e.disconnect(),t==="resize"&&v4(n)}function E4(n,t,e){const i=n.canvas,r=u1(o=>{n.ctx!==null&&e(p4(o,n))},n);return d4(i,t,r),r}class T4 extends D1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(f4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Yg])return!1;const i=e[Yg].initial;["height","width"].forEach(o=>{const c=i[o];Ne(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Yg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:m4,detach:_4,resize:b4}[e]||E4;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:F_,detach:F_,resize:F_}[e]||g4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return bV(t,e,i,r)}isAttached(t){const e=t&&qv(t);return!!(e&&e.isConnected)}}function w4(n){return!Hv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?u4:T4}let zu=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return bp(this.x)&&bp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function S4(n,t){const e=n.options.ticks,i=A4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?R4(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return C4(t,g,o,c/r),g;const _=x4(o,t,r);if(c>0){let b,E;const A=c>1?Math.round((f-h)/(c-1)):null;for(Cg(t,g,_,Ne(A)?0:h-A,h),b=0,E=c-1;b<E;b++)Cg(t,g,_,o[b],o[b+1]);return Cg(t,g,_,f,Ne(A)?t.length:f+A),g}return Cg(t,g,_),g}function A4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function x4(n,t,e){const i=I4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=DL(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function R4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function C4(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Cg(n,t,e,i,r){const o=ve(i,0),c=Math.min(ve(r,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function I4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const D4=n=>n==="left"?"right":n==="right"?"left":n,Nw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Lw=(n,t)=>Math.min(t||n,n);function Vw(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function O4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function M4(n,t){Ce(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function af(n){return n.drawTicks?n.tickLength:0}function Uw(n,t){if(!n.display)return 0;const e=Fi(n.font,t),i=hr(n.padding);return(Bn(n.text)?n.text.length:1)*e.lineHeight+i.height}function k4(n,t){return ju(n,{scale:t,type:"scale"})}function P4(n,t,e){return ju(n,{tick:e,index:t,type:"tick"})}function N4(n,t,e){let i=h1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=D4(i)),i}function L4(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let b=0,E,A,R;const I=c-r,M=h-o;if(n.isHorizontal()){if(A=cs(i,o,h),be(e)){const L=Object.keys(e)[0],G=e[L];R=_[L].getPixelForValue(G)+I-t}else e==="center"?R=(g.bottom+g.top)/2+I-t:R=Nw(n,e,t);E=h-o}else{if(be(e)){const L=Object.keys(e)[0],G=e[L];A=_[L].getPixelForValue(G)-M+t}else e==="center"?A=(g.left+g.right)/2-M+t:A=Nw(n,e,t);R=cs(i,c,r),b=e==="left"?-Jn:Jn}return{titleX:A,titleY:R,maxWidth:E,rotation:b}}class Bu extends zu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=jr(t,Number.POSITIVE_INFINITY),e=jr(e,Number.NEGATIVE_INFINITY),i=jr(i,Number.POSITIVE_INFINITY),r=jr(r,Number.NEGATIVE_INFINITY),{min:jr(t,i),max:jr(e,r),minDefined:zs(t),maxDefined:zs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:jr(e,jr(i,e)),max:jr(i,jr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rV(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Vw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=S4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Be(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Lw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),b=_.widest.width,E=_.highest.height,A=Bi(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),b+6>h&&(h=A/(i-(t.offset?.5:1)),f=this.maxHeight-af(t.grid)-e.padding-Uw(t.title,this.chart.options.font),g=Math.sqrt(b*b+E*E),c=PL(Math.min(Math.asin(Bi((_.highest.height+6)/h,-1,1)),Math.asin(Bi(f/g,-1,1))-Math.asin(Bi(E/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Uw(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=af(o)+f):(t.height=this.maxHeight,t.width=af(o)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:b,highest:E}=this._getLabelSizes(),A=i.padding*2,R=sc(this.labelRotation),I=Math.cos(R),M=Math.sin(R);if(h){const L=i.mirror?0:M*b.width+I*E.height;t.height=Math.min(this.maxHeight,t.height+L+A)}else{const L=i.mirror?0:I*b.width+M*E.height;t.width=Math.min(this.maxWidth,t.width+L+A)}this._calculatePadding(g,_,M,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,A=0;f?g?(E=r*t.width,A=i*e.height):(E=i*t.height,A=r*e.width):o==="start"?A=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,A=e.width/2),this.paddingLeft=Math.max((E-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((A-b+c)*this.width/(this.width-b),0)}else{let _=e.height/2,b=t.height/2;o==="start"?(_=0,b=t.height):o==="end"&&(_=e.height,b=0),this.paddingTop=_+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ne(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Vw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Lw(e,i));let g=0,_=0,b,E,A,R,I,M,L,G,J,at,rt;for(b=0;b<e;b+=f){if(R=t[b].label,I=this._resolveTickFontOptions(b),r.font=M=I.string,L=o[M]=o[M]||{data:{},gc:[]},G=I.lineHeight,J=at=0,!Ne(R)&&!Bn(R))J=dw(r,L.data,L.gc,J,R),at=G;else if(Bn(R))for(E=0,A=R.length;E<A;++E)rt=R[E],!Ne(rt)&&!Bn(rt)&&(J=dw(r,L.data,L.gc,J,rt),at+=G);c.push(J),h.push(at),g=Math.max(J,g),_=Math.max(at,_)}M4(o,e);const pt=c.indexOf(g),V=h.indexOf(_),P=N=>({width:c[N]||0,height:h[N]||0});return{first:P(0),last:P(e-1),widest:P(pt),highest:P(V),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return LL(this._alignToPixels?Zl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=P4(this.getContext(),t,i))}return this.$context||(this.$context=k4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=sc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),E=af(o),A=[],R=h.setContext(this.getContext()),I=R.display?R.width:0,M=I/2,L=function(et){return Zl(i,et,I)};let G,J,at,rt,pt,V,P,N,z,F,H,U;if(c==="top")G=L(this.bottom),V=this.bottom-E,N=G-M,F=L(t.top)+M,U=t.bottom;else if(c==="bottom")G=L(this.top),F=t.top,U=L(t.bottom)-M,V=G+M,N=this.top+E;else if(c==="left")G=L(this.right),pt=this.right-E,P=G-M,z=L(t.left)+M,H=t.right;else if(c==="right")G=L(this.left),z=t.left,H=L(t.right)-M,pt=G+M,P=this.left+E;else if(e==="x"){if(c==="center")G=L((t.top+t.bottom)/2+.5);else if(be(c)){const et=Object.keys(c)[0],gt=c[et];G=L(this.chart.scales[et].getPixelForValue(gt))}F=t.top,U=t.bottom,V=G+M,N=V+E}else if(e==="y"){if(c==="center")G=L((t.left+t.right)/2);else if(be(c)){const et=Object.keys(c)[0],gt=c[et];G=L(this.chart.scales[et].getPixelForValue(gt))}pt=G-M,P=pt-E,z=t.left,H=t.right}const ne=ve(r.ticks.maxTicksLimit,b),Mt=Math.max(1,Math.ceil(b/ne));for(J=0;J<b;J+=Mt){const et=this.getContext(J),gt=o.setContext(et),xt=h.setContext(et),Lt=gt.lineWidth,k=gt.color,ht=xt.dash||[],yt=xt.dashOffset,mt=gt.tickWidth,At=gt.tickColor,jt=gt.tickBorderDash||[],It=gt.tickBorderDashOffset;at=O4(this,J,f),at!==void 0&&(rt=Zl(i,at,Lt),g?pt=P=z=H=rt:V=N=F=U=rt,A.push({tx1:pt,ty1:V,tx2:P,ty2:N,x1:z,y1:F,x2:H,y2:U,width:Lt,color:k,borderDash:ht,borderDashOffset:yt,tickWidth:mt,tickColor:At,tickBorderDash:jt,tickBorderDashOffset:It}))}return this._ticksLength=b,this._borderValue=G,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:b}=o,E=af(i.grid),A=E+_,R=b?-_:A,I=-sc(this.labelRotation),M=[];let L,G,J,at,rt,pt,V,P,N,z,F,H,U="middle";if(r==="top")pt=this.bottom-R,V=this._getXAxisLabelAlignment();else if(r==="bottom")pt=this.top+R,V=this._getXAxisLabelAlignment();else if(r==="left"){const Mt=this._getYAxisLabelAlignment(E);V=Mt.textAlign,rt=Mt.x}else if(r==="right"){const Mt=this._getYAxisLabelAlignment(E);V=Mt.textAlign,rt=Mt.x}else if(e==="x"){if(r==="center")pt=(t.top+t.bottom)/2+A;else if(be(r)){const Mt=Object.keys(r)[0],et=r[Mt];pt=this.chart.scales[Mt].getPixelForValue(et)+A}V=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")rt=(t.left+t.right)/2-A;else if(be(r)){const Mt=Object.keys(r)[0],et=r[Mt];rt=this.chart.scales[Mt].getPixelForValue(et)}V=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?U="top":f==="end"&&(U="bottom"));const ne=this._getLabelSizes();for(L=0,G=h.length;L<G;++L){J=h[L],at=J.label;const Mt=o.setContext(this.getContext(L));P=this.getPixelForTick(L)+o.labelOffset,N=this._resolveTickFontOptions(L),z=N.lineHeight,F=Bn(at)?at.length:1;const et=F/2,gt=Mt.color,xt=Mt.textStrokeColor,Lt=Mt.textStrokeWidth;let k=V;c?(rt=P,V==="inner"&&(L===G-1?k=this.options.reverse?"left":"right":L===0?k=this.options.reverse?"right":"left":k="center"),r==="top"?g==="near"||I!==0?H=-F*z+z/2:g==="center"?H=-ne.highest.height/2-et*z+z:H=-ne.highest.height+z/2:g==="near"||I!==0?H=z/2:g==="center"?H=ne.highest.height/2-et*z:H=ne.highest.height-F*z,b&&(H*=-1),I!==0&&!Mt.showLabelBackdrop&&(rt+=z/2*Math.sin(I))):(pt=P,H=(1-F)*z/2);let ht;if(Mt.showLabelBackdrop){const yt=hr(Mt.backdropPadding),mt=ne.heights[L],At=ne.widths[L];let jt=H-yt.top,It=0-yt.left;switch(U){case"middle":jt-=mt/2;break;case"bottom":jt-=mt;break}switch(V){case"center":It-=At/2;break;case"right":It-=At;break;case"inner":L===G-1?It-=At:L>0&&(It-=At/2);break}ht={left:It,top:jt,width:At+yt.width,height:mt+yt.height,color:Mt.backdropColor}}M.push({label:at,font:N,textOffset:H,options:{rotation:I,color:gt,strokeColor:xt,strokeWidth:Lt,textAlign:k,textBaseline:U,translation:[rt,pt],backdrop:ht}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-sc(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,b,E;this.isHorizontal()?(g=Zl(t,this.left,c)-c/2,_=Zl(t,this.right,h)+h/2,b=E=f):(b=Zl(t,this.top,c)-c/2,E=Zl(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(_,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Vv(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;Ep(i,g,0,_,f,h)}r&&Uv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Fi(i.font),c=hr(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||be(e)?(f+=c.bottom,Bn(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:b,rotation:E}=L4(this,f,e,h);Ep(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:E,textAlign:N4(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ve(t.grid&&t.grid.z,-1),r=ve(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Bu.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Fi(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ig{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;j4(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,V4(t,c,i),this.override&&dn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in dn[r]&&(delete dn[r][i],this.override&&delete mc[i])}}function V4(n,t,e){const i=zf(Object.create(null),[e?dn.get(e):{},dn.get(t),n.defaults]);dn.set(t,i),n.defaultRoutes&&U4(t,n.defaultRoutes),n.descriptors&&dn.describe(t,n.descriptors)}function U4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");dn.route(o,r,f,h)})}function j4(n){return"id"in n&&"defaults"in n}class z4{constructor(){this.controllers=new Ig(x1,"datasets",!0),this.elements=new Ig(zu,"elements"),this.plugins=new Ig(Object,"plugins"),this.scales=new Ig(Bu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Ce(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=Nv(t);Be(i["before"+r],[],i),e[t](i),Be(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Fr=new z4;class B4{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(Be(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=ve(i.options&&i.options.plugins,{}),o=F4(i);return r===!1&&!e?[]:q4(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function F4(n){const t={},e=[],i=Object.keys(Fr.plugins.items);for(let o=0;o<i.length;o++)e.push(Fr.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function H4(n,t){return!t&&n===!1?null:n===!0?{}:n}function q4(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=H4(i[f],r);g!==null&&o.push({plugin:h,options:$4(n.config,{plugin:h,local:e[f]},g,c)})}return o}function $4(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sy(n,t){const e=dn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function G4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Y4(n,t){return n===t?"_index_":"_value_"}function jw(n){if(n==="x"||n==="y"||n==="r")return n}function W4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ay(n,...t){if(jw(n))return n;for(const e of t){const i=e.axis||W4(e.position)||n.length>1&&jw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function zw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function K4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return zw(n,"x",e[0])||zw(n,"y",e[0])}return{}}function Q4(n,t){const e=mc[n.type]||{scales:{}},i=t.scales||{},r=Sy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!be(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Ay(c,h,K4(c,n),dn.scales[h.type]),g=Y4(f,r),_=e.scales||{};o[c]=Sf(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Sy(h,t),_=(mc[h]||{}).scales||{};Object.keys(_).forEach(b=>{const E=G4(b,f),A=c[E+"AxisID"]||E;o[A]=o[A]||Object.create(null),Sf(o[A],[{axis:E},i[A],_[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];Sf(h,[dn.scales[h.type],dn.scale])}),o}function k1(n){const t=n.options||(n.options={});t.plugins=ve(t.plugins,{}),t.scales=Q4(n,t)}function P1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function X4(n){return n=n||{},n.data=P1(n.data),k1(n),n}const Bw=new Map,N1=new Set;function Dg(n,t){let e=Bw.get(n);return e||(e=t(),Bw.set(n,e),N1.add(e)),e}const of=(n,t,e)=>{const i=xu(t,e);i!==void 0&&n.add(i)};class Z4{constructor(t){this._config=X4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=P1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),k1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Dg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Dg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Dg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Dg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(b=>of(f,t,b))),_.forEach(b=>of(f,r,b)),_.forEach(b=>of(f,mc[o]||{},b)),_.forEach(b=>of(f,dn,b)),_.forEach(b=>of(f,wy,b))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),N1.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,mc[e]||{},dn.datasets[e]||{},{type:e},dn,wy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Fw(this._resolverCache,t,r);let f=c;if(t6(c,e)){o.$shared=!1,i=ml(i)?i():i;const g=this.createResolver(t,i,h);f=Ru(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Fw(this._resolverCache,t,i);return be(e)?Ru(o,e,void 0,r):o}}function Fw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:zv(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const J4=n=>be(n)&&Object.getOwnPropertyNames(n).some(t=>ml(n[t]));function t6(n,t){const{isScriptable:e,isIndexable:i}=y1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(ml(h)||J4(h))||c&&Bn(h))return!0}return!1}var e6="4.5.0";const n6=["top","bottom","left","right","chartArea"];function Hw(n,t){return n==="top"||n==="bottom"||n6.indexOf(n)===-1&&t==="x"}function qw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function $w(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Be(e&&e.onComplete,[n],t)}function i6(n){const t=n.chart,e=t.options.animation;Be(e&&e.onProgress,[n],t)}function L1(n){return Hv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wg={},Gw=n=>{const t=L1(n);return Object.values(Wg).filter(e=>e.canvas===t).pop()};function s6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function r6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let sd=class{static defaults=dn;static instances=Wg;static overrides=mc;static registry=Fr;static version=e6;static getChart=Gw;static register(...t){Fr.add(...t),Yw()}static unregister(...t){Fr.remove(...t),Yw()}constructor(t,e){const i=this.config=new Z4(e),r=L1(t),o=Gw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||w4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=TL(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new B4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zL(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Wg[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ja.listen(this,"complete",$w),ja.listen(this,"progress",i6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Ne(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gw(this.canvas,this.ctx),this}stop(){return ja.stop(this),this}resize(t,e){ja.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,yw(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Be(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ce(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Ay(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),Ce(o,c=>{const h=c.options,f=h.id,g=Ay(f,h),_=ve(h.type,c.dtype);(h.position===void 0||Hw(h.position,g)!==Hw(c.dposition))&&(h.position=c.dposition),r[f]=!0;let b=null;if(f in i&&i[f].type===_)b=i[f];else{const E=Fr.getScale(_);b=new E({id:f,type:_,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),Ce(r,(c,h)=>{c||delete i[h]}),Ce(i,c=>{tl.configure(this,c,c.options),tl.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(qw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Sy(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Fr.getController(h),{datasetElementType:g,dataElementType:_}=dn.datasets[h];Object.assign(f,{dataElementType:Fr.getElement(_),datasetElementType:g&&Fr.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ce(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:b}=this.getDatasetMeta(g),E=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(E),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Ce(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qw("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ce(this.scales,t=>{tl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!sw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;s6(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!sw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tl.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ce(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ml(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ja.has(this)?this.attached&&!ja.running(this)&&ja.start(this):(this.draw(),$w({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=AV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Vv(e,r),t.controller.draw(),r&&Uv(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return m1(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=n4.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ju(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Bf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ja.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Wg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ce(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Ce(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ce(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!_p(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(b=>_.datasetIndex===b.datasetIndex&&_.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=CL(t),g=r6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Be(o.onHover,[t,h,this],this),f&&Be(o.onClick,[t,h,this],this));const _=!_p(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Yw(){return Ce(sd.instances,n=>n._plugins.invalidate())}function a6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:_}=f,b=Math.min(g/c,qr(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+b/2,e-b/2),h>0){const E=Math.min(g/h,qr(i-e));n.arc(r,o,h+g/2,e-E/2,i+E/2,!0)}else{const E=Math.min(g/2,c*qr(i-e));if(_==="round")n.arc(r,o,E,e-Ye/2,i+Ye/2,!0);else if(_==="bevel"){const A=2*E*E,R=-A*Math.cos(e+Ye/2)+r,I=-A*Math.sin(e+Ye/2)+o,M=A*Math.cos(i+Ye/2)+r,L=A*Math.sin(i+Ye/2)+o;n.lineTo(R,I),n.lineTo(M,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function o6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>r?(g=r/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,r,e+Jn,i-Jn),n.closePath(),n.clip()}function l6(n){return jv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function c6(n,t,e,i){const r=l6(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Bi(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Bi(r.innerStart,0,c),innerEnd:Bi(r.innerEnd,0,c)}}function au(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Ap(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:_}=t,b=Math.max(t.outerRadius+i+e-g,0),E=_>0?_+i+e+g:0;let A=0;const R=r-f;if(i){const Mt=_>0?_-i:0,et=b>0?b-i:0,gt=(Mt+et)/2,xt=gt!==0?R*gt/(gt+i):R;A=(R-xt)/2}const I=Math.max(.001,R*b-e/Ye)/b,M=(R-I)/2,L=f+M+A,G=r-M-A,{outerStart:J,outerEnd:at,innerStart:rt,innerEnd:pt}=c6(t,E,b,G-L),V=b-J,P=b-at,N=L+J/V,z=G-at/P,F=E+rt,H=E+pt,U=L+rt/F,ne=G-pt/H;if(n.beginPath(),o){const Mt=(N+z)/2;if(n.arc(c,h,b,N,Mt),n.arc(c,h,b,Mt,z),at>0){const Lt=au(P,z,c,h);n.arc(Lt.x,Lt.y,at,z,G+Jn)}const et=au(H,G,c,h);if(n.lineTo(et.x,et.y),pt>0){const Lt=au(H,ne,c,h);n.arc(Lt.x,Lt.y,pt,G+Jn,ne+Math.PI)}const gt=(G-pt/E+(L+rt/E))/2;if(n.arc(c,h,E,G-pt/E,gt,!0),n.arc(c,h,E,gt,L+rt/E,!0),rt>0){const Lt=au(F,U,c,h);n.arc(Lt.x,Lt.y,rt,U+Math.PI,L-Jn)}const xt=au(V,L,c,h);if(n.lineTo(xt.x,xt.y),J>0){const Lt=au(V,N,c,h);n.arc(Lt.x,Lt.y,J,L-Jn,N)}}else{n.moveTo(c,h);const Mt=Math.cos(N)*b+c,et=Math.sin(N)*b+h;n.lineTo(Mt,et);const gt=Math.cos(z)*b+c,xt=Math.sin(z)*b+h;n.lineTo(gt,xt)}n.closePath()}function u6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Ap(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%Ti||Ti))}return Ap(n,t,e,i,f,r),n.fill(),f}function h6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:b,borderDashOffset:E,borderRadius:A}=f,R=f.borderAlign==="inner";if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=E,R?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let I=t.endAngle;if(o){Ap(n,t,e,i,I,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(I=c+(h%Ti||Ti))}R&&o6(n,t,I),f.selfJoin&&I-c>=Ye&&A===0&&_!=="miter"&&a6(n,t,I),o||(Ap(n,t,e,i,I,r),n.stroke())}class f6 extends zu{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=r1(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,A=ve(b,f-h),R=a1(o,h,f)&&h!==f,I=A>=Ti||R,M=rc(c,g+E,_+E);return I&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,_=(r+o)/2,b=(c+h+g+f)/2;return{x:e+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Ti?Math.floor(i/Ti):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(Ye,i||0)),g=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,u6(t,this,g,o,c),h6(t,this,g,o,c),t.restore()}}function V1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,_,b;return n.horizontal?(b=c/2,h=Math.min(e,r),f=Math.max(e,r),g=i-b,_=i+b):(b=o/2,h=e-b,f=e+b,g=Math.min(i,r),_=Math.max(i,r)),{left:h,top:g,right:f,bottom:_}}function el(n,t,e,i){return n?0:Bi(t,e,i)}function d6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=_1(i);return{t:el(r.top,o.top,0,e),r:el(r.right,o.right,0,t),b:el(r.bottom,o.bottom,0,e),l:el(r.left,o.left,0,t)}}function g6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=_u(r),c=Math.min(t,e),h=n.borderSkipped,f=i||be(r);return{topLeft:el(!f||h.top||h.left,o.topLeft,0,c),topRight:el(!f||h.top||h.right,o.topRight,0,c),bottomLeft:el(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:el(!f||h.bottom||h.right,o.bottomRight,0,c)}}function p6(n){const t=V1(n),e=t.right-t.left,i=t.bottom-t.top,r=d6(n,e/2,i/2),o=g6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function H_(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&V1(n,i);return h&&(r||rc(t,h.left,h.right))&&(o||rc(e,h.top,h.bottom))}function m6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function _6(n,t){n.rect(t.x,t.y,t.w,t.h)}function q_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class y6 extends zu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=p6(this),h=m6(c.radius)?Tp:_6;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,q_(c,e,o)),t.clip(),h(t,q_(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,q_(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return H_(this,t,e,i)}inXRange(t,e){return H_(this,t,null,e)}inYRange(t,e){return H_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Ww=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},v6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Kw extends zu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Be(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Fi(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Ww(i,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let E=-1,A=-_;return this.legendItems.forEach((R,I)=>{const M=i+e/2+o.measureText(R.text).width;(I===0||g[g.length-1]+M+2*h>c)&&(b+=_,g[g.length-(I>0?0:1)]=0,A+=_,E++),f[I]={left:0,top:A,row:E,width:M,height:r},g[g.length-1]+=M+h}),b}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let b=h,E=0,A=0,R=0,I=0;return this.legendItems.forEach((M,L)=>{const{itemWidth:G,itemHeight:J}=b6(i,e,o,M,r);L>0&&A+J+2*h>_&&(b+=E+h,g.push({width:E,height:A}),R+=E+h,I++,E=A=0),f[L]={left:R,top:A,col:I,width:G,height:J},E=Math.max(E,G),A+=J+h}),b+=E,g.push({width:E,height:A}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=yu(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=cs(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=cs(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=cs(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=cs(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Vv(t,this),this._draw(),Uv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=dn.color,f=yu(t.rtl,this.left,this.width),g=Fi(c.font),{padding:_}=c,b=g.size,E=b/2;let A;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:R,boxHeight:I,itemHeight:M}=Ww(c,b),L=function(pt,V,P){if(isNaN(R)||R<=0||isNaN(I)||I<0)return;r.save();const N=ve(P.lineWidth,1);if(r.fillStyle=ve(P.fillStyle,h),r.lineCap=ve(P.lineCap,"butt"),r.lineDashOffset=ve(P.lineDashOffset,0),r.lineJoin=ve(P.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=ve(P.strokeStyle,h),r.setLineDash(ve(P.lineDash,[])),c.usePointStyle){const z={radius:I*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:N},F=f.xPlus(pt,R/2),H=V+E;p1(r,z,F,H,c.pointStyleWidth&&R)}else{const z=V+Math.max((b-I)/2,0),F=f.leftForLtr(pt,R),H=_u(P.borderRadius);r.beginPath(),Object.values(H).some(U=>U!==0)?Tp(r,{x:F,y:z,w:R,h:I,radius:H}):r.rect(F,z,R,I),r.fill(),N!==0&&r.stroke()}r.restore()},G=function(pt,V,P){Ep(r,P.text,pt,V+M/2,g,{strikethrough:P.hidden,textAlign:f.textAlign(P.textAlign)})},J=this.isHorizontal(),at=this._computeTitleHeight();J?A={x:cs(o,this.left+_,this.right-i[0]),y:this.top+_+at,line:0}:A={x:this.left+_,y:cs(o,this.top+at+_,this.bottom-e[0].height),line:0},T1(this.ctx,t.textDirection);const rt=M+_;this.legendItems.forEach((pt,V)=>{r.strokeStyle=pt.fontColor,r.fillStyle=pt.fontColor;const P=r.measureText(pt.text).width,N=f.textAlign(pt.textAlign||(pt.textAlign=c.textAlign)),z=R+E+P;let F=A.x,H=A.y;f.setWidth(this.width),J?V>0&&F+z+_>this.right&&(H=A.y+=rt,A.line++,F=A.x=cs(o,this.left+_,this.right-i[A.line])):V>0&&H+rt>this.bottom&&(F=A.x=F+e[A.line].width+_,A.line++,H=A.y=cs(o,this.top+at+_,this.bottom-e[A.line].height));const U=f.x(F);if(L(U,H,pt),F=BL(N,F+R+E,J?F+z:this.right,t.rtl),G(f.x(F),H,pt),J)A.x+=z+_;else if(typeof pt.text!="string"){const ne=g.lineHeight;A.y+=U1(pt,ne)+_}else A.y+=rt}),w1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Fi(e.font),r=hr(e.padding);if(!e.display)return;const o=yu(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let _,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),_=this.top+g,b=cs(t.align,b,this.right-E);else{const R=this.columnSizes.reduce((I,M)=>Math.max(I,M.height),0);_=g+cs(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const A=cs(h,b,b+E);c.textAlign=o.textAlign(h1(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Ep(c,e.text,A,_,i)}_computeTitleHeight(){const t=this.options.title,e=Fi(t.font),i=hr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(rc(t,this.left,this.right)&&rc(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],rc(t,r.left,r.left+r.width)&&rc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!w6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=v6(r,i);r&&!o&&Be(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Be(e.onHover,[t,i,this],this)}else i&&Be(e.onClick,[t,i,this],this)}}function b6(n,t,e,i,r){const o=E6(i,n,t,e),c=T6(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function E6(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function T6(n,t,e){let i=n;return typeof t.text!="string"&&(i=U1(t,e)),i}function U1(n,t){const e=n.text?n.text.length:0;return t*e}function w6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var j1={id:"legend",_element:Kw,start(n,t,e){const i=n.legend=new Kw({ctx:n.ctx,options:e,chart:n});tl.configure(n,i,e),tl.addBox(n,i)},stop(n){tl.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;tl.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=hr(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const mf={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=NL(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Br(n,t){return t&&(Bn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function za(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function S6(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Qw(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=Fi(t.bodyFont),g=Fi(t.titleFont),_=Fi(t.footerFont),b=o.length,E=r.length,A=i.length,R=hr(t.padding);let I=R.height,M=0,L=i.reduce((at,rt)=>at+rt.before.length+rt.lines.length+rt.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,b&&(I+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),L){const at=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=A*at+(L-A)*f.lineHeight+(L-1)*t.bodySpacing}E&&(I+=t.footerMarginTop+E*_.lineHeight+(E-1)*t.footerSpacing);let G=0;const J=function(at){M=Math.max(M,e.measureText(at).width+G)};return e.save(),e.font=g.string,Ce(n.title,J),e.font=f.string,Ce(n.beforeBody.concat(n.afterBody),J),G=t.displayColors?c+2+t.boxPadding:0,Ce(i,at=>{Ce(at.before,J),Ce(at.lines,J),Ce(at.after,J)}),G=0,e.font=_.string,Ce(n.footer,J),e.restore(),M+=R.width,{width:M,height:I}}function A6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function x6(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function R6(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),x6(g,n,t,e)&&(g="center"),g}function Xw(n,t,e){const i=e.yAlign||t.yAlign||A6(n,e);return{xAlign:e.xAlign||t.xAlign||R6(n,t,e,i),yAlign:i}}function C6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function I6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Zw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:b,bottomLeft:E,bottomRight:A}=_u(c);let R=C6(t,h);const I=I6(t,f,g);return f==="center"?h==="left"?R+=g:h==="right"&&(R-=g):h==="left"?R-=Math.max(_,E)+r:h==="right"&&(R+=Math.max(b,A)+r),{x:Bi(R,0,i.width-t.width),y:Bi(I,0,i.height-t.height)}}function Og(n,t,e){const i=hr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Jw(n){return Br([],za(n))}function D6(n,t,e){return ju(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function tS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const z1={beforeTitle:Ua,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ua,beforeBody:Ua,beforeLabel:Ua,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ne(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ua,afterBody:Ua,beforeFooter:Ua,footer:Ua,afterFooter:Ua};function Vi(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?z1[t].call(e,i):r}class eS extends zu{static positioners=mf;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new S1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=D6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Vi(i,"beforeTitle",this,t),o=Vi(i,"title",this,t),c=Vi(i,"afterTitle",this,t);let h=[];return h=Br(h,za(r)),h=Br(h,za(o)),h=Br(h,za(c)),h}getBeforeBody(t,e){return Jw(Vi(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Ce(t,o=>{const c={before:[],lines:[],after:[]},h=tS(i,o);Br(c.before,za(Vi(h,"beforeLabel",this,o))),Br(c.lines,Vi(h,"label",this,o)),Br(c.after,za(Vi(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return Jw(Vi(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Vi(i,"beforeFooter",this,t),o=Vi(i,"footer",this,t),c=Vi(i,"afterFooter",this,t);let h=[];return h=Br(h,za(r)),h=Br(h,za(o)),h=Br(h,za(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(S6(this.chart,e[f]));return t.filter&&(h=h.filter((_,b,E)=>t.filter(_,b,E,i))),t.itemSort&&(h=h.sort((_,b)=>t.itemSort(_,b,i))),Ce(h,_=>{const b=tS(t.callbacks,_);r.push(Vi(b,"labelColor",this,_)),o.push(Vi(b,"labelPointStyle",this,_)),c.push(Vi(b,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=mf[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=Qw(this,i),g=Object.assign({},h,f),_=Xw(this.chart,i,g),b=Zw(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:b}=_u(h),{x:E,y:A}=t,{width:R,height:I}=e;let M,L,G,J,at,rt;return o==="center"?(at=A+I/2,r==="left"?(M=E,L=M-c,J=at+c,rt=at-c):(M=E+R,L=M+c,J=at-c,rt=at+c),G=M):(r==="left"?L=E+Math.max(f,_)+c:r==="right"?L=E+R-Math.max(g,b)-c:L=this.caretX,o==="top"?(J=A,at=J-c,M=L-c,G=L+c):(J=A+I,at=J+c,M=L+c,G=L-c),rt=J),{x1:M,x2:L,x3:G,y1:J,y2:at,y3:rt}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const g=yu(i.rtl,this.x,this.width);for(t.x=Og(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=Fi(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,_=Fi(o.bodyFont),b=Og(this,"left",o),E=r.x(b),A=f<_.lineHeight?(_.lineHeight-f)/2:0,R=e.y+A;if(o.usePointStyle){const I={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(E,g)+g/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,pw(t,I,M,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,pw(t,I,M,L)}else{t.lineWidth=be(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const I=r.leftForLtr(E,g),M=r.leftForLtr(r.xPlus(E,1),g-2),L=_u(c.borderRadius);Object.values(L).some(G=>G!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Tp(t,{x:I,y:R,w:g,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Tp(t,{x:M,y:R+1,w:g-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,R,g,f),t.strokeRect(I,R,g,f),t.fillStyle=c.backgroundColor,t.fillRect(M,R+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=i,b=Fi(i.bodyFont);let E=b.lineHeight,A=0;const R=yu(i.rtl,this.x,this.width),I=function(P){e.fillText(P,R.x(t.x+A),t.y+E/2),t.y+=E+o},M=R.textAlign(c);let L,G,J,at,rt,pt,V;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=Og(this,M,i),e.fillStyle=i.bodyColor,Ce(this.beforeBody,I),A=h&&M!=="right"?c==="center"?g/2+_:g+2+_:0,at=0,pt=r.length;at<pt;++at){for(L=r[at],G=this.labelTextColors[at],e.fillStyle=G,Ce(L.before,I),J=L.lines,h&&J.length&&(this._drawColorBox(e,t,at,R,i),E=Math.max(b.lineHeight,f)),rt=0,V=J.length;rt<V;++rt)I(J[rt]),E=b.lineHeight;Ce(L.after,I)}A=0,E=b.lineHeight,Ce(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=yu(i.rtl,this.x,this.width);for(t.x=Og(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=Fi(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=i,{topLeft:b,topRight:E,bottomLeft:A,bottomRight:R}=_u(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+b,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-E,f),e.quadraticCurveTo(h+g,f,h+g,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+_-R),e.quadraticCurveTo(h+g,f+_,h+g-R,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+A,f+_),e.quadraticCurveTo(h,f+_,h,f+_-A),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+b),e.quadraticCurveTo(h,f,h+b,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=mf[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Qw(this,t),f=Object.assign({},c,this._size),g=Xw(e,t,f),_=Zw(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=hr(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),T1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),w1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!_p(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!_p(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=mf[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var B1={id:"tooltip",_element:eS,positioners:mf,afterInit(n,t,e){e&&(n.tooltip=new eS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const O6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function M6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return O6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const k6=(n,t)=>n===null?null:Bi(Math.round(n),0,t);function nS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class P6 extends Bu{static id="category";static defaults={ticks:{callback:nS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ne(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:M6(i,t,ve(e,t),this._addedLabels),k6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return nS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function N6(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:b,includeBounds:E}=n,A=o||1,R=_-1,{min:I,max:M}=t,L=!Ne(c),G=!Ne(h),J=!Ne(g),at=(M-I)/(b+1);let rt=aw((M-I)/R/A)*A,pt,V,P,N;if(rt<1e-14&&!L&&!G)return[{value:I},{value:M}];N=Math.ceil(M/rt)-Math.floor(I/rt),N>R&&(rt=aw(N*rt/R/A)*A),Ne(f)||(pt=Math.pow(10,f),rt=Math.ceil(rt*pt)/pt),r==="ticks"?(V=Math.floor(I/rt)*rt,P=Math.ceil(M/rt)*rt):(V=I,P=M),L&&G&&o&&ML((h-c)/o,rt/1e3)?(N=Math.round(Math.min((h-c)/rt,_)),rt=(h-c)/N,V=c,P=h):J?(V=L?c:V,P=G?h:P,N=g-1,rt=(P-V)/N):(N=(P-V)/rt,Gg(N,Math.round(N),rt/1e3)?N=Math.round(N):N=Math.ceil(N));const z=Math.max(ow(rt),ow(V));pt=Math.pow(10,Ne(f)?z:f),V=Math.round(V*pt)/pt,P=Math.round(P*pt)/pt;let F=0;for(L&&(E&&V!==c?(e.push({value:c}),V<c&&F++,Gg(Math.round((V+F*rt)*pt)/pt,c,iS(c,at,n))&&F++):V<c&&F++);F<N;++F){const H=Math.round((V+F*rt)*pt)/pt;if(G&&H>h)break;e.push({value:H})}return G&&E&&P!==h?e.length&&Gg(e[e.length-1].value,h,iS(h,at,n))?e[e.length-1].value=h:e.push({value:h}):(!G||P===h)&&e.push({value:P}),e}function iS(n,t,{horizontal:e,minRotation:i}){const r=sc(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class L6 extends Bu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ne(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=ll(r),g=ll(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=N6(r,o);return t.bounds==="ticks"&&kL(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return d1(t,this.chart.options.locale,this.options.ticks.format)}}class V6 extends L6{static id="linear";static defaults={ticks:{callback:g1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=zs(t)?t:0,this.max=zs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=sc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const nm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zi=Object.keys(nm);function sS(n,t){return n-t}function rS(n,t){if(Ne(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),zs(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(bp(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function aS(n,t,e,i){const r=zi.length;for(let o=zi.indexOf(n);o<r-1;++o){const c=nm[zi[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return zi[o]}return zi[r-1]}function U6(n,t,e,i,r){for(let o=zi.length-1;o>=zi.indexOf(e);o--){const c=zi[o];if(nm[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return zi[e?zi.indexOf(e):0]}function j6(n){for(let t=zi.indexOf(n)+1,e=zi.length;t<e;++t)if(nm[zi[t]].common)return zi[t]}function oS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Lv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function z6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function lS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:z6(n,i,r,e)}class cS extends Bu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new XV._date(t.adapters.date);r.init(e),Sf(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:rS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=zs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=zs(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=UL(r,o,c);return this._unit=e.unit||(i.autoSkip?aS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):U6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:j6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),lS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Bi(e,0,c),i=Bi(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||aS(o.minUnit,e,i,this._getLabelCapacity(e)),h=ve(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=bp(f)||f===!0,_={};let b=e,E,A;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(E=b,A=0;E<i;E=+t.add(E,h,c),A++)oS(_,E,R);return(E===i||r.bounds==="ticks"||A===1)&&oS(_,E,R),Object.keys(_).sort(sS).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return Be(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],b=g&&h[g],E=i[e],A=g&&b&&E&&E.major;return this._adapter.format(t,r||(A?b:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=sc(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,lS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(rS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return l1(t.sort(sS))}}function Mg(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ty(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ty(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class o3 extends cS{static id="timeseries";static defaults=cS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Mg(e,this.min),this._tableRange=Mg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],g=r[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Mg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Mg(this._table,i*this._tableRange+this._minPos,!0)}}const F1="label";function uS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function B6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function H1(n,t){n.labels=t}function q1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function F6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F1;const e={labels:[],datasets:[]};return H1(e,n.labels),q1(e,n.datasets,t),e}function H6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:b,...E}=n,A=W.useRef(null),R=W.useRef(null),I=()=>{A.current&&(R.current=new sd(A.current,{type:c,data:F6(h,o),options:f&&{...f},plugins:g}),uS(t,R.current))},M=()=>{uS(t,null),R.current&&(R.current.destroy(),R.current=null)};return W.useEffect(()=>{!r&&R.current&&f&&B6(R.current,f)},[r,f]),W.useEffect(()=>{!r&&R.current&&H1(R.current.config.data,h.labels)},[r,h.labels]),W.useEffect(()=>{!r&&R.current&&h.datasets&&q1(R.current.config.data,h.datasets,o)},[r,h.datasets]),W.useEffect(()=>{R.current&&(r?(M(),setTimeout(I)):R.current.update(b))},[r,f,h.labels,h.datasets,b]),W.useEffect(()=>{R.current&&(M(),setTimeout(I))},[c]),W.useEffect(()=>(I(),()=>M()),[]),hS.createElement("canvas",{ref:A,role:"img",height:e,width:i,...E},_)}const q6=W.forwardRef(H6);function $6(n,t){return sd.register(t),W.forwardRef((e,i)=>hS.createElement(q6,{...e,ref:i,type:n}))}const G6=$6("bar",QV);sd.register(f6,B1,j1);sd.register(P6,V6,y6,B1,j1);const Y6=({loan:n})=>{const t=(n.payment*n.monthsPaid).toFixed(2),e=n.payment*n.duration-Number(t).toFixed(2),i={labels:["Loan Progress"],datasets:[{label:"Paid (₹)",data:[t],backgroundColor:"#4caf50"},{label:"Remaining (₹)",data:[e],backgroundColor:"#f44336"}]},r={responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};return j.jsx("div",{style:{maxWidth:400,marginTop:10},children:j.jsx(G6,{data:i,options:r})})},$1=({loan:n,removeLoan:t,payMonth:e})=>j.jsxs("div",{className:"loan-item",children:[j.jsxs("div",{className:"loan-item-details",children:[j.jsx("table",{children:j.jsxs("tbody",{children:[j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Loan Name"})}),j.jsx("td",{children:j.jsx("h5",{children:n.loanName})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Loan Amount"})}),j.jsx("td",{children:j.jsxs("h5",{children:["₹ ",n.amount]})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Interest Rate"})}),j.jsx("td",{children:j.jsxs("h5",{children:[n.interest,"%"]})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Monthly Interest"})}),j.jsx("td",{children:j.jsxs("h5",{children:["₹ ",n.totalInterest]})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Duration"})}),j.jsx("td",{children:j.jsxs("h5",{children:[n.duration," months"]})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Monthly Pay"})}),j.jsx("td",{children:j.jsxs("h5",{children:["₹ ",n.payment]})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Due Date"})}),j.jsx("td",{children:j.jsx("h5",{children:n.duedate})})]}),j.jsxs("tr",{children:[j.jsx("td",{children:j.jsx("h5",{children:"Months Paid"})}),j.jsx("td",{children:j.jsxs("h5",{children:[n.monthsPaid," / ",n.duration]})})]})]})}),j.jsx("div",{className:"loan-item-buttons",children:j.jsx("button",{onClick:()=>t(n.id),style:{marginLeft:10},children:"Remove"})})]}),j.jsx("div",{className:"loan-item-sub-div",children:j.jsx(Y6,{loan:n})})]}),W6=({loans:n,removeLoan:t,payMonth:e})=>{const i=n.filter(r=>r.status=="Ongoing");return i.length==0?j.jsx("p",{className:"all-finished",children:"All Loans Are Finished"}):j.jsx("div",{children:i.map(r=>j.jsx($1,{loan:r,removeLoan:t,payMonth:e},r.id))})},K6=({loans:n=[],removeLoan:t,payMonth:e})=>j.jsx("div",{className:"home-sub-div",children:j.jsx(W6,{loans:n,removeLoan:t,payMonth:e})}),Q6=()=>{const[n,t]=W.useState(""),[e,i]=W.useState(""),[r,o]=W.useState(""),[c,h]=W.useState(""),[f,g]=W.useState(!1),_=Du();W.useEffect(()=>{const A=async()=>{const R=hi.currentUser;if(R){const I=Kr(Fn,"users",R.uid);await mu(I,{isLoggedIn:!1}),await ey(hi)}};return window.addEventListener("beforeunload",A),()=>window.removeEventListener("beforeunload",A)},[]);const b=async A=>{A.preventDefault(),o(""),h(""),g(!1);try{const I=(await bM(hi,n,e)).user;if(!I.emailVerified){h("Please verify your email before logging in. Check your inbox."),g(!0);return}const M=Kr(Fn,"users",I.uid),L=await Cv(M);if(L.exists()){if(L.data().isLoggedIn){alert("This account is already logged in on another device."),await ey(hi);return}await mu(M,{isLoggedIn:!0})}_("/home")}catch(R){o(R.message)}},E=async()=>{try{const A=hi.currentUser;A?(await uA(A),alert("Verification email sent again. Check your inbox!")):alert("Please try logging in again to resend the verification email.")}catch(A){alert(A.message)}};return j.jsxs(j.Fragment,{children:[j.jsx("nav",{children:j.jsx("h2",{children:"Loan Tracker"})}),j.jsx("div",{className:"login-page-container",children:j.jsxs("div",{className:"login-sub-page",children:[j.jsx("h1",{children:"Log In"}),j.jsxs("form",{className:"login-form",onSubmit:b,children:[j.jsx("input",{type:"email",placeholder:"Enter Your Email",value:n,onChange:A=>t(A.target.value)}),j.jsx("input",{type:"password",placeholder:"Enter Your Password",value:e,onChange:A=>i(A.target.value)}),j.jsx("button",{type:"submit",children:"Log In"}),j.jsxs("p",{children:["Don't have an account? ",j.jsx("span",{children:j.jsx(us,{to:"/signup",children:"Sign Up"})})]}),r&&j.jsx("p",{style:{color:"red"},children:r}),c&&j.jsx("p",{style:{color:"orange"},children:c})]}),f&&j.jsx("button",{onClick:E,style:{marginTop:"10px"},children:"Resend Verification Email"})]})})]})},X6=()=>{const n=Du(),[t,e]=W.useState(""),[i,r]=W.useState(""),[o,c]=W.useState(""),[h,f]=W.useState(""),[g,_]=W.useState(""),b=async E=>{if(E.preventDefault(),f(""),_(""),!t||!i||!o){f("Please fill all fields");return}try{const R=(await vM(hi,i,o)).user;await FN(Kr(Fn,"users",R.uid),{uid:R.uid,username:t,email:i,createdAt:new Date,lastActive:new Date(0)}),await uA(R),_("Signup successful! Verification email sent. Please verify your email before logging in."),e(""),r(""),c(""),setTimeout(()=>n("/"),7e3)}catch(A){f(A.message)}};return j.jsxs(j.Fragment,{children:[j.jsx("nav",{children:j.jsx("h2",{children:"Loan Tracker"})}),j.jsx("div",{className:"Signup-page-container",children:j.jsxs("div",{className:"signup-sub-page",children:[j.jsx("h1",{children:"Sign Up"}),j.jsxs("form",{className:"signup-form",onSubmit:b,children:[j.jsx("input",{type:"email",placeholder:"Enter Your Email",value:i,onChange:E=>r(E.target.value)}),j.jsx("input",{type:"text",placeholder:"Create UserName",value:t,onChange:E=>e(E.target.value)}),j.jsx("input",{type:"password",placeholder:"Create Your Password",value:o,onChange:E=>c(E.target.value)}),j.jsx("button",{type:"submit",children:"Sign Up"}),j.jsxs("p",{children:["Already have an account? ",j.jsx("span",{children:j.jsx(us,{to:"/",children:"Log In"})})]}),h&&j.jsx("p",{style:{color:"red"},children:h}),g&&j.jsx("p",{style:{color:"green"},children:g})]})]})})]})};function tc({children:n}){const[t,e]=W.useState(void 0),[i,r]=W.useState(!0);return W.useEffect(()=>{const o=vf(hi,c=>{e(c),r(!1)});return()=>o()},[]),i?j.jsx("div",{children:"Loading..."}):t?n:j.jsx(JC,{to:"/",replace:!0})}const Z6=({loans:n,removeLoan:t,payMonth:e})=>{const i=n.filter(r=>r.status=="Finished");return i.length==0?j.jsx("p",{className:"no-loan-para",children:"There are no Finished Loans"}):i.map(r=>j.jsx($1,{loan:r,removeLoan:t,payMonth:e},r.id))},J6=()=>{const[n,t]=W.useState([]),[e,i]=W.useState([]),[r,o]=W.useState(""),[c,h]=W.useState(!0);W.useEffect(()=>{(async()=>{const E=(await pp(Ya(Fn,"users"))).docs.map(A=>({id:A.id,...A.data()}));t(E.filter(A=>A.uid!==hi.currentUser.uid)),h(!1)})()},[]);const f=_=>{i(b=>b.includes(_)?b.filter(E=>E!==_):[...b,_])},g=async()=>{if(!r)return alert("Enter group name");if(e.length===0)return alert("Select at least one member");try{await Dv(Ya(Fn,"groups"),{name:r,createdBy:hi.currentUser.uid,members:[hi.currentUser.uid,...e],createdAt:new Date}),o(""),i([]),alert("Group created successfully!")}catch(_){console.error("Error creating group:",_)}};return c?j.jsx("p",{children:"Loading users..."}):j.jsxs("div",{style:{maxWidth:"500px",margin:"20px auto",padding:"10px",border:"1px solid #ccc",borderRadius:"10px"},children:[j.jsx("h2",{children:"Create Group"}),j.jsx("input",{type:"text",placeholder:"Enter group name",value:r,onChange:_=>o(_.target.value),style:{width:"100%",padding:"8px",marginBottom:"10px"}}),j.jsx("h3",{children:"Select Members"}),j.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",padding:"5px",marginBottom:"10px"},children:n.map(_=>j.jsx("div",{children:j.jsxs("label",{children:[j.jsx("input",{type:"checkbox",checked:e.includes(_.uid),onChange:()=>f(_.uid)}),j.jsxs("span",{style:{marginLeft:"5px"},children:[_.username," (",_.email,")"]})]})},_.uid))}),j.jsx("button",{onClick:g,style:{padding:"8px 16px",backgroundColor:"#1E90FF",color:"#fff",border:"none",borderRadius:"5px"},children:"Create Group"})]})},t3=()=>{const[n,t]=W.useState([]),[e,i]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{const o=Au(Ya(Fn,"groups"),Zo("members","array-contains",hi.currentUser.uid)),h=(await pp(o)).docs.map(f=>({id:f.id,...f.data()}));t(h),i(!1)}catch(o){console.error("Error fetching groups:",o)}})()},[]),e?j.jsx("p",{children:"Loading groups..."}):j.jsxs("div",{style:{maxWidth:"600px",margin:"20px auto",padding:"10px"},children:[j.jsx("h2",{children:"Your Groups"}),n.length===0&&j.jsx("p",{children:"You are not in any group yet."}),j.jsx("ul",{children:n.map(r=>j.jsx("li",{style:{marginBottom:"10px",border:"1px solid #ddd",padding:"10px",borderRadius:"8px"},children:j.jsxs(us,{to:`/group/${r.id}`,style:{textDecoration:"none",color:"#333"},children:[j.jsx("strong",{children:r.name}),j.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["Members: ",r.members.length]})]})},r.id))})]})},e3=()=>{const{groupId:n}=jC(),[t,e]=W.useState(null),[i,r]=W.useState([]),[o,c]=W.useState([]),[h,f]=W.useState(""),[g,_]=W.useState(!1),b=W.useRef(null),E=()=>{b.current?.scrollIntoView({behavior:"smooth"})};W.useEffect(()=>{(async()=>{try{const I=Kr(Fn,"groups",n),M=await Cv(I);if(M.exists()){const L=M.data();e({id:M.id,...L});const J=(await pp(Ya(Fn,"users"))).docs.map(at=>({id:at.id,...at.data()})).filter(at=>L.members.includes(at.uid));r(J)}else console.error("Group not found!")}catch(I){console.error("Error fetching group:",I)}})()},[n]),W.useEffect(()=>{if(!n)return;const R=Ya(Fn,"groupLoans"),I=Au(R,Zo("groupId","==",n),jN("createdAt","asc")),M=mp(I,L=>{const G=L.docs.map(J=>({id:J.id,...J.data()}));c(G),E(),_(!1)},async L=>{if(console.error("Snapshot error:",L),L.code==="failed-precondition"||L.code==="permission-denied"){_(!0);const G=Au(R,Zo("groupId","==",n)),at=(await pp(G)).docs.map(rt=>({id:rt.id,...rt.data()}));console.log("Fallback messages:",at),c(at)}});return()=>M()},[n]);const A=async()=>{if(h.trim())try{await Dv(Ya(Fn,"groupLoans"),{groupId:n,addedBy:hi.currentUser.uid,description:h,createdAt:qN()}),f("")}catch(R){console.error("Error sending message:",R)}};return t?j.jsxs("div",{style:{maxWidth:"600px",margin:"20px auto",padding:"10px",display:"flex",flexDirection:"column",height:"80vh",border:"1px solid #ccc",borderRadius:"10px"},children:[j.jsx("h2",{children:t.name}),j.jsxs("p",{children:["Members: ",i.map(R=>R.username).join(", ")]}),g&&j.jsxs("p",{style:{color:"red",textAlign:"center"},children:["Firestore index missing for messages. Showing unsorted messages. Please create the index ",j.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noreferrer",children:"here"}),"."]}),j.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",border:"1px solid #eee",borderRadius:"8px",marginBottom:"10px",display:"flex",flexDirection:"column"},children:[o.length===0&&j.jsx("p",{style:{textAlign:"center",color:"#666"},children:"No messages yet"}),o.map(R=>{const I=i.find(L=>L.uid===R.addedBy),M=R.addedBy===hi.currentUser.uid;return j.jsxs("div",{style:{marginBottom:"10px",backgroundColor:M?"#DCF8C6":"#ebe2e2ff",padding:"8px",borderRadius:"8px",alignSelf:M?"flex-end":"flex-start",maxWidth:"80%"},children:[j.jsx("p",{style:{margin:0,fontWeight:"bold"},children:I?.username||"Unknown"}),j.jsx("p",{style:{margin:0},children:R.description}),j.jsx("p",{style:{fontSize:"10px",color:"#666",textAlign:"right"},children:R.createdAt?.toDate?R.createdAt.toDate().toLocaleString():new Date().toLocaleString()})]},R.id)}),j.jsx("div",{ref:b})]}),j.jsxs("div",{style:{display:"flex",gap:"5px"},children:[j.jsx("input",{type:"text",value:h,onChange:R=>f(R.target.value),placeholder:"Type a message...",style:{flex:1,padding:"8px",borderRadius:"20px",border:"1px solid #ccc"},onKeyDown:R=>R.key==="Enter"&&A()}),j.jsx("button",{onClick:A,style:{padding:"8px 15px",borderRadius:"20px",backgroundColor:"#1E90FF",color:"#fff",border:"none"},children:"Send"})]})]}):j.jsx("p",{children:"Loading group..."})};function n3({loans:n,addLoan:t,removeLoan:e,payMonth:i}){const r=to(),o=["/","/signup"];return j.jsxs(j.Fragment,{children:[!o.includes(r.pathname)&&j.jsx(KN,{}),j.jsxs(eI,{children:[j.jsx(zr,{path:"/",element:j.jsx(Q6,{})}),j.jsx(zr,{path:"/signup",element:j.jsx(X6,{})}),j.jsx(zr,{path:"/home",element:j.jsx(tc,{children:j.jsx(ZN,{addLoan:t})})}),j.jsx(zr,{path:"/loan",element:j.jsx(tc,{children:j.jsx(K6,{loans:n,removeLoan:e,payMonth:i})})}),j.jsx(zr,{path:"/InterestCalculator",element:j.jsx(tc,{children:j.jsx(JN,{})})}),j.jsx(zr,{path:"/finishedloan",element:j.jsx(tc,{children:j.jsx(Z6,{loans:n,removeLoan:e,payMonth:i})})}),j.jsx(zr,{path:"/creategroup",element:j.jsx(tc,{children:j.jsx(J6,{})})}),j.jsx(zr,{path:"/grouplist",element:j.jsx(tc,{children:j.jsx(t3,{})})}),j.jsx(zr,{path:"/group/:groupId",element:j.jsx(tc,{children:j.jsx(e3,{})})})]})]})}function i3(){const[n,t]=W.useState([]),e=Ya(Fn,"loans");W.useEffect(()=>{const c=ac(),h=vf(c,f=>{if(!f)return;const g=Au(e,Zo("userId","==",f.uid)),_=mp(g,b=>{const E=b.docs.map(A=>({...A.data(),id:A.id}));t(E)});return()=>_()});return()=>h()},[]);const i=async c=>{const f=ac().currentUser;f&&await Dv(e,{...c,userId:f.uid,createdAt:new Date().toISOString()})},r=async c=>{const h=Kr(Fn,"loans",c);await HN(h)},o=async()=>{const c=new Date,h=c.getDate(),f=c.getMonth()+1,g=c.getFullYear();for(const _ of n)if(Number(_.duedate)===h&&_.monthsPaid<_.duration){const b=_.lastPaidDate?new Date(_.lastPaidDate):null;if(!(b&&b.getMonth()+1===f&&b.getFullYear()===g)){const A={..._,monthsPaid:_.monthsPaid+1,lastPaidDate:c.toISOString()},R=Kr(Fn,"loans",_.id);await mu(R,{monthsPaid:A.monthsPaid,lastPaidDate:A.lastPaidDate}),A.monthsPaid===_.duration&&await mu(R,{status:"Finished"})}}};return W.useEffect(()=>{o()},[n]),W.useEffect(()=>{const c=ac(),h=async()=>{const f=c.currentUser;if(f){const g=Kr(Fn,"users",f.uid);await mu(g,{isLoggedIn:!1})}};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[]),j.jsx(j.Fragment,{children:j.jsx(AI,{children:j.jsx(n3,{loans:n,addLoan:i,removeLoan:r,payMonth:o})})})}lC.createRoot(document.getElementById("root")).render(j.jsx(W.StrictMode,{children:j.jsx(WN,{children:j.jsx(i3,{})})}));
