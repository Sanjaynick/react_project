(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function qR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r_={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function $R(){if(Y0)return $h;Y0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return $h.Fragment=t,$h.jsx=e,$h.jsxs=e,$h}var K0;function GR(){return K0||(K0=1,r_.exports=$R()),r_.exports}var q=GR(),a_={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function YR(){if(W0)return Jt;W0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function P(M,ht,yt){this.props=M,this.context=ht,this.refs=D,this.updater=yt||A}P.prototype.isReactComponent={},P.prototype.setState=function(M,ht){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ht,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function L(){}L.prototype=P.prototype;function G(M,ht,yt){this.props=M,this.context=ht,this.refs=D,this.updater=yt||A}var J=G.prototype=new L;J.constructor=G,R(J,P.prototype),J.isPureReactComponent=!0;var ct=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function V(M,ht,yt,mt,St,zt){return yt=zt.ref,{$$typeof:n,type:M,key:ht,ref:yt!==void 0?yt:null,props:zt}}function k(M,ht){return V(M.type,ht,void 0,void 0,void 0,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function z(M){var ht={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(yt){return ht[yt]})}var B=/\/+/g;function F(M,ht){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):ht.toString(36)}function U(){}function ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(U,U):(M.status="pending",M.then(function(ht){M.status==="pending"&&(M.status="fulfilled",M.value=ht)},function(ht){M.status==="pending"&&(M.status="rejected",M.reason=ht)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Mt(M,ht,yt,mt,St){var zt=typeof M;(zt==="undefined"||zt==="boolean")&&(M=null);var It=!1;if(M===null)It=!0;else switch(zt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(M.$$typeof){case n:case t:It=!0;break;case _:return It=M._init,Mt(It(M._payload),ht,yt,mt,St)}}if(It)return St=St(M),It=mt===""?"."+F(M,0):mt,ct(St)?(yt="",It!=null&&(yt=It.replace(B,"$&/")+"/"),Mt(St,ht,yt,"",function(hi){return hi})):St!=null&&(N(St)&&(St=k(St,yt+(St.key==null||M&&M.key===St.key?"":(""+St.key).replace(B,"$&/")+"/")+It)),ht.push(St)),1;It=0;var We=mt===""?".":mt+":";if(ct(M))for(var bt=0;bt<M.length;bt++)mt=M[bt],zt=We+F(mt,bt),It+=Mt(mt,ht,yt,zt,St);else if(bt=E(M),typeof bt=="function")for(M=bt.call(M),bt=0;!(mt=M.next()).done;)mt=mt.value,zt=We+F(mt,bt++),It+=Mt(mt,ht,yt,zt,St);else if(zt==="object"){if(typeof M.then=="function")return Mt(ne(M),ht,yt,mt,St);throw ht=String(M),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return It}function et(M,ht,yt){if(M==null)return M;var mt=[],St=0;return Mt(M,mt,"","",function(zt){return ht.call(yt,zt,St++)}),mt}function gt(M){if(M._status===-1){var ht=M._result;ht=ht(),ht.then(function(yt){(M._status===0||M._status===-1)&&(M._status=1,M._result=yt)},function(yt){(M._status===0||M._status===-1)&&(M._status=2,M._result=yt)}),M._status===-1&&(M._status=0,M._result=ht)}if(M._status===1)return M._result.default;throw M._result}var xt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Lt(){}return Jt.Children={map:et,forEach:function(M,ht,yt){et(M,function(){ht.apply(this,arguments)},yt)},count:function(M){var ht=0;return et(M,function(){ht++}),ht},toArray:function(M){return et(M,function(ht){return ht})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Jt.Component=P,Jt.Fragment=e,Jt.Profiler=r,Jt.PureComponent=G,Jt.StrictMode=i,Jt.Suspense=f,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return rt.H.useMemoCache(M)}},Jt.cache=function(M){return function(){return M.apply(null,arguments)}},Jt.cloneElement=function(M,ht,yt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var mt=R({},M.props),St=M.key,zt=void 0;if(ht!=null)for(It in ht.ref!==void 0&&(zt=void 0),ht.key!==void 0&&(St=""+ht.key),ht)!pt.call(ht,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&ht.ref===void 0||(mt[It]=ht[It]);var It=arguments.length-2;if(It===1)mt.children=yt;else if(1<It){for(var We=Array(It),bt=0;bt<It;bt++)We[bt]=arguments[bt+2];mt.children=We}return V(M.type,St,void 0,void 0,zt,mt)},Jt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Jt.createElement=function(M,ht,yt){var mt,St={},zt=null;if(ht!=null)for(mt in ht.key!==void 0&&(zt=""+ht.key),ht)pt.call(ht,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(St[mt]=ht[mt]);var It=arguments.length-2;if(It===1)St.children=yt;else if(1<It){for(var We=Array(It),bt=0;bt<It;bt++)We[bt]=arguments[bt+2];St.children=We}if(M&&M.defaultProps)for(mt in It=M.defaultProps,It)St[mt]===void 0&&(St[mt]=It[mt]);return V(M,zt,void 0,void 0,null,St)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(M){return{$$typeof:h,render:M}},Jt.isValidElement=N,Jt.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:gt}},Jt.memo=function(M,ht){return{$$typeof:g,type:M,compare:ht===void 0?null:ht}},Jt.startTransition=function(M){var ht=rt.T,yt={};rt.T=yt;try{var mt=M(),St=rt.S;St!==null&&St(yt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(Lt,xt)}catch(zt){xt(zt)}finally{rt.T=ht}},Jt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Jt.use=function(M){return rt.H.use(M)},Jt.useActionState=function(M,ht,yt){return rt.H.useActionState(M,ht,yt)},Jt.useCallback=function(M,ht){return rt.H.useCallback(M,ht)},Jt.useContext=function(M){return rt.H.useContext(M)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(M,ht){return rt.H.useDeferredValue(M,ht)},Jt.useEffect=function(M,ht,yt){var mt=rt.H;if(typeof yt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(M,ht)},Jt.useId=function(){return rt.H.useId()},Jt.useImperativeHandle=function(M,ht,yt){return rt.H.useImperativeHandle(M,ht,yt)},Jt.useInsertionEffect=function(M,ht){return rt.H.useInsertionEffect(M,ht)},Jt.useLayoutEffect=function(M,ht){return rt.H.useLayoutEffect(M,ht)},Jt.useMemo=function(M,ht){return rt.H.useMemo(M,ht)},Jt.useOptimistic=function(M,ht){return rt.H.useOptimistic(M,ht)},Jt.useReducer=function(M,ht,yt){return rt.H.useReducer(M,ht,yt)},Jt.useRef=function(M){return rt.H.useRef(M)},Jt.useState=function(M){return rt.H.useState(M)},Jt.useSyncExternalStore=function(M,ht,yt){return rt.H.useSyncExternalStore(M,ht,yt)},Jt.useTransition=function(){return rt.H.useTransition()},Jt.version="19.1.0",Jt}var Q0;function by(){return Q0||(Q0=1,a_.exports=YR()),a_.exports}var Z=by();const tS=qR(Z);var o_={exports:{}},Gh={},l_={exports:{}},c_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function KR(){return X0||(X0=1,function(n){function t(et,gt){var xt=et.length;et.push(gt);t:for(;0<xt;){var Lt=xt-1>>>1,M=et[Lt];if(0<r(M,gt))et[Lt]=gt,et[xt]=M,xt=Lt;else break t}}function e(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var gt=et[0],xt=et.pop();if(xt!==gt){et[0]=xt;t:for(var Lt=0,M=et.length,ht=M>>>1;Lt<ht;){var yt=2*(Lt+1)-1,mt=et[yt],St=yt+1,zt=et[St];if(0>r(mt,xt))St<M&&0>r(zt,mt)?(et[Lt]=zt,et[St]=xt,Lt=St):(et[Lt]=mt,et[yt]=xt,Lt=yt);else if(St<M&&0>r(zt,xt))et[Lt]=zt,et[St]=xt,Lt=St;else break t}}return gt}function r(et,gt){var xt=et.sortIndex-gt.sortIndex;return xt!==0?xt:et.id-gt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,b=null,E=3,A=!1,R=!1,D=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ct(et){for(var gt=e(g);gt!==null;){if(gt.callback===null)i(g);else if(gt.startTime<=et)i(g),gt.sortIndex=gt.expirationTime,t(f,gt);else break;gt=e(g)}}function rt(et){if(D=!1,ct(et),!R)if(e(f)!==null)R=!0,pt||(pt=!0,F());else{var gt=e(g);gt!==null&&Mt(rt,gt.startTime-et)}}var pt=!1,V=-1,k=5,N=-1;function z(){return P?!0:!(n.unstable_now()-N<k)}function B(){if(P=!1,pt){var et=n.unstable_now();N=et;var gt=!0;try{t:{R=!1,D&&(D=!1,G(V),V=-1),A=!0;var xt=E;try{e:{for(ct(et),b=e(f);b!==null&&!(b.expirationTime>et&&z());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,E=b.priorityLevel;var M=Lt(b.expirationTime<=et);if(et=n.unstable_now(),typeof M=="function"){b.callback=M,ct(et),gt=!0;break e}b===e(f)&&i(f),ct(et)}else i(f);b=e(f)}if(b!==null)gt=!0;else{var ht=e(g);ht!==null&&Mt(rt,ht.startTime-et),gt=!1}}break t}finally{b=null,E=xt,A=!1}gt=void 0}}finally{gt?F():pt=!1}}}var F;if(typeof J=="function")F=function(){J(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ne=U.port2;U.port1.onmessage=B,F=function(){ne.postMessage(null)}}else F=function(){L(B,0)};function Mt(et,gt){V=L(function(){et(n.unstable_now())},gt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(et){et.callback=null},n.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<et?Math.floor(1e3/et):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(et){switch(E){case 1:case 2:case 3:var gt=3;break;default:gt=E}var xt=E;E=gt;try{return et()}finally{E=xt}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(et,gt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var xt=E;E=et;try{return gt()}finally{E=xt}},n.unstable_scheduleCallback=function(et,gt,xt){var Lt=n.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?Lt+xt:Lt):xt=Lt,et){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=xt+M,et={id:_++,callback:gt,priorityLevel:et,startTime:xt,expirationTime:M,sortIndex:-1},xt>Lt?(et.sortIndex=xt,t(g,et),e(f)===null&&et===e(g)&&(D?(G(V),V=-1):D=!0,Mt(rt,xt-Lt))):(et.sortIndex=M,t(f,et),R||A||(R=!0,pt||(pt=!0,F()))),et},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(et){var gt=E;return function(){var xt=E;E=gt;try{return et.apply(this,arguments)}finally{E=xt}}}}(c_)),c_}var Z0;function WR(){return Z0||(Z0=1,l_.exports=KR()),l_.exports}var u_={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function QR(){if(J0)return ai;J0=1;var n=by();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ai.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},ai.flushSync=function(f){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=_,i.d.f()}},ai.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},ai.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ai.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,b=h(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):_==="script"&&i.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ai.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},ai.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ai.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},ai.requestFormReset=function(f){i.d.r(f)},ai.unstable_batchedUpdates=function(f,g){return f(g)},ai.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},ai.useFormStatus=function(){return c.H.useHostTransitionStatus()},ai.version="19.1.0",ai}var tE;function XR(){if(tE)return u_.exports;tE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),u_.exports=QR(),u_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function ZR(){if(eE)return Gh;eE=1;var n=WR(),t=by(),e=XR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===u)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var S=!1,C=p.child;C;){if(C===l){S=!0,l=p,u=y;break}if(C===u){S=!0,u=p,l=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===l){S=!0,l=y,u=p;break}if(C===u){S=!0,u=y,l=p;break}C=C.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ne(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case rt:return"Suspense";case pt:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case J:return(s.displayName||"Context")+".Provider";case G:return(s._context.displayName||"Context")+".Consumer";case ct:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:ne(s.type)||"Memo";case k:a=s._payload,s=s._init;try{return ne(s(a))}catch{}}return null}var Mt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},Lt=[],M=-1;function ht(s){return{current:s}}function yt(s){0>M||(s.current=Lt[M],Lt[M]=null,M--)}function mt(s,a){M++,Lt[M]=s.current,s.current=a}var St=ht(null),zt=ht(null),It=ht(null),We=ht(null);function bt(s,a){switch(mt(It,a),mt(zt,s),mt(St,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?E0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=E0(a),s=T0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}yt(St),mt(St,s)}function hi(){yt(St),yt(zt),yt(It)}function Us(s){s.memoizedState!==null&&mt(We,s);var a=St.current,l=T0(a,s.type);a!==l&&(mt(zt,s),mt(St,l))}function zs(s){zt.current===s&&(yt(St),yt(zt)),We.current===s&&(yt(We),jh._currentValue=xt)}var Wr=Object.prototype.hasOwnProperty,Bi=n.unstable_scheduleCallback,ur=n.unstable_cancelCallback,js=n.unstable_shouldYield,Bs=n.unstable_requestPaint,Ei=n.unstable_now,Nu=n.unstable_getCurrentPriorityLevel,gl=n.unstable_ImmediatePriority,Wa=n.unstable_UserBlockingPriority,Qr=n.unstable_NormalPriority,Lu=n.unstable_LowPriority,Qa=n.unstable_IdlePriority,hr=n.log,Fi=n.unstable_setDisableYieldValue,je=null,Ee=null;function fi(s){if(typeof hr=="function"&&Fi(s),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(je,s)}catch{}}var Qe=Math.clz32?Math.clz32:ls,Fs=Math.log,fr=Math.LN2;function ls(s){return s>>>=0,s===0?32:31-(Fs(s)/fr|0)|0}var Xr=256,Hs=4194304;function Hi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xa(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?p=Hi(u):(S&=C,S!==0?p=Hi(S):l||(l=C&~s,l!==0&&(p=Hi(l))))):(C=u&~y,C!==0?p=Hi(C):S!==0?p=Hi(S):l||(l=u&~s,l!==0&&(p=Hi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function Zr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function pl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(){var s=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),s}function _l(){var s=Hs;return Hs<<=1,(Hs&62914560)===0&&(Hs=4194304),s}function cs(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Ti(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Za(s,a,l,u,p,y){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,j=s.expirationTimes,X=s.hiddenUpdates;for(l=S&~l;0<l;){var at=31-Qe(l),ft=1<<at;C[at]=0,j[at]=-1;var tt=X[at];if(tt!==null)for(X[at]=null,at=0;at<tt.length;at++){var nt=tt[at];nt!==null&&(nt.lane&=-536870913)}l&=~ft}u!==0&&qi(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~a))}function qi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Qe(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function yl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Qe(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function dr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ja(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function gr(){var s=gt.p;return s!==0?s:(s=window.event,s===void 0?32:B0(s.type))}function qs(s,a){var l=gt.p;try{return gt.p=s,a()}finally{gt.p=l}}var Te=Math.random().toString(36).slice(2),nn="__reactFiber$"+Te,Xe="__reactProps$"+Te,wi="__reactContainer$"+Te,vl="__reactEvents$"+Te,Vu="__reactListeners$"+Te,us="__reactHandles$"+Te,$s="__reactResources$"+Te,hs="__reactMarker$"+Te;function pr(s){delete s[nn],delete s[Xe],delete s[vl],delete s[Vu],delete s[us]}function $i(s){var a=s[nn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[wi]||l[nn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=x0(s);s!==null;){if(l=s[nn])return l;s=x0(s)}return a}s=l,l=s.parentNode}return null}function fs(s){if(s=s[nn]||s[wi]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ds(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ze(s){var a=s[$s];return a||(a=s[$s]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ie(s){s[hs]=!0}var wn=new Set,gn={};function ke(s,a){Si(s,a),Si(s+"Capture",a)}function Si(s,a){for(gn[s]=a,s=0;s<a.length;s++)wn.add(a[s])}var Gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gs={},Ai={};function bl(s){return Wr.call(Ai,s)?!0:Wr.call(gs,s)?!1:Gs.test(s)?Ai[s]=!0:(gs[s]=!0,!1)}function ps(s,a,l){if(bl(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Fn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function pn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Ys,to;function ms(s){if(Ys===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ys=a&&a[1]||"",to=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ys+s+to}var Jr=!1;function ta(s,a){if(!s||Jr)return"";Jr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(nt){var tt=nt}Reflect.construct(s,[],ft)}else{try{ft.call()}catch(nt){tt=nt}s.call(ft.prototype)}}else{try{throw Error()}catch(nt){tt=nt}(ft=s())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(nt){if(nt&&tt&&typeof nt.stack=="string")return[nt.stack,tt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var j=S.split(`
`),X=C.split(`
`);for(p=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(u===j.length||p===X.length)for(u=j.length-1,p=X.length-1;1<=u&&0<=p&&j[u]!==X[p];)p--;for(;1<=u&&0<=p;u--,p--)if(j[u]!==X[p]){if(u!==1||p!==1)do if(u--,p--,0>p||j[u]!==X[p]){var at=`
`+j[u].replace(" at new "," at ");return s.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",s.displayName)),at}while(1<=u&&0<=p);break}}}finally{Jr=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ms(l):""}function eo(s){switch(s.tag){case 26:case 27:case 5:return ms(s.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return ta(s.type,!1);case 11:return ta(s.type.render,!1);case 1:return ta(s.type,!0);case 31:return ms("Activity");default:return""}}function ea(s){try{var a="";do a+=eo(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function no(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dc(s){var a=no(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function na(s){s._valueTracker||(s._valueTracker=dc(s))}function io(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=no(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Nn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Hn=/[\n"\\]/g;function Ie(s){return s.replace(Hn,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Le(s,a,l,u,p,y,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Pn(a)):s.value!==""+Pn(a)&&(s.value=""+Pn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?_s(s,S,Pn(a)):l!=null?_s(s,S,Pn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Pn(C):s.removeAttribute("name")}function Ks(s,a,l,u,p,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Pn(l):"",a=a!=null?""+Pn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=C?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function _s(s,a,l){a==="number"&&Nn(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function mn(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Pn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function ae(s,a,l){if(a!=null&&(a=""+Pn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Pn(l):""}function ys(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Mt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Pn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Sn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Ws.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function vs(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&El(s,p,u)}else for(var y in a)a.hasOwnProperty(y)&&El(s,y,a[y])}function ia(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(s){return Gi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ln=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bs=null,di=null;function sa(s){var a=fs(s);if(a&&(s=a.stateNode)){var l=s[Xe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Le(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ie(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[Xe]||null;if(!p)throw Error(i(90));Le(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&io(u)}break t;case"textarea":ae(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&mn(s,!!l.multiple,a,!1)}}}var ti=!1;function Tl(s,a,l){if(ti)return s(a,l);ti=!0;try{var u=s(a);return u}finally{if(ti=!1,(bs!==null||di!==null)&&(jd(),bs&&(a=bs,s=di,di=bs=null,sa(a),s)))for(a=0;a<s.length;a++)sa(s[a])}}function mr(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Xe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(xi)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){An=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{An=!1}var Yi=null,Es=null,Ri=null;function aa(){if(Ri)return Ri;var s,a=Es,l=a.length,u,p="value"in Yi?Yi.value:Yi.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===p[y-u];u++);return Ri=p.slice(s,1<u?1-u:void 0)}function Ts(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function gi(){return!0}function wl(){return!1}function sn(s){function a(l,u,p,y,S){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?gi:wl,this.isPropagationStopped=wl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),a}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=sn(fe),Qs=_({},fe,{view:0,detail:0}),Sl=sn(Qs),ws,yr,Ki,vr=_({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ki&&(Ki&&s.type==="mousemove"?(ws=s.screenX-Ki.screenX,yr=s.screenY-Ki.screenY):yr=ws=0,Ki=s),ws)},movementY:function(s){return"movementY"in s?s.movementY:yr}}),xn=sn(vr),pc=_({},vr,{dataTransfer:0}),mc=sn(pc),br=_({},Qs,{relatedTarget:0}),oa=sn(br),ro=_({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),la=sn(ro),ao=_({},fe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ca=sn(ao),Uu=_({},fe,{data:0}),Al=sn(Uu),Er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ua[s])?!!a[s]:!1}function ha(){return Rl}var oo=_({},Qs,{key:function(s){if(s.key){var a=Er[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ts(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xl[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(s){return s.type==="keypress"?Ts(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ts(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fa=sn(oo),Cl=_({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=sn(Cl),Qi=_({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),_c=sn(Qi),Il=_({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),yc=sn(Il),vc=_({},vr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lo=sn(vc),$n=_({},fe,{newState:0,oldState:0}),Ol=sn($n),Dl=[9,13,27,32],Ss=xi&&"CompositionEvent"in window,d=null;xi&&"documentMode"in document&&(d=document.documentMode);var v=xi&&"TextEvent"in window&&!d,w=xi&&(!Ss||d&&8<d&&11>=d),O=" ",W=!1;function it(s,a){switch(s){case"keyup":return Dl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var oe=!1;function rn(s,a){switch(s){case"compositionend":return vt(a);case"keypress":return a.which!==32?null:(W=!0,O);case"textInput":return s=a.data,s===O&&W?null:s;default:return null}}function le(s,a){if(oe)return s==="compositionend"||!Ss&&it(s,a)?(s=aa(),Ri=Es=Yi=null,oe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!_n[s.type]:a==="textarea"}function on(s,a,l,u){bs?di?di.push(u):di=[u]:bs=u,a=Gd(a,"onChange"),0<a.length&&(l=new _r("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var yn=null,Xi=null;function co(s){m0(s,0)}function bc(s){var a=ds(s);if(io(a))return s}function Jf(s,a){if(s==="change")return a}var zu=!1;if(xi){var uo;if(xi){var ju="oninput"in document;if(!ju){var td=document.createElement("div");td.setAttribute("oninput","return;"),ju=typeof td.oninput=="function"}uo=ju}else uo=!1;zu=uo&&(!document.documentMode||9<document.documentMode)}function Bu(){yn&&(yn.detachEvent("onpropertychange",ed),Xi=yn=null)}function ed(s){if(s.propertyName==="value"&&bc(Xi)){var a=[];on(a,Xi,s,qn(s)),Tl(co,a)}}function Kp(s,a,l){s==="focusin"?(Bu(),yn=a,Xi=l,yn.attachEvent("onpropertychange",ed)):s==="focusout"&&Bu()}function nd(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bc(Xi)}function id(s,a){if(s==="click")return bc(a)}function sd(s,a){if(s==="input"||s==="change")return bc(a)}function Ec(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ei=typeof Object.is=="function"?Object.is:Ec;function da(s,a){if(ei(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Wr.call(a,p)||!ei(s[p],a[p]))return!1}return!0}function pi(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rd(s,a){var l=pi(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=pi(l)}}function ad(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ad(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Fu(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Nn(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Nn(s.document)}return a}function Tc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Wp=xi&&"documentMode"in document&&11>=document.documentMode,ho=null,Hu=null,Ml=null,qu=!1;function od(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qu||ho==null||ho!==Nn(u)||(u=ho,"selectionStart"in u&&Tc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ml&&da(Ml,u)||(Ml=u,u=Gd(Hu,"onSelect"),0<u.length&&(a=new _r("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=ho)))}function Tr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var ga={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},kl={},ld={};xi&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function pa(s){if(kl[s])return kl[s];if(!ga[s])return s;var a=ga[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in ld)return kl[s]=a[l];return s}var wr=pa("animationend"),As=pa("animationiteration"),$u=pa("animationstart"),Qp=pa("transitionrun"),cd=pa("transitionstart"),ud=pa("transitioncancel"),Gu=pa("transitionend"),Yu=new Map,Ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ku.push("scrollEnd");function Zi(s,a){Yu.set(s,a),ke(a,[s])}var hd=new WeakMap;function mi(s,a){if(typeof s=="object"&&s!==null){var l=hd.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ea(a)},hd.set(s,a),a)}return{value:s,source:a,stack:ea(a)}}var _i=[],fo=0,Wu=0;function wc(){for(var s=fo,a=Wu=fo=0;a<s;){var l=_i[a];_i[a++]=null;var u=_i[a];_i[a++]=null;var p=_i[a];_i[a++]=null;var y=_i[a];if(_i[a++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}y!==0&&Xu(l,p,y)}}function Sc(s,a,l,u){_i[fo++]=s,_i[fo++]=a,_i[fo++]=l,_i[fo++]=u,Wu|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Qu(s,a,l,u){return Sc(s,a,l,u),Ac(s)}function ni(s,a){return Sc(s,null,null,a),Ac(s)}function Xu(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-Qe(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),y):null}function Ac(s){if(50<Mh)throw Mh=0,Im=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var go={};function Xp(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(s,a,l,u){return new Xp(s,a,l,u)}function Zu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xs(s,a){var l=s.alternate;return l===null?(l=yi(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function fd(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function xc(s,a,l,u,p,y){var S=0;if(u=s,typeof s=="function")Zu(s)&&(S=1);else if(typeof s=="string")S=DR(s,l,St.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=yi(31,l,a,p),s.elementType=N,s.lanes=y,s;case R:return Zs(l.children,p,y,a);case D:S=8,p|=24;break;case P:return s=yi(12,l,a,p|2),s.elementType=P,s.lanes=y,s;case rt:return s=yi(13,l,a,p),s.elementType=rt,s.lanes=y,s;case pt:return s=yi(19,l,a,p),s.elementType=pt,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case J:S=10;break t;case G:S=9;break t;case ct:S=11;break t;case V:S=14;break t;case k:S=16,u=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=yi(S,l,a,p),a.elementType=s,a.type=u,a.lanes=y,a}function Zs(s,a,l,u){return s=yi(7,s,u,a),s.lanes=l,s}function po(s,a,l){return s=yi(6,s,null,a),s.lanes=l,s}function Ju(s,a,l){return a=yi(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ma=[],_a=0,Sr=null,mo=0,ii=[],Ci=0,ya=null,Js=1,Gn="";function va(s,a){ma[_a++]=mo,ma[_a++]=Sr,Sr=s,mo=a}function dd(s,a,l){ii[Ci++]=Js,ii[Ci++]=Gn,ii[Ci++]=ya,ya=s;var u=Js;s=Gn;var p=32-Qe(u)-1;u&=~(1<<p),l+=1;var y=32-Qe(a)+p;if(30<y){var S=p-p%5;y=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Js=1<<32-Qe(a)+p|l<<p|u,Gn=y+s}else Js=1<<y|l<<p|u,Gn=s}function th(s){s.return!==null&&(va(s,1),dd(s,1,0))}function eh(s){for(;s===Sr;)Sr=ma[--_a],ma[_a]=null,mo=ma[--_a],ma[_a]=null;for(;s===ya;)ya=ii[--Ci],ii[Ci]=null,Gn=ii[--Ci],ii[Ci]=null,Js=ii[--Ci],ii[Ci]=null}var vn=null,Ve=null,me=!1,Ar=null,xs=!1,xr=Error(i(519));function tr(s){var a=Error(i(418,""));throw Ji(mi(a,s)),xr}function nh(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[nn]=s,a[Xe]=u,l){case"dialog":re("cancel",a),re("close",a);break;case"iframe":case"object":case"embed":re("load",a);break;case"video":case"audio":for(l=0;l<Ph.length;l++)re(Ph[l],a);break;case"source":re("error",a);break;case"img":case"image":case"link":re("error",a),re("load",a);break;case"details":re("toggle",a);break;case"input":re("invalid",a),Ks(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),na(a);break;case"select":re("invalid",a);break;case"textarea":re("invalid",a),ys(a,u.value,u.defaultValue,u.children),na(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||b0(a.textContent,l)?(u.popover!=null&&(re("beforetoggle",a),re("toggle",a)),u.onScroll!=null&&re("scroll",a),u.onScrollEnd!=null&&re("scrollend",a),u.onClick!=null&&(a.onclick=Yd),a=!0):a=!1,a||tr(s)}function gd(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:vn=vn.return}}function Pl(s){if(s!==vn)return!1;if(!me)return gd(s),me=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||$m(s.type,s.memoizedProps)),l=!l),l&&Ve&&tr(s),gd(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ve=sr(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ve=null}}else a===27?(a=Ve,Do(s.type)?(s=Wm,Wm=null,Ve=s):Ve=a):Ve=vn?sr(s.stateNode.nextSibling):null;return!0}function Nl(){Ve=vn=null,me=!1}function _o(){var s=Ar;return s!==null&&(Pi===null?Pi=s:Pi.push.apply(Pi,s),Ar=null),s}function Ji(s){Ar===null?Ar=[s]:Ar.push(s)}var ih=ht(null),ba=null,er=null;function Rr(s,a,l){mt(ih,a._currentValue),a._currentValue=l}function nr(s){s._currentValue=ih.current,yt(ih)}function sh(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function rh(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=p;for(var j=0;j<a.length;j++)if(C.context===a[j]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),sh(y.return,l,s),u||(S=null);break t}y=C.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),sh(S,l,s),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===s){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Ll(s,a,l,u){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=p.type;ei(p.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(p===We.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(jh):s=[jh])}p=p.return}s!==null&&rh(a,s,l,u),a.flags|=262144}function Vl(s){for(s=s.firstContext;s!==null;){if(!ei(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ea(s){ba=s,er=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Rn(s){return ah(ba,s)}function yo(s,a){return ba===null&&Ea(s),ah(s,a)}function ah(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},er===null){if(s===null)throw Error(i(308));er=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else er=er.next=a;return l}var Ta=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},pd=n.unstable_scheduleCallback,oh=n.unstable_NormalPriority,Je={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ul(){return{controller:new Ta,data:new Map,refCount:0}}function vo(s){s.refCount--,s.refCount===0&&pd(oh,function(){s.controller.abort()})}var wa=null,lh=0,Ii=0,vi=null;function Zp(s,a){if(wa===null){var l=wa=[];lh=0,Ii=Lm(),vi={status:"pending",value:void 0,then:function(u){l.push(u)}}}return lh++,a.then(md,md),a}function md(){if(--lh===0&&wa!==null){vi!==null&&(vi.status="fulfilled");var s=wa;wa=null,Ii=0,vi=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Jp(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var _d=et.S;et.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zp(s,a),_d!==null&&_d(s,a)};var Sa=ht(null);function ch(){var s=Sa.current;return s!==null?s:Ue.pooledCache}function Rc(s,a){a===null?mt(Sa,Sa.current):mt(Sa,a.pool)}function yd(){var s=ch();return s===null?null:{parent:Je._currentValue,pool:s}}var bo=Error(i(460)),zl=Error(i(474)),Aa=Error(i(542)),uh={then:function(){}};function vd(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Cr(){}function x(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Cr,Cr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,I(s),s;default:if(typeof a.status=="string")a.then(Cr,Cr);else{if(s=Ue,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,I(s),s}throw m=a,bo}}var m=null;function T(){if(m===null)throw Error(i(459));var s=m;return m=null,s}function I(s){if(s===bo||s===Aa)throw Error(i(483))}var $=!1;function Y(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function st(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ot(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _t(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=Ac(s),Xu(s,null,l),a}return Sc(s,u,a,l),Ac(s)}function wt(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,yl(s,l)}}function Rt(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Et=!1;function Yt(){if(Et){var s=vi;if(s!==null)throw s}}function Pt(s,a,l,u){Et=!1;var p=s.updateQueue;$=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var j=C,X=j.next;j.next=null,S===null?y=X:S.next=X,S=j;var at=s.alternate;at!==null&&(at=at.updateQueue,C=at.lastBaseUpdate,C!==S&&(C===null?at.firstBaseUpdate=X:C.next=X,at.lastBaseUpdate=j))}if(y!==null){var ft=p.baseState;S=0,at=X=j=null,C=y;do{var tt=C.lane&-536870913,nt=tt!==C.lane;if(nt?(ge&tt)===tt:(u&tt)===tt){tt!==0&&tt===Ii&&(Et=!0),at!==null&&(at=at.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Gt=s,Ut=C;tt=a;var Me=l;switch(Ut.tag){case 1:if(Gt=Ut.payload,typeof Gt=="function"){ft=Gt.call(Me,ft,tt);break t}ft=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Ut.payload,tt=typeof Gt=="function"?Gt.call(Me,ft,tt):Gt,tt==null)break t;ft=_({},ft,tt);break t;case 2:$=!0}}tt=C.callback,tt!==null&&(s.flags|=64,nt&&(s.flags|=8192),nt=p.callbacks,nt===null?p.callbacks=[tt]:nt.push(tt))}else nt={lane:tt,tag:C.tag,payload:C.payload,callback:C.callback,next:null},at===null?(X=at=nt,j=ft):at=at.next=nt,S|=tt;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;nt=C,C=nt.next,nt.next=null,p.lastBaseUpdate=nt,p.shared.pending=null}}while(!0);at===null&&(j=ft),p.baseState=j,p.firstBaseUpdate=X,p.lastBaseUpdate=at,y===null&&(p.shared.lanes=0),Ro|=S,s.lanes=S,s.memoizedState=ft}}function Kt(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Bt(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Kt(l[s],a)}var Vt=ht(null),_e=ht(0);function Se(s,a){s=Ma,mt(_e,s),mt(Vt,a),Ma=s|a.baseLanes}function Zt(){mt(_e,Ma),mt(Vt,Vt.current)}function he(){Ma=_e.current,yt(Vt),yt(_e)}var Ft=0,Tt=null,Dt=null,Ht=null,de=!1,Oe=!1,ln=!1,si=0,cn=0,Cn=null,Oi=0;function Qt(){throw Error(i(321))}function Di(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!ei(s[l],a[l]))return!1;return!0}function Mi(s,a,l,u,p,y){return Ft=y,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,et.H=s===null||s.memoizedState===null?tb:eb,ln=!1,y=l(u,p),ln=!1,Oe&&(y=un(a,l,u,p)),xa(s),y}function xa(s){et.H=Rd;var a=Dt!==null&&Dt.next!==null;if(Ft=0,Ht=Dt=Tt=null,de=!1,cn=0,Cn=null,a)throw Error(i(300));s===null||Vn||(s=s.dependencies,s!==null&&Vl(s)&&(Vn=!0))}function un(s,a,l,u){Tt=s;var p=0;do{if(Oe&&(Cn=null),cn=0,Oe=!1,25<=p)throw Error(i(301));if(p+=1,Ht=Dt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}et.H=Fx,y=a(l,u)}while(Oe);return y}function Ae(){var s=et.H,a=s.useState()[0];return a=typeof a.then=="function"?Ir(a):a,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(Tt.flags|=1024),a}function In(){var s=si!==0;return si=0,s}function ri(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Rs(s){if(de){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}de=!1}Ft=0,Ht=Dt=Tt=null,Oe=!1,cn=si=0,Cn=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function $e(){if(Dt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var a=Ht===null?Tt.memoizedState:Ht.next;if(a!==null)Ht=a,Dt=s;else{if(s===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ir(s){var a=cn;return cn+=1,Cn===null&&(Cn=[]),s=x(Cn,s,a),a=Tt,(Ht===null?a.memoizedState:Ht.next)===null&&(a=a.alternate,et.H=a===null||a.memoizedState===null?tb:eb),s}function Ic(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ir(s);if(s.$$typeof===J)return Rn(s)}throw Error(i(438,String(s)))}function hh(s){var a=null,l=Tt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Cc(),Tt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=z;return a.index++,l}function ts(s,a){return typeof a=="function"?a(s):a}function Oc(s){var a=$e();return Dc(a,Dt,s)}function Dc(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}a.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var C=S=null,j=null,X=a,at=!1;do{var ft=X.lane&-536870913;if(ft!==X.lane?(ge&ft)===ft:(Ft&ft)===ft){var tt=X.revertLane;if(tt===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ft===Ii&&(at=!0);else if((Ft&tt)===tt){X=X.next,tt===Ii&&(at=!0);continue}else ft={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(C=j=ft,S=y):j=j.next=ft,Tt.lanes|=tt,Ro|=tt;ft=X.action,ln&&l(y,ft),y=X.hasEagerState?X.eagerState:l(y,ft)}else tt={lane:ft,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(C=j=tt,S=y):j=j.next=tt,Tt.lanes|=ft,Ro|=ft;X=X.next}while(X!==null&&X!==a);if(j===null?S=y:j.next=C,!ei(y,s.memoizedState)&&(Vn=!0,at&&(l=vi,l!==null)))throw l;s.memoizedState=y,s.baseState=S,s.baseQueue=j,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function fh(s){var a=$e(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=s(y,S.action),S=S.next;while(S!==p);ei(y,a.memoizedState)||(Vn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function dh(s,a,l){var u=Tt,p=$e(),y=me;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!ei((Dt||p).memoizedState,l);S&&(p.memoizedState=l,Vn=!0),p=p.queue;var C=Ed.bind(null,u,p,s);if(Eh(2048,8,C,[s]),p.getSnapshot!==a||S||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Nc(9,Sd(),bd.bind(null,u,p,l,a),null),Ue===null)throw Error(i(349));y||(Ft&124)!==0||gh(u,a,l)}return l}function gh(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Tt.updateQueue,a===null?(a=Cc(),Tt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function bd(s,a,l,u){a.value=l,a.getSnapshot=u,Or(a)&&jl(s)}function Ed(s,a,l){return l(function(){Or(a)&&jl(s)})}function Or(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!ei(s,l)}catch{return!0}}function jl(s){var a=ni(s,2);a!==null&&rs(a,s,2)}function Mc(s){var a=On();if(typeof s=="function"){var l=s;if(s=l(),ln){fi(!0);try{l()}finally{fi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:s},a}function ph(s,a,l,u){return s.baseState=l,Dc(s,Dt,typeof u=="function"?u:ts)}function mh(s,a,l,u,p){if(xd(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};et.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,_h(a,y)):(y.next=l.next,a.pending=l.next=y)}}function _h(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var y=et.T,S={};et.T=S;try{var C=l(p,u),j=et.S;j!==null&&j(S,C),yh(s,a,C)}catch(X){kc(s,a,X)}finally{et.T=y}}else try{y=l(p,u),yh(s,a,y)}catch(X){kc(s,a,X)}}function yh(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){vh(s,a,u)},function(u){return kc(s,a,u)}):vh(s,a,l)}function vh(s,a,l){a.status="fulfilled",a.value=l,Td(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,_h(s,l)))}function kc(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Td(a),a=a.next;while(a!==u)}s.action=null}function Td(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function wd(s,a){return a}function Pc(s,a){if(me){var l=Ue.formState;if(l!==null){t:{var u=Tt;if(me){if(Ve){e:{for(var p=Ve,y=xs;p.nodeType!==8;){if(!y){p=null;break e}if(p=sr(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ve=sr(p.nextSibling),u=p.data==="F!";break t}}tr(u)}u=!1}u&&(a=l[0])}}return l=On(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:a},l.queue=u,l=Xv.bind(null,Tt,u),u.dispatch=l,u=Mc(!1),y=sm.bind(null,Tt,!1,u.queue),u=On(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=mh.bind(null,Tt,p,y,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function bh(s){var a=$e();return Pv(a,Dt,s)}function Pv(s,a,l){if(a=Dc(s,a,wd)[0],s=Oc(ts)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ir(a)}catch(S){throw S===bo?Aa:S}else u=a;a=$e();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Tt.flags|=2048,Nc(9,Sd(),Ux.bind(null,p,l),null)),[u,y,s]}function Ux(s,a){s.action=a}function Nv(s){var a=$e(),l=Dt;if(l!==null)return Pv(a,l,s);$e(),a=a.memoizedState,l=$e();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Nc(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Tt.updateQueue,a===null&&(a=Cc(),Tt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Sd(){return{destroy:void 0,resource:void 0}}function Lv(){return $e().memoizedState}function Ad(s,a,l,u){var p=On();u=u===void 0?null:u,Tt.flags|=s,p.memoizedState=Nc(1|a,Sd(),l,u)}function Eh(s,a,l,u){var p=$e();u=u===void 0?null:u;var y=p.memoizedState.inst;Dt!==null&&u!==null&&Di(u,Dt.memoizedState.deps)?p.memoizedState=Nc(a,y,l,u):(Tt.flags|=s,p.memoizedState=Nc(1|a,y,l,u))}function Vv(s,a){Ad(8390656,8,s,a)}function Uv(s,a){Eh(2048,8,s,a)}function zv(s,a){return Eh(4,2,s,a)}function jv(s,a){return Eh(4,4,s,a)}function Bv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Fv(s,a,l){l=l!=null?l.concat([s]):null,Eh(4,4,Bv.bind(null,a,s),l)}function tm(){}function Hv(s,a){var l=$e();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Di(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function qv(s,a){var l=$e();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Di(a,u[1]))return u[0];if(u=s(),ln){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[u,a],u}function em(s,a,l){return l===void 0||(Ft&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Yb(),Tt.lanes|=s,Ro|=s,l)}function $v(s,a,l,u){return ei(l,a)?l:Vt.current!==null?(s=em(s,l,u),ei(s,a)||(Vn=!0),s):(Ft&42)===0?(Vn=!0,s.memoizedState=l):(s=Yb(),Tt.lanes|=s,Ro|=s,a)}function Gv(s,a,l,u,p){var y=gt.p;gt.p=y!==0&&8>y?y:8;var S=et.T,C={};et.T=C,sm(s,!1,a,l);try{var j=p(),X=et.S;if(X!==null&&X(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var at=Jp(j,u);Th(s,a,at,ss(s))}else Th(s,a,u,ss(s))}catch(ft){Th(s,a,{then:function(){},status:"rejected",reason:ft},ss())}finally{gt.p=y,et.T=S}}function zx(){}function nm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=Yv(s).queue;Gv(s,p,a,xt,l===null?zx:function(){return Kv(s),l(u)})}function Yv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:xt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Kv(s){var a=Yv(s).next.queue;Th(s,a,{},ss())}function im(){return Rn(jh)}function Wv(){return $e().memoizedState}function Qv(){return $e().memoizedState}function jx(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=ss();s=ot(l);var u=_t(a,s,l);u!==null&&(rs(u,a,l),wt(u,a,l)),a={cache:Ul()},s.payload=a;return}a=a.return}}function Bx(s,a,l){var u=ss();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},xd(s)?Zv(a,l):(l=Qu(s,a,l,u),l!==null&&(rs(l,s,u),Jv(l,a,u)))}function Xv(s,a,l){var u=ss();Th(s,a,l,u)}function Th(s,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(xd(s))Zv(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,C=y(S,l);if(p.hasEagerState=!0,p.eagerState=C,ei(C,S))return Sc(s,a,p,0),Ue===null&&wc(),!1}catch{}finally{}if(l=Qu(s,a,p,u),l!==null)return rs(l,s,u),Jv(l,a,u),!0}return!1}function sm(s,a,l,u){if(u={lane:2,revertLane:Lm(),action:u,hasEagerState:!1,eagerState:null,next:null},xd(s)){if(a)throw Error(i(479))}else a=Qu(s,l,u,2),a!==null&&rs(a,s,2)}function xd(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function Zv(s,a){Oe=de=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Jv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,yl(s,l)}}var Rd={readContext:Rn,use:Ic,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},tb={readContext:Rn,use:Ic,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:Rn,useEffect:Vv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Ad(4194308,4,Bv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Ad(4194308,4,s,a)},useInsertionEffect:function(s,a){Ad(4,2,s,a)},useMemo:function(s,a){var l=On();a=a===void 0?null:a;var u=s();if(ln){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=On();if(l!==void 0){var p=l(a);if(ln){fi(!0);try{l(a)}finally{fi(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=Bx.bind(null,Tt,s),[u.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:function(s){s=Mc(s);var a=s.queue,l=Xv.bind(null,Tt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:tm,useDeferredValue:function(s,a){var l=On();return em(l,s,a)},useTransition:function(){var s=Mc(!1);return s=Gv.bind(null,Tt,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Tt,p=On();if(me){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ue===null)throw Error(i(349));(ge&124)!==0||gh(u,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,Vv(Ed.bind(null,u,y,s),[s]),u.flags|=2048,Nc(9,Sd(),bd.bind(null,u,y,l,a),null),l},useId:function(){var s=On(),a=Ue.identifierPrefix;if(me){var l=Gn,u=Js;l=(u&~(1<<32-Qe(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=si++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Oi++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:im,useFormState:Pc,useActionState:Pc,useOptimistic:function(s){var a=On();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sm.bind(null,Tt,!0,l),l.dispatch=a,[s,a]},useMemoCache:hh,useCacheRefresh:function(){return On().memoizedState=jx.bind(null,Tt)}},eb={readContext:Rn,use:Ic,useCallback:Hv,useContext:Rn,useEffect:Uv,useImperativeHandle:Fv,useInsertionEffect:zv,useLayoutEffect:jv,useMemo:qv,useReducer:Oc,useRef:Lv,useState:function(){return Oc(ts)},useDebugValue:tm,useDeferredValue:function(s,a){var l=$e();return $v(l,Dt.memoizedState,s,a)},useTransition:function(){var s=Oc(ts)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:Ir(s),a]},useSyncExternalStore:dh,useId:Wv,useHostTransitionStatus:im,useFormState:bh,useActionState:bh,useOptimistic:function(s,a){var l=$e();return ph(l,Dt,s,a)},useMemoCache:hh,useCacheRefresh:Qv},Fx={readContext:Rn,use:Ic,useCallback:Hv,useContext:Rn,useEffect:Uv,useImperativeHandle:Fv,useInsertionEffect:zv,useLayoutEffect:jv,useMemo:qv,useReducer:fh,useRef:Lv,useState:function(){return fh(ts)},useDebugValue:tm,useDeferredValue:function(s,a){var l=$e();return Dt===null?em(l,s,a):$v(l,Dt.memoizedState,s,a)},useTransition:function(){var s=fh(ts)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:Ir(s),a]},useSyncExternalStore:dh,useId:Wv,useHostTransitionStatus:im,useFormState:Nv,useActionState:Nv,useOptimistic:function(s,a){var l=$e();return Dt!==null?ph(l,Dt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:hh,useCacheRefresh:Qv},Lc=null,wh=0;function Cd(s){var a=wh;return wh+=1,Lc===null&&(Lc=[]),x(Lc,s,a)}function Sh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Id(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function nb(s){var a=s._init;return a(s._payload)}function ib(s){function a(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function l(K,H){if(!s)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function u(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function p(K,H){return K=Xs(K,H),K.index=0,K.sibling=null,K}function y(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=67108866,H):Q):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function S(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,Q,lt){return H===null||H.tag!==6?(H=po(Q,K.mode,lt),H.return=K,H):(H=p(H,Q),H.return=K,H)}function j(K,H,Q,lt){var Ot=Q.type;return Ot===R?at(K,H,Q.props.children,lt,Q.key):H!==null&&(H.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===k&&nb(Ot)===H.type)?(H=p(H,Q.props),Sh(H,Q),H.return=K,H):(H=xc(Q.type,Q.key,Q.props,null,K.mode,lt),Sh(H,Q),H.return=K,H)}function X(K,H,Q,lt){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Ju(Q,K.mode,lt),H.return=K,H):(H=p(H,Q.children||[]),H.return=K,H)}function at(K,H,Q,lt,Ot){return H===null||H.tag!==7?(H=Zs(Q,K.mode,lt,Ot),H.return=K,H):(H=p(H,Q),H.return=K,H)}function ft(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=po(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return Q=xc(H.type,H.key,H.props,null,K.mode,Q),Sh(Q,H),Q.return=K,Q;case A:return H=Ju(H,K.mode,Q),H.return=K,H;case k:var lt=H._init;return H=lt(H._payload),ft(K,H,Q)}if(Mt(H)||F(H))return H=Zs(H,K.mode,Q,null),H.return=K,H;if(typeof H.then=="function")return ft(K,Cd(H),Q);if(H.$$typeof===J)return ft(K,yo(K,H),Q);Id(K,H)}return null}function tt(K,H,Q,lt){var Ot=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ot!==null?null:C(K,H,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Ot?j(K,H,Q,lt):null;case A:return Q.key===Ot?X(K,H,Q,lt):null;case k:return Ot=Q._init,Q=Ot(Q._payload),tt(K,H,Q,lt)}if(Mt(Q)||F(Q))return Ot!==null?null:at(K,H,Q,lt,null);if(typeof Q.then=="function")return tt(K,H,Cd(Q),lt);if(Q.$$typeof===J)return tt(K,H,yo(K,Q),lt);Id(K,Q)}return null}function nt(K,H,Q,lt,Ot){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return K=K.get(Q)||null,C(H,K,""+lt,Ot);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case E:return K=K.get(lt.key===null?Q:lt.key)||null,j(H,K,lt,Ot);case A:return K=K.get(lt.key===null?Q:lt.key)||null,X(H,K,lt,Ot);case k:var ee=lt._init;return lt=ee(lt._payload),nt(K,H,Q,lt,Ot)}if(Mt(lt)||F(lt))return K=K.get(Q)||null,at(H,K,lt,Ot,null);if(typeof lt.then=="function")return nt(K,H,Q,Cd(lt),Ot);if(lt.$$typeof===J)return nt(K,H,Q,yo(H,lt),Ot);Id(H,lt)}return null}function Gt(K,H,Q,lt){for(var Ot=null,ee=null,kt=H,jt=H=0,zn=null;kt!==null&&jt<Q.length;jt++){kt.index>jt?(zn=kt,kt=null):zn=kt.sibling;var ye=tt(K,kt,Q[jt],lt);if(ye===null){kt===null&&(kt=zn);break}s&&kt&&ye.alternate===null&&a(K,kt),H=y(ye,H,jt),ee===null?Ot=ye:ee.sibling=ye,ee=ye,kt=zn}if(jt===Q.length)return l(K,kt),me&&va(K,jt),Ot;if(kt===null){for(;jt<Q.length;jt++)kt=ft(K,Q[jt],lt),kt!==null&&(H=y(kt,H,jt),ee===null?Ot=kt:ee.sibling=kt,ee=kt);return me&&va(K,jt),Ot}for(kt=u(kt);jt<Q.length;jt++)zn=nt(kt,K,jt,Q[jt],lt),zn!==null&&(s&&zn.alternate!==null&&kt.delete(zn.key===null?jt:zn.key),H=y(zn,H,jt),ee===null?Ot=zn:ee.sibling=zn,ee=zn);return s&&kt.forEach(function(Lo){return a(K,Lo)}),me&&va(K,jt),Ot}function Ut(K,H,Q,lt){if(Q==null)throw Error(i(151));for(var Ot=null,ee=null,kt=H,jt=H=0,zn=null,ye=Q.next();kt!==null&&!ye.done;jt++,ye=Q.next()){kt.index>jt?(zn=kt,kt=null):zn=kt.sibling;var Lo=tt(K,kt,ye.value,lt);if(Lo===null){kt===null&&(kt=zn);break}s&&kt&&Lo.alternate===null&&a(K,kt),H=y(Lo,H,jt),ee===null?Ot=Lo:ee.sibling=Lo,ee=Lo,kt=zn}if(ye.done)return l(K,kt),me&&va(K,jt),Ot;if(kt===null){for(;!ye.done;jt++,ye=Q.next())ye=ft(K,ye.value,lt),ye!==null&&(H=y(ye,H,jt),ee===null?Ot=ye:ee.sibling=ye,ee=ye);return me&&va(K,jt),Ot}for(kt=u(kt);!ye.done;jt++,ye=Q.next())ye=nt(kt,K,jt,ye.value,lt),ye!==null&&(s&&ye.alternate!==null&&kt.delete(ye.key===null?jt:ye.key),H=y(ye,H,jt),ee===null?Ot=ye:ee.sibling=ye,ee=ye);return s&&kt.forEach(function(HR){return a(K,HR)}),me&&va(K,jt),Ot}function Me(K,H,Q,lt){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:t:{for(var Ot=Q.key;H!==null;){if(H.key===Ot){if(Ot=Q.type,Ot===R){if(H.tag===7){l(K,H.sibling),lt=p(H,Q.props.children),lt.return=K,K=lt;break t}}else if(H.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===k&&nb(Ot)===H.type){l(K,H.sibling),lt=p(H,Q.props),Sh(lt,Q),lt.return=K,K=lt;break t}l(K,H);break}else a(K,H);H=H.sibling}Q.type===R?(lt=Zs(Q.props.children,K.mode,lt,Q.key),lt.return=K,K=lt):(lt=xc(Q.type,Q.key,Q.props,null,K.mode,lt),Sh(lt,Q),lt.return=K,K=lt)}return S(K);case A:t:{for(Ot=Q.key;H!==null;){if(H.key===Ot)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){l(K,H.sibling),lt=p(H,Q.children||[]),lt.return=K,K=lt;break t}else{l(K,H);break}else a(K,H);H=H.sibling}lt=Ju(Q,K.mode,lt),lt.return=K,K=lt}return S(K);case k:return Ot=Q._init,Q=Ot(Q._payload),Me(K,H,Q,lt)}if(Mt(Q))return Gt(K,H,Q,lt);if(F(Q)){if(Ot=F(Q),typeof Ot!="function")throw Error(i(150));return Q=Ot.call(Q),Ut(K,H,Q,lt)}if(typeof Q.then=="function")return Me(K,H,Cd(Q),lt);if(Q.$$typeof===J)return Me(K,H,yo(K,Q),lt);Id(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(l(K,H.sibling),lt=p(H,Q),lt.return=K,K=lt):(l(K,H),lt=po(Q,K.mode,lt),lt.return=K,K=lt),S(K)):l(K,H)}return function(K,H,Q,lt){try{wh=0;var Ot=Me(K,H,Q,lt);return Lc=null,Ot}catch(kt){if(kt===bo||kt===Aa)throw kt;var ee=yi(29,kt,null,K.mode);return ee.lanes=lt,ee.return=K,ee}finally{}}}var Vc=ib(!0),sb=ib(!1),Cs=ht(null),Dr=null;function Eo(s){var a=s.alternate;mt(Dn,Dn.current&1),mt(Cs,s),Dr===null&&(a===null||Vt.current!==null||a.memoizedState!==null)&&(Dr=s)}function rb(s){if(s.tag===22){if(mt(Dn,Dn.current),mt(Cs,s),Dr===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Dr=s)}}else To()}function To(){mt(Dn,Dn.current),mt(Cs,Cs.current)}function Ra(s){yt(Cs),Dr===s&&(Dr=null),yt(Dn)}var Dn=ht(0);function Od(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Km(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function rm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var am={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=ss(),p=ot(u);p.payload=a,l!=null&&(p.callback=l),a=_t(s,p,u),a!==null&&(rs(a,s,u),wt(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=ss(),p=ot(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=_t(s,p,u),a!==null&&(rs(a,s,u),wt(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=ss(),u=ot(l);u.tag=2,a!=null&&(u.callback=a),a=_t(s,u,l),a!==null&&(rs(a,s,l),wt(a,s,l))}};function ab(s,a,l,u,p,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,S):a.prototype&&a.prototype.isPureReactComponent?!da(l,u)||!da(p,y):!0}function ob(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&am.enqueueReplaceState(a,a.state,null)}function Bl(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Dd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function lb(s){Dd(s)}function cb(s){console.error(s)}function ub(s){Dd(s)}function Md(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function hb(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function om(s,a,l){return l=ot(l),l.tag=3,l.payload={element:null},l.callback=function(){Md(s,a)},l}function fb(s){return s=ot(s),s.tag=3,s}function db(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){hb(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){hb(a,l,u),typeof p!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function Hx(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ll(a,l,p,!0),l=Cs.current,l!==null){switch(l.tag){case 13:return Dr===null?Dm():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===uh?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),km(s,u,p)),!1;case 22:return l.flags|=65536,u===uh?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),km(s,u,p)),!1}throw Error(i(435,l.tag))}return km(s,u,p),Dm(),!1}if(me)return a=Cs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==xr&&(s=Error(i(422),{cause:u}),Ji(mi(s,l)))):(u!==xr&&(a=Error(i(423),{cause:u}),Ji(mi(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=mi(u,l),p=om(s.stateNode,u,p),Rt(s,p),tn!==4&&(tn=2)),!1;var y=Error(i(520),{cause:u});if(y=mi(y,l),Dh===null?Dh=[y]:Dh.push(y),tn!==4&&(tn=2),a===null)return!0;u=mi(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=om(l.stateNode,u,s),Rt(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Co===null||!Co.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=fb(p),db(p,s,l,u),Rt(l,p),!1}l=l.return}while(l!==null);return!1}var gb=Error(i(461)),Vn=!1;function Yn(s,a,l,u){a.child=s===null?sb(a,null,l,u):Vc(a,s.child,l,u)}function pb(s,a,l,u,p){l=l.render;var y=a.ref;if("ref"in u){var S={};for(var C in u)C!=="ref"&&(S[C]=u[C])}else S=u;return Ea(a),u=Mi(s,a,l,S,y,p),C=In(),s!==null&&!Vn?(ri(s,a,p),Ca(s,a,p)):(me&&C&&th(a),a.flags|=1,Yn(s,a,u,p),a.child)}function mb(s,a,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!Zu(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,_b(s,a,y,u,p)):(s=xc(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!pm(s,p)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:da,l(S,u)&&s.ref===a.ref)return Ca(s,a,p)}return a.flags|=1,s=Xs(y,u),s.ref=a.ref,s.return=a,a.child=s}function _b(s,a,l,u,p){if(s!==null){var y=s.memoizedProps;if(da(y,u)&&s.ref===a.ref)if(Vn=!1,a.pendingProps=u=y,pm(s,p))(s.flags&131072)!==0&&(Vn=!0);else return a.lanes=s.lanes,Ca(s,a,p)}return lm(s,a,l,u,p)}function yb(s,a,l){var u=a.pendingProps,p=u.children,y=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,s!==null){for(p=a.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return vb(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rc(a,y!==null?y.cachePool:null),y!==null?Se(a,y):Zt(),rb(a);else return a.lanes=a.childLanes=536870912,vb(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Rc(a,y.cachePool),Se(a,y),To(),a.memoizedState=null):(s!==null&&Rc(a,null),Zt(),To());return Yn(s,a,p,l),a.child}function vb(s,a,l,u){var p=ch();return p=p===null?null:{parent:Je._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Rc(a,null),Zt(),rb(a),s!==null&&Ll(s,a,u,!0),null}function kd(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function lm(s,a,l,u,p){return Ea(a),l=Mi(s,a,l,u,void 0,p),u=In(),s!==null&&!Vn?(ri(s,a,p),Ca(s,a,p)):(me&&u&&th(a),a.flags|=1,Yn(s,a,l,p),a.child)}function bb(s,a,l,u,p,y){return Ea(a),a.updateQueue=null,l=un(a,u,l,p),xa(s),u=In(),s!==null&&!Vn?(ri(s,a,y),Ca(s,a,y)):(me&&u&&th(a),a.flags|=1,Yn(s,a,l,y),a.child)}function Eb(s,a,l,u,p){if(Ea(a),a.stateNode===null){var y=go,S=l.contextType;typeof S=="object"&&S!==null&&(y=Rn(S)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=am,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Y(a),S=l.contextType,y.context=typeof S=="object"&&S!==null?Rn(S):go,y.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(rm(a,l,S,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&am.enqueueReplaceState(y,y.state,null),Pt(a,u,y,p),Yt(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var C=a.memoizedProps,j=Bl(l,C);y.props=j;var X=y.context,at=l.contextType;S=go,typeof at=="object"&&at!==null&&(S=Rn(at));var ft=l.getDerivedStateFromProps;at=typeof ft=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,at||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||X!==S)&&ob(a,y,u,S),$=!1;var tt=a.memoizedState;y.state=tt,Pt(a,u,y,p),Yt(),X=a.memoizedState,C||tt!==X||$?(typeof ft=="function"&&(rm(a,l,ft,u),X=a.memoizedState),(j=$||ab(a,l,j,u,tt,X,S))?(at||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=X),y.props=u,y.state=X,y.context=S,u=j):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,st(s,a),S=a.memoizedProps,at=Bl(l,S),y.props=at,ft=a.pendingProps,tt=y.context,X=l.contextType,j=go,typeof X=="object"&&X!==null&&(j=Rn(X)),C=l.getDerivedStateFromProps,(X=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ft||tt!==j)&&ob(a,y,u,j),$=!1,tt=a.memoizedState,y.state=tt,Pt(a,u,y,p),Yt();var nt=a.memoizedState;S!==ft||tt!==nt||$||s!==null&&s.dependencies!==null&&Vl(s.dependencies)?(typeof C=="function"&&(rm(a,l,C,u),nt=a.memoizedState),(at=$||ab(a,l,at,u,tt,nt,j)||s!==null&&s.dependencies!==null&&Vl(s.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,nt,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,nt,j)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=nt),y.props=u,y.state=nt,y.context=j,u=at):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,kd(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=Vc(a,s.child,null,p),a.child=Vc(a,null,l,p)):Yn(s,a,l,p),a.memoizedState=y.state,s=a.child):s=Ca(s,a,p),s}function Tb(s,a,l,u){return Nl(),a.flags|=256,Yn(s,a,l,u),a.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(s){return{baseLanes:s,cachePool:yd()}}function hm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Is),s}function wb(s,a,l){var u=a.pendingProps,p=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(Dn.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(me){if(p?Eo(a):To(),me){var C=Ve,j;if(j=C){t:{for(j=C,C=xs;j.nodeType!==8;){if(!C){C=null;break t}if(j=sr(j.nextSibling),j===null){C=null;break t}}C=j}C!==null?(a.memoizedState={dehydrated:C,treeContext:ya!==null?{id:Js,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},j=yi(18,null,null,0),j.stateNode=C,j.return=a,a.child=j,vn=a,Ve=null,j=!0):j=!1}j||tr(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Km(C)?a.lanes=32:a.lanes=536870912,null;Ra(a)}return C=u.children,u=u.fallback,p?(To(),p=a.mode,C=Pd({mode:"hidden",children:C},p),u=Zs(u,p,l,null),C.return=a,u.return=a,C.sibling=u,a.child=C,p=a.child,p.memoizedState=um(l),p.childLanes=hm(s,S,l),a.memoizedState=cm,u):(Eo(a),fm(a,C))}if(j=s.memoizedState,j!==null&&(C=j.dehydrated,C!==null)){if(y)a.flags&256?(Eo(a),a.flags&=-257,a=dm(s,a,l)):a.memoizedState!==null?(To(),a.child=s.child,a.flags|=128,a=null):(To(),p=u.fallback,C=a.mode,u=Pd({mode:"visible",children:u.children},C),p=Zs(p,C,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,Vc(a,s.child,null,l),u=a.child,u.memoizedState=um(l),u.childLanes=hm(s,S,l),a.memoizedState=cm,a=p);else if(Eo(a),Km(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var X=S.dgst;S=X,u=Error(i(419)),u.stack="",u.digest=S,Ji({value:u,source:null,stack:null}),a=dm(s,a,l)}else if(Vn||Ll(s,a,l,!1),S=(l&s.childLanes)!==0,Vn||S){if(S=Ue,S!==null&&(u=l&-l,u=(u&42)!==0?1:dr(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,ni(s,u),rs(S,s,u),gb;C.data==="$?"||Dm(),a=dm(s,a,l)}else C.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,Ve=sr(C.nextSibling),vn=a,me=!0,Ar=null,xs=!1,s!==null&&(ii[Ci++]=Js,ii[Ci++]=Gn,ii[Ci++]=ya,Js=s.id,Gn=s.overflow,ya=a),a=fm(a,u.children),a.flags|=4096);return a}return p?(To(),p=u.fallback,C=a.mode,j=s.child,X=j.sibling,u=Xs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,X!==null?p=Xs(X,p):(p=Zs(p,C,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,C=s.child.memoizedState,C===null?C=um(l):(j=C.cachePool,j!==null?(X=Je._currentValue,j=j.parent!==X?{parent:X,pool:X}:j):j=yd(),C={baseLanes:C.baseLanes|l,cachePool:j}),p.memoizedState=C,p.childLanes=hm(s,S,l),a.memoizedState=cm,u):(Eo(a),l=s.child,s=l.sibling,l=Xs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function fm(s,a){return a=Pd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Pd(s,a){return s=yi(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function dm(s,a,l){return Vc(a,s.child,null,l),s=fm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Sb(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),sh(s.return,a,l)}function gm(s,a,l,u,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function Ab(s,a,l){var u=a.pendingProps,p=u.revealOrder,y=u.tail;if(Yn(s,a,u.children,l),u=Dn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Sb(s,l,a);else if(s.tag===19)Sb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(mt(Dn,u),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Od(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),gm(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Od(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}gm(a,!0,l,null,y);break;case"together":gm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ca(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ro|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ll(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Xs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Xs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function pm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Vl(s)))}function qx(s,a,l){switch(a.tag){case 3:bt(a,a.stateNode.containerInfo),Rr(a,Je,s.memoizedState.cache),Nl();break;case 27:case 5:Us(a);break;case 4:bt(a,a.stateNode.containerInfo);break;case 10:Rr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Eo(a),a.flags|=128,null):(l&a.child.childLanes)!==0?wb(s,a,l):(Eo(a),s=Ca(s,a,l),s!==null?s.sibling:null);Eo(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ll(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Ab(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Dn,Dn.current),u)break;return null;case 22:case 23:return a.lanes=0,yb(s,a,l);case 24:Rr(a,Je,s.memoizedState.cache)}return Ca(s,a,l)}function xb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Vn=!0;else{if(!pm(s,l)&&(a.flags&128)===0)return Vn=!1,qx(s,a,l);Vn=(s.flags&131072)!==0}else Vn=!1,me&&(a.flags&1048576)!==0&&dd(a,mo,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")Zu(u)?(s=Bl(u,s),a.tag=1,a=Eb(null,a,u,s,l)):(a.tag=0,a=lm(null,a,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===ct){a.tag=11,a=pb(null,a,u,s,l);break t}else if(p===V){a.tag=14,a=mb(null,a,u,s,l);break t}}throw a=ne(u)||u,Error(i(306,a,""))}}return a;case 0:return lm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=Bl(u,a.pendingProps),Eb(s,a,u,p,l);case 3:t:{if(bt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;p=y.element,st(s,a),Pt(a,u,null,l);var S=a.memoizedState;if(u=S.cache,Rr(a,Je,u),u!==y.cache&&rh(a,[Je],l,!0),Yt(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Tb(s,a,u,l);break t}else if(u!==p){p=mi(Error(i(424)),a),Ji(p),a=Tb(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ve=sr(s.firstChild),vn=a,me=!0,Ar=null,xs=!0,l=sb(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Nl(),u===p){a=Ca(s,a,l);break t}Yn(s,a,u,l)}a=a.child}return a;case 26:return kd(s,a),s===null?(l=O0(a.type,null,a.pendingProps,null))?a.memoizedState=l:me||(l=a.type,s=a.pendingProps,u=Kd(It.current).createElement(l),u[nn]=a,u[Xe]=s,Wn(u,l,s),ie(u),a.stateNode=u):a.memoizedState=O0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Us(a),s===null&&me&&(u=a.stateNode=R0(a.type,a.pendingProps,It.current),vn=a,xs=!0,p=Ve,Do(a.type)?(Wm=p,Ve=sr(u.firstChild)):Ve=p),Yn(s,a,a.pendingProps.children,l),kd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&me&&((p=u=Ve)&&(u=yR(u,a.type,a.pendingProps,xs),u!==null?(a.stateNode=u,vn=a,Ve=sr(u.firstChild),xs=!1,p=!0):p=!1),p||tr(a)),Us(a),p=a.type,y=a.pendingProps,S=s!==null?s.memoizedProps:null,u=y.children,$m(p,y)?u=null:S!==null&&$m(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=Mi(s,a,Ae,null,null,l),jh._currentValue=p),kd(s,a),Yn(s,a,u,l),a.child;case 6:return s===null&&me&&((s=l=Ve)&&(l=vR(l,a.pendingProps,xs),l!==null?(a.stateNode=l,vn=a,Ve=null,s=!0):s=!1),s||tr(a)),null;case 13:return wb(s,a,l);case 4:return bt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Vc(a,null,u,l):Yn(s,a,u,l),a.child;case 11:return pb(s,a,a.type,a.pendingProps,l);case 7:return Yn(s,a,a.pendingProps,l),a.child;case 8:return Yn(s,a,a.pendingProps.children,l),a.child;case 12:return Yn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Rr(a,a.type,u.value),Yn(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Ea(a),p=Rn(p),u=u(p),a.flags|=1,Yn(s,a,u,l),a.child;case 14:return mb(s,a,a.type,a.pendingProps,l);case 15:return _b(s,a,a.type,a.pendingProps,l);case 19:return Ab(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Pd(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Xs(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return yb(s,a,l);case 24:return Ea(a),u=Rn(Je),s===null?(p=ch(),p===null&&(p=Ue,y=Ul(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:u,cache:p},Y(a),Rr(a,Je,p)):((s.lanes&l)!==0&&(st(s,a),Pt(a,null,null,l),Yt()),p=s.memoizedState,y=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Rr(a,Je,u)):(u=y.cache,Rr(a,Je,u),u!==p.cache&&rh(a,[Je],l,!0))),Yn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ia(s){s.flags|=4}function Rb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!N0(a)){if(a=Cs.current,a!==null&&((ge&4194048)===ge?Dr!==null:(ge&62914560)!==ge&&(ge&536870912)===0||a!==Dr))throw m=uh,zl;s.flags|=8192}}function Nd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?_l():536870912,s.lanes|=a,Bc|=a)}function Ah(s,a){if(!me)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ge(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function $x(s,a,l){var u=a.pendingProps;switch(eh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(a),null;case 1:return Ge(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),nr(Je),hi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Pl(a)?Ia(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_o())),Ge(a),null;case 26:return l=a.memoizedState,s===null?(Ia(a),l!==null?(Ge(a),Rb(a,l)):(Ge(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Ia(a),Ge(a),Rb(a,l)):(Ge(a),a.flags&=-16777217):(s.memoizedProps!==u&&Ia(a),Ge(a),a.flags&=-16777217),null;case 27:zs(a),l=It.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Ia(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}s=St.current,Pl(a)?nh(a):(s=R0(p,u,l),a.stateNode=s,Ia(a))}return Ge(a),null;case 5:if(zs(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Ia(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}if(s=St.current,Pl(a))nh(a);else{switch(p=Kd(It.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[nn]=a,s[Xe]=u;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(Wn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ia(a)}}return Ge(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Ia(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=It.current,Pl(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[nn]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||b0(s.nodeValue,l)),s||tr(a)}else s=Kd(s).createTextNode(u),s[nn]=a,a.stateNode=s}return Ge(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Pl(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[nn]=a}else Nl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ge(a),p=!1}else p=_o(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Ra(a),a):(Ra(a),null)}if(Ra(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Nd(a,a.updateQueue),Ge(a),null;case 4:return hi(),s===null&&jm(a.stateNode.containerInfo),Ge(a),null;case 10:return nr(a.type),Ge(a),null;case 19:if(yt(Dn),p=a.memoizedState,p===null)return Ge(a),null;if(u=(a.flags&128)!==0,y=p.rendering,y===null)if(u)Ah(p,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Od(s),y!==null){for(a.flags|=128,Ah(p,!1),s=y.updateQueue,a.updateQueue=s,Nd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)fd(l,s),l=l.sibling;return mt(Dn,Dn.current&1|2),a.child}s=s.sibling}p.tail!==null&&Ei()>Ud&&(a.flags|=128,u=!0,Ah(p,!1),a.lanes=4194304)}else{if(!u)if(s=Od(y),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Nd(a,s),Ah(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!me)return Ge(a),null}else 2*Ei()-p.renderingStartTime>Ud&&l!==536870912&&(a.flags|=128,u=!0,Ah(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(s=p.last,s!==null?s.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Ei(),a.sibling=null,s=Dn.current,mt(Dn,u?s&1|2:s&1),a):(Ge(a),null);case 22:case 23:return Ra(a),he(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Ge(a),a.subtreeFlags&6&&(a.flags|=8192)):Ge(a),l=a.updateQueue,l!==null&&Nd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&yt(Sa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),nr(Je),Ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Gx(s,a){switch(eh(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return nr(Je),hi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return zs(a),null;case 13:if(Ra(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Nl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return yt(Dn),null;case 4:return hi(),null;case 10:return nr(a.type),null;case 22:case 23:return Ra(a),he(),s!==null&&yt(Sa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return nr(Je),null;case 25:return null;default:return null}}function Cb(s,a){switch(eh(a),a.tag){case 3:nr(Je),hi();break;case 26:case 27:case 5:zs(a);break;case 4:hi();break;case 13:Ra(a);break;case 19:yt(Dn);break;case 10:nr(a.type);break;case 22:case 23:Ra(a),he(),s!==null&&yt(Sa);break;case 24:nr(Je)}}function xh(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,S=l.inst;u=y(),S.destroy=u}l=l.next}while(l!==p)}}catch(C){Pe(a,a.return,C)}}function wo(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var S=u.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,p=a;var j=l,X=C;try{X()}catch(at){Pe(p,j,at)}}}u=u.next}while(u!==y)}}catch(at){Pe(a,a.return,at)}}function Ib(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Bt(a,l)}catch(u){Pe(s,s.return,u)}}}function Ob(s,a,l){l.props=Bl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Pe(s,a,u)}}function Rh(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){Pe(s,a,p)}}function Mr(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Pe(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Pe(s,a,p)}else l.current=null}function Db(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Pe(s,s.return,p)}}function mm(s,a,l){try{var u=s.stateNode;dR(u,s.type,l,a),u[Xe]=a}catch(p){Pe(s,s.return,p)}}function Mb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Do(s.type)||s.tag===4}function _m(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Mb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Do(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ym(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Yd));else if(u!==4&&(u===27&&Do(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(ym(s,a,l),s=s.sibling;s!==null;)ym(s,a,l),s=s.sibling}function Ld(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Do(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ld(s,a,l),s=s.sibling;s!==null;)Ld(s,a,l),s=s.sibling}function kb(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Wn(a,u,l),a[nn]=s,a[Xe]=l}catch(y){Pe(s,s.return,y)}}var Oa=!1,hn=!1,vm=!1,Pb=typeof WeakSet=="function"?WeakSet:Set,Un=null;function Yx(s,a){if(s=s.containerInfo,Hm=tg,s=Fu(s),Tc(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var S=0,C=-1,j=-1,X=0,at=0,ft=s,tt=null;e:for(;;){for(var nt;ft!==l||p!==0&&ft.nodeType!==3||(C=S+p),ft!==y||u!==0&&ft.nodeType!==3||(j=S+u),ft.nodeType===3&&(S+=ft.nodeValue.length),(nt=ft.firstChild)!==null;)tt=ft,ft=nt;for(;;){if(ft===s)break e;if(tt===l&&++X===p&&(C=S),tt===y&&++at===u&&(j=S),(nt=ft.nextSibling)!==null)break;ft=tt,tt=ft.parentNode}ft=nt}l=C===-1||j===-1?null:{start:C,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(qm={focusedElem:s,selectionRange:l},tg=!1,Un=a;Un!==null;)if(a=Un,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Un=s;else for(;Un!==null;){switch(a=Un,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Gt=Bl(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Gt,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ut){Pe(l,l.return,Ut)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Ym(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ym(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Un=s;break}Un=a.return}}function Nb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:So(s,l),u&4&&xh(5,l);break;case 1:if(So(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){Pe(l,l.return,S)}else{var p=Bl(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(l,l.return,S)}}u&64&&Ib(l),u&512&&Rh(l,l.return);break;case 3:if(So(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Bt(s,a)}catch(S){Pe(l,l.return,S)}}break;case 27:a===null&&u&4&&kb(l);case 26:case 5:So(s,l),a===null&&u&4&&Db(l),u&512&&Rh(l,l.return);break;case 12:So(s,l);break;case 13:So(s,l),u&4&&Ub(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=nR.bind(null,l),bR(s,l))));break;case 22:if(u=l.memoizedState!==null||Oa,!u){a=a!==null&&a.memoizedState!==null||hn,p=Oa;var y=hn;Oa=u,(hn=a)&&!y?Ao(s,l,(l.subtreeFlags&8772)!==0):So(s,l),Oa=p,hn=y}break;case 30:break;default:So(s,l)}}function Lb(s){var a=s.alternate;a!==null&&(s.alternate=null,Lb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&pr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var He=null,ki=!1;function Da(s,a,l){for(l=l.child;l!==null;)Vb(s,a,l),l=l.sibling}function Vb(s,a,l){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(je,l)}catch{}switch(l.tag){case 26:hn||Mr(l,a),Da(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:hn||Mr(l,a);var u=He,p=ki;Do(l.type)&&(He=l.stateNode,ki=!1),Da(s,a,l),Lh(l.stateNode),He=u,ki=p;break;case 5:hn||Mr(l,a);case 6:if(u=He,p=ki,He=null,Da(s,a,l),He=u,ki=p,He!==null)if(ki)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(y){Pe(l,a,y)}else try{He.removeChild(l.stateNode)}catch(y){Pe(l,a,y)}break;case 18:He!==null&&(ki?(s=He,A0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),qh(s)):A0(He,l.stateNode));break;case 4:u=He,p=ki,He=l.stateNode.containerInfo,ki=!0,Da(s,a,l),He=u,ki=p;break;case 0:case 11:case 14:case 15:hn||wo(2,l,a),hn||wo(4,l,a),Da(s,a,l);break;case 1:hn||(Mr(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ob(l,a,u)),Da(s,a,l);break;case 21:Da(s,a,l);break;case 22:hn=(u=hn)||l.memoizedState!==null,Da(s,a,l),hn=u;break;default:Da(s,a,l)}}function Ub(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qh(s)}catch(l){Pe(a,a.return,l)}}function Kx(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Pb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Pb),a;default:throw Error(i(435,s.tag))}}function bm(s,a){var l=Kx(s);a.forEach(function(u){var p=iR.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function es(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,S=a,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(Do(C.type)){He=C.stateNode,ki=!1;break t}break;case 5:He=C.stateNode,ki=!1;break t;case 3:case 4:He=C.stateNode.containerInfo,ki=!0;break t}C=C.return}if(He===null)throw Error(i(160));Vb(y,S,p),He=null,ki=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zb(a,s),a=a.sibling}var ir=null;function zb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:es(a,s),ns(s),u&4&&(wo(3,s,s.return),xh(3,s),wo(5,s,s.return));break;case 1:es(a,s),ns(s),u&512&&(hn||l===null||Mr(l,l.return)),u&64&&Oa&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=ir;if(es(a,s),ns(s),u&512&&(hn||l===null||Mr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[hs]||y[nn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Wn(y,u,l),y[nn]=s,ie(y),u=y;break t;case"link":var S=k0("link","href",p).get(u+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break e}}y=p.createElement(u),Wn(y,u,l),p.head.appendChild(y);break;case"meta":if(S=k0("meta","content",p).get(u+(l.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break e}}y=p.createElement(u),Wn(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[nn]=s,ie(y),u=y}s.stateNode=u}else P0(p,s.type,s.stateNode);else s.stateNode=M0(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?P0(p,s.type,s.stateNode):M0(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&mm(s,s.memoizedProps,l.memoizedProps)}break;case 27:es(a,s),ns(s),u&512&&(hn||l===null||Mr(l,l.return)),l!==null&&u&4&&mm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(es(a,s),ns(s),u&512&&(hn||l===null||Mr(l,l.return)),s.flags&32){p=s.stateNode;try{Sn(p,"")}catch(nt){Pe(s,s.return,nt)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,mm(s,p,l!==null?l.memoizedProps:p)),u&1024&&(vm=!0);break;case 6:if(es(a,s),ns(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(nt){Pe(s,s.return,nt)}}break;case 3:if(Xd=null,p=ir,ir=Wd(a.containerInfo),es(a,s),ir=p,ns(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{qh(a.containerInfo)}catch(nt){Pe(s,s.return,nt)}vm&&(vm=!1,jb(s));break;case 4:u=ir,ir=Wd(s.stateNode.containerInfo),es(a,s),ns(s),ir=u;break;case 12:es(a,s),ns(s);break;case 13:es(a,s),ns(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xm=Ei()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,bm(s,u)));break;case 22:p=s.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,X=Oa,at=hn;if(Oa=X||p,hn=at||j,es(a,s),hn=at,Oa=X,ns(s),u&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||j||Oa||hn||Fl(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){j=l=a;try{if(y=j.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=j.stateNode;var ft=j.memoizedProps.style,tt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;C.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(nt){Pe(j,j.return,nt)}}}else if(a.tag===6){if(l===null){j=a;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(nt){Pe(j,j.return,nt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,bm(s,l))));break;case 19:es(a,s),ns(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,bm(s,u)));break;case 30:break;case 21:break;default:es(a,s),ns(s)}}function ns(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Mb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=_m(s);Ld(s,y,p);break;case 5:var S=l.stateNode;l.flags&32&&(Sn(S,""),l.flags&=-33);var C=_m(s);Ld(s,C,S);break;case 3:case 4:var j=l.stateNode.containerInfo,X=_m(s);ym(s,X,j);break;default:throw Error(i(161))}}catch(at){Pe(s,s.return,at)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function jb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;jb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function So(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Nb(s,a.alternate,a),a=a.sibling}function Fl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:wo(4,a,a.return),Fl(a);break;case 1:Mr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Ob(a,a.return,l),Fl(a);break;case 27:Lh(a.stateNode);case 26:case 5:Mr(a,a.return),Fl(a);break;case 22:a.memoizedState===null&&Fl(a);break;case 30:Fl(a);break;default:Fl(a)}s=s.sibling}}function Ao(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ao(p,y,l),xh(4,y);break;case 1:if(Ao(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Pe(u,u.return,X)}if(u=y,p=u.updateQueue,p!==null){var C=u.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)Kt(j[p],C)}catch(X){Pe(u,u.return,X)}}l&&S&64&&Ib(y),Rh(y,y.return);break;case 27:kb(y);case 26:case 5:Ao(p,y,l),l&&u===null&&S&4&&Db(y),Rh(y,y.return);break;case 12:Ao(p,y,l);break;case 13:Ao(p,y,l),l&&S&4&&Ub(p,y);break;case 22:y.memoizedState===null&&Ao(p,y,l),Rh(y,y.return);break;case 30:break;default:Ao(p,y,l)}a=a.sibling}}function Em(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&vo(l))}function Tm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&vo(s))}function kr(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bb(s,a,l,u),a=a.sibling}function Bb(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:kr(s,a,l,u),p&2048&&xh(9,a);break;case 1:kr(s,a,l,u);break;case 3:kr(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&vo(s)));break;case 12:if(p&2048){kr(s,a,l,u),s=a.stateNode;try{var y=a.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){Pe(a,a.return,j)}}else kr(s,a,l,u);break;case 13:kr(s,a,l,u);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?kr(s,a,l,u):Ch(s,a):y._visibility&2?kr(s,a,l,u):(y._visibility|=2,Uc(s,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&Em(S,a);break;case 24:kr(s,a,l,u),p&2048&&Tm(a.alternate,a);break;default:kr(s,a,l,u)}}function Uc(s,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,S=a,C=l,j=u,X=S.flags;switch(S.tag){case 0:case 11:case 15:Uc(y,S,C,j,p),xh(8,S);break;case 23:break;case 22:var at=S.stateNode;S.memoizedState!==null?at._visibility&2?Uc(y,S,C,j,p):Ch(y,S):(at._visibility|=2,Uc(y,S,C,j,p)),p&&X&2048&&Em(S.alternate,S);break;case 24:Uc(y,S,C,j,p),p&&X&2048&&Tm(S.alternate,S);break;default:Uc(y,S,C,j,p)}a=a.sibling}}function Ch(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:Ch(l,u),p&2048&&Em(u.alternate,u);break;case 24:Ch(l,u),p&2048&&Tm(u.alternate,u);break;default:Ch(l,u)}a=a.sibling}}var Ih=8192;function zc(s){if(s.subtreeFlags&Ih)for(s=s.child;s!==null;)Fb(s),s=s.sibling}function Fb(s){switch(s.tag){case 26:zc(s),s.flags&Ih&&s.memoizedState!==null&&kR(ir,s.memoizedState,s.memoizedProps);break;case 5:zc(s);break;case 3:case 4:var a=ir;ir=Wd(s.stateNode.containerInfo),zc(s),ir=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ih,Ih=16777216,zc(s),Ih=a):zc(s));break;default:zc(s)}}function Hb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Oh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Un=u,$b(u,s)}Hb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qb(s),s=s.sibling}function qb(s){switch(s.tag){case 0:case 11:case 15:Oh(s),s.flags&2048&&wo(9,s,s.return);break;case 3:Oh(s);break;case 12:Oh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Vd(s)):Oh(s);break;default:Oh(s)}}function Vd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Un=u,$b(u,s)}Hb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:wo(8,a,a.return),Vd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Vd(a));break;default:Vd(a)}s=s.sibling}}function $b(s,a){for(;Un!==null;){var l=Un;switch(l.tag){case 0:case 11:case 15:wo(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vo(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Un=u;else t:for(l=s;Un!==null;){u=Un;var p=u.sibling,y=u.return;if(Lb(u),u===l){Un=null;break t}if(p!==null){p.return=y,Un=p;break t}Un=y}}}var Wx={getCacheForType:function(s){var a=Rn(Je),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Qx=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ue=null,se=null,ge=0,Re=0,is=null,xo=!1,jc=!1,wm=!1,Ma=0,tn=0,Ro=0,Hl=0,Sm=0,Is=0,Bc=0,Dh=null,Pi=null,Am=!1,xm=0,Ud=1/0,zd=null,Co=null,Kn=0,Io=null,Fc=null,Hc=0,Rm=0,Cm=null,Gb=null,Mh=0,Im=null;function ss(){if((xe&2)!==0&&ge!==0)return ge&-ge;if(et.T!==null){var s=Ii;return s!==0?s:Lm()}return gr()}function Yb(){Is===0&&(Is=(ge&536870912)===0||me?ml():536870912);var s=Cs.current;return s!==null&&(s.flags|=32),Is}function rs(s,a,l){(s===Ue&&(Re===2||Re===9)||s.cancelPendingCommit!==null)&&(qc(s,0),Oo(s,ge,Is,!1)),Ti(s,l),((xe&2)===0||s!==Ue)&&(s===Ue&&((xe&2)===0&&(Hl|=l),tn===4&&Oo(s,ge,Is,!1)),Pr(s))}function Kb(s,a,l){if((xe&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Zr(s,a),p=u?Jx(s,a):Mm(s,a,!0),y=u;do{if(p===0){jc&&!u&&Oo(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!Xx(l)){p=Mm(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var C=s;p=Dh;var j=C.current.memoizedState.isDehydrated;if(j&&(qc(C,S).flags|=256),S=Mm(C,S,!1),S!==2){if(wm&&!j){C.errorRecoveryDisabledLanes|=y,Hl|=y,p=4;break t}y=Pi,Pi=p,y!==null&&(Pi===null?Pi=y:Pi.push.apply(Pi,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){qc(s,0),Oo(s,a,0,!0);break}t:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Oo(u,a,Is,!xo);break t;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=xm+300-Ei(),10<p)){if(Oo(u,a,Is,!xo),Xa(u,0,!0)!==0)break t;u.timeoutHandle=w0(Wb.bind(null,u,l,Pi,zd,Am,a,Is,Hl,Bc,xo,y,2,-0,0),p);break t}Wb(u,l,Pi,zd,Am,a,Is,Hl,Bc,xo,y,0,-0,0)}}break}while(!0);Pr(s)}function Wb(s,a,l,u,p,y,S,C,j,X,at,ft,tt,nt){if(s.timeoutHandle=-1,ft=a.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(zh={stylesheets:null,count:0,unsuspend:MR},Fb(a),ft=PR(),ft!==null)){s.cancelPendingCommit=ft(n0.bind(null,s,a,y,l,u,p,S,C,j,at,1,tt,nt)),Oo(s,y,S,!X);return}n0(s,a,y,l,u,p,S,C,j)}function Xx(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!ei(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Oo(s,a,l,u){a&=~Sm,a&=~Hl,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var y=31-Qe(p),S=1<<y;u[y]=-1,p&=~S}l!==0&&qi(s,l,a)}function jd(){return(xe&6)===0?(kh(0),!1):!0}function Om(){if(se!==null){if(Re===0)var s=se.return;else s=se,er=ba=null,Rs(s),Lc=null,wh=0,s=se;for(;s!==null;)Cb(s.alternate,s),s=s.return;se=null}}function qc(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,pR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Om(),Ue=s,se=l=Xs(s.current,null),ge=a,Re=0,is=null,xo=!1,jc=Zr(s,a),wm=!1,Bc=Is=Sm=Hl=Ro=tn=0,Pi=Dh=null,Am=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-Qe(u),y=1<<p;a|=s[p],u&=~y}return Ma=a,wc(),l}function Qb(s,a){Tt=null,et.H=Rd,a===bo||a===Aa?(a=T(),Re=3):a===zl?(a=T(),Re=4):Re=a===gb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,is=a,se===null&&(tn=1,Md(s,mi(a,s.current)))}function Xb(){var s=et.H;return et.H=Rd,s===null?Rd:s}function Zb(){var s=et.A;return et.A=Wx,s}function Dm(){tn=4,xo||(ge&4194048)!==ge&&Cs.current!==null||(jc=!0),(Ro&134217727)===0&&(Hl&134217727)===0||Ue===null||Oo(Ue,ge,Is,!1)}function Mm(s,a,l){var u=xe;xe|=2;var p=Xb(),y=Zb();(Ue!==s||ge!==a)&&(zd=null,qc(s,a)),a=!1;var S=tn;t:do try{if(Re!==0&&se!==null){var C=se,j=is;switch(Re){case 8:Om(),S=6;break t;case 3:case 2:case 9:case 6:Cs.current===null&&(a=!0);var X=Re;if(Re=0,is=null,$c(s,C,j,X),l&&jc){S=0;break t}break;default:X=Re,Re=0,is=null,$c(s,C,j,X)}}Zx(),S=tn;break}catch(at){Qb(s,at)}while(!0);return a&&s.shellSuspendCounter++,er=ba=null,xe=u,et.H=p,et.A=y,se===null&&(Ue=null,ge=0,wc()),S}function Zx(){for(;se!==null;)Jb(se)}function Jx(s,a){var l=xe;xe|=2;var u=Xb(),p=Zb();Ue!==s||ge!==a?(zd=null,Ud=Ei()+500,qc(s,a)):jc=Zr(s,a);t:do try{if(Re!==0&&se!==null){a=se;var y=is;e:switch(Re){case 1:Re=0,is=null,$c(s,a,y,1);break;case 2:case 9:if(vd(y)){Re=0,is=null,t0(a);break}a=function(){Re!==2&&Re!==9||Ue!==s||(Re=7),Pr(s)},y.then(a,a);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:vd(y)?(Re=0,is=null,t0(a)):(Re=0,is=null,$c(s,a,y,7));break;case 5:var S=null;switch(se.tag){case 26:S=se.memoizedState;case 5:case 27:var C=se;if(!S||N0(S)){Re=0,is=null;var j=C.sibling;if(j!==null)se=j;else{var X=C.return;X!==null?(se=X,Bd(X)):se=null}break e}}Re=0,is=null,$c(s,a,y,5);break;case 6:Re=0,is=null,$c(s,a,y,6);break;case 8:Om(),tn=6;break t;default:throw Error(i(462))}}tR();break}catch(at){Qb(s,at)}while(!0);return er=ba=null,et.H=u,et.A=p,xe=l,se!==null?0:(Ue=null,ge=0,wc(),tn)}function tR(){for(;se!==null&&!js();)Jb(se)}function Jb(s){var a=xb(s.alternate,s,Ma);s.memoizedProps=s.pendingProps,a===null?Bd(s):se=a}function t0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=bb(l,a,a.pendingProps,a.type,void 0,ge);break;case 11:a=bb(l,a,a.pendingProps,a.type.render,a.ref,ge);break;case 5:Rs(a);default:Cb(l,a),a=se=fd(a,Ma),a=xb(l,a,Ma)}s.memoizedProps=s.pendingProps,a===null?Bd(s):se=a}function $c(s,a,l,u){er=ba=null,Rs(a),Lc=null,wh=0;var p=a.return;try{if(Hx(s,p,a,l,ge)){tn=1,Md(s,mi(l,s.current)),se=null;return}}catch(y){if(p!==null)throw se=p,y;tn=1,Md(s,mi(l,s.current)),se=null;return}a.flags&32768?(me||u===1?s=!0:jc||(ge&536870912)!==0?s=!1:(xo=s=!0,(u===2||u===9||u===3||u===6)&&(u=Cs.current,u!==null&&u.tag===13&&(u.flags|=16384))),e0(a,s)):Bd(a)}function Bd(s){var a=s;do{if((a.flags&32768)!==0){e0(a,xo);return}s=a.return;var l=$x(a.alternate,a,Ma);if(l!==null){se=l;return}if(a=a.sibling,a!==null){se=a;return}se=a=s}while(a!==null);tn===0&&(tn=5)}function e0(s,a){do{var l=Gx(s.alternate,s);if(l!==null){l.flags&=32767,se=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){se=s;return}se=s=l}while(s!==null);tn=6,se=null}function n0(s,a,l,u,p,y,S,C,j){s.cancelPendingCommit=null;do Fd();while(Kn!==0);if((xe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Wu,Za(s,l,y,S,C,j),s===Ue&&(se=Ue=null,ge=0),Fc=a,Io=s,Hc=l,Rm=y,Cm=p,Gb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,sR(Qr,function(){return o0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=et.T,et.T=null,p=gt.p,gt.p=2,S=xe,xe|=4;try{Yx(s,a,l)}finally{xe=S,gt.p=p,et.T=u}}Kn=1,i0(),s0(),r0()}}function i0(){if(Kn===1){Kn=0;var s=Io,a=Fc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=et.T,et.T=null;var u=gt.p;gt.p=2;var p=xe;xe|=4;try{zb(a,s);var y=qm,S=Fu(s.containerInfo),C=y.focusedElem,j=y.selectionRange;if(S!==C&&C&&C.ownerDocument&&ad(C.ownerDocument.documentElement,C)){if(j!==null&&Tc(C)){var X=j.start,at=j.end;if(at===void 0&&(at=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(at,C.value.length);else{var ft=C.ownerDocument||document,tt=ft&&ft.defaultView||window;if(tt.getSelection){var nt=tt.getSelection(),Gt=C.textContent.length,Ut=Math.min(j.start,Gt),Me=j.end===void 0?Ut:Math.min(j.end,Gt);!nt.extend&&Ut>Me&&(S=Me,Me=Ut,Ut=S);var K=rd(C,Ut),H=rd(C,Me);if(K&&H&&(nt.rangeCount!==1||nt.anchorNode!==K.node||nt.anchorOffset!==K.offset||nt.focusNode!==H.node||nt.focusOffset!==H.offset)){var Q=ft.createRange();Q.setStart(K.node,K.offset),nt.removeAllRanges(),Ut>Me?(nt.addRange(Q),nt.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),nt.addRange(Q))}}}}for(ft=[],nt=C;nt=nt.parentNode;)nt.nodeType===1&&ft.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ft.length;C++){var lt=ft[C];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}tg=!!Hm,qm=Hm=null}finally{xe=p,gt.p=u,et.T=l}}s.current=a,Kn=2}}function s0(){if(Kn===2){Kn=0;var s=Io,a=Fc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=et.T,et.T=null;var u=gt.p;gt.p=2;var p=xe;xe|=4;try{Nb(s,a.alternate,a)}finally{xe=p,gt.p=u,et.T=l}}Kn=3}}function r0(){if(Kn===4||Kn===3){Kn=0,Bs();var s=Io,a=Fc,l=Hc,u=Gb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Kn=5:(Kn=0,Fc=Io=null,a0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Co=null),Ja(l),a=a.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(je,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=et.T,p=gt.p,gt.p=2,et.T=null;try{for(var y=s.onRecoverableError,S=0;S<u.length;S++){var C=u[S];y(C.value,{componentStack:C.stack})}}finally{et.T=a,gt.p=p}}(Hc&3)!==0&&Fd(),Pr(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Im?Mh++:(Mh=0,Im=s):Mh=0,kh(0)}}function a0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,vo(a)))}function Fd(s){return i0(),s0(),r0(),o0()}function o0(){if(Kn!==5)return!1;var s=Io,a=Rm;Rm=0;var l=Ja(Hc),u=et.T,p=gt.p;try{gt.p=32>l?32:l,et.T=null,l=Cm,Cm=null;var y=Io,S=Hc;if(Kn=0,Fc=Io=null,Hc=0,(xe&6)!==0)throw Error(i(331));var C=xe;if(xe|=4,qb(y.current),Bb(y,y.current,S,l),xe=C,kh(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(je,y)}catch{}return!0}finally{gt.p=p,et.T=u,a0(s,a)}}function l0(s,a,l){a=mi(l,a),a=om(s.stateNode,a,2),s=_t(s,a,2),s!==null&&(Ti(s,2),Pr(s))}function Pe(s,a,l){if(s.tag===3)l0(s,s,l);else for(;a!==null;){if(a.tag===3){l0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Co===null||!Co.has(u))){s=mi(l,s),l=fb(2),u=_t(a,l,2),u!==null&&(db(l,u,a,s),Ti(u,2),Pr(u));break}}a=a.return}}function km(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new Qx;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(wm=!0,p.add(l),s=eR.bind(null,s,a,l),a.then(s,s))}function eR(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ue===s&&(ge&l)===l&&(tn===4||tn===3&&(ge&62914560)===ge&&300>Ei()-xm?(xe&2)===0&&qc(s,0):Sm|=l,Bc===ge&&(Bc=0)),Pr(s)}function c0(s,a){a===0&&(a=_l()),s=ni(s,a),s!==null&&(Ti(s,a),Pr(s))}function nR(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),c0(s,l)}function iR(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),c0(s,l)}function sR(s,a){return Bi(s,a)}var Hd=null,Gc=null,Pm=!1,qd=!1,Nm=!1,ql=0;function Pr(s){s!==Gc&&s.next===null&&(Gc===null?Hd=Gc=s:Gc=Gc.next=s),qd=!0,Pm||(Pm=!0,aR())}function kh(s,a){if(!Nm&&qd){Nm=!0;do for(var l=!1,u=Hd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var S=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-Qe(42|s)+1)-1,y&=p&~(S&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,d0(u,y))}else y=ge,y=Xa(u,u===Ue?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Zr(u,y)||(l=!0,d0(u,y));u=u.next}while(l);Nm=!1}}function rR(){u0()}function u0(){qd=Pm=!1;var s=0;ql!==0&&(gR()&&(s=ql),ql=0);for(var a=Ei(),l=null,u=Hd;u!==null;){var p=u.next,y=h0(u,a);y===0?(u.next=null,l===null?Hd=p:l.next=p,p===null&&(Gc=l)):(l=u,(s!==0||(y&3)!==0)&&(qd=!0)),u=p}kh(s)}function h0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-Qe(y),C=1<<S,j=p[S];j===-1?((C&l)===0||(C&u)!==0)&&(p[S]=pl(C,a)):j<=a&&(s.expiredLanes|=C),y&=~C}if(a=Ue,l=ge,l=Xa(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Re===2||Re===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ur(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Zr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&ur(u),Ja(l)){case 2:case 8:l=Wa;break;case 32:l=Qr;break;case 268435456:l=Qa;break;default:l=Qr}return u=f0.bind(null,s),l=Bi(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&ur(u),s.callbackPriority=2,s.callbackNode=null,2}function f0(s,a){if(Kn!==0&&Kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Fd()&&s.callbackNode!==l)return null;var u=ge;return u=Xa(s,s===Ue?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Kb(s,u,a),h0(s,Ei()),s.callbackNode!=null&&s.callbackNode===l?f0.bind(null,s):null)}function d0(s,a){if(Fd())return null;Kb(s,a,!0)}function aR(){mR(function(){(xe&6)!==0?Bi(gl,rR):u0()})}function Lm(){return ql===0&&(ql=ml()),ql}function g0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:so(""+s)}function p0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function oR(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var y=g0((p[Xe]||null).action),S=u.submitter;S&&(a=(a=S[Xe]||null)?g0(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var C=new _r("action","action",null,u,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ql!==0){var j=S?p0(p,S):new FormData(p);nm(l,{pending:!0,data:j,method:p.method,action:y},null,j)}}else typeof y=="function"&&(C.preventDefault(),j=S?p0(p,S):new FormData(p),nm(l,{pending:!0,data:j,method:p.method,action:y},y,j))},currentTarget:p}]})}}for(var Vm=0;Vm<Ku.length;Vm++){var Um=Ku[Vm],lR=Um.toLowerCase(),cR=Um[0].toUpperCase()+Um.slice(1);Zi(lR,"on"+cR)}Zi(wr,"onAnimationEnd"),Zi(As,"onAnimationIteration"),Zi($u,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(Qp,"onTransitionRun"),Zi(cd,"onTransitionStart"),Zi(ud,"onTransitionCancel"),Zi(Gu,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ph));function m0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;t:{var y=void 0;if(a)for(var S=u.length-1;0<=S;S--){var C=u[S],j=C.instance,X=C.currentTarget;if(C=C.listener,j!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=X;try{y(p)}catch(at){Dd(at)}p.currentTarget=null,y=j}else for(S=0;S<u.length;S++){if(C=u[S],j=C.instance,X=C.currentTarget,C=C.listener,j!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=X;try{y(p)}catch(at){Dd(at)}p.currentTarget=null,y=j}}}}function re(s,a){var l=a[vl];l===void 0&&(l=a[vl]=new Set);var u=s+"__bubble";l.has(u)||(_0(a,s,2,!1),l.add(u))}function zm(s,a,l){var u=0;a&&(u|=4),_0(l,s,u,a)}var $d="_reactListening"+Math.random().toString(36).slice(2);function jm(s){if(!s[$d]){s[$d]=!0,wn.forEach(function(l){l!=="selectionchange"&&(uR.has(l)||zm(l,!1,s),zm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$d]||(a[$d]=!0,zm("selectionchange",!1,a))}}function _0(s,a,l,u){switch(B0(a)){case 2:var p=VR;break;case 8:p=UR;break;default:p=t_}l=p.bind(null,a,l,s),p=void 0,!An||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Bm(s,a,l,u,p){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var C=u.stateNode.containerInfo;if(C===p)break;if(S===4)for(S=u.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;C!==null;){if(S=$i(C),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){u=y=S;continue t}C=C.parentNode}}u=u.return}Tl(function(){var X=y,at=qn(l),ft=[];t:{var tt=Yu.get(s);if(tt!==void 0){var nt=_r,Gt=s;switch(s){case"keypress":if(Ts(l)===0)break t;case"keydown":case"keyup":nt=fa;break;case"focusin":Gt="focus",nt=oa;break;case"focusout":Gt="blur",nt=oa;break;case"beforeblur":case"afterblur":nt=oa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=_c;break;case wr:case As:case $u:nt=la;break;case Gu:nt=yc;break;case"scroll":case"scrollend":nt=Sl;break;case"wheel":nt=lo;break;case"copy":case"cut":case"paste":nt=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Wi;break;case"toggle":case"beforetoggle":nt=Ol}var Ut=(a&4)!==0,Me=!Ut&&(s==="scroll"||s==="scrollend"),K=Ut?tt!==null?tt+"Capture":null:tt;Ut=[];for(var H=X,Q;H!==null;){var lt=H;if(Q=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Q===null||K===null||(lt=mr(H,K),lt!=null&&Ut.push(Nh(H,lt,Q))),Me)break;H=H.return}0<Ut.length&&(tt=new nt(tt,Gt,null,l,at),ft.push({event:tt,listeners:Ut}))}}if((a&7)===0){t:{if(tt=s==="mouseover"||s==="pointerover",nt=s==="mouseout"||s==="pointerout",tt&&l!==Ln&&(Gt=l.relatedTarget||l.fromElement)&&($i(Gt)||Gt[wi]))break t;if((nt||tt)&&(tt=at.window===at?at:(tt=at.ownerDocument)?tt.defaultView||tt.parentWindow:window,nt?(Gt=l.relatedTarget||l.toElement,nt=X,Gt=Gt?$i(Gt):null,Gt!==null&&(Me=o(Gt),Ut=Gt.tag,Gt!==Me||Ut!==5&&Ut!==27&&Ut!==6)&&(Gt=null)):(nt=null,Gt=X),nt!==Gt)){if(Ut=xn,lt="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ut=Wi,lt="onPointerLeave",K="onPointerEnter",H="pointer"),Me=nt==null?tt:ds(nt),Q=Gt==null?tt:ds(Gt),tt=new Ut(lt,H+"leave",nt,l,at),tt.target=Me,tt.relatedTarget=Q,lt=null,$i(at)===X&&(Ut=new Ut(K,H+"enter",Gt,l,at),Ut.target=Q,Ut.relatedTarget=Me,lt=Ut),Me=lt,nt&&Gt)e:{for(Ut=nt,K=Gt,H=0,Q=Ut;Q;Q=Yc(Q))H++;for(Q=0,lt=K;lt;lt=Yc(lt))Q++;for(;0<H-Q;)Ut=Yc(Ut),H--;for(;0<Q-H;)K=Yc(K),Q--;for(;H--;){if(Ut===K||K!==null&&Ut===K.alternate)break e;Ut=Yc(Ut),K=Yc(K)}Ut=null}else Ut=null;nt!==null&&y0(ft,tt,nt,Ut,!1),Gt!==null&&Me!==null&&y0(ft,Me,Gt,Ut,!0)}}t:{if(tt=X?ds(X):window,nt=tt.nodeName&&tt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&tt.type==="file")var Ot=Jf;else if(an(tt))if(zu)Ot=sd;else{Ot=nd;var ee=Kp}else nt=tt.nodeName,!nt||nt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?X&&ia(X.elementType)&&(Ot=Jf):Ot=id;if(Ot&&(Ot=Ot(s,X))){on(ft,Ot,l,at);break t}ee&&ee(s,tt,X),s==="focusout"&&X&&tt.type==="number"&&X.memoizedProps.value!=null&&_s(tt,"number",tt.value)}switch(ee=X?ds(X):window,s){case"focusin":(an(ee)||ee.contentEditable==="true")&&(ho=ee,Hu=X,Ml=null);break;case"focusout":Ml=Hu=ho=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,od(ft,l,at);break;case"selectionchange":if(Wp)break;case"keydown":case"keyup":od(ft,l,at)}var kt;if(Ss)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else oe?it(s,l)&&(jt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(w&&l.locale!=="ko"&&(oe||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&oe&&(kt=aa()):(Yi=at,Es="value"in Yi?Yi.value:Yi.textContent,oe=!0)),ee=Gd(X,jt),0<ee.length&&(jt=new Al(jt,s,null,l,at),ft.push({event:jt,listeners:ee}),kt?jt.data=kt:(kt=vt(l),kt!==null&&(jt.data=kt)))),(kt=v?rn(s,l):le(s,l))&&(jt=Gd(X,"onBeforeInput"),0<jt.length&&(ee=new Al("onBeforeInput","beforeinput",null,l,at),ft.push({event:ee,listeners:jt}),ee.data=kt)),oR(ft,s,X,l,at)}m0(ft,a)})}function Nh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Gd(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=mr(s,l),p!=null&&u.unshift(Nh(s,p,y)),p=mr(s,a),p!=null&&u.push(Nh(s,p,y))),s.tag===3)return u;s=s.return}return[]}function Yc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function y0(s,a,l,u,p){for(var y=a._reactName,S=[];l!==null&&l!==u;){var C=l,j=C.alternate,X=C.stateNode;if(C=C.tag,j!==null&&j===u)break;C!==5&&C!==26&&C!==27||X===null||(j=X,p?(X=mr(l,y),X!=null&&S.unshift(Nh(l,X,j))):p||(X=mr(l,y),X!=null&&S.push(Nh(l,X,j)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var hR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function v0(s){return(typeof s=="string"?s:""+s).replace(hR,`
`).replace(fR,"")}function b0(s,a){return a=v0(a),v0(s)===a}function Yd(){}function De(s,a,l,u,p,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Sn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":vs(s,u,y);break;case"data":if(a!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=so(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&De(s,a,"name",p.name,p,null),De(s,a,"formEncType",p.formEncType,p,null),De(s,a,"formMethod",p.formMethod,p,null),De(s,a,"formTarget",p.formTarget,p,null)):(De(s,a,"encType",p.encType,p,null),De(s,a,"method",p.method,p,null),De(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=so(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Yd);break;case"onScroll":u!=null&&re("scroll",s);break;case"onScrollEnd":u!=null&&re("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=so(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":re("beforetoggle",s),re("toggle",s),ps(s,"popover",u);break;case"xlinkActuate":pn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ps(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gc.get(l)||l,ps(s,l,u))}}function Fm(s,a,l,u,p,y){switch(l){case"style":vs(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&re("scroll",s);break;case"onScrollEnd":u!=null&&re("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Yd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gn.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=s[Xe]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ps(s,l,u)}}}function Wn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",s),re("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(s,a,y,S,l,null)}}p&&De(s,a,"srcSet",l.srcSet,l,null),u&&De(s,a,"src",l.src,l,null);return;case"input":re("invalid",s);var C=y=S=p=null,j=null,X=null;for(u in l)if(l.hasOwnProperty(u)){var at=l[u];if(at!=null)switch(u){case"name":p=at;break;case"type":S=at;break;case"checked":j=at;break;case"defaultChecked":X=at;break;case"value":y=at;break;case"defaultValue":C=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,a));break;default:De(s,a,u,at,l,null)}}Ks(s,y,C,j,X,S,p,!1),na(s);return;case"select":re("invalid",s),u=S=y=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":u=C;default:De(s,a,p,C,l,null)}a=y,l=S,s.multiple=!!u,a!=null?mn(s,!!u,a,!1):l!=null&&mn(s,!!u,l,!0);return;case"textarea":re("invalid",s),y=p=u=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":u=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:De(s,a,S,C,l,null)}ys(s,u,p,y),na(s);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:De(s,a,j,u,l,null)}return;case"dialog":re("beforetoggle",s),re("toggle",s),re("cancel",s),re("close",s);break;case"iframe":case"object":re("load",s);break;case"video":case"audio":for(u=0;u<Ph.length;u++)re(Ph[u],s);break;case"image":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"embed":case"source":case"link":re("error",s),re("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(u=l[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(s,a,X,u,l,null)}return;default:if(ia(a)){for(at in l)l.hasOwnProperty(at)&&(u=l[at],u!==void 0&&Fm(s,a,at,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&De(s,a,C,u,l,null))}function dR(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,C=null,j=null,X=null,at=null;for(nt in l){var ft=l[nt];if(l.hasOwnProperty(nt)&&ft!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":j=ft;default:u.hasOwnProperty(nt)||De(s,a,nt,null,u,ft)}}for(var tt in u){var nt=u[tt];if(ft=l[tt],u.hasOwnProperty(tt)&&(nt!=null||ft!=null))switch(tt){case"type":y=nt;break;case"name":p=nt;break;case"checked":X=nt;break;case"defaultChecked":at=nt;break;case"value":S=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:nt!==ft&&De(s,a,tt,nt,u,ft)}}Le(s,S,C,j,X,at,y,p);return;case"select":nt=S=C=tt=null;for(y in l)if(j=l[y],l.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":nt=j;default:u.hasOwnProperty(y)||De(s,a,y,null,u,j)}for(p in u)if(y=u[p],j=l[p],u.hasOwnProperty(p)&&(y!=null||j!=null))switch(p){case"value":tt=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==j&&De(s,a,p,y,u,j)}a=C,l=S,u=nt,tt!=null?mn(s,!!l,tt,!1):!!u!=!!l&&(a!=null?mn(s,!!l,a,!0):mn(s,!!l,l?[]:"",!1));return;case"textarea":nt=tt=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:De(s,a,C,null,u,p)}for(S in u)if(p=u[S],y=l[S],u.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":tt=p;break;case"defaultValue":nt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&De(s,a,S,p,u,y)}ae(s,tt,nt);return;case"option":for(var Gt in l)if(tt=l[Gt],l.hasOwnProperty(Gt)&&tt!=null&&!u.hasOwnProperty(Gt))switch(Gt){case"selected":s.selected=!1;break;default:De(s,a,Gt,null,u,tt)}for(j in u)if(tt=u[j],nt=l[j],u.hasOwnProperty(j)&&tt!==nt&&(tt!=null||nt!=null))switch(j){case"selected":s.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:De(s,a,j,tt,u,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in l)tt=l[Ut],l.hasOwnProperty(Ut)&&tt!=null&&!u.hasOwnProperty(Ut)&&De(s,a,Ut,null,u,tt);for(X in u)if(tt=u[X],nt=l[X],u.hasOwnProperty(X)&&tt!==nt&&(tt!=null||nt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:De(s,a,X,tt,u,nt)}return;default:if(ia(a)){for(var Me in l)tt=l[Me],l.hasOwnProperty(Me)&&tt!==void 0&&!u.hasOwnProperty(Me)&&Fm(s,a,Me,void 0,u,tt);for(at in u)tt=u[at],nt=l[at],!u.hasOwnProperty(at)||tt===nt||tt===void 0&&nt===void 0||Fm(s,a,at,tt,u,nt);return}}for(var K in l)tt=l[K],l.hasOwnProperty(K)&&tt!=null&&!u.hasOwnProperty(K)&&De(s,a,K,null,u,tt);for(ft in u)tt=u[ft],nt=l[ft],!u.hasOwnProperty(ft)||tt===nt||tt==null&&nt==null||De(s,a,ft,tt,u,nt)}var Hm=null,qm=null;function Kd(s){return s.nodeType===9?s:s.ownerDocument}function E0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function $m(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gm=null;function gR(){var s=window.event;return s&&s.type==="popstate"?s===Gm?!1:(Gm=s,!0):(Gm=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(s){return S0.resolve(null).then(s).catch(_R)}:w0;function _R(s){setTimeout(function(){throw s})}function Do(s){return s==="head"}function A0(s,a){var l=a,u=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&Lh(S.documentElement),l&2&&Lh(S.body),l&4)for(l=S.head,Lh(l),S=l.firstChild;S;){var C=S.nextSibling,j=S.nodeName;S[hs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(p===0){s.removeChild(y),qh(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);qh(a)}function Ym(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ym(l),pr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function yR(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[hs])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=sr(s.nextSibling),s===null)break}return null}function vR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=sr(s.nextSibling),s===null))return null;return s}function Km(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function bR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function sr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Wm=null;function x0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function R0(s,a,l){switch(a=Kd(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Lh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);pr(s)}var Os=new Map,C0=new Set;function Wd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ka=gt.d;gt.d={f:ER,r:TR,D:wR,C:SR,L:AR,m:xR,X:CR,S:RR,M:IR};function ER(){var s=ka.f(),a=jd();return s||a}function TR(s){var a=fs(s);a!==null&&a.tag===5&&a.type==="form"?Kv(a):ka.r(s)}var Kc=typeof document>"u"?null:document;function I0(s,a,l){var u=Kc;if(u&&typeof a=="string"&&a){var p=Ie(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),C0.has(p)||(C0.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),Wn(a,"link",s),ie(a),u.head.appendChild(a)))}}function wR(s){ka.D(s),I0("dns-prefetch",s,null)}function SR(s,a){ka.C(s,a),I0("preconnect",s,a)}function AR(s,a,l){ka.L(s,a,l);var u=Kc;if(u&&s&&a){var p='link[rel="preload"][as="'+Ie(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ie(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ie(l.imageSizes)+'"]')):p+='[href="'+Ie(s)+'"]';var y=p;switch(a){case"style":y=Wc(s);break;case"script":y=Qc(s)}Os.has(y)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Os.set(y,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(Vh(y))||a==="script"&&u.querySelector(Uh(y))||(a=u.createElement("link"),Wn(a,"link",s),ie(a),u.head.appendChild(a)))}}function xR(s,a){ka.m(s,a);var l=Kc;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ie(u)+'"][href="'+Ie(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Qc(s)}if(!Os.has(y)&&(s=_({rel:"modulepreload",href:s},a),Os.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Uh(y)))return}u=l.createElement("link"),Wn(u,"link",s),ie(u),l.head.appendChild(u)}}}function RR(s,a,l){ka.S(s,a,l);var u=Kc;if(u&&s){var p=Ze(u).hoistableStyles,y=Wc(s);a=a||"default";var S=p.get(y);if(!S){var C={loading:0,preload:null};if(S=u.querySelector(Vh(y)))C.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Os.get(y))&&Qm(s,l);var j=S=u.createElement("link");ie(j),Wn(j,"link",s),j._p=new Promise(function(X,at){j.onload=X,j.onerror=at}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Qd(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:C},p.set(y,S)}}}function CR(s,a){ka.X(s,a);var l=Kc;if(l&&s){var u=Ze(l).hoistableScripts,p=Qc(s),y=u.get(p);y||(y=l.querySelector(Uh(p)),y||(s=_({src:s,async:!0},a),(a=Os.get(p))&&Xm(s,a),y=l.createElement("script"),ie(y),Wn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function IR(s,a){ka.M(s,a);var l=Kc;if(l&&s){var u=Ze(l).hoistableScripts,p=Qc(s),y=u.get(p);y||(y=l.querySelector(Uh(p)),y||(s=_({src:s,async:!0,type:"module"},a),(a=Os.get(p))&&Xm(s,a),y=l.createElement("script"),ie(y),Wn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function O0(s,a,l,u){var p=(p=It.current)?Wd(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Wc(l.href),l=Ze(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Wc(l.href);var y=Ze(p).hoistableStyles,S=y.get(s);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=p.querySelector(Vh(s)))&&!y._p&&(S.instance=y,S.state.loading=5),Os.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Os.set(s,l),y||OR(p,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qc(l),l=Ze(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Wc(s){return'href="'+Ie(s)+'"'}function Vh(s){return'link[rel="stylesheet"]['+s+"]"}function D0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function OR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Wn(a,"link",l),ie(a),s.head.appendChild(a))}function Qc(s){return'[src="'+Ie(s)+'"]'}function Uh(s){return"script[async]"+s}function M0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Ie(l.href)+'"]');if(u)return a.instance=u,ie(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ie(u),Wn(u,"style",p),Qd(u,l.precedence,s),a.instance=u;case"stylesheet":p=Wc(l.href);var y=s.querySelector(Vh(p));if(y)return a.state.loading|=4,a.instance=y,ie(y),y;u=D0(l),(p=Os.get(p))&&Qm(u,p),y=(s.ownerDocument||s).createElement("link"),ie(y);var S=y;return S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Wn(y,"link",u),a.state.loading|=4,Qd(y,l.precedence,s),a.instance=y;case"script":return y=Qc(l.src),(p=s.querySelector(Uh(y)))?(a.instance=p,ie(p),p):(u=l,(p=Os.get(y))&&(u=_({},l),Xm(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),ie(p),Wn(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Qd(u,l.precedence,s));return a.instance}function Qd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,S=0;S<u.length;S++){var C=u[S];if(C.dataset.precedence===a)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Qm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Xm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Xd=null;function k0(s,a,l){if(Xd===null){var u=new Map,p=Xd=new Map;p.set(l,u)}else p=Xd,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[hs]||y[nn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=s+S;var C=u.get(S);C?C.push(y):u.set(S,[y])}}return u}function P0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function DR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function N0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var zh=null;function MR(){}function kR(s,a,l){if(zh===null)throw Error(i(475));var u=zh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Wc(l.href),y=s.querySelector(Vh(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Zd.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=y,ie(y);return}y=s.ownerDocument||s,l=D0(l),(p=Os.get(p))&&Qm(l,p),y=y.createElement("link"),ie(y);var S=y;S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Wn(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Zd.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function PR(){if(zh===null)throw Error(i(475));var s=zh;return s.stylesheets&&s.count===0&&Zm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Zm(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Zd(){if(this.count--,this.count===0){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Jd=null;function Zm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Jd=new Map,a.forEach(NR,s),Jd=null,Zd.call(s))}function NR(s,a){if(!(a.state.loading&4)){var l=Jd.get(s);if(l)var u=l.get(null);else{l=new Map,Jd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}p=a.instance,S=p.getAttribute("data-precedence"),y=l.get(S)||u,y===u&&l.set(null,p),l.set(S,p),this.count++,u=Zd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var jh={$$typeof:J,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function LR(s,a,l,u,p,y,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.hiddenUpdates=cs(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function L0(s,a,l,u,p,y,S,C,j,X,at,ft){return s=new LR(s,a,l,S,C,j,X,ft),a=1,y===!0&&(a|=24),y=yi(3,null,null,a),s.current=y,y.stateNode=s,a=Ul(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},Y(y),s}function V0(s){return s?(s=go,s):go}function U0(s,a,l,u,p,y){p=V0(p),u.context===null?u.context=p:u.pendingContext=p,u=ot(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=_t(s,u,a),l!==null&&(rs(l,s,a),wt(l,s,a))}function z0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Jm(s,a){z0(s,a),(s=s.alternate)&&z0(s,a)}function j0(s){if(s.tag===13){var a=ni(s,67108864);a!==null&&rs(a,s,67108864),Jm(s,67108864)}}var tg=!0;function VR(s,a,l,u){var p=et.T;et.T=null;var y=gt.p;try{gt.p=2,t_(s,a,l,u)}finally{gt.p=y,et.T=p}}function UR(s,a,l,u){var p=et.T;et.T=null;var y=gt.p;try{gt.p=8,t_(s,a,l,u)}finally{gt.p=y,et.T=p}}function t_(s,a,l,u){if(tg){var p=e_(u);if(p===null)Bm(s,a,u,eg,l),F0(s,u);else if(jR(p,s,a,l,u))u.stopPropagation();else if(F0(s,u),a&4&&-1<zR.indexOf(s)){for(;p!==null;){var y=fs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Hi(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var j=1<<31-Qe(S);C.entanglements[1]|=j,S&=~j}Pr(y),(xe&6)===0&&(Ud=Ei()+500,kh(0))}}break;case 13:C=ni(y,2),C!==null&&rs(C,y,2),jd(),Jm(y,2)}if(y=e_(u),y===null&&Bm(s,a,u,eg,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Bm(s,a,u,null,l)}}function e_(s){return s=qn(s),n_(s)}var eg=null;function n_(s){if(eg=null,s=$i(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return eg=s,null}function B0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nu()){case gl:return 2;case Wa:return 8;case Qr:case Lu:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var i_=!1,Mo=null,ko=null,Po=null,Bh=new Map,Fh=new Map,No=[],zR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(s,a){switch(s){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Bh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fh.delete(a.pointerId)}}function Hh(s,a,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},a!==null&&(a=fs(a),a!==null&&j0(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function jR(s,a,l,u,p){switch(a){case"focusin":return Mo=Hh(Mo,s,a,l,u,p),!0;case"dragenter":return ko=Hh(ko,s,a,l,u,p),!0;case"mouseover":return Po=Hh(Po,s,a,l,u,p),!0;case"pointerover":var y=p.pointerId;return Bh.set(y,Hh(Bh.get(y)||null,s,a,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Fh.set(y,Hh(Fh.get(y)||null,s,a,l,u,p)),!0}return!1}function H0(s){var a=$i(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,qs(s.priority,function(){if(l.tag===13){var u=ss();u=dr(u);var p=ni(l,u);p!==null&&rs(p,l,u),Jm(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ng(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=e_(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ln=u,l.target.dispatchEvent(u),Ln=null}else return a=fs(l),a!==null&&j0(a),s.blockedOn=l,!1;a.shift()}return!0}function q0(s,a,l){ng(s)&&l.delete(a)}function BR(){i_=!1,Mo!==null&&ng(Mo)&&(Mo=null),ko!==null&&ng(ko)&&(ko=null),Po!==null&&ng(Po)&&(Po=null),Bh.forEach(q0),Fh.forEach(q0)}function ig(s,a){s.blockedOn===a&&(s.blockedOn=null,i_||(i_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BR)))}var sg=null;function $0(s){sg!==s&&(sg=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sg===s&&(sg=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(n_(u||l)===null)continue;break}var y=fs(l);y!==null&&(s.splice(a,3),a-=3,nm(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function qh(s){function a(j){return ig(j,s)}Mo!==null&&ig(Mo,s),ko!==null&&ig(ko,s),Po!==null&&ig(Po,s),Bh.forEach(a),Fh.forEach(a);for(var l=0;l<No.length;l++){var u=No[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<No.length&&(l=No[0],l.blockedOn===null);)H0(l),l.blockedOn===null&&No.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],S=p[Xe]||null;if(typeof y=="function")S||$0(l);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[Xe]||null)C=S.formAction;else if(n_(p)!==null)continue}else C=S.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),$0(l)}}}function s_(s){this._internalRoot=s}rg.prototype.render=s_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=ss();U0(l,u,s,a,null,null)},rg.prototype.unmount=s_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;U0(s.current,2,null,s,null,null),jd(),a[wi]=null}};function rg(s){this._internalRoot=s}rg.prototype.unstable_scheduleHydration=function(s){if(s){var a=gr();s={blockedOn:null,target:s,priority:a};for(var l=0;l<No.length&&a!==0&&a<No[l].priority;l++);No.splice(l,0,s),l===0&&H0(s)}};var G0=t.version;if(G0!=="19.1.0")throw Error(i(527,G0,"19.1.0"));gt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var FR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ag.isDisabled&&ag.supportsFiber)try{je=ag.inject(FR),Ee=ag}catch{}}return Gh.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=lb,y=cb,S=ub,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=L0(s,1,!1,null,null,l,u,p,y,S,C,null),s[wi]=a.current,jm(s),new s_(a)},Gh.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",y=lb,S=cb,C=ub,j=null,X=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(X=l.formState)),a=L0(s,1,!0,a,l??null,u,p,y,S,C,j,X),a.context=V0(null),l=a.current,u=ss(),u=dr(u),p=ot(u),p.callback=null,_t(l,p,u),l=u,a.current.lanes=l,Ti(a,l),Pr(a),s[wi]=a.current,jm(s),new rg(a)},Gh.version="19.1.0",Gh}var nE;function JR(){if(nE)return o_.exports;nE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),o_.exports=ZR(),o_.exports}var tC=JR(),Yh={},iE;function eC(){if(iE)return Yh;iE=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.parse=c,Yh.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const R=new o,D=E.length;if(D<2)return R;const P=A?.decode||_;let L=0;do{const G=E.indexOf("=",L);if(G===-1)break;const J=E.indexOf(";",L),ct=J===-1?D:J;if(G>ct){L=E.lastIndexOf(";",G-1)+1;continue}const rt=h(E,L,G),pt=f(E,G,rt),V=E.slice(rt,pt);if(R[V]===void 0){let k=h(E,G+1,ct),N=f(E,ct,k);const z=P(E.slice(k,N));R[V]=z}L=ct+1}while(L<D);return R}function h(E,A,R){do{const D=E.charCodeAt(A);if(D!==32&&D!==9)return A}while(++A<R);return R}function f(E,A,R){for(;A>R;){const D=E.charCodeAt(--A);if(D!==32&&D!==9)return A+1}return R}function g(E,A,R){const D=R?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const P=D(A);if(!t.test(P))throw new TypeError(`argument val is invalid: ${A}`);let L=E+"="+P;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!e.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return r.call(E)==="[object Date]"}return Yh}eC();var sE="popstate";function nC(n={}){function t(r,o){let{pathname:c="/",search:h="",hash:f=""}=cc(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),L_("",{pathname:c,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=r.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:Ef(o))}function i(r,o){Ls(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return sC(t,e,i,n)}function qe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ls(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iC(){return Math.random().toString(36).substring(2,10)}function rE(n,t){return{usr:n.state,key:n.key,idx:t}}function L_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?cc(t):t,state:e,key:t&&t.key||i||iC()}}function Ef({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function cc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function sC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){h="POP";let P=_(),L=P==null?null:P-g;g=P,f&&f({action:h,location:D.location,delta:L})}function E(P,L){h="PUSH";let G=L_(D.location,P,L);e&&e(G,P),g=_()+1;let J=rE(G,g),ct=D.createHref(G);try{c.pushState(J,"",ct)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;r.location.assign(ct)}o&&f&&f({action:h,location:D.location,delta:1})}function A(P,L){h="REPLACE";let G=L_(D.location,P,L);e&&e(G,P),g=_();let J=rE(G,g),ct=D.createHref(G);c.replaceState(J,"",ct),o&&f&&f({action:h,location:D.location,delta:0})}function R(P){return rC(P)}let D={get action(){return h},get location(){return n(r,c)},listen(P){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(sE,b),f=P,()=>{r.removeEventListener(sE,b),f=null}},createHref(P){return t(r,P)},createURL:R,encodeLocation(P){let L=R(P);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:A,go(P){return c.go(P)}};return D}function rC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ef(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function eS(n,t,e="/"){return aC(n,t,e,!1)}function aC(n,t,e,i){let r=typeof t=="string"?cc(t):t,o=Fa(r.pathname||"/",e);if(o==null)return null;let c=nS(n);oC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=yC(o);h=mC(c[f],g,i)}return h}function nS(n,t=[],e=[],i=""){let r=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=ja([i,f.relativePath]),_=e.concat(f);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),nS(o.children,t,_,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:gC(g,o.index),routesMeta:_})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of iS(o.path))r(o,c,h)}),t}function iS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=iS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function oC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:pC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var lC=/^:[\w-]+$/,cC=3,uC=2,hC=1,fC=10,dC=-2,aE=n=>n==="*";function gC(n,t){let e=n.split("/"),i=e.length;return e.some(aE)&&(i+=dC),t&&(i+=uC),e.filter(r=>!aE(r)).reduce((r,o)=>r+(lC.test(o)?cC:o===""?hC:fC),i)}function pC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function mC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,_=o==="/"?t:t.slice(o.length)||"/",b=qg({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),E=f.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=qg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:ja([o,b.pathname]),pathnameBase:TC(ja([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=ja([o,b.pathnameBase]))}return c}function qg(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=_C(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:b},E)=>{if(_==="*"){let R=h[E]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const A=h[E];return b&&!A?g[_]=void 0:g[_]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function _C(n,t=!1,e=!0){Ls(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function yC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ls(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function vC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?cc(n):n;return{pathname:e?e.startsWith("/")?e:bC(e,t):t,search:wC(i),hash:SC(r)}}function bC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function h_(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ey(n){let t=EC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Ty(n,t,e,i=!1){let r;typeof n=="string"?r=cc(n):(r={...n},qe(!r.pathname||!r.pathname.includes("?"),h_("?","pathname","search",r)),qe(!r.pathname||!r.pathname.includes("#"),h_("#","pathname","hash",r)),qe(!r.search||!r.search.includes("#"),h_("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;r.pathname=E.join("/")}h=b>=0?t[b]:"/"}let f=vC(r,h),g=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var ja=n=>n.join("/").replace(/\/\/+/g,"/"),TC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var xC=["GET",...sS];new Set(xC);var Eu=Z.createContext(null);Eu.displayName="DataRouter";var bp=Z.createContext(null);bp.displayName="DataRouterState";var rS=Z.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var RC=Z.createContext(new Map);RC.displayName="Fetchers";var CC=Z.createContext(null);CC.displayName="Await";var cr=Z.createContext(null);cr.displayName="Navigation";var Nf=Z.createContext(null);Nf.displayName="Location";var Kr=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var wy=Z.createContext(null);wy.displayName="RouteError";function IC(n,{relative:t}={}){qe(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=Z.useContext(cr),{hash:r,pathname:o,search:c}=Lf(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ja([e,o])),i.createHref({pathname:h,search:c,hash:r})}function Tu(){return Z.useContext(Nf)!=null}function Ya(){return qe(Tu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Nf).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oS(n){Z.useContext(cr).static||Z.useLayoutEffect(n)}function wu(){let{isDataRoute:n}=Z.useContext(Kr);return n?FC():OC()}function OC(){qe(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(Eu),{basename:t,navigator:e}=Z.useContext(cr),{matches:i}=Z.useContext(Kr),{pathname:r}=Ya(),o=JSON.stringify(Ey(i)),c=Z.useRef(!1);return oS(()=>{c.current=!0}),Z.useCallback((f,g={})=>{if(Ls(c.current,aS),!c.current)return;if(typeof f=="number"){e.go(f);return}let _=Ty(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ja([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,o,r,n])}Z.createContext(null);function Lf(n,{relative:t}={}){let{matches:e}=Z.useContext(Kr),{pathname:i}=Ya(),r=JSON.stringify(Ey(e));return Z.useMemo(()=>Ty(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function DC(n,t){return lS(n,t)}function lS(n,t,e,i){qe(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=Z.useContext(cr),{matches:o}=Z.useContext(Kr),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let L=_&&_.path||"";cS(f,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=Ya(),E;if(t){let L=typeof t=="string"?cc(t):t;qe(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=b;let A=E.pathname||"/",R=A;if(g!=="/"){let L=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=eS(n,{pathname:R});Ls(_||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ls(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=LC(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:ja([g,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ja([g,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,e,i);return t&&P?Z.createElement(Nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function MC(){let n=BC(),t=AC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),e?Z.createElement("pre",{style:r},e):null,c)}var kC=Z.createElement(MC,null),PC=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?Z.createElement(Kr.Provider,{value:this.props.routeContext},Z.createElement(wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NC({routeContext:n,match:t,children:e}){let i=Z.useContext(Eu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Kr.Provider,{value:n},e)}function LC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:b}=e,E=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,_)=>{let b,E=!1,A=null,R=null;e&&(b=o&&g.route.id?o[g.route.id]:void 0,A=g.route.errorElement||kC,c&&(h<0&&_===0?(cS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===_&&(E=!0,R=g.route.hydrateFallbackElement||null)));let D=t.concat(r.slice(0,_+1)),P=()=>{let L;return b?L=A:E?L=R:g.route.Component?L=Z.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=f,Z.createElement(NC,{match:g,routeContext:{outlet:f,matches:D,isDataRoute:e!=null},children:L})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Z.createElement(PC,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):P()},null)}function Sy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VC(n){let t=Z.useContext(Eu);return qe(t,Sy(n)),t}function UC(n){let t=Z.useContext(bp);return qe(t,Sy(n)),t}function zC(n){let t=Z.useContext(Kr);return qe(t,Sy(n)),t}function Ay(n){let t=zC(n),e=t.matches[t.matches.length-1];return qe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function jC(){return Ay("useRouteId")}function BC(){let n=Z.useContext(wy),t=UC("useRouteError"),e=Ay("useRouteError");return n!==void 0?n:t.errors?.[e]}function FC(){let{router:n}=VC("useNavigate"),t=Ay("useNavigate"),e=Z.useRef(!1);return oS(()=>{e.current=!0}),Z.useCallback(async(r,o={})=>{Ls(e.current,aS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var oE={};function cS(n,t,e){!t&&!oE[n]&&(oE[n]=!0,Ls(!1,e))}Z.memo(HC);function HC({routes:n,future:t,state:e}){return lS(n,void 0,e,t)}function qC({to:n,replace:t,state:e,relative:i}){qe(Tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Z.useContext(cr);Ls(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Z.useContext(Kr),{pathname:c}=Ya(),h=wu(),f=Ty(n,Ey(o),c,i==="path"),g=JSON.stringify(f);return Z.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function Kl(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $C({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){qe(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=Z.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=cc(e));let{pathname:f="/",search:g="",hash:_="",state:b=null,key:E="default"}=e,A=Z.useMemo(()=>{let R=Fa(f,c);return R==null?null:{location:{pathname:R,search:g,hash:_,state:b,key:E},navigationType:i}},[c,f,g,_,b,E,i]);return Ls(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:Z.createElement(cr.Provider,{value:h},Z.createElement(Nf.Provider,{children:t,value:A}))}function GC({children:n,location:t}){return DC(V_(n),t)}function V_(n,t=[]){let e=[];return Z.Children.forEach(n,(i,r)=>{if(!Z.isValidElement(i))return;let o=[...t,r];if(i.type===Z.Fragment){e.push.apply(e,V_(i.props.children,o));return}qe(i.type===Kl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=V_(i.props.children,o)),e.push(c)}),e}var Cg="get",Ig="application/x-www-form-urlencoded";function Ep(n){return n!=null&&typeof n.tagName=="string"}function YC(n){return Ep(n)&&n.tagName.toLowerCase()==="button"}function KC(n){return Ep(n)&&n.tagName.toLowerCase()==="form"}function WC(n){return Ep(n)&&n.tagName.toLowerCase()==="input"}function QC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XC(n,t){return n.button===0&&(!t||t==="_self")&&!QC(n)}var og=null;function ZC(){if(og===null)try{new FormData(document.createElement("form"),0),og=!1}catch{og=!0}return og}var JC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f_(n){return n!=null&&!JC.has(n)?(Ls(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):n}function tI(n,t){let e,i,r,o,c;if(KC(n)){let h=n.getAttribute("action");i=h?Fa(h,t):null,e=n.getAttribute("method")||Cg,r=f_(n.getAttribute("enctype"))||Ig,o=new FormData(n)}else if(YC(n)||WC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Fa(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Cg,r=f_(n.getAttribute("formenctype"))||f_(h.getAttribute("enctype"))||Ig,o=new FormData(h,n),!ZC()){let{name:g,type:_,value:b}=n;if(_==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,b)}}else{if(Ep(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Cg,i=null,r=Ig,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function xy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function eI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await eI(o,e);return c.links?c.links():[]}return[]}));return oI(i.flat(1).filter(nI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function lE(n,t,e,i,r,o){let c=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>e[g].pathname!==f.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function sI(n,t,{includeHydrateFallback:e}={}){return rI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function rI(n){return[...new Set(n)]}function aI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function oI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(aI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lI=new Set([100,101,204,205]);function cI(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Fa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uS(){let n=Z.useContext(Eu);return xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uI(){let n=Z.useContext(bp);return xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ry=Z.createContext(void 0);Ry.displayName="FrameworkContext";function hS(){let n=Z.useContext(Ry);return xy(n,"You must render this element inside a <HydratedRouter> element"),n}function hI(n,t){let e=Z.useContext(Ry),[i,r]=Z.useState(!1),[o,c]=Z.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=t,E=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=L=>{L.forEach(G=>{c(G.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[n]),Z.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let A=()=>{r(!0)},R=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Kh(h,A),onBlur:Kh(f,R),onMouseEnter:Kh(g,A),onMouseLeave:Kh(_,R),onTouchStart:Kh(b,A)}]:[!1,E,{}]}function Kh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function fI({page:n,...t}){let{router:e}=uS(),i=Z.useMemo(()=>eS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?Z.createElement(gI,{page:n,matches:i,...t}):null}function dI(n){let{manifest:t,routeModules:e}=hS(),[i,r]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return iI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function gI({page:n,matches:t,...e}){let i=Ya(),{manifest:r,routeModules:o}=hS(),{basename:c}=uS(),{loaderData:h,matches:f}=uI(),g=Z.useMemo(()=>lE(n,t,f,r,i,"data"),[n,t,f,r,i]),_=Z.useMemo(()=>lE(n,t,f,r,i,"assets"),[n,t,f,r,i]),b=Z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,D=!1;if(t.forEach(L=>{let G=r.routes[L.route.id];!G||!G.hasLoader||(!g.some(J=>J.route.id===L.route.id)&&L.route.id in h&&o[L.route.id]?.shouldRevalidate||G.hasClientLoader?D=!0:R.add(L.route.id))}),R.size===0)return[];let P=cI(n,c);return D&&R.size>0&&P.searchParams.set("_routes",t.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[P.pathname+P.search]},[c,h,i,r,g,t,n,o]),E=Z.useMemo(()=>sI(_,r),[_,r]),A=dI(_);return Z.createElement(Z.Fragment,null,b.map(R=>Z.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...e})),E.map(R=>Z.createElement("link",{key:R,rel:"modulepreload",href:R,...e})),A.map(({key:R,link:D})=>Z.createElement("link",{key:R,...D})))}function pI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fS&&(window.__reactRouterVersion="7.6.3")}catch{}function mI({basename:n,children:t,window:e}){let i=Z.useRef();i.current==null&&(i.current=nC({window:e,v5Compat:!0}));let r=i.current,[o,c]=Z.useState({action:r.action,location:r.location}),h=Z.useCallback(f=>{Z.startTransition(()=>c(f))},[c]);return Z.useLayoutEffect(()=>r.listen(h),[r,h]),Z.createElement($C,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jr=Z.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:_,viewTransition:b,...E},A){let{basename:R}=Z.useContext(cr),D=typeof g=="string"&&dS.test(g),P,L=!1;if(typeof g=="string"&&D&&(P=g,fS))try{let N=new URL(window.location.href),z=g.startsWith("//")?new URL(N.protocol+g):new URL(g),B=Fa(z.pathname,R);z.origin===N.origin&&B!=null?g=B+z.search+z.hash:L=!0}catch{Ls(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=IC(g,{relative:r}),[J,ct,rt]=hI(i,E),pt=bI(g,{replace:c,state:h,target:f,preventScrollReset:_,relative:r,viewTransition:b});function V(N){t&&t(N),N.defaultPrevented||pt(N)}let k=Z.createElement("a",{...E,...rt,href:P||G,onClick:L||o?t:V,ref:pI(A,ct),target:f,"data-discover":!D&&e==="render"?"true":void 0});return J&&!D?Z.createElement(Z.Fragment,null,k,Z.createElement(fI,{page:G})):k});jr.displayName="Link";var _I=Z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...g},_){let b=Lf(c,{relative:g.relative}),E=Ya(),A=Z.useContext(bp),{navigator:R,basename:D}=Z.useContext(cr),P=A!=null&&AI(b)&&h===!0,L=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,G=E.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(G=G.toLowerCase(),J=J?J.toLowerCase():null,L=L.toLowerCase()),J&&D&&(J=Fa(J,D)||J);const ct=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let rt=G===L||!r&&G.startsWith(L)&&G.charAt(ct)==="/",pt=J!=null&&(J===L||!r&&J.startsWith(L)&&J.charAt(L.length)==="/"),V={isActive:rt,isPending:pt,isTransitioning:P},k=rt?t:void 0,N;typeof i=="function"?N=i(V):N=[i,rt?"active":null,pt?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(V):o;return Z.createElement(jr,{...g,"aria-current":k,className:N,ref:_,style:z,to:c,viewTransition:h},typeof f=="function"?f(V):f)});_I.displayName="NavLink";var yI=Z.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Cg,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:b,...E},A)=>{let R=wI(),D=SI(h,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&dS.test(h),G=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let ct=J.nativeEvent.submitter,rt=ct?.getAttribute("formmethod")||c;R(ct||J.currentTarget,{fetcherKey:t,method:rt,navigate:e,replace:r,state:o,relative:g,preventScrollReset:_,viewTransition:b})};return Z.createElement("form",{ref:A,method:P,action:D,onSubmit:i?f:G,...E,"data-discover":!L&&n==="render"?"true":void 0})});yI.displayName="Form";function vI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gS(n){let t=Z.useContext(Eu);return qe(t,vI(n)),t}function bI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=wu(),f=Ya(),g=Lf(n,{relative:o});return Z.useCallback(_=>{if(XC(_,t)){_.preventDefault();let b=e!==void 0?e:Ef(f)===Ef(g);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,g,e,i,t,n,r,o,c])}var EI=0,TI=()=>`__${String(++EI)}__`;function wI(){let{router:n}=gS("useSubmit"),{basename:t}=Z.useContext(cr),e=jC();return Z.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=tI(i,t);if(r.navigate===!1){let _=r.fetcherKey||TI();await n.fetch(_,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function SI(n,{relative:t}={}){let{basename:e}=Z.useContext(cr),i=Z.useContext(Kr);qe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Lf(n||".",{relative:t})},c=Ya();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let _=h.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ja([e,o.pathname])),Ef(o)}function AI(n,t={}){let e=Z.useContext(rS);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gS("useViewTransitionState"),r=Lf(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Fa(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Fa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return qg(r.pathname,c)!=null||qg(r.pathname,o)!=null}[...lI];const xI=()=>{};var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},RI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,_=o>>2,b=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,A=g&63;f||(A=64,c||(E=64)),i.push(e[_],e[b],e[E],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(pS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):RI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const b=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||b==null)throw new CI;const E=o<<2|h>>4;if(i.push(E),g!==64){const A=h<<4&240|g>>2;if(i.push(A),b!==64){const R=g<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(n){const t=pS(n);return mS.encodeByteArray(t,!0)},$g=function(n){return II(n).replace(/\./g,"")},_S=function(n){try{return mS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=()=>OI().__FIREBASE_DEFAULTS__,MI=()=>{if(typeof process>"u"||typeof cE>"u")return;const n=cE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&_S(n[1]);return t&&JSON.parse(t)},Tp=()=>{try{return xI()||DI()||MI()||kI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yS=n=>{var t,e;return(e=(t=Tp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},PI=n=>{const t=yS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},vS=()=>{var n;return(n=Tp())===null||n===void 0?void 0:n.config},bS=n=>{var t;return(t=Tp())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ES(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$g(JSON.stringify(e)),$g(JSON.stringify(c)),""].join(".")}const hf={};function VI(){const n={prod:[],emulator:[]};for(const t of Object.keys(hf))hf[t]?n.emulator.push(t):n.prod.push(t);return n}function UI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let uE=!1;function TS(n,t){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||hf[n]===t||hf[n]||uE)return;hf[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=VI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uE=!0,c()},E}function _(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=UI(i),A=e("text"),R=document.getElementById(A)||document.createElement("span"),D=e("learnmore"),P=document.getElementById(D)||document.createElement("a"),L=e("preprendIcon"),G=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;h(J),_(P,D);const ct=g();f(G,L),J.append(G,R,P,ct),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function jI(){var n;const t=(n=Tp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qI(){const n=ui();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $I(){return!jI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GI(){try{return typeof indexedDB=="object"}catch{return!1}}function YI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="FirebaseError";class Ka extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=KI,Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vf.prototype.create)}}class Vf{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?WI(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Ka(r,h,i)}}function WI(n,t){return n.replace(QI,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const QI=/\{\$([^}]+)}/g;function XI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function nc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(hE(o)&&hE(c)){if(!nc(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function hE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function tf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function ef(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function ZI(n,t){const e=new JI(n,t);return e.subscribe.bind(e)}class JI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");tO(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=d_),r.error===void 0&&(r.error=d_),r.complete===void 0&&(r.complete=d_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function d_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n){return n&&n._delegate?n._delegate:n}class ic{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new NI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iO(t))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Wl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wl){return this.instances.has(t)}getOptions(t=Wl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wl){return this.component?this.component.multipleInstances?t:Wl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nO(n){return n===Wl?void 0:n}function iO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new eO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ce||(ce={}));const rO={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},aO=ce.INFO,oO={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},lO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=oO[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cy{constructor(t){this.name=t,this._logLevel=aO,this._logHandler=lO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const cO=(n,t)=>t.some(e=>n instanceof e);let fE,dE;function uO(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wS=new WeakMap,U_=new WeakMap,SS=new WeakMap,g_=new WeakMap,Iy=new WeakMap;function fO(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Go(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&wS.set(e,n)}).catch(()=>{}),Iy.set(t,n),t}function dO(n){if(U_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});U_.set(n,t)}let z_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return U_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||SS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Go(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function gO(n){z_=n(z_)}function pO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(p_(this),t,...e);return SS.set(i,t.sort?t.sort():[t]),Go(i)}:hO().includes(n)?function(...t){return n.apply(p_(this),t),Go(wS.get(this))}:function(...t){return Go(n.apply(p_(this),t))}}function mO(n){return typeof n=="function"?pO(n):(n instanceof IDBTransaction&&dO(n),cO(n,uO())?new Proxy(n,z_):n)}function Go(n){if(n instanceof IDBRequest)return fO(n);if(g_.has(n))return g_.get(n);const t=mO(n);return t!==n&&(g_.set(n,t),Iy.set(t,n)),t}const p_=n=>Iy.get(n);function _O(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Go(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Go(c.result),f.oldVersion,f.newVersion,Go(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const yO=["get","getKey","getAll","getAllKeys","count"],vO=["put","add","delete","clear"],m_=new Map;function gE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(m_.get(t))return m_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=vO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yO.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return m_.set(t,o),o}gO(n=>({...n,get:(t,e,i)=>gE(t,e)||n.get(t,e,i),has:(t,e)=>!!gE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(EO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function EO(n){const t=n.getComponent();return t?.type==="VERSION"}const j_="@firebase/app",pE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Cy("@firebase/app"),TO="@firebase/app-compat",wO="@firebase/analytics-compat",SO="@firebase/analytics",AO="@firebase/app-check-compat",xO="@firebase/app-check",RO="@firebase/auth",CO="@firebase/auth-compat",IO="@firebase/database",OO="@firebase/data-connect",DO="@firebase/database-compat",MO="@firebase/functions",kO="@firebase/functions-compat",PO="@firebase/installations",NO="@firebase/installations-compat",LO="@firebase/messaging",VO="@firebase/messaging-compat",UO="@firebase/performance",zO="@firebase/performance-compat",jO="@firebase/remote-config",BO="@firebase/remote-config-compat",FO="@firebase/storage",HO="@firebase/storage-compat",qO="@firebase/firestore",$O="@firebase/ai",GO="@firebase/firestore-compat",YO="firebase",KO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="[DEFAULT]",WO={[j_]:"fire-core",[TO]:"fire-core-compat",[SO]:"fire-analytics",[wO]:"fire-analytics-compat",[xO]:"fire-app-check",[AO]:"fire-app-check-compat",[RO]:"fire-auth",[CO]:"fire-auth-compat",[IO]:"fire-rtdb",[OO]:"fire-data-connect",[DO]:"fire-rtdb-compat",[MO]:"fire-fn",[kO]:"fire-fn-compat",[PO]:"fire-iid",[NO]:"fire-iid-compat",[LO]:"fire-fcm",[VO]:"fire-fcm-compat",[UO]:"fire-perf",[zO]:"fire-perf-compat",[jO]:"fire-rc",[BO]:"fire-rc-compat",[FO]:"fire-gcs",[HO]:"fire-gcs-compat",[qO]:"fire-fst",[GO]:"fire-fst-compat",[$O]:"fire-vertex","fire-js":"fire-js",[YO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new Map,QO=new Map,F_=new Map;function mE(n,t){try{n.container.addComponent(t)}catch(e){Ha.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function hu(n){const t=n.name;if(F_.has(t))return Ha.debug(`There were multiple attempts to register component ${t}.`),!1;F_.set(t,n);for(const e of Gg.values())mE(e,n);for(const e of QO.values())mE(e,n);return!0}function Oy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ms(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Vf("app","Firebase",XO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ic("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=KO;function AS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:B_,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Yo.create("bad-app-name",{appName:String(r)});if(e||(e=vS()),!e)throw Yo.create("no-options");const o=Gg.get(r);if(o){if(nc(e,o.options)&&nc(i,o.config))return o;throw Yo.create("duplicate-app",{appName:r})}const c=new sO(r);for(const f of F_.values())c.addComponent(f);const h=new ZO(e,i,c);return Gg.set(r,h),h}function xS(n=B_){const t=Gg.get(n);if(!t&&n===B_&&vS())return AS();if(!t)throw Yo.create("no-app",{appName:n});return t}function Ko(n,t,e){var i;let r=(i=WO[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ha.warn(h.join(" "));return}hu(new ic(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="firebase-heartbeat-database",tD=1,Tf="firebase-heartbeat-store";let __=null;function RS(){return __||(__=_O(JO,tD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Tf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Yo.create("idb-open",{originalErrorMessage:n.message})})),__}async function eD(n){try{const e=(await RS()).transaction(Tf),i=await e.objectStore(Tf).get(CS(n));return await e.done,i}catch(t){if(t instanceof Ka)Ha.warn(t.message);else{const e=Yo.create("idb-get",{originalErrorMessage:t?.message});Ha.warn(e.message)}}}async function _E(n,t){try{const i=(await RS()).transaction(Tf,"readwrite");await i.objectStore(Tf).put(t,CS(n)),await i.done}catch(e){if(e instanceof Ka)Ha.warn(e.message);else{const i=Yo.create("idb-set",{originalErrorMessage:e?.message});Ha.warn(i.message)}}}function CS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1024,iD=30;class sD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new aD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>iD){const c=oD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ha.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yE(),{heartbeatsToSend:i,unsentEntries:r}=rD(this._heartbeatsCache.heartbeats),o=$g(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ha.warn(e),""}}}function yE(){return new Date().toISOString().substring(0,10)}function rD(n,t=nD){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),vE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),vE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class aD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await eD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return _E(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return _E(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function vE(n){return $g(JSON.stringify({version:2,heartbeats:n})).length}function oD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){hu(new ic("platform-logger",t=>new bO(t),"PRIVATE")),hu(new ic("heartbeat",t=>new sD(t),"PRIVATE")),Ko(j_,pE,n),Ko(j_,pE,"esm2017"),Ko("fire-js","")}lD("");var cD="firebase",uD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko(cD,uD,"app");function Dy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function IS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hD=IS,OS=new Vf("auth","Firebase",IS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new Cy("@firebase/auth");function fD(n,...t){Yg.logLevel<=ce.WARN&&Yg.warn(`Auth (${Au}): ${n}`,...t)}function Og(n,...t){Yg.logLevel<=ce.ERROR&&Yg.error(`Auth (${Au}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(n,...t){throw My(n,...t)}function Br(n,...t){return My(n,...t)}function DS(n,t,e){const i=Object.assign(Object.assign({},hD()),{[t]:e});return new Vf("auth","Firebase",i).create(t,{appName:n.name})}function Ba(n){return DS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return OS.create(n,...t)}function qt(n,t,...e){if(!n)throw My(t,...e)}function Ua(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Og(t),new Error(t)}function qa(n,t){n||Ua(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dD(){return bE()==="http:"||bE()==="https:"}function bE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dD()||FI()||"connection"in navigator)?navigator.onLine:!0}function pD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,e){this.shortDelay=t,this.longDelay=e,qa(e>t,"Short delay should be less than long delay!"),this.isMobile=zI()||HI()}get(){return gD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,t){qa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yD=new zf(3e4,6e4);function ul(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function hl(n,t,e,i,r={}){return kS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Uf(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return BI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Su(n.emulatorConfig.host)&&(g.credentials="include"),MS.fetch()(await PS(n,n.config.apiHost,e,h),g)})}async function kS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},mD),t);try{const r=new bD(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw lg(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw lg(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw lg(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw lg(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw DS(n,_,g);ar(n,_)}}catch(r){if(r instanceof Ka)throw r;ar(n,"network-request-failed",{message:String(r)})}}async function jf(n,t,e,i,r={}){const o=await hl(n,t,e,i,r);return"mfaPendingCredential"in o&&ar(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function PS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?ky(n.config,r):`${n.config.apiScheme}://${r}`;return _D.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function vD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Br(this.auth,"network-request-failed")),yD.get())})}}function lg(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Br(n,t,i);return r.customData._tokenResponse=e,r}function EE(n){return n!==void 0&&n.enterprise!==void 0}class ED{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return vD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TD(n,t){return hl(n,"GET","/v2/recaptchaConfig",ul(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,t){return hl(n,"POST","/v1/accounts:delete",t)}async function Kg(n,t){return hl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SD(n,t=!1){const e=kn(n),i=await e.getIdToken(t),r=Py(i);qt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:ff(y_(r.auth_time)),issuedAtTime:ff(y_(r.iat)),expirationTime:ff(y_(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function y_(n){return Number(n)*1e3}function Py(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Og("JWT malformed, contained fewer than 3 sections"),null;try{const r=_S(e);return r?JSON.parse(r):(Og("Failed to decode base64 JWT payload"),null)}catch(r){return Og("Caught error parsing JWT payload as JSON",r?.toString()),null}}function TE(n){const t=Py(n);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ka&&AD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function AD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ff(this.lastLoginAt),this.creationTime=ff(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(n){var t;const e=n.auth,i=await n.getIdToken(),r=await wf(n,Kg(e,{idToken:i}));qt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?NS(o.providerUserInfo):[],h=CD(n.providerData,c),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,_=f?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new q_(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,b)}async function RD(n){const t=kn(n);await Wg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function NS(n){return n.map(t=>{var{providerId:e}=t,i=Dy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(n,t){const e=await kS(n,{},async()=>{const i=Uf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await PS(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Su(n.emulatorConfig.host)&&(f.credentials="include"),MS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function OD(n,t){return hl(n,"POST","/v2/accounts:revokeToken",ul(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):TE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const e=TE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await ID(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new su;return i&&(qt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(qt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(qt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return Ua("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(n,t){qt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class rr{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Dy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new q_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await wf(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return SD(this,t)}reload(){return RD(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new rr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Wg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject(Ba(this.auth));const t=await this.getIdToken();return await wf(this,wD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,f,g,_;const b=(i=e.displayName)!==null&&i!==void 0?i:void 0,E=(r=e.email)!==null&&r!==void 0?r:void 0,A=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,R=(c=e.photoURL)!==null&&c!==void 0?c:void 0,D=(h=e.tenantId)!==null&&h!==void 0?h:void 0,P=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,L=(g=e.createdAt)!==null&&g!==void 0?g:void 0,G=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:ct,isAnonymous:rt,providerData:pt,stsTokenManager:V}=e;qt(J&&V,t,"internal-error");const k=su.fromJSON(this.name,V);qt(typeof J=="string",t,"internal-error"),Vo(b,t.name),Vo(E,t.name),qt(typeof ct=="boolean",t,"internal-error"),qt(typeof rt=="boolean",t,"internal-error"),Vo(A,t.name),Vo(R,t.name),Vo(D,t.name),Vo(P,t.name),Vo(L,t.name),Vo(G,t.name);const N=new rr({uid:J,auth:t,email:E,emailVerified:ct,displayName:b,isAnonymous:rt,photoURL:R,phoneNumber:A,tenantId:D,stsTokenManager:k,createdAt:L,lastLoginAt:G});return pt&&Array.isArray(pt)&&(N.providerData=pt.map(z=>Object.assign({},z))),P&&(N._redirectEventId=P),N}static async _fromIdTokenResponse(t,e,i=!1){const r=new su;r.updateFromServerResponse(e);const o=new rr({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Wg(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];qt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?NS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new su;h.updateFromIdToken(i);const f=new rr({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new q_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function za(n){qa(n instanceof Function,"Expected a class definition");let t=wE.get(n);return t?(qa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,wE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}LS.type="NONE";const SE=LS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,t,e){return`firebase:${n}:${t}:${e}`}class ru{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Dg(this.userKey,r.apiKey,o),this.fullPersistenceKey=Dg("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Kg(this.auth,{idToken:t}).catch(()=>{});return e?rr._fromGetAccountInfoResponse(this.auth,e,t):null}return rr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new ru(za(SE),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||za(SE);const c=Dg(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const E=await Kg(t,{idToken:_}).catch(()=>{});if(!E)break;b=await rr._fromGetAccountInfoResponse(t,E,_)}else b=rr._fromJSON(t,_);g!==o&&(h=b),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ru(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new ru(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FS(t))return"Blackberry";if(HS(t))return"Webos";if(US(t))return"Safari";if((t.includes("chrome/")||zS(t))&&!t.includes("edge/"))return"Chrome";if(BS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function VS(n=ui()){return/firefox\//i.test(n)}function US(n=ui()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zS(n=ui()){return/crios\//i.test(n)}function jS(n=ui()){return/iemobile/i.test(n)}function BS(n=ui()){return/android/i.test(n)}function FS(n=ui()){return/blackberry/i.test(n)}function HS(n=ui()){return/webos/i.test(n)}function Ny(n=ui()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DD(n=ui()){var t;return Ny(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MD(){return qI()&&document.documentMode===10}function qS(n=ui()){return Ny(n)||BS(n)||HS(n)||FS(n)||/windows phone/i.test(n)||jS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n,t=[]){let e;switch(n){case"Browser":e=AE(ui());break;case"Worker":e=`${AE(ui())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Au}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(n,t={}){return hl(n,"GET","/v2/passwordPolicy",ul(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=6;class LD{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:ND,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new kD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=za(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await ru.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Kg(this,{idToken:t}),i=await rr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ms(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Wg(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ms(this.app))return Promise.reject(Ba(this));const e=t?kn(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ms(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(za(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PD(this),e=new LD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vf("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await OD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&za(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[za(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&fD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uc(n){return kn(n)}class xE{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZI(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UD(n){wp=n}function GS(n){return wp.loadJS(n)}function zD(){return wp.recaptchaEnterpriseScript}function jD(){return wp.gapiScript}function BD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FD{constructor(){this.enterprise=new HD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class HD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const qD="recaptcha-enterprise",YS="NO_RECAPTCHA";class $D{constructor(t){this.type=qD,this.auth=uc(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{TD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new ED(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;EE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(YS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&EE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=zD();f.length!==0&&(f+=h),GS(f).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function RE(n,t,e,i=!1,r=!1){const o=new $D(n);let c;if(r)c=YS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $_(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await RE(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await RE(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n,t){const e=Oy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(nc(o,t??{}))return r;ar(r,"already-initialized")}return e.initialize({options:t})}function YD(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(za);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function KD(n,t,e){const i=uc(n);qt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=KS(t),{host:c,port:h}=WD(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){qt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qt(nc(g,i.config.emulator)&&nc(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Su(c)?(ES(`${o}//${c}${f}`),TS("Auth",!0)):QD()}function KS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function WD(n){const t=KS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:CE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:CE(c)}}}function CE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function QD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ua("not implemented")}_getIdTokenResponse(t){return Ua("not implemented")}_linkToIdToken(t,e){return Ua("not implemented")}_getReauthenticationResolver(t){return Ua("not implemented")}}async function XD(n,t){return hl(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n,t){return jf(n,"POST","/v1/accounts:signInWithPassword",ul(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,t){return jf(n,"POST","/v1/accounts:signInWithEmailLink",ul(n,t))}async function t2(n,t){return jf(n,"POST","/v1/accounts:signInWithEmailLink",ul(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends Ly{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Sf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Sf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $_(t,e,"signInWithPassword",ZD);case"emailLink":return JD(t,{email:this._email,oobCode:this._password});default:ar(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $_(t,i,"signUpPassword",XD);case"emailLink":return t2(t,{idToken:e,email:this._email,oobCode:this._password});default:ar(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(n,t){return jf(n,"POST","/v1/accounts:signInWithIdp",ul(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="http://localhost";class sc extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new sc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ar("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Dy(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new sc(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return au(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,au(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,au(t,e)}buildRequest(){const t={requestUri:e2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Uf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i2(n){const t=tf(ef(n)).link,e=t?tf(ef(t)).deep_link_id:null,i=tf(ef(n)).deep_link_id;return(i?tf(ef(i)).link:null)||i||e||t||n}class Vy{constructor(t){var e,i,r,o,c,h;const f=tf(ef(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,b=n2((r=f.mode)!==null&&r!==void 0?r:null);qt(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=i2(t);try{return new Vy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.providerId=xu.PROVIDER_ID}static credential(t,e){return Sf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Vy.parseLink(e);return qt(i,"argument-error"),Sf._fromEmailAndCode(t,i.code,i.tenantId)}}xu.PROVIDER_ID="password";xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends WS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Bf{constructor(){super("facebook.com")}static credential(t){return sc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Uo.credentialFromTaggedObject(t)}static credentialFromError(t){return Uo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Uo.credential(t.oauthAccessToken)}catch{return null}}}Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Bf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return sc._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return zo.credentialFromTaggedObject(t)}static credentialFromError(t){return zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return zo.credential(e,i)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Bf{constructor(){super("github.com")}static credential(t){return sc._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jo.credentialFromTaggedObject(t)}static credentialFromError(t){return jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jo.credential(t.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Bf{constructor(){super("twitter.com")}static credential(t,e){return sc._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Bo.credential(e,i)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(n,t){return jf(n,"POST","/v1/accounts:signUp",ul(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await rr._fromIdTokenResponse(t,i,r),c=IE(i);return new rc({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=IE(i);return new rc({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function IE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends Ka{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Qg.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Qg(t,e,i,r)}}function QS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qg._fromErrorAndOperation(n,o,t,i):o})}async function r2(n,t,e=!1){const i=await wf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return rc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,t,e=!1){const{auth:i}=n;if(Ms(i.app))return Promise.reject(Ba(i));const r="reauthenticate";try{const o=await wf(n,QS(i,r,t,n),e);qt(o.idToken,i,"internal-error");const c=Py(o.idToken);qt(c,i,"internal-error");const{sub:h}=c;return qt(n.uid===h,i,"user-mismatch"),rc._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ar(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(n,t,e=!1){if(Ms(n.app))return Promise.reject(Ba(n));const i="signIn",r=await QS(n,i,t),o=await rc._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function o2(n,t){return XS(uc(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(n){const t=uc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function l2(n,t,e){if(Ms(n.app))return Promise.reject(Ba(n));const i=uc(n),c=await $_(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&ZS(n),f}),h=await rc._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function c2(n,t,e){return Ms(n.app)?Promise.reject(Ba(n)):o2(kn(n),xu.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ZS(n),i})}function u2(n,t,e,i){return kn(n).onIdTokenChanged(t,e,i)}function h2(n,t,e){return kn(n).beforeAuthStateChanged(t,e)}function df(n,t,e,i){return kn(n).onAuthStateChanged(t,e,i)}function f2(n){return kn(n).signOut()}const Xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=1e3,g2=10;class tA extends JS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);MD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,g2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}tA.type="LOCAL";const p2=tA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends JS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}eA.type="SESSION";const nA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Sp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await m2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=Uy("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function y2(n){Fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function v2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function E2(){return iA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebaseLocalStorageDb",T2=1,Zg="firebaseLocalStorage",rA="fbase_key";class Ff{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ap(n,t){return n.transaction([Zg],t?"readwrite":"readonly").objectStore(Zg)}function w2(){const n=indexedDB.deleteDatabase(sA);return new Ff(n).toPromise()}function G_(){const n=indexedDB.open(sA,T2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zg,{keyPath:rA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zg)?t(i):(i.close(),await w2(),t(await G_()))})})}async function OE(n,t,e){const i=Ap(n,!0).put({[rA]:t,value:e});return new Ff(i).toPromise()}async function S2(n,t){const e=Ap(n,!1).get(t),i=await new Ff(e).toPromise();return i===void 0?null:i.value}function DE(n,t){const e=Ap(n,!0).delete(t);return new Ff(e).toPromise()}const A2=800,x2=3;class aA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>x2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sp._getInstance(E2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await v2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await G_();return await OE(t,Xg,"1"),await DE(t,Xg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>OE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>S2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>DE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Ap(r,!1).getAll();return new Ff(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aA.type="LOCAL";const R2=aA;new zf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,t){return t?za(t):(qt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy extends Ly{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return au(t,this._buildIdpRequest())}_linkToIdToken(t,e){return au(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return au(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function I2(n){return XS(n.auth,new zy(n),n.bypassAuthState)}function O2(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),a2(e,new zy(n),n.bypassAuthState)}async function D2(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),r2(e,new zy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return D2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:ar(this.auth,"internal-error")}}resolve(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new zf(2e3,1e4);class iu extends oA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const t=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M2.get())};t()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="pendingRedirect",Mg=new Map;class P2 extends oA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Mg.get(this.auth._key());if(!t){try{const i=await N2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Mg.set(this.auth._key(),t)}return this.bypassAuthState||Mg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(n,t){const e=U2(t),i=V2(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function L2(n,t){Mg.set(n._key(),t)}function V2(n){return za(n._redirectPersistence)}function U2(n){return Dg(k2,n.config.apiKey,n.name)}async function z2(n,t,e=!1){if(Ms(n.app))return Promise.reject(Ba(n));const i=uc(n),r=C2(i,t),c=await new P2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=10*60*1e3;class B2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!F2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!lA(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Br(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(t))}saveEventToCache(t){this.cachedEventUids.add(ME(t)),this.lastProcessedEventTime=Date.now()}}function ME(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function lA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function F2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,t={}){return hl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function G2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await H2(n);for(const e of t)try{if(Y2(e))return}catch{}ar(n,"unauthorized-domain")}function Y2(n){const t=H_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!$2.test(e))return!1;if(q2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new zf(3e4,6e4);function kE(){const n=Fr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function W2(n){return new Promise((t,e)=>{var i,r,o;function c(){kE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kE(),e(Br(n,"network-request-failed"))},timeout:K2.get()})}if(!((r=(i=Fr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)c();else{const h=BD("iframefcb");return Fr()[h]=()=>{gapi.load?c():e(Br(n,"network-request-failed"))},GS(`${jD()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw kg=null,t})}let kg=null;function Q2(n){return kg=kg||W2(n),kg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new zf(5e3,15e3),Z2="__/auth/iframe",J2="emulator/auth/iframe",tM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nM(n){const t=n.config;qt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ky(t,J2):`https://${n.config.authDomain}/${Z2}`,i={apiKey:t.apiKey,appName:n.name,v:Au},r=eM.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Uf(i).slice(1)}`}async function iM(n){const t=await Q2(n),e=Fr().gapi;return qt(e,n,"internal-error"),t.open({where:document.body,url:nM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tM,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Br(n,"network-request-failed"),h=Fr().setTimeout(()=>{o(c)},X2.get());function f(){Fr().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rM=500,aM=600,oM="_blank",lM="http://localhost";class PE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cM(n,t,e,i=rM,r=aM){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},sM),{width:i.toString(),height:r.toString(),top:o,left:c}),g=ui().toLowerCase();e&&(h=zS(g)?oM:e),VS(g)&&(t=t||lM,f.scrollbars="yes");const _=Object.entries(f).reduce((E,[A,R])=>`${E}${A}=${R},`,"");if(DD(g)&&h!=="_self")return uM(t||"",h),new PE(null);const b=window.open(t||"",h,_);qt(b,n,"popup-blocked");try{b.focus()}catch{}return new PE(b)}function uM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="__/auth/handler",fM="emulator/auth/handler",dM=encodeURIComponent("fac");async function NE(n,t,e,i,r,o){qt(n.config.authDomain,n,"auth-domain-config-required"),qt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Au,eventId:r};if(t instanceof WS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",XI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(t instanceof Bf){const _=t.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${dM}=${encodeURIComponent(f)}`:"";return`${gM(n)}?${Uf(h).slice(1)}${g}`}function gM({config:n}){return n.emulator?ky(n,fM):`https://${n.authDomain}/${hM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="webStorageSupport";class pM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nA,this._completeRedirectFn=z2,this._overrideRedirectResult=L2}async _openPopup(t,e,i,r){var o;qa((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await NE(t,e,i,H_(),r);return cM(t,c,Uy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await NE(t,e,i,H_(),r);return y2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(qa(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await iM(t),i=new B2(t);return e.register("authEvent",r=>(qt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(v_,{type:v_},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[v_];c!==void 0&&e(!!c),ar(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=G2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return qS()||US()||Ny()}}const mM=pM;var LE="@firebase/auth",VE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vM(n){hu(new ic("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;qt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$S(n)},g=new VD(i,r,o,f);return YD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),hu(new ic("auth-internal",t=>{const e=uc(t.getProvider("auth").getImmediate());return(i=>new _M(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ko(LE,VE,yM(n)),Ko(LE,VE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=5*60,EM=bS("authIdTokenMaxAge")||bM;let UE=null;const TM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>EM)return;const r=e?.token;UE!==r&&(UE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function fu(n=xS()){const t=Oy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=GD(n,{popupRedirectResolver:mM,persistence:[R2,p2,nA]}),i=bS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=TM(o.toString());h2(e,c,()=>c(e.currentUser)),u2(e,h=>c(h))}}const r=yS("auth");return r&&KD(e,`http://${r}`),e}function wM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}UD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Br("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",wM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vM("Browser");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,cA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,k){function N(){}N.prototype=k.prototype,V.D=k.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(z,B,F){for(var U=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)U[ne-2]=arguments[ne];return k.prototype[B].apply(z,U)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,k,N){N||(N=0);var z=Array(16);if(typeof k=="string")for(var B=0;16>B;++B)z[B]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(B=0;16>B;++B)z[B]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=V.g[0],N=V.g[1],B=V.g[2];var F=V.g[3],U=k+(F^N&(B^F))+z[0]+3614090360&4294967295;k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[1]+3905402710&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[2]+606105819&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[3]+3250441966&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(F^N&(B^F))+z[4]+4118548399&4294967295,k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[5]+1200080426&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[6]+2821735955&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[7]+4249261313&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(F^N&(B^F))+z[8]+1770035416&4294967295,k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[9]+2336552879&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[10]+4294925233&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[11]+2304563134&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(F^N&(B^F))+z[12]+1804603682&4294967295,k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[13]+4254626195&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[14]+2792965006&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[15]+1236535329&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(B^F&(N^B))+z[1]+4129170786&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[6]+3225465664&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[11]+643717713&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[0]+3921069994&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(B^F&(N^B))+z[5]+3593408605&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[10]+38016083&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[15]+3634488961&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[4]+3889429448&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(B^F&(N^B))+z[9]+568446438&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[14]+3275163606&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[3]+4107603335&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[8]+1163531501&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(B^F&(N^B))+z[13]+2850285829&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[2]+4243563512&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[7]+1735328473&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[12]+2368359562&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(N^B^F)+z[5]+4294588738&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[8]+2272392833&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[11]+1839030562&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[14]+4259657740&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(N^B^F)+z[1]+2763975236&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[4]+1272893353&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[7]+4139469664&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[10]+3200236656&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(N^B^F)+z[13]+681279174&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[0]+3936430074&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[3]+3572445317&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[6]+76029189&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(N^B^F)+z[9]+3654602809&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[12]+3873151461&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[15]+530742520&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[2]+3299628645&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(B^(N|~F))+z[0]+4096336452&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[7]+1126891415&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[14]+2878612391&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[5]+4237533241&4294967295,N=B+(U<<21&4294967295|U>>>11),U=k+(B^(N|~F))+z[12]+1700485571&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[3]+2399980690&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[10]+4293915773&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[1]+2240044497&4294967295,N=B+(U<<21&4294967295|U>>>11),U=k+(B^(N|~F))+z[8]+1873313359&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[15]+4264355552&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[6]+2734768916&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[13]+1309151649&4294967295,N=B+(U<<21&4294967295|U>>>11),U=k+(B^(N|~F))+z[4]+4149444226&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[11]+3174756917&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[2]+718787259&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+F&4294967295}i.prototype.u=function(V,k){k===void 0&&(k=V.length);for(var N=k-this.blockSize,z=this.B,B=this.h,F=0;F<k;){if(B==0)for(;F<=N;)r(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<k;)if(z[B++]=V.charCodeAt(F++),B==this.blockSize){r(this,z),B=0;break}}else for(;F<k;)if(z[B++]=V[F++],B==this.blockSize){r(this,z),B=0;break}}this.h=B,this.o+=k},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var N=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=N&255,N/=256;for(this.u(V),V=Array(16),k=N=0;4>k;++k)for(var z=0;32>z;z+=8)V[N++]=this.g[k]>>>z&255;return V};function o(V,k){var N=h;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=k(V)}function c(V,k){this.h=k;for(var N=[],z=!0,B=V.length-1;0<=B;B--){var F=V[B]|0;z&&F==k||(N[B]=F,z=!1)}this.g=N}var h={};function f(V){return-128<=V&&128>V?o(V,function(k){return new c([k|0],0>k?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return P(g(-V));for(var k=[],N=1,z=0;V>=N;z++)k[z]=V/N|0,N*=4294967296;return new c(k,0)}function _(V,k){if(V.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V.charAt(0)=="-")return P(_(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(k,8)),z=b,B=0;B<V.length;B+=8){var F=Math.min(8,V.length-B),U=parseInt(V.substring(B,B+F),k);8>F?(F=g(Math.pow(k,F)),z=z.j(F).add(g(U))):(z=z.j(N),z=z.add(g(U)))}return z}var b=f(0),E=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(D(this))return-P(this).m();for(var V=0,k=1,N=0;N<this.g.length;N++){var z=this.i(N);V+=(0<=z?z:4294967296+z)*k,k*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(D(this))return"-"+P(this).toString(V);for(var k=g(Math.pow(V,6)),N=this,z="";;){var B=ct(N,k).g;N=L(N,B.j(k));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=B,R(N))return F+z;for(;6>F.length;)F="0"+F;z=F+z}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var k=0;k<V.g.length;k++)if(V.g[k]!=0)return!1;return!0}function D(V){return V.h==-1}n.l=function(V){return V=L(this,V),D(V)?-1:R(V)?0:1};function P(V){for(var k=V.g.length,N=[],z=0;z<k;z++)N[z]=~V.g[z];return new c(N,~V.h).add(E)}n.abs=function(){return D(this)?P(this):this},n.add=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0,B=0;B<=k;B++){var F=z+(this.i(B)&65535)+(V.i(B)&65535),U=(F>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);z=U>>>16,F&=65535,U&=65535,N[B]=U<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function L(V,k){return V.add(P(k))}n.j=function(V){if(R(this)||R(V))return b;if(D(this))return D(V)?P(this).j(P(V)):P(P(this).j(V));if(D(V))return P(this.j(P(V)));if(0>this.l(A)&&0>V.l(A))return g(this.m()*V.m());for(var k=this.g.length+V.g.length,N=[],z=0;z<2*k;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(var B=0;B<V.g.length;B++){var F=this.i(z)>>>16,U=this.i(z)&65535,ne=V.i(B)>>>16,Mt=V.i(B)&65535;N[2*z+2*B]+=U*Mt,G(N,2*z+2*B),N[2*z+2*B+1]+=F*Mt,G(N,2*z+2*B+1),N[2*z+2*B+1]+=U*ne,G(N,2*z+2*B+1),N[2*z+2*B+2]+=F*ne,G(N,2*z+2*B+2)}for(z=0;z<k;z++)N[z]=N[2*z+1]<<16|N[2*z];for(z=k;z<2*k;z++)N[z]=0;return new c(N,0)};function G(V,k){for(;(V[k]&65535)!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function J(V,k){this.g=V,this.h=k}function ct(V,k){if(R(k))throw Error("division by zero");if(R(V))return new J(b,b);if(D(V))return k=ct(P(V),k),new J(P(k.g),P(k.h));if(D(k))return k=ct(V,P(k)),new J(P(k.g),k.h);if(30<V.g.length){if(D(V)||D(k))throw Error("slowDivide_ only works with positive integers.");for(var N=E,z=k;0>=z.l(V);)N=rt(N),z=rt(z);var B=pt(N,1),F=pt(z,1);for(z=pt(z,2),N=pt(N,2);!R(z);){var U=F.add(z);0>=U.l(V)&&(B=B.add(N),F=U),z=pt(z,1),N=pt(N,1)}return k=L(V,B.j(k)),new J(B,k)}for(B=b;0<=V.l(k);){for(N=Math.max(1,Math.floor(V.m()/k.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),F=g(N),U=F.j(k);D(U)||0<U.l(V);)N-=z,F=g(N),U=F.j(k);R(F)&&(F=E),B=B.add(F),V=L(V,U)}return new J(B,V)}n.A=function(V){return ct(this,V).h},n.and=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)&V.i(z);return new c(N,this.h&V.h)},n.or=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)|V.i(z);return new c(N,this.h|V.h)},n.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)^V.i(z);return new c(N,this.h^V.h)};function rt(V){for(var k=V.g.length+1,N=[],z=0;z<k;z++)N[z]=V.i(z)<<1|V.i(z-1)>>>31;return new c(N,V.h)}function pt(V,k){var N=k>>5;k%=32;for(var z=V.g.length-N,B=[],F=0;F<z;F++)B[F]=0<k?V.i(F+N)>>>k|V.i(F+N+1)<<32-k:V.i(F+N);return new c(B,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Wo=c}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uA,nf,hA,Pg,Y_,fA,dA,gA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cg=="object"&&cg];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var w=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var W=d[O];if(!(W in w))break t;w=w[W]}d=d[d.length-1],O=w[d],v=v(O),v!=O&&v!=null&&t(w,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var w=0,O=!1,W={next:function(){if(!O&&w<d.length){var it=w++;return{value:v(it,d[it]),done:!1}}return O=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function _(d,v,w){return d.call.apply(d.bind,arguments)}function b(d,v,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,O),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function E(d,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,E.apply(null,arguments)}function A(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,W,it){for(var vt=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)vt[oe-2]=arguments[oe];return v.prototype[W].apply(O,vt)}}function D(d){const v=d.length;if(0<v){const w=Array(v);for(let O=0;O<v;O++)w[O]=d[O];return w}return[]}function P(d,v){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(f(O)){const W=d.length||0,it=O.length||0;d.length=W+it;for(let vt=0;vt<it;vt++)d[W+vt]=O[vt]}else d.push(O)}}class L{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function ct(d){return ct[" "](d),d}ct[" "]=function(){};var rt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pt(d,v,w){for(const O in d)v.call(w,d[O],O,d)}function V(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function k(d){const v={};for(const w in d)v[w]=d[w];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(d,v){let w,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(w in O)d[w]=O[w];for(let it=0;it<N.length;it++)w=N[it],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function B(d){var v=1;d=d.split(":");const w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function F(d){h.setTimeout(()=>{throw d},0)}function U(){var d=Lt;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ne{constructor(){this.h=this.g=null}add(v,w){const O=Mt.get();O.set(v,w),this.h?this.h.next=O:this.g=O,this.h=O}}var Mt=new L(()=>new et,d=>d.reset());class et{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,xt=!1,Lt=new ne,M=()=>{const d=h.Promise.resolve(void 0);gt=()=>{d.then(ht)}};var ht=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(w){F(w)}var v=Mt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}xt=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return d}();function zt(d,v){if(mt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(rt){t:{try{ct(v.nodeName);var W=!0;break t}catch{}W=!1}W||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:It[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&zt.aa.h.call(this)}}R(zt,mt);var It={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),bt=0;function hi(d,v,w,O,W){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!O,this.ha=W,this.key=++bt,this.da=this.fa=!1}function Us(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function zs(d){this.src=d,this.g={},this.h=0}zs.prototype.add=function(d,v,w,O,W){var it=d.toString();d=this.g[it],d||(d=this.g[it]=[],this.h++);var vt=Bi(d,v,O,W);return-1<vt?(v=d[vt],w||(v.fa=!1)):(v=new hi(v,this.src,it,!!O,W),v.fa=w,d.push(v)),v};function Wr(d,v){var w=v.type;if(w in d.g){var O=d.g[w],W=Array.prototype.indexOf.call(O,v,void 0),it;(it=0<=W)&&Array.prototype.splice.call(O,W,1),it&&(Us(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Bi(d,v,w,O){for(var W=0;W<d.length;++W){var it=d[W];if(!it.da&&it.listener==v&&it.capture==!!w&&it.ha==O)return W}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),js={};function Bs(d,v,w,O,W){if(Array.isArray(v)){for(var it=0;it<v.length;it++)Bs(d,v[it],w,O,W);return null}return w=Fi(w),d&&d[We]?d.K(v,w,g(O)?!!O.capture:!1,W):Ei(d,v,w,!1,O,W)}function Ei(d,v,w,O,W,it){if(!v)throw Error("Invalid event type");var vt=g(W)?!!W.capture:!!W,oe=Qa(d);if(oe||(d[ur]=oe=new zs(d)),w=oe.add(v,w,O,vt,it),w.proxy)return w;if(O=Nu(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)St||(W=vt),W===void 0&&(W=!1),d.addEventListener(v.toString(),O,W);else if(d.attachEvent)d.attachEvent(Qr(v.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Nu(){function d(w){return v.call(d.src,d.listener,w)}const v=Lu;return d}function gl(d,v,w,O,W){if(Array.isArray(v))for(var it=0;it<v.length;it++)gl(d,v[it],w,O,W);else O=g(O)?!!O.capture:!!O,w=Fi(w),d&&d[We]?(d=d.i,v=String(v).toString(),v in d.g&&(it=d.g[v],w=Bi(it,w,O,W),-1<w&&(Us(it[w]),Array.prototype.splice.call(it,w,1),it.length==0&&(delete d.g[v],d.h--)))):d&&(d=Qa(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Bi(v,w,O,W)),(w=-1<d?v[d]:null)&&Wa(w))}function Wa(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[We])Wr(v.i,d);else{var w=d.type,O=d.proxy;v.removeEventListener?v.removeEventListener(w,O,d.capture):v.detachEvent?v.detachEvent(Qr(w),O):v.addListener&&v.removeListener&&v.removeListener(O),(w=Qa(v))?(Wr(w,d),w.h==0&&(w.src=null,v[ur]=null)):Us(d)}}}function Qr(d){return d in js?js[d]:js[d]="on"+d}function Lu(d,v){if(d.da)d=!0;else{v=new zt(v,this);var w=d.listener,O=d.ha||d.src;d.fa&&Wa(d),d=w.call(O,v)}return d}function Qa(d){return d=d[ur],d instanceof zs?d:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(d){return typeof d=="function"?d:(d[hr]||(d[hr]=function(v){return d.handleEvent(v)}),d[hr])}function je(){yt.call(this),this.i=new zs(this),this.M=this,this.F=null}R(je,yt),je.prototype[We]=!0,je.prototype.removeEventListener=function(d,v,w,O){gl(this,d,v,w,O)};function Ee(d,v){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=v.type||v,typeof v=="string")v=new mt(v,d);else if(v instanceof mt)v.target=v.target||d;else{var W=v;v=new mt(O,d),z(v,W)}if(W=!0,w)for(var it=w.length-1;0<=it;it--){var vt=v.g=w[it];W=fi(vt,O,!0,v)&&W}if(vt=v.g=d,W=fi(vt,O,!0,v)&&W,W=fi(vt,O,!1,v)&&W,w)for(it=0;it<w.length;it++)vt=v.g=w[it],W=fi(vt,O,!1,v)&&W}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],O=0;O<w.length;O++)Us(w[O]);delete d.g[v],d.h--}}this.F=null},je.prototype.K=function(d,v,w,O){return this.i.add(String(d),v,!1,w,O)},je.prototype.L=function(d,v,w,O){return this.i.add(String(d),v,!0,w,O)};function fi(d,v,w,O){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,it=0;it<v.length;++it){var vt=v[it];if(vt&&!vt.da&&vt.capture==w){var oe=vt.listener,rn=vt.ha||vt.src;vt.fa&&Wr(d.i,vt),W=oe.call(rn,O)!==!1&&W}}return W&&!O.defaultPrevented}function Qe(d,v,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function Fs(d){d.g=Qe(()=>{d.g=null,d.i&&(d.i=!1,Fs(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class fr extends yt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(d){yt.call(this),this.h=d,this.g={}}R(ls,yt);var Xr=[];function Hs(d){pt(d.g,function(v,w){this.g.hasOwnProperty(w)&&Wa(v)},d),d.g={}}ls.prototype.N=function(){ls.aa.N.call(this),Hs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=h.JSON.stringify,Xa=h.JSON.parse,Zr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function pl(){}pl.prototype.h=null;function ml(d){return d.h||(d.h=d.i())}function _l(){}var cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){mt.call(this,"d")}R(Ti,mt);function Za(){mt.call(this,"c")}R(Za,mt);var qi={},yl=null;function dr(){return yl=yl||new je}qi.La="serverreachability";function Ja(d){mt.call(this,qi.La,d)}R(Ja,mt);function gr(d){const v=dr();Ee(v,new Ja(v))}qi.STAT_EVENT="statevent";function qs(d,v){mt.call(this,qi.STAT_EVENT,d),this.stat=v}R(qs,mt);function Te(d){const v=dr();Ee(v,new qs(v,d))}qi.Ma="timingevent";function nn(d,v){mt.call(this,qi.Ma,d),this.size=v}R(nn,mt);function Xe(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function wi(){this.g=!0}wi.prototype.xa=function(){this.g=!1};function vl(d,v,w,O,W,it){d.info(function(){if(d.g)if(it)for(var vt="",oe=it.split("&"),rn=0;rn<oe.length;rn++){var le=oe[rn].split("=");if(1<le.length){var _n=le[0];le=le[1];var an=_n.split("_");vt=2<=an.length&&an[1]=="type"?vt+(_n+"="+le+"&"):vt+(_n+"=redacted&")}}else vt=null;else vt=it;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+v+`
`+w+`
`+vt})}function Vu(d,v,w,O,W,it,vt){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+v+`
`+w+`
`+it+" "+vt})}function us(d,v,w,O){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+hs(d,w)+(O?" "+O:"")})}function $s(d,v){d.info(function(){return"TIMEOUT: "+v})}wi.prototype.info=function(){};function hs(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var W=O[1];if(Array.isArray(W)&&!(1>W.length)){var it=W[0];if(it!="noop"&&it!="stop"&&it!="close")for(var vt=1;vt<W.length;vt++)W[vt]=""}}}}return Hi(w)}catch{return v}}var pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fs;function ds(){}R(ds,pl),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},fs=new ds;function Ze(d,v,w,O){this.j=d,this.i=v,this.l=w,this.R=O||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ie}function ie(){this.i=null,this.g="",this.h=!1}var wn={},gn={};function ke(d,v,w){d.L=1,d.v=ys(Le(v)),d.m=w,d.P=!0,Si(d,null)}function Si(d,v){d.F=Date.now(),Ai(d),d.A=Le(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),sa(w.i,"t",O),d.C=0,w=d.j.J,d.h=new ie,d.g=yc(d.j,w?v:null,!d.m),0<d.O&&(d.M=new fr(E(d.Y,d,d.g),d.O)),v=d.U,w=d.g,O=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Xr[0]=W.toString()),W=Xr);for(var it=0;it<W.length;it++){var vt=Bs(w,W[it],O||v.handleEvent,!1,v.h||v);if(!vt)break;v.g[vt.key]=vt}v=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),gr(),vl(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const v=this.M;v&&xn(d)==3?v.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)t:{const an=xn(this.g);var v=this.g.Ba();const on=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||pc(this.g)))){this.J||an!=4||v==7||(v==8||0>=on?gr(3):gr(2)),ps(this);var w=this.g.Z();this.X=w;e:if(Gs(this)){var O=pc(this.g);d="";var W=O.length,it=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Fn(this);var vt="";break e}this.h.i=new h.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(O[v],{stream:!(it&&v==W-1)});O.length=0,this.h.g+=d,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=w==200,Vu(this.i,this.u,this.A,this.l,this.R,an,w),this.o){if(this.T&&!this.K){e:{if(this.g){var oe,rn=this.g;if((oe=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(oe)){var le=oe;break e}}le=null}if(w=le)us(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ys(this,w);else{this.o=!1,this.s=3,Te(12),pn(this),Fn(this);break t}}if(this.P){w=!0;let yn;for(;!this.J&&this.C<vt.length;)if(yn=gs(this,vt),yn==gn){an==4&&(this.s=4,Te(14),w=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==wn){this.s=4,Te(15),us(this.i,this.l,vt,"[Invalid Chunk]"),w=!1;break}else us(this.i,this.l,yn,null),Ys(this,yn);if(Gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||vt.length!=0||this.h.h||(this.s=1,Te(16),w=!1),this.o=this.o&&w,!w)us(this.i,this.l,vt,"[Invalid Chunked Response]"),pn(this),Fn(this);else if(0<vt.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),ha(_n),_n.M=!0,Te(11))}}else us(this.i,this.l,vt,null),Ys(this,vt);an==4&&pn(this),this.o&&!this.J&&(an==4?Cl(this.j,this):(this.o=!1,Ai(this)))}else mc(this.g),w==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),pn(this),Fn(this)}}}catch{}finally{}};function Gs(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function gs(d,v){var w=d.C,O=v.indexOf(`
`,w);return O==-1?gn:(w=Number(v.substring(w,O)),isNaN(w)?wn:(O+=1,O+w>v.length?gn:(v=v.slice(O,O+w),d.C=O+w,v)))}Ze.prototype.cancel=function(){this.J=!0,pn(this)};function Ai(d){d.S=Date.now()+d.I,bl(d,d.I)}function bl(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Xe(E(d.ba,d),v)}function ps(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?($s(this.i,this.A),this.L!=2&&(gr(),Te(17)),pn(this),this.s=2,Fn(this)):bl(this,this.S-d)};function Fn(d){d.j.G==0||d.J||Cl(d.j,d)}function pn(d){ps(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Hs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ys(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||eo(w.h,d))){if(!d.K&&eo(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)fa(w),la(w);else break t;Rl(w),Te(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xe(E(w.Za,w),6e3));if(1>=ta(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Qi(w,11)}else if((d.K||w.g==d)&&fa(w),!G(v))for(W=w.Da.g.parse(v),v=0;v<W.length;v++){let le=W[v];if(w.T=le[0],le=le[1],w.G==2)if(le[0]=="c"){w.K=le[1],w.ia=le[2];const _n=le[3];_n!=null&&(w.la=_n,w.j.info("VER="+w.la));const an=le[4];an!=null&&(w.Aa=an,w.j.info("SVER="+w.Aa));const on=le[5];on!=null&&typeof on=="number"&&0<on&&(O=1.5*on,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const yn=d.g;if(yn){const Xi=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var it=O.h;it.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(ea(it,it.h),it.h=null))}if(O.D){const co=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(O.ya=co,ae(O.I,O.D,co))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var vt=d;if(O.qa=Il(O,O.J?O.ia:null,O.W),vt.K){Pn(O.h,vt);var oe=vt,rn=O.L;rn&&(oe.I=rn),oe.B&&(ps(oe),Ai(oe)),O.g=vt}else ua(O);0<w.i.length&&ca(w)}else le[0]!="stop"&&le[0]!="close"||Qi(w,7);else w.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Qi(w,7):ro(w):le[0]!="noop"&&w.l&&w.l.ta(le),w.v=0)}}gr(4)}catch{}}var to=class{constructor(d,v){this.g=d,this.map=v}};function ms(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ta(d){return d.h?1:d.g?d.g.size:0}function eo(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function ea(d,v){d.g?d.g.add(v):d.h=v}function Pn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}ms.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function no(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.D);return v}return D(d.i)}function dc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],w=d.length,O=0;O<w;O++)v.push(d[O]);return v}v=[],w=0;for(O in d)v[w++]=d[O];return v}function na(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(const O in d)v[w++]=O;return v}}}function io(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=na(d),O=dc(d),W=O.length,it=0;it<W;it++)v.call(void 0,O[it],w&&w[it],d)}var Nn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hn(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),W=null;if(0<=O){var it=d[w].substring(0,O);W=d[w].substring(O+1)}else it=d[w];v(it,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ie(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ie){this.h=d.h,Ks(this,d.j),this.o=d.o,this.g=d.g,_s(this,d.s),this.l=d.l;var v=d.i,w=new Ln;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),mn(this,w),this.m=d.m}else d&&(v=String(d).match(Nn))?(this.h=!1,Ks(this,v[1]||"",!0),this.o=Sn(v[2]||""),this.g=Sn(v[3]||"",!0),_s(this,v[4]),this.l=Sn(v[5]||"",!0),mn(this,v[6]||"",!0),this.m=Sn(v[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Ie.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ws(v,vs,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ws(v,vs,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ws(w,w.charAt(0)=="/"?gc:ia,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ws(w,so)),d.join("")};function Le(d){return new Ie(d)}function Ks(d,v,w){d.j=w?Sn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function _s(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function mn(d,v,w){v instanceof Ln?(d.i=v,Tl(d.i,d.h)):(w||(v=Ws(v,Gi)),d.i=new Ln(v,d.h))}function ae(d,v,w){d.i.set(v,w)}function ys(d){return ae(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ws(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,El),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function El(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vs=/[#\/\?@]/g,ia=/[#\?:]/g,gc=/[#\?]/g,Gi=/[#\?@]/g,so=/#/g;function Ln(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&Hn(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Ln.prototype,n.add=function(d,v){qn(this),this.i=null,d=ti(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function bs(d,v){qn(d),v=ti(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function di(d,v){return qn(d),v=ti(d,v),d.g.has(v)}n.forEach=function(d,v){qn(this),this.g.forEach(function(w,O){w.forEach(function(W){d.call(v,W,O,this)},this)},this)},n.na=function(){qn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let O=0;O<v.length;O++){const W=d[O];for(let it=0;it<W.length;it++)w.push(v[O])}return w},n.V=function(d){qn(this);let v=[];if(typeof d=="string")di(this,d)&&(v=v.concat(this.g.get(ti(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},n.set=function(d,v){return qn(this),this.i=null,d=ti(this,d),di(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function sa(d,v,w){bs(d,v),0<w.length&&(d.i=null,d.g.set(ti(d,v),D(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var O=v[w];const it=encodeURIComponent(String(O)),vt=this.V(O);for(O=0;O<vt.length;O++){var W=it;vt[O]!==""&&(W+="="+encodeURIComponent(String(vt[O]))),d.push(W)}}return this.i=d.join("&")};function ti(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Tl(d,v){v&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(w,O){var W=O.toLowerCase();O!=W&&(bs(this,O),sa(this,W,w))},d)),d.j=v}function mr(d,v){const w=new wi;if(h.Image){const O=new Image;O.onload=A(An,w,"TestLoadImage: loaded",!0,v,O),O.onerror=A(An,w,"TestLoadImage: error",!1,v,O),O.onabort=A(An,w,"TestLoadImage: abort",!1,v,O),O.ontimeout=A(An,w,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else v(!1)}function xi(d,v){const w=new wi,O=new AbortController,W=setTimeout(()=>{O.abort(),An(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:O.signal}).then(it=>{clearTimeout(W),it.ok?An(w,"TestPingServer: ok",!0,v):An(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),An(w,"TestPingServer: error",!1,v)})}function An(d,v,w,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(w)}catch{}}function ra(){this.g=new Zr}function Yi(d,v,w){const O=w||"";try{io(d,function(W,it){let vt=W;g(W)&&(vt=Hi(W)),v.push(O+it+"="+encodeURIComponent(vt))})}catch(W){throw v.push(O+"type="+encodeURIComponent("_badmap")),W}}function Es(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Es,pl),Es.prototype.g=function(){return new Ri(this.l,this.j)},Es.prototype.i=function(d){return function(){return d}}({});function Ri(d,v){je.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ri,je),n=Ri.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,gi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aa(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function aa(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ts(this):gi(this),this.readyState==3&&aa(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ts(this))},n.Qa=function(d){this.g&&(this.response=d,Ts(this))},n.ga=function(){this.g&&Ts(this)};function Ts(d){d.readyState=4,d.l=null,d.j=null,d.v=null,gi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function gi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function wl(d){let v="";return pt(d,function(w,O){v+=O,v+=":",v+=w,v+=`\r
`}),v}function sn(d,v,w){t:{for(O in w){var O=!1;break t}O=!0}O||(w=wl(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ae(d,v,w))}function fe(d){je.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(fe,je);var _r=/^https?$/i,Qs=["POST","PUT"];n=fe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fs.g(),this.v=this.o?ml(this.o):ml(fs),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(it){Sl(this,it);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)w.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const it of O.keys())w.set(it,O.get(it));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(it=>it.toLowerCase()=="content-type"),W=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Qs,v,void 0))||O||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,vt]of w)this.g.setRequestHeader(it,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vr(this),this.u=!0,this.g.send(d),this.u=!1}catch(it){Sl(this,it)}};function Sl(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ws(d),Ki(d)}function ws(d){d.A||(d.A=!0,Ee(d,"complete"),Ee(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ee(this,"complete"),Ee(this,"abort"),Ki(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yr(this):this.bb())},n.bb=function(){yr(this)};function yr(d){if(d.h&&typeof c<"u"&&(!d.v[1]||xn(d)!=4||d.Z()!=2)){if(d.u&&xn(d)==4)Qe(d.Ea,0,d);else if(Ee(d,"readystatechange"),xn(d)==4){d.h=!1;try{const vt=d.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var O;if(O=vt===0){var W=String(d.D).match(Nn)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),O=!_r.test(W?W.toLowerCase():"")}w=O}if(w)Ee(d,"complete"),Ee(d,"success");else{d.m=6;try{var it=2<xn(d)?d.g.statusText:""}catch{it=""}d.l=it+" ["+d.Z()+"]",ws(d)}}finally{Ki(d)}}}}function Ki(d,v){if(d.g){vr(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ee(d,"ready");try{w.onreadystatechange=O}catch{}}}function vr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Xa(v)}};function pc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function mc(d){const v={};d=(d.g&&2<=xn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(G(d[O]))continue;var w=B(d[O]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const it=v[W]||[];v[W]=it,it.push(w)}V(v,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function oa(d){this.Aa=0,this.i=[],this.j=new wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,d),this.cb=br("retryDelaySeedMs",1e4,d),this.Wa=br("forwardChannelMaxRetries",2,d),this.wa=br("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(d&&d.concurrentRequestLimit),this.Da=new ra,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oa.prototype,n.la=8,n.G=1,n.connect=function(d,v,w,O){Te(0),this.W=d,this.H=v||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=Il(this,null,this.W),ca(this)};function ro(d){if(ao(d),d.G==3){var v=d.U++,w=Le(d.I);if(ae(w,"SID",d.K),ae(w,"RID",v),ae(w,"TYPE","terminate"),Er(d,w),v=new Ze(d,d.j,v),v.L=2,v.v=ys(Le(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=yc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ai(v)}_c(d)}function la(d){d.g&&(ha(d),d.g.cancel(),d.g=null)}function ao(d){la(d),d.u&&(h.clearTimeout(d.u),d.u=null),fa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function ca(d){if(!Jr(d.h)&&!d.s){d.s=!0;var v=d.Ga;gt||M(),xt||(gt(),xt=!0),Lt.add(v,d),d.B=0}}function Uu(d,v){return ta(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Xe(E(d.Ga,d,v),Wi(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Ze(this,this.j,d);let it=this.o;if(this.S&&(it?(it=k(it),z(it,this.S)):it=this.S),this.m!==null||this.O||(W.H=it,it=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=xl(this,W,v),w=Le(this.I),ae(w,"RID",d),ae(w,"CVER",22),this.D&&ae(w,"X-HTTP-Session-Id",this.D),Er(this,w),it&&(this.O?v="headers="+encodeURIComponent(String(wl(it)))+"&"+v:this.m&&sn(w,this.m,it)),ea(this.h,W),this.Ua&&ae(w,"TYPE","init"),this.P?(ae(w,"$req",v),ae(w,"SID","null"),W.T=!0,ke(W,w,null)):ke(W,w,v),this.G=2}}else this.G==3&&(d?Al(this,d):this.i.length==0||Jr(this.h)||Al(this))};function Al(d,v){var w;v?w=v.l:w=d.U++;const O=Le(d.I);ae(O,"SID",d.K),ae(O,"RID",w),ae(O,"AID",d.T),Er(d,O),d.m&&d.o&&sn(O,d.m,d.o),w=new Ze(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=xl(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ea(d.h,w),ke(w,O,v)}function Er(d,v){d.H&&pt(d.H,function(w,O){ae(v,O,w)}),d.l&&io({},function(w,O){ae(v,O,w)})}function xl(d,v,w){w=Math.min(d.i.length,w);var O=d.l?E(d.l.Na,d.l,d):null;t:{var W=d.i;let it=-1;for(;;){const vt=["count="+w];it==-1?0<w?(it=W[0].g,vt.push("ofs="+it)):it=0:vt.push("ofs="+it);let oe=!0;for(let rn=0;rn<w;rn++){let le=W[rn].g;const _n=W[rn].map;if(le-=it,0>le)it=Math.max(0,W[rn].g-100),oe=!1;else try{Yi(_n,vt,"req"+le+"_")}catch{O&&O(_n)}}if(oe){O=vt.join("&");break t}}}return d=d.i.splice(0,w),v.D=d,O}function ua(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;gt||M(),xt||(gt(),xt=!0),Lt.add(v,d),d.v=0}}function Rl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Xe(E(d.Fa,d),Wi(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,oo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Xe(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),la(this),oo(this))};function ha(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function oo(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Le(d.qa);ae(v,"RID","rpc"),ae(v,"SID",d.K),ae(v,"AID",d.T),ae(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ae(v,"TO",d.ja),ae(v,"TYPE","xmlhttp"),Er(d,v),d.m&&d.o&&sn(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=ys(Le(v)),w.m=null,w.P=!0,Si(w,d)}n.Za=function(){this.C!=null&&(this.C=null,la(this),Rl(this),Te(19))};function fa(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Cl(d,v){var w=null;if(d.g==v){fa(d),ha(d),d.g=null;var O=2}else if(eo(d.h,v))w=v.D,Pn(d.h,v),O=1;else return;if(d.G!=0){if(v.o)if(O==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;O=dr(),Ee(O,new nn(O,w)),ca(d)}else ua(d);else if(W=v.s,W==3||W==0&&0<v.X||!(O==1&&Uu(d,v)||O==2&&Rl(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),W){case 1:Qi(d,5);break;case 4:Qi(d,10);break;case 3:Qi(d,6);break;default:Qi(d,2)}}}function Wi(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function Qi(d,v){if(d.j.info("Error code "+v),v==2){var w=E(d.fb,d),O=d.Xa;const W=!O;O=new Ie(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ks(O,"https"),ys(O),W?mr(O.toString(),w):xi(O.toString(),w)}else Te(2);d.G=0,d.l&&d.l.sa(v),_c(d),ao(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function _c(d){if(d.G=0,d.ka=[],d.l){const v=no(d.h);(v.length!=0||d.i.length!=0)&&(P(d.ka,v),P(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function Il(d,v,w){var O=w instanceof Ie?Le(w):new Ie(w);if(O.g!="")v&&(O.g=v+"."+O.g),_s(O,O.s);else{var W=h.location;O=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var it=new Ie(null);O&&Ks(it,O),v&&(it.g=v),W&&_s(it,W),w&&(it.l=w),O=it}return w=d.D,v=d.ya,w&&v&&ae(O,w,v),ae(O,"VER",d.la),Er(d,O),O}function yc(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new fe(new Es({eb:w})):new fe(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}n=vc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(d,v){return new $n(d,v)};function $n(d,v){je.call(this),this.g=new oa(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!G(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ss(this)}R($n,je),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){ro(this.g)},$n.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Hi(d),d=w);v.i.push(new to(v.Ya++,d)),v.G==3&&ca(v)},$n.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,$n.aa.N.call(this)};function Ol(d){Ti.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const w in v){d=w;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(Ol,Ti);function Dl(){Za.call(this),this.status=1}R(Dl,Za);function Ss(d){this.g=d}R(Ss,vc),Ss.prototype.ua=function(){Ee(this.g,"a")},Ss.prototype.ta=function(d){Ee(this.g,new Ol(d))},Ss.prototype.sa=function(d){Ee(this.g,new Dl)},Ss.prototype.ra=function(){Ee(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,gA=function(){return new lo},dA=function(){return dr()},fA=qi,Y_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Pg=pr,$i.COMPLETE="complete",hA=$i,_l.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",je.prototype.listen=je.prototype.K,nf=_l,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,uA=fe}).apply(typeof cg<"u"?cg:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",BE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Cy("@firebase/firestore");function Jc(){return ac.logLevel}function Ct(n,...t){if(ac.logLevel<=ce.DEBUG){const e=t.map(jy);ac.debug(`Firestore (${Ru}): ${n}`,...e)}}function $a(n,...t){if(ac.logLevel<=ce.ERROR){const e=t.map(jy);ac.error(`Firestore (${Ru}): ${n}`,...e)}}function el(n,...t){if(ac.logLevel<=ce.WARN){const e=t.map(jy);ac.warn(`Firestore (${Ru}): ${n}`,...e)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,pA(n,i,e)}function pA(n,t,e){let i=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw $a(i),new Error(i)}function we(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||pA(t,r,i)}function Xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Ka{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(li.UNAUTHENTICATED))}shutdown(){}}class AM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class xM{constructor(t){this.t=t,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){we(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qo,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qo)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string",31837,{l:i}),new mA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string",2055,{h:t}),new li(t)}}class RM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new RM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){we(this.o===void 0,3512);const i=o=>{o.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(we(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new FE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=OM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function te(n,t){return n<t?-1:n>t?1:0}function K_(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return te(i,r);{const o=_A(),c=DM(o.encode(HE(n,e)),o.encode(HE(t,e)));return c!==0?c:te(i,r)}}e+=i>65535?2:1}return te(n.length,t.length)}function HE(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function DM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return te(n[e],t[e]);return te(n.length,t.length)}function du(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class Ur{constructor(t,e,i){e===void 0?e=0:e>t.length&&$t(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&$t(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ur.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ur?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ur.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return te(t.length,e.length)}static compareSegments(t,e){const i=Ur.isNumericId(t),r=Ur.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ur.extractNumericId(t).compare(Ur.extractNumericId(e)):K_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wo.fromString(t.substring(4,t.length-2))}}class ze extends Ur{construct(t,e,i){return new ze(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new At(ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ze(e)}static emptyPath(){return new ze([])}}const MM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Ur{construct(t,e,i){return new Xn(t,e,i)}static isValidIdentifier(t){return MM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Xn([qE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new At(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new At(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new At(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new At(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xn(e)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(ze.fromString(t))}static fromName(t){return new Nt(ze.fromString(t).popFirst(5))}static empty(){return new Nt(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ze.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new ze(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n,t,e){if(!e)throw new At(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kM(n,t,e,i){if(t===!0&&i===!0)throw new At(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function $E(n){if(!Nt.isDocumentKey(n))throw new At(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GE(n){if(Nt.isDocumentKey(n))throw new At(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":$t(12329,{type:typeof n})}function Ps(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new At(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=xp(n);throw new At(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Hf(n,t){if(!vA(n))throw new At(ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new At(ut.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=-62135596800,KE=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*KE);return new Fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<YE)throw new At(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hf(t,Fe._jsonSchema))return new Fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-YE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Tn("string",Fe._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(t){return new Wt(t)}static min(){return new Wt(new Fe(0,0))}static max(){return new Wt(new Fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function PM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(i===1e9?new Fe(e+1,0):new Fe(e,i));return new nl(r,Nt.empty(),t)}function NM(n){return new nl(n.readTime,n.key,Af)}class nl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new nl(Wt.min(),Nt.empty(),Af)}static max(){return new nl(Wt.max(),Nt.empty(),Af)}}function LM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Nt.comparator(n.documentKey,t.documentKey),e!==0?e:te(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==VM)throw n;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.reject(e)}static resolve(t){return new dt((e,i)=>{e(t)})}static reject(t){return new dt((e,i)=>{i(t)})}static waitFor(t){return new dt((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=dt.resolve(!1);for(const i of t)e=e.next(r=>r?dt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new dt((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(_=>{c[g]=_,++h,h===o&&i(c)},_=>r(_))}})}static doWhile(t,e){return new dt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function zM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Iu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Rp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-1;function Cp(n){return n==null}function Jg(n){return n===0&&1/n==-1/0}function jM(n){return typeof n=="number"&&Number.isInteger(n)&&!Jg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="";function BM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=WE(t)),t=FM(n.get(e),t);return WE(t)}function FM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case bA:e+="";break;default:e+=o}}return e}function WE(n){return n+bA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function fl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function EA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,e){this.comparator=t,this.root=e||Qn.EMPTY}insert(t,e){return new Ke(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(t){return new Ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ug(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ug(this.root,t,this.comparator,!1)}getReverseIterator(){return new ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ug(this.root,t,this.comparator,!0)}}class ug{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Qn.RED,this.left=r??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Qn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Qn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $t(27949);return t+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Qn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.comparator=t,this.data=new Ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(t){return new XE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Mn(this.comparator);return e.data=t,e}}class XE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this.fields=t,t.sort(Xn.comparator)}static empty(){return new os([])}unionWith(t){let e=new Mn(Xn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new os(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return du(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TA("Invalid base64 string: "+o):o}}(t);return new Jn(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Jn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const HM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(we(!!n,39018),typeof n=="string"){let t=0;const e=HM.exec(n);if(we(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sl(n){return typeof n=="string"?Jn.fromBase64String(n):Jn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="server_timestamp",SA="__type__",AA="__previous_value__",xA="__local_write_time__";function Hy(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[SA])===null||e===void 0?void 0:e.stringValue)===wA}function Ip(n){const t=n.mapValue.fields[AA];return Hy(t)?Ip(t):t}function xf(n){const t=il(n.mapValue.fields[xA].timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,e,i,r,o,c,h,f,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=_}}const tp="(default)";class Rf{constructor(t,e){this.projectId=t,this.database=e||tp}static empty(){return new Rf("","")}get isDefaultDatabase(){return this.database===tp}isEqual(t){return t instanceof Rf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="__type__",$M="__max__",hg={mapValue:{}},CA="__vector__",ep="value";function rl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hy(n)?4:YM(n)?9007199254740991:GM(n)?10:11:$t(28295,{value:n})}function Yr(n,t){if(n===t)return!0;const e=rl(n);if(e!==rl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return xf(n).isEqual(xf(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=il(r.timestampValue),h=il(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return sl(r.bytesValue).isEqual(sl(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return fn(r.geoPointValue.latitude)===fn(o.geoPointValue.latitude)&&fn(r.geoPointValue.longitude)===fn(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return fn(r.integerValue)===fn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=fn(r.doubleValue),h=fn(o.doubleValue);return c===h?Jg(c)===Jg(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return du(n.arrayValue.values||[],t.arrayValue.values||[],Yr);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(QE(c)!==QE(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Yr(c[f],h[f])))return!1;return!0}(n,t);default:return $t(52216,{left:n})}}function Cf(n,t){return(n.values||[]).find(e=>Yr(e,t))!==void 0}function gu(n,t){if(n===t)return 0;const e=rl(n),i=rl(t);if(e!==i)return te(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=fn(o.integerValue||o.doubleValue),f=fn(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return ZE(n.timestampValue,t.timestampValue);case 4:return ZE(xf(n),xf(t));case 5:return K_(n.stringValue,t.stringValue);case 6:return function(o,c){const h=sl(o),f=sl(c);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=te(h[g],f[g]);if(_!==0)return _}return te(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=te(fn(o.latitude),fn(c.latitude));return h!==0?h:te(fn(o.longitude),fn(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return JE(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,f,g,_;const b=o.fields||{},E=c.fields||{},A=(h=b[ep])===null||h===void 0?void 0:h.arrayValue,R=(f=E[ep])===null||f===void 0?void 0:f.arrayValue,D=te(((g=A?.values)===null||g===void 0?void 0:g.length)||0,((_=R?.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:JE(A,R)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===hg.mapValue&&c===hg.mapValue)return 0;if(o===hg.mapValue)return 1;if(c===hg.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let b=0;b<f.length&&b<_.length;++b){const E=K_(f[b],_[b]);if(E!==0)return E;const A=gu(h[f[b]],g[_[b]]);if(A!==0)return A}return te(f.length,_.length)}(n.mapValue,t.mapValue);default:throw $t(23264,{le:e})}}function ZE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return te(n,t);const e=il(n),i=il(t),r=te(e.seconds,i.seconds);return r!==0?r:te(e.nanos,i.nanos)}function JE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=gu(e[r],i[r]);if(o)return o}return te(e.length,i.length)}function pu(n){return W_(n)}function W_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=il(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return sl(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Nt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=W_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${W_(e.fields[c])}`;return r+"}"}(n.mapValue):$t(61005,{value:n})}function Ng(n){switch(rl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ip(n);return t?16+Ng(t):16;case 5:return 2*n.stringValue.length;case 6:return sl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Ng(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return fl(i.fields,(o,c)=>{r+=o.length+Ng(c)}),r}(n.mapValue);default:throw $t(13486,{value:n})}}function tT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Q_(n){return!!n&&"integerValue"in n}function qy(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"nullValue"in n}function nT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lg(n){return!!n&&"mapValue"in n}function GM(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[RA])===null||e===void 0?void 0:e.stringValue)===CA}function gf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return fl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=gf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function YM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Lg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gf(e)}setAll(t){let e=Xn.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=gf(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Lg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Yr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Lg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){fl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Vi(gf(this.value))}}function IA(n){const t=[];return fl(n.fields,(e,i)=>{const r=new Xn([e]);if(Lg(i)){const o=IA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new os(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ci(t,0,Wt.min(),Wt.min(),Wt.min(),Vi.empty(),0)}static newFoundDocument(t,e,i,r){return new ci(t,1,e,Wt.min(),i,r,0)}static newNoDocument(t,e){return new ci(t,2,e,Wt.min(),Wt.min(),Vi.empty(),0)}static newUnknownDocument(t,e){return new ci(t,3,e,Wt.min(),Wt.min(),Vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,e){this.position=t,this.inclusive=e}}function iT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=Nt.comparator(Nt.fromName(c.referenceValue),e.key):i=gu(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function sT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Yr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,e="asc"){this.field=t,this.dir=e}}function KM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{}class En extends OA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new QM(t,e,i):e==="array-contains"?new JM(t,i):e==="in"?new tk(t,i):e==="not-in"?new ek(t,i):e==="array-contains-any"?new nk(t,i):new En(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new XM(t,i):new ZM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(gu(e,this.value)):e!==null&&rl(this.value)===rl(e)&&this.matchesComparison(gu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends OA{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new or(t,e)}matches(t){return DA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function DA(n){return n.op==="and"}function MA(n){return WM(n)&&DA(n)}function WM(n){for(const t of n.filters)if(t instanceof or)return!1;return!0}function X_(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+pu(n.value);if(MA(n))return n.filters.map(t=>X_(t)).join(",");{const t=n.filters.map(e=>X_(e)).join(",");return`${n.op}(${t})`}}function kA(n,t){return n instanceof En?function(i,r){return r instanceof En&&i.op===r.op&&i.field.isEqual(r.field)&&Yr(i.value,r.value)}(n,t):n instanceof or?function(i,r){return r instanceof or&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&kA(c,r.filters[h]),!0):!1}(n,t):void $t(19439)}function PA(n){return n instanceof En?function(e){return`${e.field.canonicalString()} ${e.op} ${pu(e.value)}`}(n):n instanceof or?function(e){return e.op.toString()+" {"+e.getFilters().map(PA).join(" ,")+"}"}(n):"Filter"}class QM extends En{constructor(t,e,i){super(t,e,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const e=Nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class XM extends En{constructor(t,e){super(t,"in",e),this.keys=NA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ZM extends En{constructor(t,e){super(t,"not-in",e),this.keys=NA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function NA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Nt.fromName(i.referenceValue))}class JM extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return qy(e)&&Cf(e.arrayValue,this.value)}}class tk extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Cf(this.value.arrayValue,e)}}class ek extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Cf(this.value.arrayValue,e)}}class nk extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!qy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Cf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Pe=null}}function rT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new ik(n,t,e,i,r,o,c)}function $y(n){const t=Xt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>X_(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Cp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>pu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>pu(i)).join(",")),t.Pe=e}return t.Pe}function Gy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!KM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!kA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!sT(n.startAt,t.startAt)&&sT(n.endAt,t.endAt)}function Z_(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sk(n,t,e,i,r,o,c,h){return new qf(n,t,e,i,r,o,c,h)}function Op(n){return new qf(n)}function aT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LA(n){return n.collectionGroup!==null}function pf(n){const t=Xt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mn(Xn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new ip(o,i))}),e.has(Xn.keyField().canonicalString())||t.Te.push(new ip(Xn.keyField(),i))}return t.Te}function Hr(n){const t=Xt(n);return t.Ie||(t.Ie=rk(t,pf(n))),t.Ie}function rk(n,t){if(n.limitType==="F")return rT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new ip(r.field,o)});const e=n.endAt?new np(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new np(n.startAt.position,n.startAt.inclusive):null;return rT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function J_(n,t){const e=n.filters.concat([t]);return new qf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ty(n,t,e){return new qf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Dp(n,t){return Gy(Hr(n),Hr(t))&&n.limitType===t.limitType}function VA(n){return`${$y(Hr(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>PA(r)).join(", ")}]`),Cp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>pu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>pu(r)).join(",")),`Target(${i})`}(Hr(n))}; limitType=${n.limitType})`}function Mp(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Nt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of pf(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,f){const g=iT(c,h,f);return c.inclusive?g<=0:g<0}(i.startAt,pf(i),r)||i.endAt&&!function(c,h,f){const g=iT(c,h,f);return c.inclusive?g>=0:g>0}(i.endAt,pf(i),r))}(n,t)}function ak(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UA(n){return(t,e)=>{let i=!1;for(const r of pf(n)){const o=ok(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function ok(n,t,e){const i=n.field.isKeyField()?Nt.comparator(t.key,e.key):function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?gu(f,g):$t(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $t(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){fl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Ke(Nt.comparator);function Ga(){return lk}const zA=new Ke(Nt.comparator);function sf(...n){let t=zA;for(const e of n)t=t.insert(e.key,e);return t}function jA(n){let t=zA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Xl(){return mf()}function BA(){return mf()}function mf(){return new hc(n=>n.toString(),(n,t)=>n.isEqual(t))}const ck=new Ke(Nt.comparator),uk=new Mn(Nt.comparator);function ue(...n){let t=uk;for(const e of n)t=t.add(e);return t}const hk=new Mn(te);function fk(){return hk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jg(t)?"-0":t}}function FA(n){return{integerValue:""+n}}function dk(n,t){return jM(t)?FA(t):Yy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this._=void 0}}function gk(n,t,e){return n instanceof sp?function(r,o){const c={fields:{[SA]:{stringValue:wA},[xA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Hy(o)&&(o=Ip(o)),o&&(c.fields[AA]=o),{mapValue:c}}(e,t):n instanceof If?qA(n,t):n instanceof Of?$A(n,t):function(r,o){const c=HA(r,o),h=oT(c)+oT(r.Ee);return Q_(c)&&Q_(r.Ee)?FA(h):Yy(r.serializer,h)}(n,t)}function pk(n,t,e){return n instanceof If?qA(n,t):n instanceof Of?$A(n,t):e}function HA(n,t){return n instanceof rp?function(i){return Q_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class sp extends kp{}class If extends kp{constructor(t){super(),this.elements=t}}function qA(n,t){const e=GA(t);for(const i of n.elements)e.some(r=>Yr(r,i))||e.push(i);return{arrayValue:{values:e}}}class Of extends kp{constructor(t){super(),this.elements=t}}function $A(n,t){let e=GA(t);for(const i of n.elements)e=e.filter(r=>!Yr(r,i));return{arrayValue:{values:e}}}class rp extends kp{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function oT(n){return fn(n.integerValue||n.doubleValue)}function GA(n){return qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mk(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof If&&r instanceof If||i instanceof Of&&r instanceof Of?du(i.elements,r.elements,Yr):i instanceof rp&&r instanceof rp?Yr(i.Ee,r.Ee):i instanceof sp&&r instanceof sp}(n.transform,t.transform)}class _k{constructor(t,e){this.version=t,this.transformResults=e}}class Ns{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ns}static exists(t){return new Ns(void 0,t)}static updateTime(t){return new Ns(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vg(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Pp{}function YA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ky(n.key,Ns.none()):new $f(n.key,n.data,Ns.none());{const e=n.data,i=Vi.empty();let r=new Mn(Xn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new dl(n.key,i,new os(r.toArray()),Ns.none())}}function yk(n,t,e){n instanceof $f?function(r,o,c){const h=r.value.clone(),f=cT(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof dl?function(r,o,c){if(!Vg(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=cT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(KA(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function _f(n,t,e,i){return n instanceof $f?function(o,c,h,f){if(!Vg(o.precondition,c))return h;const g=o.value.clone(),_=uT(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof dl?function(o,c,h,f){if(!Vg(o.precondition,c))return h;const g=uT(o.fieldTransforms,f,c),_=c.data;return _.setAll(KA(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,t,e,i):function(o,c,h){return Vg(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function vk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=HA(i.transform,r||null);o!=null&&(e===null&&(e=Vi.empty()),e.set(i.field,o))}return e||null}function lT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&du(i,r,(o,c)=>mk(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class $f extends Pp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dl extends Pp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function cT(n,t,e){const i=new Map;we(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,pk(c,h,e[r]))}return i}function uT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,gk(o,c,t))}return i}class Ky extends Pp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bk extends Pp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&yk(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=_f(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=_f(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=BA();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=YA(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Wt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ue())}isEqual(t){return this.batchId===t.batchId&&du(this.mutations,t.mutations,(e,i)=>lT(e,i))&&du(this.baseMutations,t.baseMutations,(e,i)=>lT(e,i))}}class Wy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){we(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return ck}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Wy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,pe;function Sk(n){switch(n){case ut.OK:return $t(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return $t(15467,{code:n})}}function WA(n){if(n===void 0)return $a("GRPC error has no .code"),ut.UNKNOWN;switch(n){case bn.OK:return ut.OK;case bn.CANCELLED:return ut.CANCELLED;case bn.UNKNOWN:return ut.UNKNOWN;case bn.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case bn.INTERNAL:return ut.INTERNAL;case bn.UNAVAILABLE:return ut.UNAVAILABLE;case bn.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case bn.NOT_FOUND:return ut.NOT_FOUND;case bn.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case bn.ABORTED:return ut.ABORTED;case bn.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case bn.DATA_LOSS:return ut.DATA_LOSS;default:return $t(39323,{code:n})}}(pe=bn||(bn={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Wo([4294967295,4294967295],0);function hT(n){const t=_A().encode(n),e=new cA;return e.update(t),new Uint8Array(e.digest())}function fT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Wo([e,i],0),new Wo([r,o],0)]}class Qy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new rf(`Invalid padding: ${e}`);if(i<0)throw new rf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new rf(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new rf(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=Wo.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(Wo.fromNumber(i)));return r.compare(Ak)===1&&(r=new Wo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=hT(t),[i,r]=fT(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);if(!this.ye(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Qy(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(this.fe===0)return;const e=hT(t),[i,r]=fT(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);this.we(c)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Gf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Np(Wt.min(),r,new Ke(te),Ga(),ue())}}class Gf{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Gf(i,e,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class QA{constructor(t,e){this.targetId=t,this.De=e}}class XA{constructor(t,e,i=Jn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class dT{constructor(){this.ve=0,this.Ce=gT(),this.Fe=Jn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ue(),e=ue(),i=ue();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$t(38017,{changeType:o})}}),new Gf(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=gT()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xk{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ga(),this.je=fg(),this.Je=fg(),this.He=new Ke(te)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:$t(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(Z_(o))if(i===0){const c=new Nt(o.path);this.Xe(e,c,ci.newNoDocument(c,Wt.min()))}else we(i===1,20013,{expectedCount:i});else{const c=this.ot(e);if(c!==i){const h=this._t(t),f=h?this.ut(h,t,c):1;if(f!==0){this.rt(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,g)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=sl(i).toUint8Array()}catch(f){if(f instanceof TA)return el("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Qy(c,r,o)}catch(f){return el(f instanceof rf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,c)=>{const h=this.st(c);if(h){if(o.current&&Z_(h.target)){const f=new Nt(h.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,ci.newNoDocument(f,t))}o.Ne&&(e.set(c,o.Le()),o.ke())}});let i=ue();this.Je.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const g=this.st(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(t));const r=new Np(t,e,this.He,this.ze,i);return this.ze=Ga(),this.je=fg(),this.Je=fg(),this.He=new Ke(te),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new dT,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Mn(te),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Mn(te),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||Ct("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new dT),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function fg(){return new Ke(Nt.comparator)}function gT(){return new Ke(Nt.comparator)}const Rk={asc:"ASCENDING",desc:"DESCENDING"},Ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ik={and:"AND",or:"OR"};class Ok{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ey(n,t){return n.useProto3Json||Cp(t)?t:{value:t}}function ap(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Dk(n,t){return ap(n,t.toTimestamp())}function qr(n){return we(!!n,49232),Wt.fromTimestamp(function(e){const i=il(e);return new Fe(i.seconds,i.nanos)}(n))}function Xy(n,t){return ny(n,t).canonicalString()}function ny(n,t){const e=function(r){return new ze(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function JA(n){const t=ze.fromString(n);return we(s1(t),10190,{key:t.toString()}),t}function iy(n,t){return Xy(n.databaseId,t.path)}function b_(n,t){const e=JA(t);if(e.get(1)!==n.databaseId.projectId)throw new At(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new At(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Nt(e1(e))}function t1(n,t){return Xy(n.databaseId,t)}function Mk(n){const t=JA(n);return t.length===4?ze.emptyPath():e1(t)}function sy(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function e1(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pT(n,t,e){return{name:iy(n,t),fields:e.value.mapValue.fields}}function kk(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:$t(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,_){return g.useProto3Json?(we(_===void 0||typeof _=="string",58123),Jn.fromBase64String(_||"")):(we(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jn.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(g){const _=g.code===void 0?ut.UNKNOWN:WA(g.code);return new At(_,g.message||"")}(c);e=new XA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=b_(n,i.document.name),o=qr(i.document.updateTime),c=i.document.createTime?qr(i.document.createTime):Wt.min(),h=new Vi({mapValue:{fields:i.document.fields}}),f=ci.newFoundDocument(r,o,c,h),g=i.targetIds||[],_=i.removedTargetIds||[];e=new Ug(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=b_(n,i.document),o=i.readTime?qr(i.readTime):Wt.min(),c=ci.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Ug([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=b_(n,i.document),o=i.removedTargetIds||[];e=new Ug([],o,r,null)}else{if(!("filter"in t))return $t(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new wk(r,o),h=i.targetId;e=new QA(h,c)}}return e}function Pk(n,t){let e;if(t instanceof $f)e={update:pT(n,t.key,t.value)};else if(t instanceof Ky)e={delete:iy(n,t.key)};else if(t instanceof dl)e={update:pT(n,t.key,t.data),updateMask:Hk(t.fieldMask)};else{if(!(t instanceof bk))return $t(16599,{Rt:t.type});e={verify:iy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof sp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof If)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Of)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rp)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw $t(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Dk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$t(27497)}(n,t.precondition)),e}function Nk(n,t){return n&&n.length>0?(we(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?qr(r.updateTime):qr(o);return c.isEqual(Wt.min())&&(c=qr(o)),new _k(c,r.transformResults||[])}(e,t))):[]}function Lk(n,t){return{documents:[t1(n,t.path)]}}function Vk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=t1(n,r);const o=function(g){if(g.length!==0)return i1(or.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(_=>function(E){return{field:eu(E.field),direction:jk(E.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=ey(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:e,parent:r}}function Uk(n){let t=Mk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){we(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(b){const E=n1(b);return E instanceof or&&MA(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=function(b){return b.map(E=>function(R){return new ip(nu(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(e.orderBy));let h=null;e.limit&&(h=function(b){let E;return E=typeof b=="object"?b.value:b,Cp(E)?null:E}(e.limit));let f=null;e.startAt&&(f=function(b){const E=!!b.before,A=b.values||[];return new np(A,E)}(e.startAt));let g=null;return e.endAt&&(g=function(b){const E=!b.before,A=b.values||[];return new np(A,E)}(e.endAt)),sk(t,r,c,o,h,"F",f,g)}function zk(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function n1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=nu(e.unaryFilter.field);return En.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=nu(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nu(e.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nu(e.unaryFilter.field);return En.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}}(n):n.fieldFilter!==void 0?function(e){return En.create(nu(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return or.create(e.compositeFilter.filters.map(i=>n1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $t(1026)}}(e.compositeFilter.op))}(n):$t(30097,{filter:n})}function jk(n){return Rk[n]}function Bk(n){return Ck[n]}function Fk(n){return Ik[n]}function eu(n){return{fieldPath:n.canonicalString()}}function nu(n){return Xn.fromServerFormat(n.fieldPath)}function i1(n){return n instanceof En?function(e){if(e.op==="=="){if(nT(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NAN"}};if(eT(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(nT(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NAN"}};if(eT(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(e.field),op:Bk(e.op),value:e.value}}}(n):n instanceof or?function(e){const i=e.getFilters().map(r=>i1(r));return i.length===1?i[0]:{compositeFilter:{op:Fk(e.op),filters:i}}}(n):$t(54877,{filter:n})}function Hk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function s1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,e,i,r,o=Wt.min(),c=Wt.min(),h=Jn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Fo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.gt=t}}function $k(n){const t=Uk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ty(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.Dn=new Yk}addToCollectionParentIndex(t,e){return this.Dn.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(nl.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(nl.min())}updateCollectionGroup(t,e,i){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class Yk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Mn(ze.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Mn(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class Li{static withCacheSize(t){return new Li(t,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(r1,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new mu(0)}static ur(){return new mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",Kk=1048576;function yT([n,t],[e,i]){const r=te(n,e);return r===0?te(t,i):r}class Wk{constructor(t){this.Tr=t,this.buffer=new Mn(yT),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();yT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){Ct(_T,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Iu(e)?Ct(_T,"Ignoring IndexedDB error during garbage collection: ",e):await Cu(e)}await this.Rr(3e5)})}}class Xk{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return dt.resolve(Rp.ue);const i=new Wk(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(mT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,c,h,f,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,c=Date.now(),this.nthSequenceNumber(t,r))).next(b=>(i=b,h=Date.now(),this.removeTargets(t,i,e))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(g=Date.now(),Jc()<=ce.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b})))}}function Zk(n,t){return new Xk(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.changes=new hc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ci.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?dt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&_f(i.mutation,r,os.empty(),Fe.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ue()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ue()){const r=Xl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=sf();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Xl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ue()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=Ga();const c=mf(),h=function(){return mf()}();return e.forEach((f,g)=>{const _=i.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof dl)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),_f(_.mutation,g,_.mutation.getFieldMask(),Fe.now())):c.set(g.key,os.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,_)=>c.set(g,_)),e.forEach((g,_)=>{var b;return h.set(g,new tP(_,(b=c.get(g))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(t,e){const i=mf();let r=new Ke((c,h)=>c-h),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let _=i.get(f)||os.empty();_=h.applyToLocalView(g,_),i.set(f,_);const b=(r.get(h.batchId)||ue()).add(f);r=r.insert(h.batchId,b)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,b=BA();_.forEach(E=>{if(!o.has(E)){const A=YA(e.get(E),i.get(E));A!==null&&b.set(E,A),o=o.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return dt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return Nt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):LA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):dt.resolve(Xl());let h=Af,f=o;return c.next(g=>dt.forEach(g,(_,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(_)?dt.resolve():this.remoteDocumentCache.getEntry(t,_).next(E=>{f=f.insert(_,E)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,ue())).next(_=>({batchId:h,changes:jA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Nt(e)).next(i=>{let r=sf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=sf();return this.indexManager.getCollectionParents(t,o).next(h=>dt.forEach(h,f=>{const g=function(b,E){return new qf(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(_=>{_.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,ci.newInvalidDocument(_)))});let h=sf();return c.forEach((f,g)=>{const _=o.get(f);_!==void 0&&_f(_.mutation,g,os.empty(),Fe.now()),Mp(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return dt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:qr(r.createTime)}}(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:$k(r.bundledQuery),readTime:qr(r.readTime)}}(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.overlays=new Ke(Nt.comparator),this.kr=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Xl();return dt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),dt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),dt.resolve()}getOverlaysForCollection(t,e,i){const r=Xl(),o=e.length+1,c=new Nt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return dt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ke((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=o.get(g.largestBatchId);_===null&&(_=Xl(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Xl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=r)););return dt.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Tk(e,i));let o=this.kr.get(e);o===void 0&&(o=ue(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.qr=new Mn(jn.Qr),this.$r=new Mn(jn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new jn(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new jn(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new Nt(new ze([])),i=new jn(e,t),r=new jn(e,t+1),o=[];return this.$r.forEachInRange([i,r],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Nt(new ze([])),i=new jn(e,t),r=new jn(e,t+1);let o=ue();return this.$r.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new jn(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class jn{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Nt.comparator(t.key,e.key)||te(t.Hr,e.Hr)}static Ur(t,e){return te(t.Hr,e.Hr)||Nt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Mn(jn.Qr)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ek(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Yr=this.Yr.add(new jn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return dt.resolve(c)}lookupMutationBatch(t,e){return dt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return dt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?Fy:this.er-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new jn(e,0),r=new jn(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],c=>{const h=this.Zr(c.Hr);o.push(h)}),dt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Mn(te);return e.forEach(r=>{const o=new jn(r,0),c=new jn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],h=>{i=i.add(h.Hr)})}),dt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Nt.isDocumentKey(o)||(o=o.child(""));const c=new jn(new Nt(o),0);let h=new Mn(te);return this.Yr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Hr)),!0)},c),dt.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){we(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return dt.forEach(e.mutations,r=>{const o=new jn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new jn(e,0),r=this.Yr.firstAfterOrEqual(i);return dt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t){this.ni=t,this.docs=function(){return new Ke(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return dt.resolve(i?i.document.mutableCopy():ci.newInvalidDocument(e))}getEntries(t,e){let i=Ga();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ci.newInvalidDocument(r))}),dt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ga();const c=e.path,h=new Nt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||LM(NM(_),i)<=0||(r.has(_.key)||Mp(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return dt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$t(9500)}ri(t,e){return dt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new oP(this)}getSize(t){return dt.resolve(this.size)}}class oP extends Jk{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),dt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t){this.persistence=t,this.ii=new hc(e=>$y(e),Gy),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Zy,this.targetCount=0,this._i=mu.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),dt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new mu(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.hr(e),dt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),dt.waitFor(o).next(()=>r)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return dt.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),dt.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),dt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return dt.resolve(i)}containsKey(t,e){return dt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,e){this.ai={},this.overlays={},this.ui=new Rp(0),this.ci=!1,this.ci=!0,this.li=new sP,this.referenceDelegate=t(this),this.hi=new lP(this),this.indexManager=new Gk,this.remoteDocumentCache=function(r){return new aP(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new qk(e),this.Ti=new nP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new iP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new rP(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){Ct("MemoryPersistence","Starting transaction:",t);const r=new cP(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return dt.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class cP extends UM{constructor(t){super(),this.currentSequenceNumber=t}}class Jy{constructor(t){this.persistence=t,this.Ai=new Zy,this.Ri=null}static Vi(t){return new Jy(t)}get mi(){if(this.Ri)return this.Ri;throw $t(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),dt.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,i=>{const r=Nt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,Wt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return dt.or([()=>dt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class op{constructor(t,e){this.persistence=t,this.gi=new hc(i=>BM(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Zk(this,e)}static Vi(t,e){return new op(t,e)}Ii(){}di(t){return dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return dt.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?dt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,c=>this.Sr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,Wt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),dt.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ng(t.data.value)),e}Sr(t,e,i){return dt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return dt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=ue(),r=ue();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new tv(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return $I()?8:zM(ui())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new uP;return this.ws(t,e,c).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,c,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(Jc()<=ce.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",tu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(Jc()<=ce.DEBUG&&Ct("QueryEngine","Query:",tu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Jc()<=ce.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",tu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hr(e))):dt.resolve())}ps(t,e){if(aT(e))return dt.resolve(null);let i=Hr(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=ty(e,null,"F"),i=Hr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=ue(...o);return this.gs.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.bs(e,h);return this.Ds(e,g,c,f.readTime)?this.ps(t,ty(e,null,"F")):this.vs(t,g,e,f)}))})))}ys(t,e,i,r){return aT(e)||r.isEqual(Wt.min())?dt.resolve(null):this.gs.getDocuments(t,i).next(o=>{const c=this.bs(e,o);return this.Ds(e,c,i,r)?dt.resolve(null):(Jc()<=ce.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tu(e)),this.vs(t,c,e,PM(r,Af)).next(h=>h))})}bs(t,e){let i=new Mn(UA(t));return e.forEach((r,o)=>{Mp(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return Jc()<=ce.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",tu(e)),this.gs.getDocumentsMatchingQuery(t,e,nl.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LocalStore",fP=3e8;class dP{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new Ke(te),this.Ms=new hc(o=>$y(o),Gy),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function gP(n,t,e,i){return new dP(n,t,e,i)}async function o1(n,t){const e=Xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=ue();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:h}))})})}function pP(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,f,g,_){const b=g.batch,E=b.keys();let A=dt.resolve();return E.forEach(R=>{A=A.next(()=>_.getEntry(f,R)).next(D=>{const P=g.docVersions.get(R);we(P!==null,48541),D.version.compareTo(P)<0&&(b.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),_.addEntry(D)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(f,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=ue();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function l1(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function mP(n,t){const e=Xt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((_,b)=>{const E=r.get(b);if(!E)return;h.push(e.hi.removeMatchingKeys(o,_.removedDocuments,b).next(()=>e.hi.addMatchingKeys(o,_.addedDocuments,b)));let A=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(b)!==null?A=A.withResumeToken(Jn.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),r=r.insert(b,A),function(D,P,L){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=fP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,A,_)&&h.push(e.hi.updateTargetData(o,A))});let f=Ga(),g=ue();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(_P(o,c,t.documentUpdates).next(_=>{f=_.Ls,g=_.ks})),!i.isEqual(Wt.min())){const _=e.hi.getLastRemoteSnapshotVersion(o).next(b=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return dt.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Fs=r,o))}function _P(n,t,e){let i=ue(),r=ue();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Ga();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Wt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):Ct(ev,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Ls:c,ks:r}})}function yP(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Fy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function vP(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,dt.resolve(r)):e.hi.allocateTargetId(i).next(c=>(r=new Fo(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function ry(n,t,e){const i=Xt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Iu(c))throw c;Ct(ev,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function vT(n,t,e){const i=Xt(n);let r=Wt.min(),o=ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,_){const b=Xt(f),E=b.Ms.get(_);return E!==void 0?dt.resolve(b.Fs.get(E)):b.hi.getTargetData(g,_)}(i,c,Hr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:Wt.min(),e?o:ue())).next(h=>(bP(i,ak(t),h),{documents:h,qs:o})))}function bP(n,t,e){let i=n.xs.get(t)||Wt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class bT{constructor(){this.activeTargetIds=fk()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EP{constructor(){this.Fo=new bT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new bT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="ConnectivityMonitor";class TT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ct(ET,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){Ct(ET,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg=null;function ay(){return dg===null?dg=function(){return 268435456+Math.round(2147483648*Math.random())}():dg++,"0x"+dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="RestConnection",wP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SP{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===tp?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=ay(),h=this.Go(t,e.toUriEncodedString());Ct(E_,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,r,o);const{host:g}=new URL(h),_=Su(g);return this.jo(t,h,f,i,_).then(b=>(Ct(E_,`Received RPC '${t}' ${c}: `,b),b),b=>{throw el(E_,`RPC '${t}' ${c} failed with error: `,b,"url: ",h,"request:",i),b})}Jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=wP[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class xP extends SP{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const c=ay();return new Promise((h,f)=>{const g=new uA;g.setWithCredentials(!0),g.listenOnce(hA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Pg.NO_ERROR:const b=g.getResponseJson();Ct(oi,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),h(b);break;case Pg.TIMEOUT:Ct(oi,`RPC '${t}' ${c} timed out`),f(new At(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Pg.HTTP_ERROR:const E=g.getStatus();if(Ct(oi,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A?.error;if(R&&R.status&&R.message){const D=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(G)>=0?G:ut.UNKNOWN}(R.status);f(new At(D,R.message))}else f(new At(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new At(ut.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{c_:t,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ct(oi,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(r);Ct(oi,`RPC '${t}' ${c} sending request:`,r),g.send(e,"POST",_,i,15)})}P_(t,e,i){const r=ay(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=gA(),h=dA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");Ct(oi,`Creating RPC '${t}' stream ${r}: ${_}`,f);const b=c.createWebChannel(_,f);this.T_(b);let E=!1,A=!1;const R=new AP({Ho:P=>{A?Ct(oi,`Not sending because RPC '${t}' stream ${r} is closed:`,P):(E||(Ct(oi,`Opening RPC '${t}' stream ${r} transport.`),b.open(),E=!0),Ct(oi,`RPC '${t}' stream ${r} sending:`,P),b.send(P))},Yo:()=>b.close()}),D=(P,L,G)=>{P.listen(L,J=>{try{G(J)}catch(ct){setTimeout(()=>{throw ct},0)}})};return D(b,nf.EventType.OPEN,()=>{A||(Ct(oi,`RPC '${t}' stream ${r} transport opened.`),R.s_())}),D(b,nf.EventType.CLOSE,()=>{A||(A=!0,Ct(oi,`RPC '${t}' stream ${r} transport closed`),R.__(),this.I_(b))}),D(b,nf.EventType.ERROR,P=>{A||(A=!0,el(oi,`RPC '${t}' stream ${r} transport errored. Name:`,P.name,"Message:",P.message),R.__(new At(ut.UNAVAILABLE,"The operation could not be completed")))}),D(b,nf.EventType.MESSAGE,P=>{var L;if(!A){const G=P.data[0];we(!!G,16349);const J=G,ct=J?.error||((L=J[0])===null||L===void 0?void 0:L.error);if(ct){Ct(oi,`RPC '${t}' stream ${r} received error:`,ct);const rt=ct.status;let pt=function(N){const z=bn[N];if(z!==void 0)return WA(z)}(rt),V=ct.message;pt===void 0&&(pt=ut.INTERNAL,V="Unknown error status: "+rt+" with message "+ct.message),A=!0,R.__(new At(pt,V)),b.close()}else Ct(oi,`RPC '${t}' stream ${r} received:`,G),R.a_(G)}}),D(h,fA.STAT_EVENT,P=>{P.stat===Y_.PROXY?Ct(oi,`RPC '${t}' stream ${r} detected buffering proxy`):P.stat===Y_.NOPROXY&&Ct(oi,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function T_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n){return new Ok(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&Ct("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class u1{constructor(t,e,i,r,o,c,h,f){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new c1(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?($a(e.toString()),$a("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new At(ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return Ct(wT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(Ct(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RP extends u1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=kk(this.serializer,t),i=function(o){if(!("targetChange"in o))return Wt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Wt.min():c.readTime?qr(c.readTime):Wt.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=sy(this.serializer),e.addTarget=function(o,c){let h;const f=c.target;if(h=Z_(f)?{documents:Lk(o,f)}:{query:Vk(o,f).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=ZA(o,c.resumeToken);const g=ey(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Wt.min())>0){h.readTime=ap(o,c.snapshotVersion.toTimestamp());const g=ey(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=zk(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=sy(this.serializer),e.removeTarget=t,this.k_(e)}}class CP extends u1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return we(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,we(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){we(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=Nk(t.writeResults,t.commitTime),i=qr(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=sy(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Pk(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{}class OP extends IP{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new At(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(t,ny(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new At(ut.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Jo(t,ny(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new At(ut.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class DP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($a(e),this._a=!1):Ct("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="RemoteStore";class MP{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{fc(this)&&(Ct(oc,"Restarting streams for network reachability change."),await async function(f){const g=Xt(f);g.Ia.add(4),await Yf(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Vp(g)}(this))})}),this.Aa=new DP(i,r)}}async function Vp(n){if(fc(n))for(const t of n.da)await t(!0)}async function Yf(n){for(const t of n.da)await t(!1)}function h1(n,t){const e=Xt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),rv(e)?sv(e):Ou(e).x_()&&iv(e,t))}function nv(n,t){const e=Xt(n),i=Ou(e);e.Ta.delete(t),i.x_()&&f1(e,t),e.Ta.size===0&&(i.x_()?i.B_():fc(e)&&e.Aa.set("Unknown"))}function iv(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ou(n).H_(t)}function f1(n,t){n.Ra.$e(t),Ou(n).Y_(t)}function sv(n){n.Ra=new xk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Ou(n).start(),n.Aa.aa()}function rv(n){return fc(n)&&!Ou(n).M_()&&n.Ta.size>0}function fc(n){return Xt(n).Ia.size===0}function d1(n){n.Ra=void 0}async function kP(n){n.Aa.set("Online")}async function PP(n){n.Ta.forEach((t,e)=>{iv(n,t)})}async function NP(n,t){d1(n),rv(n)?(n.Aa.la(t),sv(n)):n.Aa.set("Unknown")}async function LP(n,t,e){if(n.Aa.set("Online"),t instanceof XA&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){Ct(oc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await lp(n,i)}else if(t instanceof Ug?n.Ra.Ye(t):t instanceof QA?n.Ra.it(t):n.Ra.et(t),!e.isEqual(Wt.min()))try{const i=await l1(n.localStore);e.compareTo(i)>=0&&await function(o,c){const h=o.Ra.Pt(c);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ta.get(g);_&&o.Ta.set(g,_.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,g)=>{const _=o.Ta.get(f);if(!_)return;o.Ta.set(f,_.withResumeToken(Jn.EMPTY_BYTE_STRING,_.snapshotVersion)),f1(o,f);const b=new Fo(_.target,f,g,_.sequenceNumber);iv(o,b)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){Ct(oc,"Failed to raise snapshot:",i),await lp(n,i)}}async function lp(n,t,e){if(!Iu(t))throw t;n.Ia.add(1),await Yf(n),n.Aa.set("Offline"),e||(e=()=>l1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ct(oc,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Vp(n)})}function g1(n,t){return t().catch(e=>lp(n,e,t))}async function Up(n){const t=Xt(n),e=al(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Fy;for(;VP(t);)try{const r=await yP(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,UP(t,r)}catch(r){await lp(t,r)}p1(t)&&m1(t)}function VP(n){return fc(n)&&n.Pa.length<10}function UP(n,t){n.Pa.push(t);const e=al(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function p1(n){return fc(n)&&!al(n).M_()&&n.Pa.length>0}function m1(n){al(n).start()}async function zP(n){al(n).na()}async function jP(n){const t=al(n);for(const e of n.Pa)t.X_(e.mutations)}async function BP(n,t,e){const i=n.Pa.shift(),r=Wy.from(i,t,e);await g1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Up(n)}async function FP(n,t){t&&al(n).Z_&&await async function(i,r){if(function(c){return Sk(c)&&c!==ut.ABORTED}(r.code)){const o=i.Pa.shift();al(i).N_(),await g1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Up(i)}}(n,t),p1(n)&&m1(n)}async function ST(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),Ct(oc,"RemoteStore received new credentials");const i=fc(e);e.Ia.add(3),await Yf(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Vp(e)}async function HP(n,t){const e=Xt(n);t?(e.Ia.delete(2),await Vp(e)):t||(e.Ia.add(2),await Yf(e),e.Aa.set("Unknown"))}function Ou(n){return n.Va||(n.Va=function(e,i,r){const o=Xt(e);return o.ia(),new RP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:kP.bind(null,n),e_:PP.bind(null,n),n_:NP.bind(null,n),J_:LP.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),rv(n)?sv(n):n.Aa.set("Unknown")):(await n.Va.stop(),d1(n))})),n.Va}function al(n){return n.ma||(n.ma=function(e,i,r){const o=Xt(e);return o.ia(),new CP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:zP.bind(null,n),n_:FP.bind(null,n),ea:jP.bind(null,n),ta:BP.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await Up(n)):(await n.ma.stop(),n.Pa.length>0&&(Ct(oc,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new av(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(n,t){if($a("AsyncQueue",`${t}: ${n}`),Iu(n))return new At(ut.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{static emptySet(t){return new ou(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Nt.comparator(e.key,i.key):(e,i)=>Nt.comparator(e.key,i.key),this.keyedMap=sf(),this.sortedSet=new Ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ou)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new ou;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.fa=new Ke(Nt.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):$t(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class _u{constructor(t,e,i,r,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new _u(t,e,ou.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class $P{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=Xt(e),o=r.queries;r.queries=xT(),o.forEach((c,h)=>{for(const f of h.wa)f.onError(i)})})(this,new At(ut.ABORTED,"Firestore shutting down"))}}function xT(){return new hc(n=>VA(n),Dp)}async function _1(n,t){const e=Xt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new qP,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=ov(c,`Initialization of query '${tu(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&lv(e)}async function y1(n,t){const e=Xt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.wa.indexOf(t);c>=0&&(o.wa.splice(c,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function GP(n,t){const e=Xt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.wa)h.Ca(r)&&(i=!0);c.ya=r}}i&&lv(e)}function YP(n,t,e){const i=Xt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function lv(n){n.Da.forEach(t=>{t.next()})}var oy,RT;(RT=oy||(oy={})).Fa="default",RT.Cache="cache";class v1{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new _u(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=_u.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.key=t}}class E1{constructor(t){this.key=t}}class KP{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=UA(t),this.eu=new ou(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new AT,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,b)=>{const E=r.get(_),A=Mp(this.query,b)?b:null,R=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;E&&A?E.data.isEqual(A.data)?R!==D&&(i.track({type:3,doc:A}),P=!0):this.iu(E,A)||(i.track({type:2,doc:A}),P=!0,(f&&this.Xa(A,f)>0||g&&this.Xa(A,g)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),P=!0):E&&!A&&(i.track({type:1,doc:E}),P=!0,(f||g)&&(h=!0)),P&&(A?(c=c.add(A),o=D?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((_,b)=>function(A,R){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{At:P})}};return D(A)-D(R)}(_.type,b.type)||this.Xa(_.doc,b.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],f=this.Za.size===0&&this.current&&!r?1:0,g=f!==this.Ya;return this.Ya=f,c.length!==0||g?{snapshot:new _u(this.query,t.eu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new AT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=ue(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new E1(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new b1(i))}),e}uu(t){this.Ha=t.qs,this.Za=ue();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return _u.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const cv="SyncEngine";class WP{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class QP{constructor(t){this.key=t,this.lu=!1}}class XP{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new hc(h=>VA(h),Dp),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(Nt.comparator),this.Eu=new Map,this.Au=new Zy,this.Ru={},this.Vu=new Map,this.mu=mu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ZP(n,t,e=!0){const i=R1(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await T1(i,t,e,!0),r}async function JP(n,t){const e=R1(n);await T1(e,t,!0,!1)}async function T1(n,t,e,i){const r=await vP(n.localStore,Hr(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await tN(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&h1(n.remoteStore,r),h}async function tN(n,t,e,i,r){n.gu=(b,E,A)=>async function(D,P,L,G){let J=P.view.nu(L);J.Ds&&(J=await vT(D.localStore,P.query,!1).then(({documents:V})=>P.view.nu(V,J)));const ct=G&&G.targetChanges.get(P.targetId),rt=G&&G.targetMismatches.get(P.targetId)!=null,pt=P.view.applyChanges(J,D.isPrimaryClient,ct,rt);return IT(D,P.targetId,pt._u),pt.snapshot}(n,b,E,A);const o=await vT(n.localStore,t,!0),c=new KP(t,o.qs),h=c.nu(o.documents),f=Gf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=c.applyChanges(h,n.isPrimaryClient,f);IT(n,e,g._u);const _=new WP(t,e,c);return n.Pu.set(t,_),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),g.snapshot}async function eN(n,t,e){const i=Xt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(c=>!Dp(c,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await ry(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&nv(i.remoteStore,r.targetId),ly(i,r.targetId)}).catch(Cu)):(ly(i,r.targetId),await ry(i.localStore,r.targetId,!0))}async function nN(n,t){const e=Xt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),nv(e.remoteStore,i.targetId))}async function iN(n,t,e){const i=uN(n);try{const r=await function(c,h){const f=Xt(c),g=Fe.now(),_=h.reduce((A,R)=>A.add(R.key),ue());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=Ga(),D=ue();return f.Os.getEntries(A,_).next(P=>{R=P,R.forEach((L,G)=>{G.isValidDocument()||(D=D.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,R)).next(P=>{b=P;const L=[];for(const G of h){const J=vk(G,b.get(G.key).overlayedDocument);J!=null&&L.push(new dl(G.key,J,IA(J.value.mapValue),Ns.exists(!0)))}return f.mutationQueue.addMutationBatch(A,g,L,h)}).next(P=>{E=P;const L=P.applyToLocalDocumentSet(b,D);return f.documentOverlayCache.saveOverlays(A,P.batchId,L)})}).then(()=>({batchId:E.batchId,changes:jA(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,f){let g=c.Ru[c.currentUser.toKey()];g||(g=new Ke(te)),g=g.insert(h,f),c.Ru[c.currentUser.toKey()]=g}(i,r.batchId,e),await Kf(i,r.changes),await Up(i.remoteStore)}catch(r){const o=ov(r,"Failed to persist write");e.reject(o)}}async function w1(n,t){const e=Xt(n);try{const i=await mP(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Eu.get(o);c&&(we(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.lu=!0:r.modifiedDocuments.size>0?we(c.lu,14607):r.removedDocuments.size>0&&(we(c.lu,42227),c.lu=!1))}),await Kf(e,i,t)}catch(i){await Cu(i)}}function CT(n,t,e){const i=Xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const f=Xt(c);f.onlineState=h;let g=!1;f.queries.forEach((_,b)=>{for(const E of b.wa)E.va(h)&&(g=!0)}),g&&lv(f)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function sN(n,t,e){const i=Xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let c=new Ke(Nt.comparator);c=c.insert(o,ci.newNoDocument(o,Wt.min()));const h=ue().add(o),f=new Np(Wt.min(),new Map,new Ke(te),c,h);await w1(i,f),i.du=i.du.remove(o),i.Eu.delete(t),uv(i)}else await ry(i.localStore,t,!1).then(()=>ly(i,t,e)).catch(Cu)}async function rN(n,t){const e=Xt(n),i=t.batch.batchId;try{const r=await pP(e.localStore,t);A1(e,i,null),S1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Kf(e,r)}catch(r){await Cu(r)}}async function aN(n,t,e){const i=Xt(n);try{const r=await function(c,h){const f=Xt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next(b=>(we(b!==null,37113),_=b.keys(),f.mutationQueue.removeMutationBatch(g,b))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(i.localStore,t);A1(i,t,e),S1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Kf(i,r)}catch(r){await Cu(r)}}function S1(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function A1(n,t,e){const i=Xt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function ly(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||x1(n,i)})}function x1(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(nv(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),uv(n))}function IT(n,t,e){for(const i of e)i instanceof b1?(n.Au.addReference(i.key,t),oN(n,i)):i instanceof E1?(Ct(cv,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||x1(n,i.key)):$t(19791,{yu:i})}function oN(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(Ct(cv,"New document in limbo: "+e),n.Iu.add(i),uv(n))}function uv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Nt(ze.fromString(t)),i=n.mu.next();n.Eu.set(i,new QP(e)),n.du=n.du.insert(e,i),h1(n.remoteStore,new Fo(Hr(Op(e.path)),i,"TargetPurposeLimboResolution",Rp.ue))}}async function Kf(n,t,e){const i=Xt(n),r=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((h,f)=>{c.push(i.gu(f,t,e).then(g=>{var _;if((g||e)&&i.isPrimaryClient){const b=g?!g.fromCache:(_=e?.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){r.push(g);const b=tv.Es(f.targetId,g);o.push(b)}}))}),await Promise.all(c),i.hu.J_(r),await async function(f,g){const _=Xt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>dt.forEach(g,E=>dt.forEach(E.Is,A=>_.persistence.referenceDelegate.addReference(b,E.targetId,A)).next(()=>dt.forEach(E.ds,A=>_.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))}catch(b){if(!Iu(b))throw b;Ct(ev,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const A=_.Fs.get(E),R=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(R);_.Fs=_.Fs.insert(E,D)}}}(i.localStore,o))}async function lN(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){Ct(cv,"User change. New user:",t.toKey());const i=await o1(e.localStore,t);e.currentUser=t,function(o,c){o.Vu.forEach(h=>{h.forEach(f=>{f.reject(new At(ut.CANCELLED,c))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Kf(e,i.Bs)}}function cN(n,t){const e=Xt(n),i=e.Eu.get(t);if(i&&i.lu)return ue().add(i.key);{let r=ue();const o=e.Tu.get(t);if(!o)return r;for(const c of o){const h=e.Pu.get(c);r=r.unionWith(h.view.tu)}return r}}function R1(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sN.bind(null,t),t.hu.J_=GP.bind(null,t.eventManager),t.hu.pu=YP.bind(null,t.eventManager),t}function uN(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,t),t}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return gP(this.persistence,new hP,t.initialUser,this.serializer)}Du(t){return new a1(Jy.Vi,this.serializer)}bu(t){return new EP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class hN extends cp{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){we(this.persistence.referenceDelegate instanceof op,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Qk(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new a1(i=>op.Vi(i,e),this.serializer)}}class cy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await HP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $P}()}createDatastore(t){const e=Lp(t.databaseInfo.databaseId),i=function(o){return new xP(o)}(t.databaseInfo);return function(o,c,h,f){return new OP(o,c,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new MP(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>CT(this.syncEngine,e,0),function(){return TT.C()?new TT:new TP}())}createSyncEngine(t,e){return function(r,o,c,h,f,g,_){const b=new XP(r,o,c,h,f,g);return _&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Xt(r);Ct(oc,"RemoteStore shutting down."),o.Ia.add(5),await Yf(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}cy.provider={build:()=>new cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):$a("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="FirestoreClient";class fN{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=li.UNAUTHENTICATED,this.clientId=By.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{Ct(ol,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ct(ol,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ov(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function w_(n,t){n.asyncQueue.verifyOperationInProgress(),Ct(ol,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await o1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{el("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{el("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function OT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await dN(n);Ct(ol,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>ST(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>ST(t.remoteStore,r)),n._onlineComponents=t}async function dN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ct(ol,"Using user provided OfflineComponentProvider");try{await w_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===ut.FAILED_PRECONDITION||r.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;el("Error using user provided cache. Falling back to memory cache: "+e),await w_(n,new cp)}}else Ct(ol,"Using default OfflineComponentProvider"),await w_(n,new hN(void 0));return n._offlineComponents}async function I1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ct(ol,"Using user provided OnlineComponentProvider"),await OT(n,n._uninitializedComponentsProvider._online)):(Ct(ol,"Using default OnlineComponentProvider"),await OT(n,new cy))),n._onlineComponents}function gN(n){return I1(n).then(t=>t.syncEngine)}async function uy(n){const t=await I1(n),e=t.eventManager;return e.onListen=ZP.bind(null,t.syncEngine),e.onUnlisten=eN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=JP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=nN.bind(null,t.syncEngine),e}function pN(n,t,e={}){const i=new Qo;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,g){const _=new C1({next:E=>{_.Ou(),c.enqueueAndForget(()=>y1(o,b));const A=E.docs.has(h);!A&&E.fromCache?g.reject(new At(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?g.reject(new At(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new v1(Op(h.path),_,{includeMetadataChanges:!0,ka:!0});return _1(o,b)}(await uy(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firestore.googleapis.com",MT=!0;class kT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new At(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D1,this.ssl=MT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:MT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kk)throw new At(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SM;switch(i.type){case"firstParty":return new CM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new At(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=DT.get(e);i&&(Ct("ComponentProvider","Removing Datastore"),DT.delete(e),i.terminate())}(this),Promise.resolve()}}function mN(n,t,e,i={}){var r;n=Ps(n,zp);const o=Su(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(ES(`https://${f}`),TS("Firestore",!0)),c.host!==D1&&c.host!==f&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!nc(g,h)&&(n._setSettings(g),i.mockUserToken)){let _,b;if(typeof i.mockUserToken=="string")_=i.mockUserToken,b=li.MOCK_USER;else{_=LI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new At(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new li(E)}n._authCredentials=new AM(new mA(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Du(this.firestore,t,this._query)}}class en{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Hf(e,en._jsonSchema))return new en(t,i||null,new Nt(ze.fromString(e.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Tn("string",en._jsonSchemaVersion),referencePath:Tn("string")};class Xo extends Du{constructor(t,e,i){super(t,e,Op(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Nt(t))}withConverter(t){return new Xo(this.firestore,t,this._path)}}function hy(n,t,...e){if(n=kn(n),yA("collection","path",t),n instanceof zp){const i=ze.fromString(t,...e);return GE(i),new Xo(n,null,i)}{if(!(n instanceof en||n instanceof Xo))throw new At(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ze.fromString(t,...e));return GE(i),new Xo(n.firestore,null,i)}}function yu(n,t,...e){if(n=kn(n),arguments.length===1&&(t=By.newId()),yA("doc","path",t),n instanceof zp){const i=ze.fromString(t,...e);return $E(i),new en(n,null,new Nt(i))}{if(!(n instanceof en||n instanceof Xo))throw new At(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ze.fromString(t,...e));return $E(i),new en(n.firestore,n instanceof Xo?n.converter:null,new Nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class NT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new c1(this,"async_queue_retry"),this.oc=()=>{const i=T_();i&&Ct(PT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=T_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=T_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new Qo;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Iu(t))throw t;Ct(PT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,$a("INTERNAL UNHANDLED ERROR: ",LT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=av.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&$t(47125,{hc:LT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function LT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class ll extends zp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new NT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NT(t),this._firestoreClient=void 0,await t}}}function _N(n,t){const e=typeof n=="object"?n:xS(),i=typeof n=="string"?n:tp,r=Oy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=PI("firestore");o&&mN(r,...o)}return r}function hv(n){if(n._terminated)throw new At(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yN(n),n._firestoreClient}function yN(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,_){return new qM(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,O1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new fN(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Jn.fromBase64String(t))}catch(e){throw new At(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ks(Jn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hf(t,ks._jsonSchema))return ks.fromBase64String(t.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:Tn("string",ks._jsonSchemaVersion),bytes:Tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(t){if(Hf(t,$r._jsonSchema))return new $r(t.latitude,t.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Tn("string",$r._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hf(t,Gr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Gr(t.vectorValues);throw new At(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:Tn("string",Gr._jsonSchemaVersion),vectorValues:Tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class bN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new dl(t,this.data,this.fieldMask,e,this.fieldTransforms):new $f(t,this.data,e,this.fieldTransforms)}}class M1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new dl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function k1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ec:n})}}class dv{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new dv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return up(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(k1(this.Ec)&&vN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class EN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Lp(t)}Dc(t,e,i,r=!1){return new dv({Ec:t,methodName:e,bc:i,path:Xn.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(n){const t=n._freezeSettings(),e=Lp(n._databaseId);return new EN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function P1(n,t,e,i,r,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);gv("Data must be an object, but it was:",c,i);const h=N1(i,c);let f,g;if(o.merge)f=new os(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const b of o.mergeFields){const E=fy(t,b,e);if(!c.contains(E))throw new At(ut.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);V1(_,E)||_.push(E)}f=new os(_),g=c.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,g=c.fieldTransforms;return new bN(new Vi(h),f,g)}class Fp extends fv{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fp}}function TN(n,t,e,i){const r=n.Dc(1,t,e);gv("Data must be an object, but it was:",r,i);const o=[],c=Vi.empty();fl(i,(f,g)=>{const _=pv(t,f,e);g=kn(g);const b=r.gc(_);if(g instanceof Fp)o.push(_);else{const E=Wf(g,b);E!=null&&(o.push(_),c.set(_,E))}});const h=new os(o);return new M1(c,h,r.fieldTransforms)}function wN(n,t,e,i,r,o){const c=n.Dc(1,t,e),h=[fy(t,i,e)],f=[r];if(o.length%2!=0)throw new At(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(fy(t,o[E])),f.push(o[E+1]);const g=[],_=Vi.empty();for(let E=h.length-1;E>=0;--E)if(!V1(g,h[E])){const A=h[E];let R=f[E];R=kn(R);const D=c.gc(A);if(R instanceof Fp)g.push(A);else{const P=Wf(R,D);P!=null&&(g.push(A),_.set(A,P))}}const b=new os(g);return new M1(_,b,c.fieldTransforms)}function SN(n,t,e,i=!1){return Wf(e,n.Dc(i?4:3,t))}function Wf(n,t){if(L1(n=kn(n)))return gv("Unsupported field value:",t,n),N1(n,t);if(n instanceof fv)return function(i,r){if(!k1(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let f=Wf(h,r.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Fe.fromDate(i);return{timestampValue:ap(r.serializer,o)}}if(i instanceof Fe){const o=new Fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ap(r.serializer,o)}}if(i instanceof $r)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ks)return{bytesValue:ZA(r.serializer,i._byteString)};if(i instanceof en){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Gr)return function(c,h){return{mapValue:{fields:{[RA]:{stringValue:CA},[ep]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.wc("VectorValues must only contain numeric values.");return Yy(h.serializer,g)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${xp(i)}`)}(n,t)}function N1(n,t){const e={};return EA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fl(n,(i,r)=>{const o=Wf(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function L1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fe||n instanceof $r||n instanceof ks||n instanceof en||n instanceof fv||n instanceof Gr)}function gv(n,t,e){if(!L1(e)||!vA(e)){const i=xp(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function fy(n,t,e){if((t=kn(t))instanceof jp)return t._internalPath;if(typeof t=="string")return pv(n,t);throw up("Field path arguments must be of type string or ",n,!1,void 0,e)}const AN=new RegExp("[~\\*/\\[\\]]");function pv(n,t,e){if(t.search(AN)>=0)throw up(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new jp(...t.split("."))._internalPath}catch{throw up(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function up(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new At(ut.INVALID_ARGUMENT,h+n+f)}function V1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(mv("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class xN extends U1{data(){return super.data()}}function mv(n,t){return typeof t=="string"?pv(n,t):t instanceof jp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new At(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class CN extends _v{}function dy(n,t,...e){let i=[];t instanceof _v&&i.push(t),i=i.concat(e),function(o){const c=o.filter(f=>f instanceof yv).length,h=o.filter(f=>f instanceof Hp).length;if(c>1||c>0&&h>0)throw new At(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hp extends CN{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Hp(t,e,i)}_apply(t){const e=this._parse(t);return z1(t._query,e),new Du(t.firestore,t.converter,J_(t._query,e))}_parse(t){const e=Bp(t.firestore);return function(o,c,h,f,g,_,b){let E;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new At(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){zT(b,_);const R=[];for(const D of b)R.push(UT(f,o,D));E={arrayValue:{values:R}}}else E=UT(f,o,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||zT(b,_),E=SN(h,c,b,_==="in"||_==="not-in");return En.create(g,_,E)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function af(n,t,e){const i=t,r=mv("where",n);return Hp._create(r,i,e)}class yv extends _v{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new yv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:or.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)z1(c,f),c=J_(c,f)}(t._query,e),new Du(t.firestore,t.converter,J_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UT(n,t,e){if(typeof(e=kn(e))=="string"){if(e==="")throw new At(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LA(t)&&e.indexOf("/")!==-1)throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ze.fromString(e));if(!Nt.isDocumentKey(i))throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tT(n,new Nt(i))}if(e instanceof en)return tT(n,e._key);throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xp(e)}.`)}function zT(n,t){if(!Array.isArray(n)||n.length===0)throw new At(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function z1(n,t){const e=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new At(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class IN{convertValue(t,e="none"){switch(rl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw $t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return fl(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[ep].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>fn(c.doubleValue));return new Gr(o)}convertGeoPoint(t){return new $r(fn(t.latitude),fn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ip(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(xf(t));default:return null}}convertTimestamp(t){const e=il(t);return new Fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ze.fromString(t);we(s1(i),9688,{name:t});const r=new Rf(i.get(1),i.get(3)),o=new Nt(i.popFirst(5));return r.isEqual(e)||$a(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class of{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tc extends U1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(mv("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=tc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:Tn("string",tc._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class zg extends tc{data(t={}){return super.data(t)}}class lu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new of(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new zg(this._firestore,this._userDataWriter,i.key,i,new of(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const f=new zg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new of(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new zg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new of(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:ON(h.type),doc:f,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=By.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ON(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){n=Ps(n,en);const t=Ps(n.firestore,ll);return pN(hv(t),n._key).then(e=>H1(t,n,e))}lu._jsonSchemaVersion="firestore/querySnapshot/1.0",lu._jsonSchema={type:Tn("string",lu._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class F1 extends IN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ks(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,e)}}function DN(n,t,e){n=Ps(n,en);const i=Ps(n.firestore,ll),r=j1(n.converter,t);return qp(i,[P1(Bp(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Ns.none())])}function jT(n,t,e,...i){n=Ps(n,en);const r=Ps(n.firestore,ll),o=Bp(r);let c;return c=typeof(t=kn(t))=="string"||t instanceof jp?wN(o,"updateDoc",n._key,t,e,i):TN(o,"updateDoc",n._key,t),qp(r,[c.toMutation(n._key,Ns.exists(!0))])}function MN(n){return qp(Ps(n.firestore,ll),[new Ky(n._key,Ns.none())])}function kN(n,t){const e=Ps(n.firestore,ll),i=yu(n),r=j1(n.converter,t);return qp(e,[P1(Bp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ns.exists(!1))]).then(()=>i)}function gy(n,...t){var e,i,r;n=kn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||VT(t[c])||(o=t[c++]);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VT(t[c])){const b=t[c];t[c]=(e=b.next)===null||e===void 0?void 0:e.bind(b),t[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),t[c+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}let f,g,_;if(n instanceof en)g=Ps(n.firestore,ll),_=Op(n._key.path),f={next:b=>{t[c]&&t[c](H1(g,n,b))},error:t[c+1],complete:t[c+2]};else{const b=Ps(n,Du);g=Ps(b.firestore,ll),_=b._query;const E=new F1(g);f={next:A=>{t[c]&&t[c](new lu(g,E,b,A))},error:t[c+1],complete:t[c+2]},RN(n._query)}return function(E,A,R,D){const P=new C1(D),L=new v1(A,P,R);return E.asyncQueue.enqueueAndForget(async()=>_1(await uy(E),L)),()=>{P.Ou(),E.asyncQueue.enqueueAndForget(async()=>y1(await uy(E),L))}}(hv(g),_,h,f)}function qp(n,t){return function(i,r){const o=new Qo;return i.asyncQueue.enqueueAndForget(async()=>iN(await gN(i),r,o)),o.promise}(hv(n),t)}function H1(n,t,e){const i=e.docs.get(t._key),r=new F1(n);return new tc(n,r,t._key,i,new of(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Ru=r})(Au),hu(new ic("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new ll(new xM(i.getProvider("auth-internal")),new IM(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new At(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(g.options.projectId,_)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Ko(jE,BE,t),Ko(jE,BE,"esm2017")})();const PN={apiKey:"AIzaSyAO0PEnd9TGPPTpuObD5KXy55owSY5hd2Q",authDomain:"loan-tracker-48cf5.firebaseapp.com",projectId:"loan-tracker-48cf5",storageBucket:"loan-tracker-48cf5.firebasestorage.app",messagingSenderId:"372251322656",appId:"1:372251322656:web:fda88c85a0e0aba8ba4f45"},q1=AS(PN),Zo=_N(q1),Qf=fu(q1);var jg={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var NN=jg.exports,BT;function LN(){return BT||(BT=1,function(n,t){(function(e,i){n.exports=i()})(NN,function(){const e=new Map,i={set(x,m,T){e.has(x)||e.set(x,new Map);const I=e.get(x);I.has(m)||I.size===0?I.set(m,T):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(I.keys())[0]}.`)},get:(x,m)=>e.has(x)&&e.get(x).get(m)||null,remove(x,m){if(!e.has(x))return;const T=e.get(x);T.delete(m),T.size===0&&e.delete(x)}},r="transitionend",o=x=>(x&&window.CSS&&window.CSS.escape&&(x=x.replace(/#([^\s"#']+)/g,(m,T)=>`#${CSS.escape(T)}`)),x),c=x=>{x.dispatchEvent(new Event(r))},h=x=>!(!x||typeof x!="object")&&(x.jquery!==void 0&&(x=x[0]),x.nodeType!==void 0),f=x=>h(x)?x.jquery?x[0]:x:typeof x=="string"&&x.length>0?document.querySelector(o(x)):null,g=x=>{if(!h(x)||x.getClientRects().length===0)return!1;const m=getComputedStyle(x).getPropertyValue("visibility")==="visible",T=x.closest("details:not([open])");if(!T)return m;if(T!==x){const I=x.closest("summary");if(I&&I.parentNode!==T||I===null)return!1}return m},_=x=>!x||x.nodeType!==Node.ELEMENT_NODE||!!x.classList.contains("disabled")||(x.disabled!==void 0?x.disabled:x.hasAttribute("disabled")&&x.getAttribute("disabled")!=="false"),b=x=>{if(!document.documentElement.attachShadow)return null;if(typeof x.getRootNode=="function"){const m=x.getRootNode();return m instanceof ShadowRoot?m:null}return x instanceof ShadowRoot?x:x.parentNode?b(x.parentNode):null},E=()=>{},A=x=>{x.offsetHeight},R=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,D=[],P=()=>document.documentElement.dir==="rtl",L=x=>{var m;m=()=>{const T=R();if(T){const I=x.NAME,$=T.fn[I];T.fn[I]=x.jQueryInterface,T.fn[I].Constructor=x,T.fn[I].noConflict=()=>(T.fn[I]=$,x.jQueryInterface)}},document.readyState==="loading"?(D.length||document.addEventListener("DOMContentLoaded",()=>{for(const T of D)T()}),D.push(m)):m()},G=(x,m=[],T=x)=>typeof x=="function"?x.call(...m):T,J=(x,m,T=!0)=>{if(!T)return void G(x);const I=(st=>{if(!st)return 0;let{transitionDuration:ot,transitionDelay:_t}=window.getComputedStyle(st);const wt=Number.parseFloat(ot),Rt=Number.parseFloat(_t);return wt||Rt?(ot=ot.split(",")[0],_t=_t.split(",")[0],1e3*(Number.parseFloat(ot)+Number.parseFloat(_t))):0})(m)+5;let $=!1;const Y=({target:st})=>{st===m&&($=!0,m.removeEventListener(r,Y),G(x))};m.addEventListener(r,Y),setTimeout(()=>{$||c(m)},I)},ct=(x,m,T,I)=>{const $=x.length;let Y=x.indexOf(m);return Y===-1?!T&&I?x[$-1]:x[0]:(Y+=T?1:-1,I&&(Y=(Y+$)%$),x[Math.max(0,Math.min(Y,$-1))])},rt=/[^.]*(?=\..*)\.|.*/,pt=/\..*/,V=/::\d+$/,k={};let N=1;const z={mouseenter:"mouseover",mouseleave:"mouseout"},B=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(x,m){return m&&`${m}::${N++}`||x.uidEvent||N++}function U(x){const m=F(x);return x.uidEvent=m,k[m]=k[m]||{},k[m]}function ne(x,m,T=null){return Object.values(x).find(I=>I.callable===m&&I.delegationSelector===T)}function Mt(x,m,T){const I=typeof m=="string",$=I?T:m||T;let Y=Lt(x);return B.has(Y)||(Y=x),[I,$,Y]}function et(x,m,T,I,$){if(typeof m!="string"||!x)return;let[Y,st,ot]=Mt(m,T,I);m in z&&(st=(Kt=>function(Bt){if(!Bt.relatedTarget||Bt.relatedTarget!==Bt.delegateTarget&&!Bt.delegateTarget.contains(Bt.relatedTarget))return Kt.call(this,Bt)})(st));const _t=U(x),wt=_t[ot]||(_t[ot]={}),Rt=ne(wt,st,Y?T:null);if(Rt)return void(Rt.oneOff=Rt.oneOff&&$);const Et=F(st,m.replace(rt,"")),Yt=Y?function(Pt,Kt,Bt){return function Vt(_e){const Se=Pt.querySelectorAll(Kt);for(let{target:Zt}=_e;Zt&&Zt!==this;Zt=Zt.parentNode)for(const he of Se)if(he===Zt)return ht(_e,{delegateTarget:Zt}),Vt.oneOff&&M.off(Pt,_e.type,Kt,Bt),Bt.apply(Zt,[_e])}}(x,T,st):function(Pt,Kt){return function Bt(Vt){return ht(Vt,{delegateTarget:Pt}),Bt.oneOff&&M.off(Pt,Vt.type,Kt),Kt.apply(Pt,[Vt])}}(x,st);Yt.delegationSelector=Y?T:null,Yt.callable=st,Yt.oneOff=$,Yt.uidEvent=Et,wt[Et]=Yt,x.addEventListener(ot,Yt,Y)}function gt(x,m,T,I,$){const Y=ne(m[T],I,$);Y&&(x.removeEventListener(T,Y,!!$),delete m[T][Y.uidEvent])}function xt(x,m,T,I){const $=m[T]||{};for(const[Y,st]of Object.entries($))Y.includes(I)&&gt(x,m,T,st.callable,st.delegationSelector)}function Lt(x){return x=x.replace(pt,""),z[x]||x}const M={on(x,m,T,I){et(x,m,T,I,!1)},one(x,m,T,I){et(x,m,T,I,!0)},off(x,m,T,I){if(typeof m!="string"||!x)return;const[$,Y,st]=Mt(m,T,I),ot=st!==m,_t=U(x),wt=_t[st]||{},Rt=m.startsWith(".");if(Y===void 0){if(Rt)for(const Et of Object.keys(_t))xt(x,_t,Et,m.slice(1));for(const[Et,Yt]of Object.entries(wt)){const Pt=Et.replace(V,"");ot&&!m.includes(Pt)||gt(x,_t,st,Yt.callable,Yt.delegationSelector)}}else{if(!Object.keys(wt).length)return;gt(x,_t,st,Y,$?T:null)}},trigger(x,m,T){if(typeof m!="string"||!x)return null;const I=R();let $=null,Y=!0,st=!0,ot=!1;m!==Lt(m)&&I&&($=I.Event(m,T),I(x).trigger($),Y=!$.isPropagationStopped(),st=!$.isImmediatePropagationStopped(),ot=$.isDefaultPrevented());const _t=ht(new Event(m,{bubbles:Y,cancelable:!0}),T);return ot&&_t.preventDefault(),st&&x.dispatchEvent(_t),_t.defaultPrevented&&$&&$.preventDefault(),_t}};function ht(x,m={}){for(const[T,I]of Object.entries(m))try{x[T]=I}catch{Object.defineProperty(x,T,{configurable:!0,get:()=>I})}return x}function yt(x){if(x==="true")return!0;if(x==="false")return!1;if(x===Number(x).toString())return Number(x);if(x===""||x==="null")return null;if(typeof x!="string")return x;try{return JSON.parse(decodeURIComponent(x))}catch{return x}}function mt(x){return x.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const St={setDataAttribute(x,m,T){x.setAttribute(`data-bs-${mt(m)}`,T)},removeDataAttribute(x,m){x.removeAttribute(`data-bs-${mt(m)}`)},getDataAttributes(x){if(!x)return{};const m={},T=Object.keys(x.dataset).filter(I=>I.startsWith("bs")&&!I.startsWith("bsConfig"));for(const I of T){let $=I.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1),m[$]=yt(x.dataset[I])}return m},getDataAttribute:(x,m)=>yt(x.getAttribute(`data-bs-${mt(m)}`))};class zt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,T){const I=h(T)?St.getDataAttribute(T,"config"):{};return{...this.constructor.Default,...typeof I=="object"?I:{},...h(T)?St.getDataAttributes(T):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,T=this.constructor.DefaultType){for(const[$,Y]of Object.entries(T)){const st=m[$],ot=h(st)?"element":(I=st)==null?`${I}`:Object.prototype.toString.call(I).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Y).test(ot))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${$}" provided type "${ot}" but expected type "${Y}".`)}var I}}class It extends zt{constructor(m,T){super(),(m=f(m))&&(this._element=m,this._config=this._getConfig(T),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),M.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,T,I=!0){J(m,T,I)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return i.get(f(m),this.DATA_KEY)}static getOrCreateInstance(m,T={}){return this.getInstance(m)||new this(m,typeof T=="object"?T:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const We=x=>{let m=x.getAttribute("data-bs-target");if(!m||m==="#"){let T=x.getAttribute("href");if(!T||!T.includes("#")&&!T.startsWith("."))return null;T.includes("#")&&!T.startsWith("#")&&(T=`#${T.split("#")[1]}`),m=T&&T!=="#"?T.trim():null}return m?m.split(",").map(T=>o(T)).join(","):null},bt={find:(x,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,x)),findOne:(x,m=document.documentElement)=>Element.prototype.querySelector.call(m,x),children:(x,m)=>[].concat(...x.children).filter(T=>T.matches(m)),parents(x,m){const T=[];let I=x.parentNode.closest(m);for(;I;)T.push(I),I=I.parentNode.closest(m);return T},prev(x,m){let T=x.previousElementSibling;for(;T;){if(T.matches(m))return[T];T=T.previousElementSibling}return[]},next(x,m){let T=x.nextElementSibling;for(;T;){if(T.matches(m))return[T];T=T.nextElementSibling}return[]},focusableChildren(x){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(T=>`${T}:not([tabindex^="-"])`).join(",");return this.find(m,x).filter(T=>!_(T)&&g(T))},getSelectorFromElement(x){const m=We(x);return m&&bt.findOne(m)?m:null},getElementFromSelector(x){const m=We(x);return m?bt.findOne(m):null},getMultipleElementsFromSelector(x){const m=We(x);return m?bt.find(m):[]}},hi=(x,m="hide")=>{const T=`click.dismiss${x.EVENT_KEY}`,I=x.NAME;M.on(document,T,`[data-bs-dismiss="${I}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this))return;const Y=bt.getElementFromSelector(this)||this.closest(`.${I}`);x.getOrCreateInstance(Y)[m]()})},Us=".bs.alert",zs=`close${Us}`,Wr=`closed${Us}`;class Bi extends It{static get NAME(){return"alert"}close(){if(M.trigger(this._element,zs).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),M.trigger(this._element,Wr),this.dispose()}static jQueryInterface(m){return this.each(function(){const T=Bi.getOrCreateInstance(this);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m](this)}})}}hi(Bi,"close"),L(Bi);const ur='[data-bs-toggle="button"]';class js extends It{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const T=js.getOrCreateInstance(this);m==="toggle"&&T[m]()})}}M.on(document,"click.bs.button.data-api",ur,x=>{x.preventDefault();const m=x.target.closest(ur);js.getOrCreateInstance(m).toggle()}),L(js);const Bs=".bs.swipe",Ei=`touchstart${Bs}`,Nu=`touchmove${Bs}`,gl=`touchend${Bs}`,Wa=`pointerdown${Bs}`,Qr=`pointerup${Bs}`,Lu={endCallback:null,leftCallback:null,rightCallback:null},Qa={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class hr extends zt{constructor(m,T){super(),this._element=m,m&&hr.isSupported()&&(this._config=this._getConfig(T),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Lu}static get DefaultType(){return Qa}static get NAME(){return"swipe"}dispose(){M.off(this._element,Bs)}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const T=m/this._deltaX;this._deltaX=0,T&&G(T>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(M.on(this._element,Wa,m=>this._start(m)),M.on(this._element,Qr,m=>this._end(m)),this._element.classList.add("pointer-event")):(M.on(this._element,Ei,m=>this._start(m)),M.on(this._element,Nu,m=>this._move(m)),M.on(this._element,gl,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Fi=".bs.carousel",je=".data-api",Ee="ArrowLeft",fi="ArrowRight",Qe="next",Fs="prev",fr="left",ls="right",Xr=`slide${Fi}`,Hs=`slid${Fi}`,Hi=`keydown${Fi}`,Xa=`mouseenter${Fi}`,Zr=`mouseleave${Fi}`,pl=`dragstart${Fi}`,ml=`load${Fi}${je}`,_l=`click${Fi}${je}`,cs="carousel",Ti="active",Za=".active",qi=".carousel-item",yl=Za+qi,dr={[Ee]:ls,[fi]:fr},Ja={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},gr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class qs extends It{constructor(m,T){super(m,T),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=bt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===cs&&this.cycle()}static get Default(){return Ja}static get DefaultType(){return gr}static get NAME(){return"carousel"}next(){this._slide(Qe)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(Fs)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?M.one(this._element,Hs,()=>this.cycle()):this.cycle())}to(m){const T=this._getItems();if(m>T.length-1||m<0)return;if(this._isSliding)return void M.one(this._element,Hs,()=>this.to(m));const I=this._getItemIndex(this._getActive());if(I===m)return;const $=m>I?Qe:Fs;this._slide($,T[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&M.on(this._element,Hi,m=>this._keydown(m)),this._config.pause==="hover"&&(M.on(this._element,Xa,()=>this.pause()),M.on(this._element,Zr,()=>this._maybeEnableCycle())),this._config.touch&&hr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const T of bt.find(".carousel-item img",this._element))M.on(T,pl,I=>I.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(fr)),rightCallback:()=>this._slide(this._directionToOrder(ls)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new hr(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const T=dr[m.key];T&&(m.preventDefault(),this._slide(this._directionToOrder(T)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const T=bt.findOne(Za,this._indicatorsElement);T.classList.remove(Ti),T.removeAttribute("aria-current");const I=bt.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);I&&(I.classList.add(Ti),I.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const T=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=T||this._config.defaultInterval}_slide(m,T=null){if(this._isSliding)return;const I=this._getActive(),$=m===Qe,Y=T||ct(this._getItems(),I,$,this._config.wrap);if(Y===I)return;const st=this._getItemIndex(Y),ot=Et=>M.trigger(this._element,Et,{relatedTarget:Y,direction:this._orderToDirection(m),from:this._getItemIndex(I),to:st});if(ot(Xr).defaultPrevented||!I||!Y)return;const _t=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(st),this._activeElement=Y;const wt=$?"carousel-item-start":"carousel-item-end",Rt=$?"carousel-item-next":"carousel-item-prev";Y.classList.add(Rt),A(Y),I.classList.add(wt),Y.classList.add(wt),this._queueCallback(()=>{Y.classList.remove(wt,Rt),Y.classList.add(Ti),I.classList.remove(Ti,Rt,wt),this._isSliding=!1,ot(Hs)},I,this._isAnimated()),_t&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return bt.findOne(yl,this._element)}_getItems(){return bt.find(qi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return P()?m===fr?Fs:Qe:m===fr?Qe:Fs}_orderToDirection(m){return P()?m===Fs?fr:ls:m===Fs?ls:fr}static jQueryInterface(m){return this.each(function(){const T=qs.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}}else T.to(m)})}}M.on(document,_l,"[data-bs-slide], [data-bs-slide-to]",function(x){const m=bt.getElementFromSelector(this);if(!m||!m.classList.contains(cs))return;x.preventDefault();const T=qs.getOrCreateInstance(m),I=this.getAttribute("data-bs-slide-to");return I?(T.to(I),void T._maybeEnableCycle()):St.getDataAttribute(this,"slide")==="next"?(T.next(),void T._maybeEnableCycle()):(T.prev(),void T._maybeEnableCycle())}),M.on(window,ml,()=>{const x=bt.find('[data-bs-ride="carousel"]');for(const m of x)qs.getOrCreateInstance(m)}),L(qs);const Te=".bs.collapse",nn=`show${Te}`,Xe=`shown${Te}`,wi=`hide${Te}`,vl=`hidden${Te}`,Vu=`click${Te}.data-api`,us="show",$s="collapse",hs="collapsing",pr=`:scope .${$s} .${$s}`,$i='[data-bs-toggle="collapse"]',fs={parent:null,toggle:!0},ds={parent:"(null|element)",toggle:"boolean"};class Ze extends It{constructor(m,T){super(m,T),this._isTransitioning=!1,this._triggerArray=[];const I=bt.find($i);for(const $ of I){const Y=bt.getSelectorFromElement($),st=bt.find(Y).filter(ot=>ot===this._element);Y!==null&&st.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fs}static get DefaultType(){return ds}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter($=>$!==this._element).map($=>Ze.getOrCreateInstance($,{toggle:!1}))),m.length&&m[0]._isTransitioning||M.trigger(this._element,nn).defaultPrevented)return;for(const $ of m)$.hide();const T=this._getDimension();this._element.classList.remove($s),this._element.classList.add(hs),this._element.style[T]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${T[0].toUpperCase()+T.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hs),this._element.classList.add($s,us),this._element.style[T]="",M.trigger(this._element,Xe)},this._element,!0),this._element.style[T]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||M.trigger(this._element,wi).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,A(this._element),this._element.classList.add(hs),this._element.classList.remove($s,us);for(const T of this._triggerArray){const I=bt.getElementFromSelector(T);I&&!this._isShown(I)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hs),this._element.classList.add($s),M.trigger(this._element,vl)},this._element,!0)}_isShown(m=this._element){return m.classList.contains(us)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=f(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren($i);for(const T of m){const I=bt.getElementFromSelector(T);I&&this._addAriaAndCollapsedClass([T],this._isShown(I))}}_getFirstLevelChildren(m){const T=bt.find(pr,this._config.parent);return bt.find(m,this._config.parent).filter(I=>!T.includes(I))}_addAriaAndCollapsedClass(m,T){if(m.length)for(const I of m)I.classList.toggle("collapsed",!T),I.setAttribute("aria-expanded",T)}static jQueryInterface(m){const T={};return typeof m=="string"&&/show|hide/.test(m)&&(T.toggle=!1),this.each(function(){const I=Ze.getOrCreateInstance(this,T);if(typeof m=="string"){if(I[m]===void 0)throw new TypeError(`No method named "${m}"`);I[m]()}})}}M.on(document,Vu,$i,function(x){(x.target.tagName==="A"||x.delegateTarget&&x.delegateTarget.tagName==="A")&&x.preventDefault();for(const m of bt.getMultipleElementsFromSelector(this))Ze.getOrCreateInstance(m,{toggle:!1}).toggle()}),L(Ze);var ie="top",wn="bottom",gn="right",ke="left",Si="auto",Gs=[ie,wn,gn,ke],gs="start",Ai="end",bl="clippingParents",ps="viewport",Fn="popper",pn="reference",Ys=Gs.reduce(function(x,m){return x.concat([m+"-"+gs,m+"-"+Ai])},[]),to=[].concat(Gs,[Si]).reduce(function(x,m){return x.concat([m,m+"-"+gs,m+"-"+Ai])},[]),ms="beforeRead",Jr="read",ta="afterRead",eo="beforeMain",ea="main",Pn="afterMain",no="beforeWrite",dc="write",na="afterWrite",io=[ms,Jr,ta,eo,ea,Pn,no,dc,na];function Nn(x){return x?(x.nodeName||"").toLowerCase():null}function Hn(x){if(x==null)return window;if(x.toString()!=="[object Window]"){var m=x.ownerDocument;return m&&m.defaultView||window}return x}function Ie(x){return x instanceof Hn(x).Element||x instanceof Element}function Le(x){return x instanceof Hn(x).HTMLElement||x instanceof HTMLElement}function Ks(x){return typeof ShadowRoot<"u"&&(x instanceof Hn(x).ShadowRoot||x instanceof ShadowRoot)}const _s={name:"applyStyles",enabled:!0,phase:"write",fn:function(x){var m=x.state;Object.keys(m.elements).forEach(function(T){var I=m.styles[T]||{},$=m.attributes[T]||{},Y=m.elements[T];Le(Y)&&Nn(Y)&&(Object.assign(Y.style,I),Object.keys($).forEach(function(st){var ot=$[st];ot===!1?Y.removeAttribute(st):Y.setAttribute(st,ot===!0?"":ot)}))})},effect:function(x){var m=x.state,T={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,T.popper),m.styles=T,m.elements.arrow&&Object.assign(m.elements.arrow.style,T.arrow),function(){Object.keys(m.elements).forEach(function(I){var $=m.elements[I],Y=m.attributes[I]||{},st=Object.keys(m.styles.hasOwnProperty(I)?m.styles[I]:T[I]).reduce(function(ot,_t){return ot[_t]="",ot},{});Le($)&&Nn($)&&(Object.assign($.style,st),Object.keys(Y).forEach(function(ot){$.removeAttribute(ot)}))})}},requires:["computeStyles"]};function mn(x){return x.split("-")[0]}var ae=Math.max,ys=Math.min,Sn=Math.round;function Ws(){var x=navigator.userAgentData;return x!=null&&x.brands&&Array.isArray(x.brands)?x.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function El(){return!/^((?!chrome|android).)*safari/i.test(Ws())}function vs(x,m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);var I=x.getBoundingClientRect(),$=1,Y=1;m&&Le(x)&&($=x.offsetWidth>0&&Sn(I.width)/x.offsetWidth||1,Y=x.offsetHeight>0&&Sn(I.height)/x.offsetHeight||1);var st=(Ie(x)?Hn(x):window).visualViewport,ot=!El()&&T,_t=(I.left+(ot&&st?st.offsetLeft:0))/$,wt=(I.top+(ot&&st?st.offsetTop:0))/Y,Rt=I.width/$,Et=I.height/Y;return{width:Rt,height:Et,top:wt,right:_t+Rt,bottom:wt+Et,left:_t,x:_t,y:wt}}function ia(x){var m=vs(x),T=x.offsetWidth,I=x.offsetHeight;return Math.abs(m.width-T)<=1&&(T=m.width),Math.abs(m.height-I)<=1&&(I=m.height),{x:x.offsetLeft,y:x.offsetTop,width:T,height:I}}function gc(x,m){var T=m.getRootNode&&m.getRootNode();if(x.contains(m))return!0;if(T&&Ks(T)){var I=m;do{if(I&&x.isSameNode(I))return!0;I=I.parentNode||I.host}while(I)}return!1}function Gi(x){return Hn(x).getComputedStyle(x)}function so(x){return["table","td","th"].indexOf(Nn(x))>=0}function Ln(x){return((Ie(x)?x.ownerDocument:x.document)||window.document).documentElement}function qn(x){return Nn(x)==="html"?x:x.assignedSlot||x.parentNode||(Ks(x)?x.host:null)||Ln(x)}function bs(x){return Le(x)&&Gi(x).position!=="fixed"?x.offsetParent:null}function di(x){for(var m=Hn(x),T=bs(x);T&&so(T)&&Gi(T).position==="static";)T=bs(T);return T&&(Nn(T)==="html"||Nn(T)==="body"&&Gi(T).position==="static")?m:T||function(I){var $=/firefox/i.test(Ws());if(/Trident/i.test(Ws())&&Le(I)&&Gi(I).position==="fixed")return null;var Y=qn(I);for(Ks(Y)&&(Y=Y.host);Le(Y)&&["html","body"].indexOf(Nn(Y))<0;){var st=Gi(Y);if(st.transform!=="none"||st.perspective!=="none"||st.contain==="paint"||["transform","perspective"].indexOf(st.willChange)!==-1||$&&st.willChange==="filter"||$&&st.filter&&st.filter!=="none")return Y;Y=Y.parentNode}return null}(x)||m}function sa(x){return["top","bottom"].indexOf(x)>=0?"x":"y"}function ti(x,m,T){return ae(x,ys(m,T))}function Tl(x){return Object.assign({},{top:0,right:0,bottom:0,left:0},x)}function mr(x,m){return m.reduce(function(T,I){return T[I]=x,T},{})}const xi={name:"arrow",enabled:!0,phase:"main",fn:function(x){var m,T=x.state,I=x.name,$=x.options,Y=T.elements.arrow,st=T.modifiersData.popperOffsets,ot=mn(T.placement),_t=sa(ot),wt=[ke,gn].indexOf(ot)>=0?"height":"width";if(Y&&st){var Rt=function(Ht,de){return Tl(typeof(Ht=typeof Ht=="function"?Ht(Object.assign({},de.rects,{placement:de.placement})):Ht)!="number"?Ht:mr(Ht,Gs))}($.padding,T),Et=ia(Y),Yt=_t==="y"?ie:ke,Pt=_t==="y"?wn:gn,Kt=T.rects.reference[wt]+T.rects.reference[_t]-st[_t]-T.rects.popper[wt],Bt=st[_t]-T.rects.reference[_t],Vt=di(Y),_e=Vt?_t==="y"?Vt.clientHeight||0:Vt.clientWidth||0:0,Se=Kt/2-Bt/2,Zt=Rt[Yt],he=_e-Et[wt]-Rt[Pt],Ft=_e/2-Et[wt]/2+Se,Tt=ti(Zt,Ft,he),Dt=_t;T.modifiersData[I]=((m={})[Dt]=Tt,m.centerOffset=Tt-Ft,m)}},effect:function(x){var m=x.state,T=x.options.element,I=T===void 0?"[data-popper-arrow]":T;I!=null&&(typeof I!="string"||(I=m.elements.popper.querySelector(I)))&&gc(m.elements.popper,I)&&(m.elements.arrow=I)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function An(x){return x.split("-")[1]}var ra={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yi(x){var m,T=x.popper,I=x.popperRect,$=x.placement,Y=x.variation,st=x.offsets,ot=x.position,_t=x.gpuAcceleration,wt=x.adaptive,Rt=x.roundOffsets,Et=x.isFixed,Yt=st.x,Pt=Yt===void 0?0:Yt,Kt=st.y,Bt=Kt===void 0?0:Kt,Vt=typeof Rt=="function"?Rt({x:Pt,y:Bt}):{x:Pt,y:Bt};Pt=Vt.x,Bt=Vt.y;var _e=st.hasOwnProperty("x"),Se=st.hasOwnProperty("y"),Zt=ke,he=ie,Ft=window;if(wt){var Tt=di(T),Dt="clientHeight",Ht="clientWidth";Tt===Hn(T)&&Gi(Tt=Ln(T)).position!=="static"&&ot==="absolute"&&(Dt="scrollHeight",Ht="scrollWidth"),($===ie||($===ke||$===gn)&&Y===Ai)&&(he=wn,Bt-=(Et&&Tt===Ft&&Ft.visualViewport?Ft.visualViewport.height:Tt[Dt])-I.height,Bt*=_t?1:-1),$!==ke&&($!==ie&&$!==wn||Y!==Ai)||(Zt=gn,Pt-=(Et&&Tt===Ft&&Ft.visualViewport?Ft.visualViewport.width:Tt[Ht])-I.width,Pt*=_t?1:-1)}var de,Oe=Object.assign({position:ot},wt&&ra),ln=Rt===!0?function(si,cn){var Cn=si.x,Oi=si.y,Qt=cn.devicePixelRatio||1;return{x:Sn(Cn*Qt)/Qt||0,y:Sn(Oi*Qt)/Qt||0}}({x:Pt,y:Bt},Hn(T)):{x:Pt,y:Bt};return Pt=ln.x,Bt=ln.y,_t?Object.assign({},Oe,((de={})[he]=Se?"0":"",de[Zt]=_e?"0":"",de.transform=(Ft.devicePixelRatio||1)<=1?"translate("+Pt+"px, "+Bt+"px)":"translate3d("+Pt+"px, "+Bt+"px, 0)",de)):Object.assign({},Oe,((m={})[he]=Se?Bt+"px":"",m[Zt]=_e?Pt+"px":"",m.transform="",m))}const Es={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var m=x.state,T=x.options,I=T.gpuAcceleration,$=I===void 0||I,Y=T.adaptive,st=Y===void 0||Y,ot=T.roundOffsets,_t=ot===void 0||ot,wt={placement:mn(m.placement),variation:An(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:$,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,Yi(Object.assign({},wt,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:st,roundOffsets:_t})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,Yi(Object.assign({},wt,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_t})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}};var Ri={passive:!0};const aa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(x){var m=x.state,T=x.instance,I=x.options,$=I.scroll,Y=$===void 0||$,st=I.resize,ot=st===void 0||st,_t=Hn(m.elements.popper),wt=[].concat(m.scrollParents.reference,m.scrollParents.popper);return Y&&wt.forEach(function(Rt){Rt.addEventListener("scroll",T.update,Ri)}),ot&&_t.addEventListener("resize",T.update,Ri),function(){Y&&wt.forEach(function(Rt){Rt.removeEventListener("scroll",T.update,Ri)}),ot&&_t.removeEventListener("resize",T.update,Ri)}},data:{}};var Ts={left:"right",right:"left",bottom:"top",top:"bottom"};function gi(x){return x.replace(/left|right|bottom|top/g,function(m){return Ts[m]})}var wl={start:"end",end:"start"};function sn(x){return x.replace(/start|end/g,function(m){return wl[m]})}function fe(x){var m=Hn(x);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function _r(x){return vs(Ln(x)).left+fe(x).scrollLeft}function Qs(x){var m=Gi(x),T=m.overflow,I=m.overflowX,$=m.overflowY;return/auto|scroll|overlay|hidden/.test(T+$+I)}function Sl(x){return["html","body","#document"].indexOf(Nn(x))>=0?x.ownerDocument.body:Le(x)&&Qs(x)?x:Sl(qn(x))}function ws(x,m){var T;m===void 0&&(m=[]);var I=Sl(x),$=I===((T=x.ownerDocument)==null?void 0:T.body),Y=Hn(I),st=$?[Y].concat(Y.visualViewport||[],Qs(I)?I:[]):I,ot=m.concat(st);return $?ot:ot.concat(ws(qn(st)))}function yr(x){return Object.assign({},x,{left:x.x,top:x.y,right:x.x+x.width,bottom:x.y+x.height})}function Ki(x,m,T){return m===ps?yr(function(I,$){var Y=Hn(I),st=Ln(I),ot=Y.visualViewport,_t=st.clientWidth,wt=st.clientHeight,Rt=0,Et=0;if(ot){_t=ot.width,wt=ot.height;var Yt=El();(Yt||!Yt&&$==="fixed")&&(Rt=ot.offsetLeft,Et=ot.offsetTop)}return{width:_t,height:wt,x:Rt+_r(I),y:Et}}(x,T)):Ie(m)?function(I,$){var Y=vs(I,!1,$==="fixed");return Y.top=Y.top+I.clientTop,Y.left=Y.left+I.clientLeft,Y.bottom=Y.top+I.clientHeight,Y.right=Y.left+I.clientWidth,Y.width=I.clientWidth,Y.height=I.clientHeight,Y.x=Y.left,Y.y=Y.top,Y}(m,T):yr(function(I){var $,Y=Ln(I),st=fe(I),ot=($=I.ownerDocument)==null?void 0:$.body,_t=ae(Y.scrollWidth,Y.clientWidth,ot?ot.scrollWidth:0,ot?ot.clientWidth:0),wt=ae(Y.scrollHeight,Y.clientHeight,ot?ot.scrollHeight:0,ot?ot.clientHeight:0),Rt=-st.scrollLeft+_r(I),Et=-st.scrollTop;return Gi(ot||Y).direction==="rtl"&&(Rt+=ae(Y.clientWidth,ot?ot.clientWidth:0)-_t),{width:_t,height:wt,x:Rt,y:Et}}(Ln(x)))}function vr(x){var m,T=x.reference,I=x.element,$=x.placement,Y=$?mn($):null,st=$?An($):null,ot=T.x+T.width/2-I.width/2,_t=T.y+T.height/2-I.height/2;switch(Y){case ie:m={x:ot,y:T.y-I.height};break;case wn:m={x:ot,y:T.y+T.height};break;case gn:m={x:T.x+T.width,y:_t};break;case ke:m={x:T.x-I.width,y:_t};break;default:m={x:T.x,y:T.y}}var wt=Y?sa(Y):null;if(wt!=null){var Rt=wt==="y"?"height":"width";switch(st){case gs:m[wt]=m[wt]-(T[Rt]/2-I[Rt]/2);break;case Ai:m[wt]=m[wt]+(T[Rt]/2-I[Rt]/2)}}return m}function xn(x,m){m===void 0&&(m={});var T=m,I=T.placement,$=I===void 0?x.placement:I,Y=T.strategy,st=Y===void 0?x.strategy:Y,ot=T.boundary,_t=ot===void 0?bl:ot,wt=T.rootBoundary,Rt=wt===void 0?ps:wt,Et=T.elementContext,Yt=Et===void 0?Fn:Et,Pt=T.altBoundary,Kt=Pt!==void 0&&Pt,Bt=T.padding,Vt=Bt===void 0?0:Bt,_e=Tl(typeof Vt!="number"?Vt:mr(Vt,Gs)),Se=Yt===Fn?pn:Fn,Zt=x.rects.popper,he=x.elements[Kt?Se:Yt],Ft=function(cn,Cn,Oi,Qt){var Di=Cn==="clippingParents"?function(Ae){var In=ws(qn(Ae)),ri=["absolute","fixed"].indexOf(Gi(Ae).position)>=0&&Le(Ae)?di(Ae):Ae;return Ie(ri)?In.filter(function(Rs){return Ie(Rs)&&gc(Rs,ri)&&Nn(Rs)!=="body"}):[]}(cn):[].concat(Cn),Mi=[].concat(Di,[Oi]),xa=Mi[0],un=Mi.reduce(function(Ae,In){var ri=Ki(cn,In,Qt);return Ae.top=ae(ri.top,Ae.top),Ae.right=ys(ri.right,Ae.right),Ae.bottom=ys(ri.bottom,Ae.bottom),Ae.left=ae(ri.left,Ae.left),Ae},Ki(cn,xa,Qt));return un.width=un.right-un.left,un.height=un.bottom-un.top,un.x=un.left,un.y=un.top,un}(Ie(he)?he:he.contextElement||Ln(x.elements.popper),_t,Rt,st),Tt=vs(x.elements.reference),Dt=vr({reference:Tt,element:Zt,placement:$}),Ht=yr(Object.assign({},Zt,Dt)),de=Yt===Fn?Ht:Tt,Oe={top:Ft.top-de.top+_e.top,bottom:de.bottom-Ft.bottom+_e.bottom,left:Ft.left-de.left+_e.left,right:de.right-Ft.right+_e.right},ln=x.modifiersData.offset;if(Yt===Fn&&ln){var si=ln[$];Object.keys(Oe).forEach(function(cn){var Cn=[gn,wn].indexOf(cn)>=0?1:-1,Oi=[ie,wn].indexOf(cn)>=0?"y":"x";Oe[cn]+=si[Oi]*Cn})}return Oe}function pc(x,m){m===void 0&&(m={});var T=m,I=T.placement,$=T.boundary,Y=T.rootBoundary,st=T.padding,ot=T.flipVariations,_t=T.allowedAutoPlacements,wt=_t===void 0?to:_t,Rt=An(I),Et=Rt?ot?Ys:Ys.filter(function(Kt){return An(Kt)===Rt}):Gs,Yt=Et.filter(function(Kt){return wt.indexOf(Kt)>=0});Yt.length===0&&(Yt=Et);var Pt=Yt.reduce(function(Kt,Bt){return Kt[Bt]=xn(x,{placement:Bt,boundary:$,rootBoundary:Y,padding:st})[mn(Bt)],Kt},{});return Object.keys(Pt).sort(function(Kt,Bt){return Pt[Kt]-Pt[Bt]})}const mc={name:"flip",enabled:!0,phase:"main",fn:function(x){var m=x.state,T=x.options,I=x.name;if(!m.modifiersData[I]._skip){for(var $=T.mainAxis,Y=$===void 0||$,st=T.altAxis,ot=st===void 0||st,_t=T.fallbackPlacements,wt=T.padding,Rt=T.boundary,Et=T.rootBoundary,Yt=T.altBoundary,Pt=T.flipVariations,Kt=Pt===void 0||Pt,Bt=T.allowedAutoPlacements,Vt=m.options.placement,_e=mn(Vt),Se=_t||(_e!==Vt&&Kt?function(Ae){if(mn(Ae)===Si)return[];var In=gi(Ae);return[sn(Ae),In,sn(In)]}(Vt):[gi(Vt)]),Zt=[Vt].concat(Se).reduce(function(Ae,In){return Ae.concat(mn(In)===Si?pc(m,{placement:In,boundary:Rt,rootBoundary:Et,padding:wt,flipVariations:Kt,allowedAutoPlacements:Bt}):In)},[]),he=m.rects.reference,Ft=m.rects.popper,Tt=new Map,Dt=!0,Ht=Zt[0],de=0;de<Zt.length;de++){var Oe=Zt[de],ln=mn(Oe),si=An(Oe)===gs,cn=[ie,wn].indexOf(ln)>=0,Cn=cn?"width":"height",Oi=xn(m,{placement:Oe,boundary:Rt,rootBoundary:Et,altBoundary:Yt,padding:wt}),Qt=cn?si?gn:ke:si?wn:ie;he[Cn]>Ft[Cn]&&(Qt=gi(Qt));var Di=gi(Qt),Mi=[];if(Y&&Mi.push(Oi[ln]<=0),ot&&Mi.push(Oi[Qt]<=0,Oi[Di]<=0),Mi.every(function(Ae){return Ae})){Ht=Oe,Dt=!1;break}Tt.set(Oe,Mi)}if(Dt)for(var xa=function(Ae){var In=Zt.find(function(ri){var Rs=Tt.get(ri);if(Rs)return Rs.slice(0,Ae).every(function(On){return On})});if(In)return Ht=In,"break"},un=Kt?3:1;un>0&&xa(un)!=="break";un--);m.placement!==Ht&&(m.modifiersData[I]._skip=!0,m.placement=Ht,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function br(x,m,T){return T===void 0&&(T={x:0,y:0}),{top:x.top-m.height-T.y,right:x.right-m.width+T.x,bottom:x.bottom-m.height+T.y,left:x.left-m.width-T.x}}function oa(x){return[ie,gn,wn,ke].some(function(m){return x[m]>=0})}const ro={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(x){var m=x.state,T=x.name,I=m.rects.reference,$=m.rects.popper,Y=m.modifiersData.preventOverflow,st=xn(m,{elementContext:"reference"}),ot=xn(m,{altBoundary:!0}),_t=br(st,I),wt=br(ot,$,Y),Rt=oa(_t),Et=oa(wt);m.modifiersData[T]={referenceClippingOffsets:_t,popperEscapeOffsets:wt,isReferenceHidden:Rt,hasPopperEscaped:Et},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Rt,"data-popper-escaped":Et})}},la={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(x){var m=x.state,T=x.options,I=x.name,$=T.offset,Y=$===void 0?[0,0]:$,st=to.reduce(function(Rt,Et){return Rt[Et]=function(Yt,Pt,Kt){var Bt=mn(Yt),Vt=[ke,ie].indexOf(Bt)>=0?-1:1,_e=typeof Kt=="function"?Kt(Object.assign({},Pt,{placement:Yt})):Kt,Se=_e[0],Zt=_e[1];return Se=Se||0,Zt=(Zt||0)*Vt,[ke,gn].indexOf(Bt)>=0?{x:Zt,y:Se}:{x:Se,y:Zt}}(Et,m.rects,Y),Rt},{}),ot=st[m.placement],_t=ot.x,wt=ot.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=_t,m.modifiersData.popperOffsets.y+=wt),m.modifiersData[I]=st}},ao={name:"popperOffsets",enabled:!0,phase:"read",fn:function(x){var m=x.state,T=x.name;m.modifiersData[T]=vr({reference:m.rects.reference,element:m.rects.popper,placement:m.placement})},data:{}},ca={name:"preventOverflow",enabled:!0,phase:"main",fn:function(x){var m=x.state,T=x.options,I=x.name,$=T.mainAxis,Y=$===void 0||$,st=T.altAxis,ot=st!==void 0&&st,_t=T.boundary,wt=T.rootBoundary,Rt=T.altBoundary,Et=T.padding,Yt=T.tether,Pt=Yt===void 0||Yt,Kt=T.tetherOffset,Bt=Kt===void 0?0:Kt,Vt=xn(m,{boundary:_t,rootBoundary:wt,padding:Et,altBoundary:Rt}),_e=mn(m.placement),Se=An(m.placement),Zt=!Se,he=sa(_e),Ft=he==="x"?"y":"x",Tt=m.modifiersData.popperOffsets,Dt=m.rects.reference,Ht=m.rects.popper,de=typeof Bt=="function"?Bt(Object.assign({},m.rects,{placement:m.placement})):Bt,Oe=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),ln=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,si={x:0,y:0};if(Tt){if(Y){var cn,Cn=he==="y"?ie:ke,Oi=he==="y"?wn:gn,Qt=he==="y"?"height":"width",Di=Tt[he],Mi=Di+Vt[Cn],xa=Di-Vt[Oi],un=Pt?-Ht[Qt]/2:0,Ae=Se===gs?Dt[Qt]:Ht[Qt],In=Se===gs?-Ht[Qt]:-Dt[Qt],ri=m.elements.arrow,Rs=Pt&&ri?ia(ri):{width:0,height:0},On=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$e=On[Cn],Cc=On[Oi],Ir=ti(0,Dt[Qt],Rs[Qt]),Ic=Zt?Dt[Qt]/2-un-Ir-$e-Oe.mainAxis:Ae-Ir-$e-Oe.mainAxis,hh=Zt?-Dt[Qt]/2+un+Ir+Cc+Oe.mainAxis:In+Ir+Cc+Oe.mainAxis,ts=m.elements.arrow&&di(m.elements.arrow),Oc=ts?he==="y"?ts.clientTop||0:ts.clientLeft||0:0,Dc=(cn=ln?.[he])!=null?cn:0,fh=Di+hh-Dc,dh=ti(Pt?ys(Mi,Di+Ic-Dc-Oc):Mi,Di,Pt?ae(xa,fh):xa);Tt[he]=dh,si[he]=dh-Di}if(ot){var gh,bd=he==="x"?ie:ke,Ed=he==="x"?wn:gn,Or=Tt[Ft],jl=Ft==="y"?"height":"width",Mc=Or+Vt[bd],ph=Or-Vt[Ed],mh=[ie,ke].indexOf(_e)!==-1,_h=(gh=ln?.[Ft])!=null?gh:0,yh=mh?Mc:Or-Dt[jl]-Ht[jl]-_h+Oe.altAxis,vh=mh?Or+Dt[jl]+Ht[jl]-_h-Oe.altAxis:ph,kc=Pt&&mh?function(Td,wd,Pc){var bh=ti(Td,wd,Pc);return bh>Pc?Pc:bh}(yh,Or,vh):ti(Pt?yh:Mc,Or,Pt?vh:ph);Tt[Ft]=kc,si[Ft]=kc-Or}m.modifiersData[I]=si}},requiresIfExists:["offset"]};function Uu(x,m,T){T===void 0&&(T=!1);var I,$,Y=Le(m),st=Le(m)&&function(Et){var Yt=Et.getBoundingClientRect(),Pt=Sn(Yt.width)/Et.offsetWidth||1,Kt=Sn(Yt.height)/Et.offsetHeight||1;return Pt!==1||Kt!==1}(m),ot=Ln(m),_t=vs(x,st,T),wt={scrollLeft:0,scrollTop:0},Rt={x:0,y:0};return(Y||!Y&&!T)&&((Nn(m)!=="body"||Qs(ot))&&(wt=(I=m)!==Hn(I)&&Le(I)?{scrollLeft:($=I).scrollLeft,scrollTop:$.scrollTop}:fe(I)),Le(m)?((Rt=vs(m,!0)).x+=m.clientLeft,Rt.y+=m.clientTop):ot&&(Rt.x=_r(ot))),{x:_t.left+wt.scrollLeft-Rt.x,y:_t.top+wt.scrollTop-Rt.y,width:_t.width,height:_t.height}}function Al(x){var m=new Map,T=new Set,I=[];function $(Y){T.add(Y.name),[].concat(Y.requires||[],Y.requiresIfExists||[]).forEach(function(st){if(!T.has(st)){var ot=m.get(st);ot&&$(ot)}}),I.push(Y)}return x.forEach(function(Y){m.set(Y.name,Y)}),x.forEach(function(Y){T.has(Y.name)||$(Y)}),I}var Er={placement:"bottom",modifiers:[],strategy:"absolute"};function xl(){for(var x=arguments.length,m=new Array(x),T=0;T<x;T++)m[T]=arguments[T];return!m.some(function(I){return!(I&&typeof I.getBoundingClientRect=="function")})}function ua(x){x===void 0&&(x={});var m=x,T=m.defaultModifiers,I=T===void 0?[]:T,$=m.defaultOptions,Y=$===void 0?Er:$;return function(st,ot,_t){_t===void 0&&(_t=Y);var wt,Rt,Et={placement:"bottom",orderedModifiers:[],options:Object.assign({},Er,Y),modifiersData:{},elements:{reference:st,popper:ot},attributes:{},styles:{}},Yt=[],Pt=!1,Kt={state:Et,setOptions:function(Vt){var _e=typeof Vt=="function"?Vt(Et.options):Vt;Bt(),Et.options=Object.assign({},Y,Et.options,_e),Et.scrollParents={reference:Ie(st)?ws(st):st.contextElement?ws(st.contextElement):[],popper:ws(ot)};var Se,Zt,he=function(Ft){var Tt=Al(Ft);return io.reduce(function(Dt,Ht){return Dt.concat(Tt.filter(function(de){return de.phase===Ht}))},[])}((Se=[].concat(I,Et.options.modifiers),Zt=Se.reduce(function(Ft,Tt){var Dt=Ft[Tt.name];return Ft[Tt.name]=Dt?Object.assign({},Dt,Tt,{options:Object.assign({},Dt.options,Tt.options),data:Object.assign({},Dt.data,Tt.data)}):Tt,Ft},{}),Object.keys(Zt).map(function(Ft){return Zt[Ft]})));return Et.orderedModifiers=he.filter(function(Ft){return Ft.enabled}),Et.orderedModifiers.forEach(function(Ft){var Tt=Ft.name,Dt=Ft.options,Ht=Dt===void 0?{}:Dt,de=Ft.effect;if(typeof de=="function"){var Oe=de({state:Et,name:Tt,instance:Kt,options:Ht});Yt.push(Oe||function(){})}}),Kt.update()},forceUpdate:function(){if(!Pt){var Vt=Et.elements,_e=Vt.reference,Se=Vt.popper;if(xl(_e,Se)){Et.rects={reference:Uu(_e,di(Se),Et.options.strategy==="fixed"),popper:ia(Se)},Et.reset=!1,Et.placement=Et.options.placement,Et.orderedModifiers.forEach(function(de){return Et.modifiersData[de.name]=Object.assign({},de.data)});for(var Zt=0;Zt<Et.orderedModifiers.length;Zt++)if(Et.reset!==!0){var he=Et.orderedModifiers[Zt],Ft=he.fn,Tt=he.options,Dt=Tt===void 0?{}:Tt,Ht=he.name;typeof Ft=="function"&&(Et=Ft({state:Et,options:Dt,name:Ht,instance:Kt})||Et)}else Et.reset=!1,Zt=-1}}},update:(wt=function(){return new Promise(function(Vt){Kt.forceUpdate(),Vt(Et)})},function(){return Rt||(Rt=new Promise(function(Vt){Promise.resolve().then(function(){Rt=void 0,Vt(wt())})})),Rt}),destroy:function(){Bt(),Pt=!0}};if(!xl(st,ot))return Kt;function Bt(){Yt.forEach(function(Vt){return Vt()}),Yt=[]}return Kt.setOptions(_t).then(function(Vt){!Pt&&_t.onFirstUpdate&&_t.onFirstUpdate(Vt)}),Kt}}var Rl=ua(),ha=ua({defaultModifiers:[aa,ao,Es,_s]}),oo=ua({defaultModifiers:[aa,ao,Es,_s,la,mc,ca,xi,ro]});const fa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Pn,afterRead:ta,afterWrite:na,applyStyles:_s,arrow:xi,auto:Si,basePlacements:Gs,beforeMain:eo,beforeRead:ms,beforeWrite:no,bottom:wn,clippingParents:bl,computeStyles:Es,createPopper:oo,createPopperBase:Rl,createPopperLite:ha,detectOverflow:xn,end:Ai,eventListeners:aa,flip:mc,hide:ro,left:ke,main:ea,modifierPhases:io,offset:la,placements:to,popper:Fn,popperGenerator:ua,popperOffsets:ao,preventOverflow:ca,read:Jr,reference:pn,right:gn,start:gs,top:ie,variationPlacements:Ys,viewport:ps,write:dc},Symbol.toStringTag,{value:"Module"})),Cl="dropdown",Wi=".bs.dropdown",Qi=".data-api",_c="ArrowUp",Il="ArrowDown",yc=`hide${Wi}`,vc=`hidden${Wi}`,lo=`show${Wi}`,$n=`shown${Wi}`,Ol=`click${Wi}${Qi}`,Dl=`keydown${Wi}${Qi}`,Ss=`keyup${Wi}${Qi}`,d="show",v='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',w=`${v}.${d}`,O=".dropdown-menu",W=P()?"top-end":"top-start",it=P()?"top-start":"top-end",vt=P()?"bottom-end":"bottom-start",oe=P()?"bottom-start":"bottom-end",rn=P()?"left-start":"right-start",le=P()?"right-start":"left-start",_n={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},an={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class on extends It{constructor(m,T){super(m,T),this._popper=null,this._parent=this._element.parentNode,this._menu=bt.next(this._element,O)[0]||bt.prev(this._element,O)[0]||bt.findOne(O,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _n}static get DefaultType(){return an}static get NAME(){return Cl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!M.trigger(this._element,lo,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const T of[].concat(...document.body.children))M.on(T,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(d),this._element.classList.add(d),M.trigger(this._element,$n,m)}}hide(){if(_(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!M.trigger(this._element,yc,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))M.off(T,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(d),this._element.classList.remove(d),this._element.setAttribute("aria-expanded","false"),St.removeDataAttribute(this._menu,"popper"),M.trigger(this._element,vc,m),this._element.focus()}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!h(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${Cl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(fa===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let m=this._element;this._config.reference==="parent"?m=this._parent:h(this._config.reference)?m=f(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const T=this._getPopperConfig();this._popper=oo(m,this._menu,T)}_isShown(){return this._menu.classList.contains(d)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return rn;if(m.classList.contains("dropstart"))return le;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const T=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?T?it:W:T?oe:vt}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(T=>Number.parseInt(T,10)):typeof m=="function"?T=>m(T,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(St.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...G(this._config.popperConfig,[void 0,m])}}_selectMenuItem({key:m,target:T}){const I=bt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($=>g($));I.length&&ct(I,T,m===Il,!I.includes(T)).focus()}static jQueryInterface(m){return this.each(function(){const T=on.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const T=bt.find(w);for(const I of T){const $=on.getInstance(I);if(!$||$._config.autoClose===!1)continue;const Y=m.composedPath(),st=Y.includes($._menu);if(Y.includes($._element)||$._config.autoClose==="inside"&&!st||$._config.autoClose==="outside"&&st||$._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const ot={relatedTarget:$._element};m.type==="click"&&(ot.clickEvent=m),$._completeHide(ot)}}static dataApiKeydownHandler(m){const T=/input|textarea/i.test(m.target.tagName),I=m.key==="Escape",$=[_c,Il].includes(m.key);if(!$&&!I||T&&!I)return;m.preventDefault();const Y=this.matches(v)?this:bt.prev(this,v)[0]||bt.next(this,v)[0]||bt.findOne(v,m.delegateTarget.parentNode),st=on.getOrCreateInstance(Y);if($)return m.stopPropagation(),st.show(),void st._selectMenuItem(m);st._isShown()&&(m.stopPropagation(),st.hide(),Y.focus())}}M.on(document,Dl,v,on.dataApiKeydownHandler),M.on(document,Dl,O,on.dataApiKeydownHandler),M.on(document,Ol,on.clearMenus),M.on(document,Ss,on.clearMenus),M.on(document,Ol,v,function(x){x.preventDefault(),on.getOrCreateInstance(this).toggle()}),L(on);const yn="backdrop",Xi="show",co=`mousedown.bs.${yn}`,bc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zu extends zt{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return bc}static get DefaultType(){return Jf}static get NAME(){return yn}show(m){if(!this._config.isVisible)return void G(m);this._append();const T=this._getElement();this._config.isAnimated&&A(T),T.classList.add(Xi),this._emulateAnimation(()=>{G(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(Xi),this._emulateAnimation(()=>{this.dispose(),G(m)})):G(m)}dispose(){this._isAppended&&(M.off(this._element,co),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=f(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),M.on(m,co,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){J(m,this._getElement(),this._config.isAnimated)}}const uo=".bs.focustrap",ju=`focusin${uo}`,td=`keydown.tab${uo}`,Bu="backward",ed={autofocus:!0,trapElement:null},Kp={autofocus:"boolean",trapElement:"element"};class nd extends zt{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ed}static get DefaultType(){return Kp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),M.off(document,uo),M.on(document,ju,m=>this._handleFocusin(m)),M.on(document,td,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,M.off(document,uo))}_handleFocusin(m){const{trapElement:T}=this._config;if(m.target===document||m.target===T||T.contains(m.target))return;const I=bt.focusableChildren(T);I.length===0?T.focus():this._lastTabNavDirection===Bu?I[I.length-1].focus():I[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?Bu:"forward")}}const id=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sd=".sticky-top",Ec="padding-right",ei="margin-right";class da{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ec,T=>T+m),this._setElementAttributes(id,Ec,T=>T+m),this._setElementAttributes(sd,ei,T=>T-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ec),this._resetElementAttributes(id,Ec),this._resetElementAttributes(sd,ei)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,T,I){const $=this.getWidth();this._applyManipulationCallback(m,Y=>{if(Y!==this._element&&window.innerWidth>Y.clientWidth+$)return;this._saveInitialAttribute(Y,T);const st=window.getComputedStyle(Y).getPropertyValue(T);Y.style.setProperty(T,`${I(Number.parseFloat(st))}px`)})}_saveInitialAttribute(m,T){const I=m.style.getPropertyValue(T);I&&St.setDataAttribute(m,T,I)}_resetElementAttributes(m,T){this._applyManipulationCallback(m,I=>{const $=St.getDataAttribute(I,T);$!==null?(St.removeDataAttribute(I,T),I.style.setProperty(T,$)):I.style.removeProperty(T)})}_applyManipulationCallback(m,T){if(h(m))T(m);else for(const I of bt.find(m,this._element))T(I)}}const pi=".bs.modal",rd=`hide${pi}`,ad=`hidePrevented${pi}`,Fu=`hidden${pi}`,Tc=`show${pi}`,Wp=`shown${pi}`,ho=`resize${pi}`,Hu=`click.dismiss${pi}`,Ml=`mousedown.dismiss${pi}`,qu=`keydown.dismiss${pi}`,od=`click${pi}.data-api`,Tr="modal-open",ga="show",kl="modal-static",ld={backdrop:!0,focus:!0,keyboard:!0},pa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class wr extends It{constructor(m,T){super(m,T),this._dialog=bt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new da,this._addEventListeners()}static get Default(){return ld}static get DefaultType(){return pa}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||M.trigger(this._element,Tc,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(M.trigger(this._element,rd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ga),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){M.off(window,pi),M.off(this._dialog,pi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nd({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const T=bt.findOne(".modal-body",this._dialog);T&&(T.scrollTop=0),A(this._element),this._element.classList.add(ga),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,M.trigger(this._element,Wp,{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){M.on(this._element,qu,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),M.on(window,ho,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),M.on(this._element,Ml,m=>{M.one(this._element,Hu,T=>{this._element===m.target&&this._element===T.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tr),this._resetAdjustments(),this._scrollBar.reset(),M.trigger(this._element,Fu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(M.trigger(this._element,ad).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,T=this._element.style.overflowY;T==="hidden"||this._element.classList.contains(kl)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(kl),this._queueCallback(()=>{this._element.classList.remove(kl),this._queueCallback(()=>{this._element.style.overflowY=T},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),I=T>0;if(I&&!m){const $=P()?"paddingLeft":"paddingRight";this._element.style[$]=`${T}px`}if(!I&&m){const $=P()?"paddingRight":"paddingLeft";this._element.style[$]=`${T}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,T){return this.each(function(){const I=wr.getOrCreateInstance(this,m);if(typeof m=="string"){if(I[m]===void 0)throw new TypeError(`No method named "${m}"`);I[m](T)}})}}M.on(document,od,'[data-bs-toggle="modal"]',function(x){const m=bt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&x.preventDefault(),M.one(m,Tc,I=>{I.defaultPrevented||M.one(m,Fu,()=>{g(this)&&this.focus()})});const T=bt.findOne(".modal.show");T&&wr.getInstance(T).hide(),wr.getOrCreateInstance(m).toggle(this)}),hi(wr),L(wr);const As=".bs.offcanvas",$u=".data-api",Qp=`load${As}${$u}`,cd="show",ud="showing",Gu="hiding",Yu=".offcanvas.show",Ku=`show${As}`,Zi=`shown${As}`,hd=`hide${As}`,mi=`hidePrevented${As}`,_i=`hidden${As}`,fo=`resize${As}`,Wu=`click${As}${$u}`,wc=`keydown.dismiss${As}`,Sc={backdrop:!0,keyboard:!0,scroll:!1},Qu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ni extends It{constructor(m,T){super(m,T),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Sc}static get DefaultType(){return Qu}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||M.trigger(this._element,Ku,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new da().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ud),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(cd),this._element.classList.remove(ud),M.trigger(this._element,Zi,{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(M.trigger(this._element,hd).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Gu),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(cd,Gu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new da().reset(),M.trigger(this._element,_i)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new zu({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():M.trigger(this._element,mi)}:null})}_initializeFocusTrap(){return new nd({trapElement:this._element})}_addEventListeners(){M.on(this._element,wc,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():M.trigger(this._element,mi))})}static jQueryInterface(m){return this.each(function(){const T=ni.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m](this)}})}}M.on(document,Wu,'[data-bs-toggle="offcanvas"]',function(x){const m=bt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),_(this))return;M.one(m,_i,()=>{g(this)&&this.focus()});const T=bt.findOne(Yu);T&&T!==m&&ni.getInstance(T).hide(),ni.getOrCreateInstance(m).toggle(this)}),M.on(window,Qp,()=>{for(const x of bt.find(Yu))ni.getOrCreateInstance(x).show()}),M.on(window,fo,()=>{for(const x of bt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(x).position!=="fixed"&&ni.getOrCreateInstance(x).hide()}),hi(ni),L(ni);const Xu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ac=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),go=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xp=(x,m)=>{const T=x.nodeName.toLowerCase();return m.includes(T)?!Ac.has(T)||!!go.test(x.nodeValue):m.filter(I=>I instanceof RegExp).some(I=>I.test(T))},yi={allowList:Xu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Xs={entry:"(string|element|function|null)",selector:"(string|element)"};class fd extends zt{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return yi}static get DefaultType(){return Zu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[$,Y]of Object.entries(this._config.content))this._setContent(m,Y,$);const T=m.children[0],I=this._resolvePossibleFunction(this._config.extraClass);return I&&T.classList.add(...I.split(" ")),T}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[T,I]of Object.entries(m))super._typeCheckConfig({selector:T,entry:I},Xs)}_setContent(m,T,I){const $=bt.findOne(I,m);$&&((T=this._resolvePossibleFunction(T))?h(T)?this._putElementInTemplate(f(T),$):this._config.html?$.innerHTML=this._maybeSanitize(T):$.textContent=T:$.remove())}_maybeSanitize(m){return this._config.sanitize?function(T,I,$){if(!T.length)return T;if($&&typeof $=="function")return $(T);const Y=new window.DOMParser().parseFromString(T,"text/html"),st=[].concat(...Y.body.querySelectorAll("*"));for(const ot of st){const _t=ot.nodeName.toLowerCase();if(!Object.keys(I).includes(_t)){ot.remove();continue}const wt=[].concat(...ot.attributes),Rt=[].concat(I["*"]||[],I[_t]||[]);for(const Et of wt)Xp(Et,Rt)||ot.removeAttribute(Et.nodeName)}return Y.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return G(m,[void 0,this])}_putElementInTemplate(m,T){if(this._config.html)return T.innerHTML="",void T.append(m);T.textContent=m.textContent}}const xc=new Set(["sanitize","allowList","sanitizeFn"]),Zs="fade",po="show",Ju=".tooltip-inner",ma=".modal",_a="hide.bs.modal",Sr="hover",mo="focus",ii="click",Ci={AUTO:"auto",TOP:"top",RIGHT:P()?"left":"right",BOTTOM:"bottom",LEFT:P()?"right":"left"},ya={allowList:Xu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Js={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Gn extends It{constructor(m,T){if(fa===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(m,T),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ya}static get DefaultType(){return Js}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),M.off(this._element.closest(ma),_a,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=M.trigger(this._element,this.constructor.eventName("show")),T=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!T)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:$}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||($.append(I),M.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(po),"ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))M.on(Y,"mouseover",E);this._queueCallback(()=>{M.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!M.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(po),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))M.off(m,"mouseover",E);this._activeTrigger[ii]=!1,this._activeTrigger[mo]=!1,this._activeTrigger[Sr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),M.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const T=this._getTemplateFactory(m).toHtml();if(!T)return null;T.classList.remove(Zs,po),T.classList.add(`bs-${this.constructor.NAME}-auto`);const I=($=>{do $+=Math.floor(1e6*Math.random());while(document.getElementById($));return $})(this.constructor.NAME).toString();return T.setAttribute("id",I),this._isAnimated()&&T.classList.add(Zs),T}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new fd({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ju]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Zs)}_isShown(){return this.tip&&this.tip.classList.contains(po)}_createPopper(m){const T=G(this._config.placement,[this,m,this._element]),I=Ci[T.toUpperCase()];return oo(this._element,m,this._getPopperConfig(I))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(T=>Number.parseInt(T,10)):typeof m=="function"?T=>m(T,this._element):m}_resolvePossibleFunction(m){return G(m,[this._element,this._element])}_getPopperConfig(m){const T={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:I=>{this._getTipElement().setAttribute("data-popper-placement",I.state.placement)}}]};return{...T,...G(this._config.popperConfig,[void 0,T])}}_setListeners(){const m=this._config.trigger.split(" ");for(const T of m)if(T==="click")M.on(this._element,this.constructor.eventName("click"),this._config.selector,I=>{const $=this._initializeOnDelegatedTarget(I);$._activeTrigger[ii]=!($._isShown()&&$._activeTrigger[ii]),$.toggle()});else if(T!=="manual"){const I=T===Sr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),$=T===Sr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");M.on(this._element,I,this._config.selector,Y=>{const st=this._initializeOnDelegatedTarget(Y);st._activeTrigger[Y.type==="focusin"?mo:Sr]=!0,st._enter()}),M.on(this._element,$,this._config.selector,Y=>{const st=this._initializeOnDelegatedTarget(Y);st._activeTrigger[Y.type==="focusout"?mo:Sr]=st._element.contains(Y.relatedTarget),st._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},M.on(this._element.closest(ma),_a,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,T){clearTimeout(this._timeout),this._timeout=setTimeout(m,T)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const T=St.getDataAttributes(this._element);for(const I of Object.keys(T))xc.has(I)&&delete T[I];return m={...T,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:f(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[T,I]of Object.entries(this._config))this.constructor.Default[T]!==I&&(m[T]=I);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const T=Gn.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}}L(Gn);const va=".popover-header",dd=".popover-body",th={...Gn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},eh={...Gn.DefaultType,content:"(null|string|element|function)"};class vn extends Gn{static get Default(){return th}static get DefaultType(){return eh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[va]:this._getTitle(),[dd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const T=vn.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}}L(vn);const Ve=".bs.scrollspy",me=`activate${Ve}`,Ar=`click${Ve}`,xs=`load${Ve}.data-api`,xr="active",tr="[href]",nh=".nav-link",gd=`${nh}, .nav-item > ${nh}, .list-group-item`,Pl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Nl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _o extends It{constructor(m,T){super(m,T),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Pl}static get DefaultType(){return Nl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=f(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(T=>Number.parseFloat(T))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(M.off(this._config.target,Ar),M.on(this._config.target,Ar,tr,m=>{const T=this._observableSections.get(m.target.hash);if(T){m.preventDefault();const I=this._rootElement||window,$=T.offsetTop-this._element.offsetTop;if(I.scrollTo)return void I.scrollTo({top:$,behavior:"smooth"});I.scrollTop=$}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(T=>this._observerCallback(T),m)}_observerCallback(m){const T=st=>this._targetLinks.get(`#${st.target.id}`),I=st=>{this._previousScrollData.visibleEntryTop=st.target.offsetTop,this._process(T(st))},$=(this._rootElement||document.documentElement).scrollTop,Y=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const st of m){if(!st.isIntersecting){this._activeTarget=null,this._clearActiveClass(T(st));continue}const ot=st.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Y&&ot){if(I(st),!$)return}else Y||ot||I(st)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=bt.find(tr,this._config.target);for(const T of m){if(!T.hash||_(T))continue;const I=bt.findOne(decodeURI(T.hash),this._element);g(I)&&(this._targetLinks.set(decodeURI(T.hash),T),this._observableSections.set(T.hash,I))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(xr),this._activateParents(m),M.trigger(this._element,me,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))bt.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(xr);else for(const T of bt.parents(m,".nav, .list-group"))for(const I of bt.prev(T,gd))I.classList.add(xr)}_clearActiveClass(m){m.classList.remove(xr);const T=bt.find(`${tr}.${xr}`,m);for(const I of T)I.classList.remove(xr)}static jQueryInterface(m){return this.each(function(){const T=_o.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}})}}M.on(window,xs,()=>{for(const x of bt.find('[data-bs-spy="scroll"]'))_o.getOrCreateInstance(x)}),L(_o);const Ji=".bs.tab",ih=`hide${Ji}`,ba=`hidden${Ji}`,er=`show${Ji}`,Rr=`shown${Ji}`,nr=`click${Ji}`,sh=`keydown${Ji}`,rh=`load${Ji}`,Ll="ArrowLeft",Vl="ArrowRight",Ea="ArrowUp",Rn="ArrowDown",yo="Home",ah="End",Ta="active",pd="fade",oh="show",Je=".dropdown-toggle",Ul=`:not(${Je})`,vo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',wa=`.nav-link${Ul}, .list-group-item${Ul}, [role="tab"]${Ul}, ${vo}`,lh=`.${Ta}[data-bs-toggle="tab"], .${Ta}[data-bs-toggle="pill"], .${Ta}[data-bs-toggle="list"]`;class Ii extends It{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),M.on(this._element,sh,T=>this._keydown(T)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const T=this._getActiveElem(),I=T?M.trigger(T,ih,{relatedTarget:m}):null;M.trigger(m,er,{relatedTarget:T}).defaultPrevented||I&&I.defaultPrevented||(this._deactivate(T,m),this._activate(m,T))}_activate(m,T){m&&(m.classList.add(Ta),this._activate(bt.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),M.trigger(m,Rr,{relatedTarget:T})):m.classList.add(oh)},m,m.classList.contains(pd)))}_deactivate(m,T){m&&(m.classList.remove(Ta),m.blur(),this._deactivate(bt.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),M.trigger(m,ba,{relatedTarget:T})):m.classList.remove(oh)},m,m.classList.contains(pd)))}_keydown(m){if(![Ll,Vl,Ea,Rn,yo,ah].includes(m.key))return;m.stopPropagation(),m.preventDefault();const T=this._getChildren().filter($=>!_($));let I;if([yo,ah].includes(m.key))I=T[m.key===yo?0:T.length-1];else{const $=[Vl,Rn].includes(m.key);I=ct(T,m.target,$,!0)}I&&(I.focus({preventScroll:!0}),Ii.getOrCreateInstance(I).show())}_getChildren(){return bt.find(wa,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,T){this._setAttributeIfNotExists(m,"role","tablist");for(const I of T)this._setInitialAttributesOnChild(I)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const T=this._elemIsActive(m),I=this._getOuterElement(m);m.setAttribute("aria-selected",T),I!==m&&this._setAttributeIfNotExists(I,"role","presentation"),T||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const T=bt.getElementFromSelector(m);T&&(this._setAttributeIfNotExists(T,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(T,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,T){const I=this._getOuterElement(m);if(!I.classList.contains("dropdown"))return;const $=(Y,st)=>{const ot=bt.findOne(Y,I);ot&&ot.classList.toggle(st,T)};$(Je,Ta),$(".dropdown-menu",oh),I.setAttribute("aria-expanded",T)}_setAttributeIfNotExists(m,T,I){m.hasAttribute(T)||m.setAttribute(T,I)}_elemIsActive(m){return m.classList.contains(Ta)}_getInnerElement(m){return m.matches(wa)?m:bt.findOne(wa,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const T=Ii.getOrCreateInstance(this);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}})}}M.on(document,nr,vo,function(x){["A","AREA"].includes(this.tagName)&&x.preventDefault(),_(this)||Ii.getOrCreateInstance(this).show()}),M.on(window,rh,()=>{for(const x of bt.find(lh))Ii.getOrCreateInstance(x)}),L(Ii);const vi=".bs.toast",Zp=`mouseover${vi}`,md=`mouseout${vi}`,Jp=`focusin${vi}`,_d=`focusout${vi}`,Sa=`hide${vi}`,ch=`hidden${vi}`,Rc=`show${vi}`,yd=`shown${vi}`,bo="hide",zl="show",Aa="showing",uh={animation:"boolean",autohide:"boolean",delay:"number"},vd={animation:!0,autohide:!0,delay:5e3};class Cr extends It{constructor(m,T){super(m,T),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return vd}static get DefaultType(){return uh}static get NAME(){return"toast"}show(){M.trigger(this._element,Rc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(bo),A(this._element),this._element.classList.add(zl,Aa),this._queueCallback(()=>{this._element.classList.remove(Aa),M.trigger(this._element,yd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(M.trigger(this._element,Sa).defaultPrevented||(this._element.classList.add(Aa),this._queueCallback(()=>{this._element.classList.add(bo),this._element.classList.remove(Aa,zl),M.trigger(this._element,ch)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(zl),super.dispose()}isShown(){return this._element.classList.contains(zl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,T){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=T;break;case"focusin":case"focusout":this._hasKeyboardInteraction=T}if(T)return void this._clearTimeout();const I=m.relatedTarget;this._element===I||this._element.contains(I)||this._maybeScheduleHide()}_setListeners(){M.on(this._element,Zp,m=>this._onInteraction(m,!0)),M.on(this._element,md,m=>this._onInteraction(m,!1)),M.on(this._element,Jp,m=>this._onInteraction(m,!0)),M.on(this._element,_d,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const T=Cr.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m](this)}})}}return hi(Cr),L(Cr),{Alert:Bi,Button:js,Carousel:qs,Collapse:Ze,Dropdown:on,Modal:wr,Offcanvas:ni,Popover:vn,ScrollSpy:_o,Tab:Ii,Toast:Cr,Tooltip:Gn}})}(jg)),jg.exports}LN();const $1=Z.createContext(),VN=({children:n})=>{const[t,e]=Z.useState(null),[i,r]=Z.useState(0),[o,c]=Z.useState(0);return Z.useEffect(()=>{const h=df(Qf,async f=>{if(f){const g=yu(Zo,"users",f.uid),_=await B1(g);_.exists()&&e(_.data())}else e(null)});return()=>h()},[]),Z.useEffect(()=>{const h=fu();let f=null;const g=df(h,async _=>{if(!_){r(0),f&&f();return}try{const b=hy(Zo,"loans"),E=dy(b,af("status","==","Ongoing"),af("userId","==",_.uid));f=gy(E,A=>{r(A.size)})}catch(b){console.log("Error Fetching Count :",b)}});return()=>{g(),f&&f()}},[]),Z.useEffect(()=>{const h=fu(),f=df(h,async g=>{if(!g){c(0);return}try{const _=hy(Zo,"loans"),b=dy(_,af("status","==","Finished"),af("userId","==",g.uid)),E=gy(b,A=>{c(A.size)});return()=>E()}catch(_){console.log("cant't get finished count : ",_)}});return()=>{f()}},[]),q.jsx($1.Provider,{value:{userData:t,ongoingCount:i,finishedCount:o},children:n})},vv=()=>Z.useContext($1),UN=()=>{const n=wu(),t=async()=>{try{await f2(Qf),n("/")}catch(i){console.error("Logout failed:",i.message)}},{userData:e}=vv();return q.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-light",children:q.jsxs("div",{className:"container-fluid",children:[q.jsx(jr,{className:"navbar-brand  text-black ",to:"/home",children:"Loan Tracker"}),q.jsx("button",{className:"navbar-toggler bg-black",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:q.jsx("span",{className:"navbar-toggler-icon "})}),q.jsx("div",{className:"collapse navbar-collapse ms-5",id:"navbarNav",children:q.jsxs("ul",{className:"navbar-nav ms-auto",children:[q.jsx("li",{className:"nav-item   ",children:q.jsx(jr,{className:"nav-link text-black",to:"/home",children:"Home"})}),q.jsxs("li",{className:"nav-item dropdown",children:[q.jsx(jr,{className:"nav-link text-black dropdown-toggle",to:"#",id:"dropdownNavbar",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Loans"}),q.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownNavbar",children:[q.jsx("li",{children:q.jsx(jr,{className:"dropdown-item",to:"/loan",children:"Current Loan"})}),q.jsx("li",{children:q.jsx(jr,{className:"dropdown-item",to:"/finishedloan",children:"Finished Loan"})})]})]}),q.jsx("li",{className:"nav-item   ",children:q.jsx(jr,{className:"nav-link text-black",to:"/InterestCalculator",children:"Calculator"})}),q.jsx("div",{className:"nav-item logout-div  ",onClick:t,children:e?.username.slice(0,1).toUpperCase()})]})})]})})},zN=({addLoan:n,onclose:t,loan:e})=>{const[i,r]=Z.useState(""),[o,c]=Z.useState(""),[h,f]=Z.useState(""),[g,_]=Z.useState(""),[b,E]=Z.useState(""),A=(D,P,L)=>{const G=P/12/100;return(D*G*Math.pow(1+G,L)/(Math.pow(1+G,L)-1)+D*P*L/(100*L)).toFixed(2)},R=D=>{D.preventDefault();const P=i,L=parseFloat(o),G=parseFloat(h),J=parseInt(g),ct=parseInt(b),rt=null,pt=A(L,G,J),V=L*G*J/(100*J).toFixed(2),N=fu().currentUser;if(!N){alert("You must be logged in to add a loan.");return}const z={userId:N.uid,loanName:P,amount:L,interest:G,duration:J,duedate:ct,lastPaidDate:rt,totalInterest:V,payment:pt,monthsPaid:0,status:"Ongoing"};n(z),r(""),c(""),f(""),_(""),E(""),alert("Your Form Submitted Successfully"),t()};return q.jsxs("form",{onSubmit:R,className:"loan-form",children:[q.jsx("h1",{children:"Enter Your Loan Form to Track"}),q.jsx("div",{className:"loan-form-div",children:q.jsx("input",{type:"text",placeholder:"Loan Name",value:i,onChange:D=>r(D.target.value),required:!0})}),q.jsx("div",{className:"loan-form-div",children:q.jsx("input",{type:"number",placeholder:"Loan Amount",value:o,onChange:D=>c(D.target.value),required:!0})}),q.jsx("div",{className:"loan-form-div",children:q.jsx("input",{type:"number",placeholder:"Annual Interest Rate (%)",value:h,onChange:D=>f(D.target.value),required:!0})}),q.jsx("div",{className:"loan-form-div",children:q.jsx("input",{type:"number",placeholder:"Duration (Months)",value:g,onChange:D=>_(D.target.value),required:!0})}),q.jsx("div",{className:"loan-form-div",children:q.jsx("input",{type:"number",placeholder:"Due Date",value:b,onChange:D=>E(D.target.value),required:!0})}),q.jsx("button",{type:"submit",children:"Add Loan"}),q.jsx("button",{onClick:t,children:"Cancel"})]})},jN=()=>{const{ongoingCount:n,finishedCount:t}=vv(),e=wu(),i=()=>{e("/loan")},r=()=>{e("/finishedloan")};return q.jsx(q.Fragment,{children:q.jsxs("div",{className:"dashboard-div-container",children:[q.jsxs("div",{className:"dashboard-first-card",onClick:i,children:[q.jsx("h1",{children:"Current Loan"}),q.jsx("h1",{children:n})]}),q.jsxs("div",{className:"dashboard-second-card",onClick:r,children:[q.jsx("h1",{children:"Finished Loan"}),q.jsx("h1",{children:t})]})]})})},BN=({addLoan:n})=>{const[t,e]=Z.useState(!1),i=()=>{e(!0)},r=()=>{e(!1)},{userData:o}=vv();return q.jsxs(q.Fragment,{children:[o&&q.jsxs("span",{className:"home-username",children:["Welcome, ",q.jsx("strong",{children:o?.username.toUpperCase()})]}),q.jsx(jN,{}),q.jsx("button",{onClick:i,className:"home-add-btn",children:"Add"}),t&&q.jsx(zN,{addLoan:n,onclose:r})]})},FN=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(""),[c,h]=Z.useState(0),[f,g]=Z.useState(0),[_,b]=Z.useState(0),[E,A]=Z.useState(0),[R,D]=Z.useState(0),P=U=>{t(U.target.value)},L=U=>{i(U.target.value)},G=U=>{o(U.target.value)},J=()=>{t(""),i(""),o(""),h(0),g(0),b(0),A(0),D(0)},ct=n,rt=e/100/12,pt=e,V=r,k=ct*pt*V/(100*V),N=k*V,z=()=>{const U=k;g(U.toFixed(2));const ne=ct*rt*Math.pow(1+rt,V)/(Math.pow(1+rt,V)-1);h(ne.toFixed(2));const Mt=U+ne;b(Mt.toFixed(2)),A(N.toFixed(2));const gt=Mt*V;D(gt.toFixed(2))},B=()=>{z()},F=()=>{J()};return q.jsx("section",{className:"calculator-section",children:q.jsxs("div",{className:"calculator-container",children:[q.jsx("h1",{children:"Interest Calculator"}),q.jsxs("div",{className:"input-fields",children:[q.jsx("label",{htmlFor:"emi-amount",children:"EMI Amount"}),q.jsx("input",{type:"number",id:"emi-amount",value:n,onChange:P}),q.jsx("label",{htmlFor:"interest",children:"Interest"}),q.jsx("input",{type:"number",id:"interest",value:e,onChange:L}),q.jsx("label",{htmlFor:"tenure",children:"Tenure(Month)"}),q.jsx("input",{type:"number",id:"tenure",value:r,onChange:G})]}),q.jsxs("div",{className:"buttons",children:[q.jsx("button",{onClick:B,children:"Calculate"}),q.jsx("button",{onClick:F,children:"Reset"})]}),q.jsx("div",{className:"details",children:q.jsxs("div",{className:"summary",children:[q.jsx("h1",{children:"Your EMI Details"}),q.jsxs("div",{className:"details-div",children:[q.jsxs("div",{className:"monthly-pay",children:[q.jsx("p",{children:"Monthly Payment"}),q.jsx("p",{children:c})]}),q.jsxs("div",{className:"monthly-pay",children:[q.jsx("p",{children:"Monthly Interest"}),q.jsx("p",{children:f})]}),q.jsxs("div",{className:"monthly-pay",children:[q.jsx("p",{children:"Monthly Payment with Interest"}),q.jsx("p",{children:_})]}),q.jsxs("div",{className:"monthly-pay",children:[q.jsx("p",{children:"Total Interest"}),q.jsx("p",{children:E})]}),q.jsxs("div",{className:"monthly-pay",children:[q.jsx("p",{children:"Total Payment"}),q.jsx("p",{children:R})]})]})]})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Xf(n){return n+.5|0}const Ho=(n,t,e)=>Math.max(Math.min(n,e),t);function lf(n){return Ho(Xf(n*2.55),0,255)}function Jo(n){return Ho(Xf(n*255),0,255)}function Va(n){return Ho(Xf(n/2.55)/100,0,1)}function FT(n){return Ho(Xf(n*100),0,100)}const Ds={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},py=[..."0123456789ABCDEF"],HN=n=>py[n&15],qN=n=>py[(n&240)>>4]+py[n&15],gg=n=>(n&240)>>4===(n&15),$N=n=>gg(n.r)&&gg(n.g)&&gg(n.b)&&gg(n.a);function GN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ds[n[1]]*17,g:255&Ds[n[2]]*17,b:255&Ds[n[3]]*17,a:t===5?Ds[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ds[n[1]]<<4|Ds[n[2]],g:Ds[n[3]]<<4|Ds[n[4]],b:Ds[n[5]]<<4|Ds[n[6]],a:t===9?Ds[n[7]]<<4|Ds[n[8]]:255})),e}const YN=(n,t)=>n<255?t(n):"";function KN(n){var t=$N(n)?HN:qN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+YN(n.a,t):void 0}const WN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function G1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function QN(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function XN(n,t,e){const i=G1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function ZN(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function bv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=ZN(e,i,r,_,o),f=f*60+.5),[f|0,g||0,h]}function Ev(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Jo)}function Tv(n,t,e){return Ev(G1,n,t,e)}function JN(n,t,e){return Ev(XN,n,t,e)}function tL(n,t,e){return Ev(QN,n,t,e)}function Y1(n){return(n%360+360)%360}function eL(n){const t=WN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?lf(+t[5]):Jo(+t[5]));const r=Y1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=JN(r,o,c):t[1]==="hsv"?i=tL(r,o,c):i=Tv(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function nL(n,t){var e=bv(n);e[0]=Y1(e[0]+t),e=Tv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function iL(n){if(!n)return;const t=bv(n),e=t[0],i=FT(t[1]),r=FT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Va(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const HT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sL(){const n={},t=Object.keys(qT),e=Object.keys(HT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,HT[o]);o=parseInt(qT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let pg;function rL(n){pg||(pg=sL(),pg.transparent=[0,0,0,0]);const t=pg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const aL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oL(n){const t=aL.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?lf(c):Ho(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?lf(i):Ho(i,0,255)),r=255&(t[4]?lf(r):Ho(r,0,255)),o=255&(t[6]?lf(o):Ho(o,0,255)),{r:i,g:r,b:o,a:e}}}function lL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Va(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const S_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function cL(n,t,e){const i=Xc(Va(n.r)),r=Xc(Va(n.g)),o=Xc(Va(n.b));return{r:Jo(S_(i+e*(Xc(Va(t.r))-i))),g:Jo(S_(r+e*(Xc(Va(t.g))-r))),b:Jo(S_(o+e*(Xc(Va(t.b))-o))),a:n.a+e*(t.a-n.a)}}function mg(n,t,e){if(n){let i=bv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Tv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function K1(n,t){return n&&Object.assign(t||{},n)}function $T(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Jo(n[3]))):(t=K1(n,{r:0,g:0,b:0,a:1}),t.a=Jo(t.a)),t}function uL(n){return n.charAt(0)==="r"?oL(n):eL(n)}class Df{constructor(t){if(t instanceof Df)return t;const e=typeof t;let i;e==="object"?i=$T(t):e==="string"&&(i=GN(t)||rL(t)||uL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=K1(this._rgb);return t&&(t.a=Va(t.a)),t}set rgb(t){this._rgb=$T(t)}rgbString(){return this._valid?lL(this._rgb):void 0}hexString(){return this._valid?KN(this._rgb):void 0}hslString(){return this._valid?iL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=cL(this._rgb,t._rgb,e)),this}clone(){return new Df(this.rgb)}alpha(t){return this._rgb.a=Jo(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Xf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return mg(this._rgb,2,t),this}darken(t){return mg(this._rgb,2,-t),this}saturate(t){return mg(this._rgb,1,t),this}desaturate(t){return mg(this._rgb,1,-t),this}rotate(t){return nL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pa(){}const hL=(()=>{let n=0;return()=>n++})();function Ne(n){return n==null}function Bn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Vs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Nr(n,t){return Vs(n)?n:t}function ve(n,t){return typeof n>"u"?t:n}const fL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Be(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ce(n,t,e,i){let r,o,c;if(Bn(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(be(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function hp(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function fp(n){if(Bn(n))return n.map(fp);if(be(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=fp(n[e[r]]);return t}return n}function W1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function dL(n,t,e,i){if(!W1(n))return;const r=t[n],o=e[n];be(r)&&be(o)?Mf(r,o,i):t[n]=fp(o)}function Mf(n,t,e){const i=Bn(t)?t:[t],r=i.length;if(!be(n))return n;e=e||{};const o=e.merger||dL;let c;for(let h=0;h<r;++h){if(c=i[h],!be(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],n,c,e)}return n}function yf(n,t){return Mf(n,t,{merger:gL})}function gL(n,t,e){if(!W1(n))return;const i=t[n],r=e[n];be(i)&&be(r)?yf(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=fp(r))}const GT={"":n=>n,x:n=>n.x,y:n=>n.y};function pL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function mL(n){const t=pL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function vu(n,t){return(GT[t]||(GT[t]=mL(t)))(n)}function wv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const kf=n=>typeof n<"u",cl=n=>typeof n=="function",YT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function _L(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,bi=2*Ye,dp=Number.POSITIVE_INFINITY,yL=Ye/180,Zn=Ye/2,$l=Ye/4,KT=Ye*2/3,Q1=Math.log10,tl=Math.sign;function Bg(n,t,e){return Math.abs(n-t)<e}function WT(n){const t=Math.round(n);n=Bg(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Q1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function vL(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function bL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function gp(n){return!bL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function EL(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function TL(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Zl(n){return n*(Ye/180)}function wL(n){return n*(180/Ye)}function QT(n){if(!Vs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function X1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ye&&(o+=bi),{angle:o,distance:r}}function SL(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function zr(n){return(n%bi+bi)%bi}function Z1(n,t,e,i){const r=zr(n),o=zr(t),c=zr(e),h=zr(o-r),f=zr(c-r),g=zr(r-o),_=zr(r-c);return r===o||r===c||i&&o===c||h>f&&g<_}function zi(n,t,e){return Math.max(t,Math.min(e,n))}function AL(n){return zi(n,-32768,32767)}function Jl(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Sv(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const my=(n,t,e,i)=>Sv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),xL=(n,t,e)=>Sv(n,e,i=>n[i][t]>=e);function RL(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const J1=["push","pop","shift","splice","unshift"];function CL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),J1.forEach(e=>{const i="_onData"+wv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function XT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(J1.forEach(o=>{delete n[o]}),delete n._chartjs)}function tx(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ex=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function nx(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,ex.call(window,()=>{i=!1,n.apply(t,e)}))}}function IL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const ix=n=>n==="start"?"left":n==="end"?"right":"center",as=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,OL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,_g=n=>n===0||n===1,ZT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*bi/e)),JT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*bi/e)+1,vf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Zn)+1,easeOutSine:n=>Math.sin(n*Zn),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_g(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_g(n)?n:ZT(n,.075,.3),easeOutElastic:n=>_g(n)?n:JT(n,.075,.3),easeInOutElastic(n){return _g(n)?n:n<.5?.5*ZT(n*2,.1125,.45):.5+.5*JT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-vf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?vf.easeInBounce(n*2)*.5:vf.easeOutBounce(n*2-1)*.5+.5};function sx(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function tw(n){return sx(n)?n:new Df(n)}function A_(n){return sx(n)?n:new Df(n).saturate(.5).darken(.1).hexString()}const DL=["x","y","borderWidth","radius","tension"],ML=["color","borderColor","backgroundColor"];function kL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:ML},numbers:{type:"number",properties:DL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function PL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ew=new Map;function NL(n,t){t=t||{};const e=n+JSON.stringify(t);let i=ew.get(e);return i||(i=new Intl.NumberFormat(n,t),ew.set(e,i)),i}function rx(n,t,e){return NL(t,e).format(n)}const LL={values(n){return Bn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=VL(n,e)}const c=Q1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),rx(n,i,f)}};function VL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ax={formatters:LL};function UL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ax.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const lc=Object.create(null),_y=Object.create(null);function bf(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function x_(n,t,e){return typeof t=="string"?Mf(bf(n,t),e):Mf(bf(n,""),t)}class zL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>A_(r.backgroundColor),this.hoverBorderColor=(i,r)=>A_(r.borderColor),this.hoverColor=(i,r)=>A_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return x_(this,t,e)}get(t){return bf(this,t)}describe(t,e){return x_(_y,t,e)}override(t,e){return x_(lc,t,e)}route(t,e,i,r){const o=bf(this,t),c=bf(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return be(f)?Object.assign({},g,f):ve(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var dn=new zL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kL,PL,UL]);function jL(n){return!n||Ne(n.size)||Ne(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function nw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Gl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function iw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function sw(n,t,e,i){ox(n,t,e,i,null)}function ox(n,t,e,i,r){let o,c,h,f,g,_,b,E;const A=t.pointStyle,R=t.rotation,D=t.radius;let P=(R||0)*yL;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(P),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(D)||D<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,D,0,0,bi):n.arc(e,i,D,0,bi),n.closePath();break;case"triangle":_=r?r/2:D,n.moveTo(e+Math.sin(P)*_,i-Math.cos(P)*D),P+=KT,n.lineTo(e+Math.sin(P)*_,i-Math.cos(P)*D),P+=KT,n.lineTo(e+Math.sin(P)*_,i-Math.cos(P)*D),n.closePath();break;case"rectRounded":g=D*.516,f=D-g,c=Math.cos(P+$l)*f,b=Math.cos(P+$l)*(r?r/2-g:f),h=Math.sin(P+$l)*f,E=Math.sin(P+$l)*(r?r/2-g:f),n.arc(e-b,i-h,g,P-Ye,P-Zn),n.arc(e+E,i-c,g,P-Zn,P),n.arc(e+b,i+h,g,P,P+Zn),n.arc(e-E,i+c,g,P+Zn,P+Ye),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*D,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}P+=$l;case"rectRot":b=Math.cos(P)*(r?r/2:D),c=Math.cos(P)*D,h=Math.sin(P)*D,E=Math.sin(P)*(r?r/2:D),n.moveTo(e-b,i-h),n.lineTo(e+E,i-c),n.lineTo(e+b,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":P+=$l;case"cross":b=Math.cos(P)*(r?r/2:D),c=Math.cos(P)*D,h=Math.sin(P)*D,E=Math.sin(P)*(r?r/2:D),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":b=Math.cos(P)*(r?r/2:D),c=Math.cos(P)*D,h=Math.sin(P)*D,E=Math.sin(P)*(r?r/2:D),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),P+=$l,b=Math.cos(P)*(r?r/2:D),c=Math.cos(P)*D,h=Math.sin(P)*D,E=Math.sin(P)*(r?r/2:D),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(P)*D,h=Math.sin(P)*D,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(P)*(r?r/2:D),i+Math.sin(P)*D);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function lx(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Av(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function xv(n){n.restore()}function BL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ne(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function FL(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function HL(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function pp(n,t,e,i,r,o={}){const c=Bn(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,BL(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&HL(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ne(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),FL(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function mp(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ye,Ye,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ye,Zn,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Zn,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Zn,!0),n.lineTo(e+c.topLeft,i)}const qL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$L=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GL(n,t){const e=(""+n).match(qL);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const YL=n=>+n||0;function Rv(n,t){const e={},i=be(t),r=i?Object.keys(t):t,o=be(n)?i?c=>ve(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=YL(o(c));return e}function cx(n){return Rv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function cu(n){return Rv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(n){const t=cx(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ji(n,t){n=n||{},t=t||dn.font;let e=ve(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ve(n.style,t.style);i&&!(""+i).match($L)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ve(n.family,t.family),lineHeight:GL(ve(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ve(n.weight,t.weight),string:""};return r.string=jL(r),r}function yg(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function KL(n,t,e){const{min:i,max:r}=n,o=fL(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Mu(n,t){return Object.assign(Object.create(n),t)}function Cv(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=dx("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Cv([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return hx(h,f,()=>nV(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return aw(h).includes(f)},ownKeys(h){return aw(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function bu(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:ux(n,i),setContext:o=>bu(n,o,e,i),override:o=>bu(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return hx(o,c,()=>QL(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function ux(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:cl(e)?e:()=>e,isIndexable:cl(i)?i:()=>i}}const WL=(n,t)=>n?n+wv(t):t,Iv=(n,t)=>be(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hx(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function QL(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return cl(h)&&c.isScriptable(t)&&(h=XL(t,h,n,e)),Bn(h)&&h.length&&(h=ZL(t,h,n,c.isIndexable)),Iv(t,h)&&(h=bu(h,r,o&&o[t],c)),h}function XL(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Iv(n,f)&&(f=Ov(r._scopes,r,n,f)),f}function ZL(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(be(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const b=Ov(g,r,n,_);t.push(bu(b,o,c&&c[n],h))}}return t}function fx(n,t,e){return cl(n)?n(t,e):n}const JL=(n,t)=>n===!0?t:typeof n=="string"?vu(t,n):void 0;function tV(n,t,e,i,r){for(const o of t){const c=JL(e,o);if(c){n.add(c);const h=fx(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Ov(n,t,e,i){const r=t._rootScopes,o=fx(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=rw(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=rw(h,c,o,f,i),f===null)?!1:Cv(Array.from(h),[""],r,o,()=>eV(t,e,i))}function rw(n,t,e,i,r){for(;e;)e=tV(n,t,e,i,r);return e}function eV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Bn(r)&&be(e)?e:r||{}}function nV(n,t,e,i){let r;for(const o of t)if(r=dx(WL(o,n),e),typeof r<"u")return Iv(n,r)?Ov(e,i,n,r):r}function dx(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function aw(n){let t=n._keys;return t||(t=n._keys=iV(n._scopes)),t}function iV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Dv(){return typeof window<"u"&&typeof document<"u"}function Mv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function _p(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const $p=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function sV(n,t){return $p(n).getPropertyValue(t)}const rV=["top","right","bottom","left"];function ec(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=rV[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const aV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function oV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(aV(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Ql(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=$p(e),o=r.boxSizing==="border-box",c=ec(r,"padding"),h=ec(r,"border","width"),{x:f,y:g,box:_}=oV(n,e),b=c.left+(_&&h.left),E=c.top+(_&&h.top);let{width:A,height:R}=t;return o&&(A-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-b)/A*e.width/i),y:Math.round((g-E)/R*e.height/i)}}function lV(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Mv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=$p(o),f=ec(h,"border","width"),g=ec(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=_p(h.maxWidth,o,"clientWidth"),r=_p(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||dp,maxHeight:r||dp}}const vg=n=>Math.round(n*10)/10;function cV(n,t,e,i){const r=$p(n),o=ec(r,"margin"),c=_p(r.maxWidth,n,"clientWidth")||dp,h=_p(r.maxHeight,n,"clientHeight")||dp,f=lV(n,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const E=ec(r,"border","width"),A=ec(r,"padding");g-=A.width+E.width,_-=A.height+E.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=vg(Math.min(g,c,f.maxWidth)),_=vg(Math.min(_,h,f.maxHeight)),g&&!_&&(_=vg(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,g=vg(Math.floor(_*i))),{width:g,height:_}}function ow(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const uV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Dv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function lw(n,t){const e=sV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const hV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},fV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function uu(n,t,e){return n?hV(t,e):fV()}function gx(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function px(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function bg(n,t,e){return n.options.clip?n[e]:t[e]}function dV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:bg(e,t,"left"),right:bg(e,t,"right"),top:bg(i,t,"top"),bottom:bg(i,t,"bottom")}:t}function gV(n,t){const e=t._clip;if(e.disabled)return!1;const i=dV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class pV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=ex.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Na=new pV;const cw="transparent",mV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=tw(n||cw),r=i.valid&&tw(t||cw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class _V{constructor(t,e,i,r){const o=e[i];r=yg([t.to,r,o,t.from]);const c=yg([t.from,o,r]);this._active=!0,this._fn=t.fn||mV[t.type||typeof c],this._easing=vf[t.easing]||vf.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=yg([t.to,e,r,t.from]),this._from=yg([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class mx{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!be(t))return;const e=Object.keys(dn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!be(o))return;const c={};for(const h of e)c[h]=o[h];(Bn(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=vV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&yV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let b=o[g];const E=i.get(g);if(b)if(E&&b.active()){b.update(E,_,h);continue}else b.cancel();if(!E||!E.duration){t[g]=_;continue}o[g]=b=new _V(E,t,g,_),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Na.add(this._chart,i),!0}}function yV(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function vV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function uw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function bV(n,t,e){if(e===!1)return!1;const i=uw(n,e),r=uw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function EV(n){let t,e,i,r;return be(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function _x(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function hw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}g=n.values[f],Vs(g)&&(o||t===0||tl(t)===tl(g))&&(t+=g)}return!_&&!i.all?0:t}function TV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function R_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function wV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function SV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function AV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function fw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function dw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,_=wV(o,c,i),b=t.length;let E;for(let A=0;A<b;++A){const R=t[A],{[f]:D,[g]:P}=R,L=R._stacks||(R._stacks={});E=L[g]=AV(r,_,D),E[h]=P,E._top=fw(E,c,!0,i.type),E._bottom=fw(E,c,!1,i.type);const G=E._visualValues||(E._visualValues={});G[h]=P}}function C_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function xV(n,t){return Mu(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function RV(n,t,e){return Mu(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Wh(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const I_=n=>n==="reset"||n==="none",gw=(n,t)=>t?n:Object.assign({},n),CV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_x(e,!0),values:null};class yx{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=R_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Wh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,E,A,R)=>b==="x"?E:b==="r"?R:A,o=e.xAxisID=ve(i.xAxisID,C_(t,"x")),c=e.yAxisID=ve(i.yAxisID,C_(t,"y")),h=e.rAxisID=ve(i.rAxisID,C_(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&XT(this._data,this),t._stacked&&Wh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(be(e)){const r=this._cachedMeta;this._data=TV(e,r)}else if(i!==e){if(i){XT(i,this);const r=this._cachedMeta;Wh(r),r._parsed=[]}e&&Object.isExtensible(e)&&CL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=R_(e.vScale,e),e.stack!==i.stack&&(r=!0,Wh(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(dw(this,e._parsed),e._stacked=R_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,b,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{Bn(r[t])?E=this.parseArrayData(i,r,t,e):be(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const A=()=>b[h]===null||g&&b[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=b=E[_],f&&(A()&&(f=!1),g=b);i._sorted=f}c&&dw(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,b=new Array(r);let E,A,R;for(E=0,A=r;E<A;++E)R=E+i,b[E]={[h]:_||o.parse(g[R],R),[f]:c.parse(e[R],R)};return b}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,_,b;for(f=0,g=r;f<g;++f)_=f+i,b=e[_],h[f]={x:o.parse(b[0],_),y:c.parse(b[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,b,E,A;for(_=0,b=r;_<b;++_)E=_+i,A=e[E],g[_]={x:o.parse(vu(A,h),E),y:c.parse(vu(A,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:_x(r,!0),values:e._stacks[t.axis]._visualValues};return hw(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=hw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=CV(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:b}=SV(h);let E,A;function R(){A=r[E];const D=A[h.axis];return!Vs(A[t.axis])||_>D||b<D}for(E=0;E<c&&!(!R()&&(this.updateRangeFromParsed(g,t,A,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!R()){this.updateRangeFromParsed(g,t,A,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Vs(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=EV(ve(this.options.clip,bV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const b=r[_];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=RV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=xV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&kf(i);if(h)return gw(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),_),A=Object.keys(dn.elements[t]),R=()=>this.getContext(i,r,e),D=g.resolveNamedOptions(E,A,R,b);return D.$shared&&(D.$shared=f,o[c]=Object.freeze(gw(D,f))),D}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,b=_.datasetAnimationScopeKeys(this._type,e),E=_.getOptionScopes(this.getDataset(),b);f=_.createResolver(E,this.getContext(t,i,e))}const g=new mx(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||I_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){I_(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!I_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Wh(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function IV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=tx(i.sort((r,o)=>r-o))}return n._cache.$bar}function OV(n){const t=n.iScale,e=IV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(kf(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function DV(n,t,e,i){const r=e.barThickness;let o,c;return Ne(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function MV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function kV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function vx(n,t,e,i){return Bn(n)?kV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function pw(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let g,_,b,E;for(g=e,_=e+i;g<_;++g)E=t[g],b={},b[r.axis]=h||r.parse(c[g],g),f.push(vx(E,b,o,g));return f}function O_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function PV(n,t,e){return n!==0?tl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function NV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function LV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=NV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=_:(o[mw(_,c,h,f)]=!0,r=g)),o[mw(r,c,h,f)]=!0,n.borderSkipped=o}function mw(n,t,e,i){return i?(n=VV(n,t,e),n=_w(n,e,t)):n=_w(n,t,e),n}function VV(n,t,e){return n===t?e:n===e?t:n}function _w(n,t,e){return n==="start"?t:n==="end"?e:n}function UV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class zV extends yx{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return pw(t,e,i,r)}parseArrayData(t,e,i,r){return pw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,b=[];let E,A,R,D;for(E=i,A=i+r;E<A;++E)D=e[E],R={},R[o.axis]=o.parse(vu(D,g),E),b.push(vx(vu(D,_),R,c,E));return b}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=O_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:b,includeOptions:E}=this._getSharedOptions(e,r);for(let A=e;A<e+i;A++){const R=this.getParsed(A),D=o||Ne(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(A),P=this._calculateBarIndexPixels(A,_),L=(R._stacks||{})[h.axis],G={horizontal:g,base:D.base,enableBorderRadius:!L||O_(R._custom)||c===L._top||c===L._bottom,x:g?D.head:P.center,y:g?P.center:D.head,height:g?P.size:Math.abs(D.size),width:g?Math.abs(D.size):P.size};E&&(G.options=b||this.resolveDataElementOptions(A,t[A].active?"active":r));const J=G.options||t[A].options;LV(G,J,L,c),UV(G,J,_.ratio),this.updateElement(t[A],A,G,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=_=>{const b=_._parsed.find(A=>A[i.axis]===f),E=b&&b[_.vScale.axis];if(Ne(E)||isNaN(E))return!0};for(const _ of r)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[ve(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||OV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=O_(g);let b=f[e.axis],E=0,A=i?this.applyStack(e,f,i):b,R,D;A!==b&&(E=A-b,A=b),_&&(b=g.barStart,A=g.barEnd-g.barStart,b!==0&&tl(b)!==tl(g.barEnd)&&(E=0),E+=b);const P=!Ne(o)&&!_?o:E;let L=e.getPixelForValue(P);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(E+A):R=L,D=R-L,Math.abs(D)<c){D=PV(D,e,h)*c,b===h&&(L-=D/2);const G=e.getPixelForDecimal(0),J=e.getPixelForDecimal(1),ct=Math.min(G,J),rt=Math.max(G,J);L=Math.max(Math.min(L,rt),ct),R=L+D,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const G=tl(D)*e.getLineWidthForValue(h)/2;L+=G,D-=G}return{size:D,base:L,head:R,center:R+D/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=ve(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,b=r.barThickness==="flex"?MV(t,e,r,_*g):DV(t,e,r,_*g),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,A=this._getAxis().indexOf(ve(E,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+A;h=b.start+b.chunk*R+b.chunk/2,f=Math.min(c,b.chunk*b.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function Yl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kv{static override(t){Object.assign(kv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Yl()}parse(){return Yl()}format(){return Yl()}add(){return Yl()}diff(){return Yl()}startOf(){return Yl()}endOf(){return Yl()}}var jV={_date:kv};function BV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?xL:my;if(i){if(r._sharedOptions){const _=o[0],b=typeof _.getRange=="function"&&_.getRange(t);if(b){const E=g(o,t,e-b),A=g(o,t,e+b);return{lo:E.lo,hi:A.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:b}=r._cachedMeta,{_parsed:E}=n,A=E.slice(0,_.lo+1).reverse().findIndex(D=>!Ne(D[b.axis]));_.lo-=Math.max(0,A);const R=E.slice(_.hi).findIndex(D=>!Ne(D[b.axis]));_.hi+=Math.max(0,R)}return _}}return{lo:0,hi:o.length-1}}function Gp(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:b,hi:E}=BV(o[h],t,c,r);for(let A=b;A<=E;++A){const R=_[A];R.skip||i(R,g,A)}}}function FV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function D_(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Gp(n,e,t,function(h,f,g){!r&&!lx(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function HV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:b}=X1(c,{x:t.x,y:t.y});Z1(b,g,_)&&r.push({element:c,datasetIndex:h,index:f})}return Gp(n,e,t,o),r}function qV(n,t,e,i,r,o){let c=[];const h=FV(e);let f=Number.POSITIVE_INFINITY;function g(_,b,E){const A=_.inRange(t.x,t.y,r);if(i&&!A)return;const R=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!A)return;const P=h(t,R);P<f?(c=[{element:_,datasetIndex:b,index:E}],f=P):P===f&&c.push({element:_,datasetIndex:b,index:E})}return Gp(n,e,t,g),c}function M_(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?HV(n,t,e,r):qV(n,t,e,i,r,o)}function yw(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Gp(n,e,t,(f,g,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var $V={modes:{index(n,t,e,i){const r=Ql(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?D_(n,r,o,i,c):M_(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,b=g.data[_];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const r=Ql(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?D_(n,r,o,i,c):M_(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=Ql(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return D_(n,r,o,i,c)},nearest(n,t,e,i){const r=Ql(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return M_(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ql(t,n);return yw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ql(t,n);return yw(n,r,"y",e.intersect,i)}}};const bx=["left","top","right","bottom"];function Qh(n,t){return n.filter(e=>e.pos===t)}function vw(n,t){return n.filter(e=>bx.indexOf(e.pos)===-1&&e.box.axis===t)}function Xh(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function GV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function YV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!bx.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function KV(n,t){const e=YV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function WV(n){const t=GV(n),e=Xh(t.filter(g=>g.box.fullSize),!0),i=Xh(Qh(t,"left"),!0),r=Xh(Qh(t,"right")),o=Xh(Qh(t,"top"),!0),c=Xh(Qh(t,"bottom")),h=vw(t,"x"),f=vw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Qh(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function bw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Ex(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function QV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!be(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[r]+=e.size}o.getPadding&&Ex(c,o.getPadding());const h=Math.max(0,t.outerWidth-bw(c,n,"left","right")),f=Math.max(0,t.outerHeight-bw(c,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function XV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function ZV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function cf(n,t,e,i){const r=[];let o,c,h,f,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,ZV(h.horizontal,t));const{same:b,other:E}=QV(t,e,h,i);g|=b&&r.length,_=_||E,f.fullSize||r.push(h)}return g&&cf(r,t,e,i)||_}function Eg(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Ew(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*_,E=g.size||f.height;kf(g.start)&&(c=g.start),f.fullSize?Eg(f,r.left,c,e.outerWidth-r.right-r.left,E):Eg(f,t.left+g.placed,c,b,E),g.start=c,g.placed+=b,c=f.bottom}else{const b=t.h*_,E=g.size||f.width;kf(g.start)&&(o=g.start),f.fullSize?Eg(f,o,r.top,E,e.outerHeight-r.bottom-r.top):Eg(f,o,t.top+g.placed,E,b),g.start=o,g.placed+=b,o=f.right}}t.x=o,t.y=c}var qo={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=lr(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=WV(n.boxes),f=h.vertical,g=h.horizontal;Ce(n.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const _=f.reduce((D,P)=>P.box.options&&P.box.options.display===!1?D:D+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),E=Object.assign({},r);Ex(E,lr(i));const A=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),R=KV(f.concat(g),b);cf(h.fullSize,A,b,R),cf(f,A,b,R),cf(g,A,b,R)&&cf(f,A,b,R),XV(A),Ew(h.leftAndTop,A,b,R),A.x+=A.w,A.y+=A.h,Ew(h.rightAndBottom,A,b,R),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Ce(h.chartArea,D=>{const P=D.box;Object.assign(P,n.chartArea),P.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class Tx{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class JV extends Tx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Fg="$chartjs",t4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Tw=n=>n===null||n==="";function e4(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Fg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Tw(r)){const o=lw(n,"width");o!==void 0&&(n.width=o)}if(Tw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=lw(n,"height");o!==void 0&&(n.height=o)}return n}const wx=uV?{passive:!0}:!1;function n4(n,t,e){n&&n.addEventListener(t,e,wx)}function i4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,wx)}function s4(n,t){const e=t4[n.type]||n.type,{x:i,y:r}=Ql(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function yp(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function r4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||yp(h.addedNodes,i),c=c&&!yp(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function a4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||yp(h.removedNodes,i),c=c&&!yp(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Pf=new Map;let ww=0;function Sx(){const n=window.devicePixelRatio;n!==ww&&(ww=n,Pf.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function o4(n,t){Pf.size||window.addEventListener("resize",Sx),Pf.set(n,t)}function l4(n){Pf.delete(n),Pf.size||window.removeEventListener("resize",Sx)}function c4(n,t,e){const i=n.canvas,r=i&&Mv(i);if(!r)return;const o=nx((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),o4(n,o),c}function k_(n,t,e){e&&e.disconnect(),t==="resize"&&l4(n)}function u4(n,t,e){const i=n.canvas,r=nx(o=>{n.ctx!==null&&e(s4(o,n))},n);return n4(i,t,r),r}class h4 extends Tx{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(e4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Fg])return!1;const i=e[Fg].initial;["height","width"].forEach(o=>{const c=i[o];Ne(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Fg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:r4,detach:a4,resize:c4}[e]||u4;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:k_,detach:k_,resize:k_}[e]||i4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return cV(t,e,i,r)}isAttached(t){const e=t&&Mv(t);return!!(e&&e.isConnected)}}function f4(n){return!Dv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?JV:h4}let ku=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return gp(this.x)&&gp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function d4(n,t){const e=n.options.ticks,i=g4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?m4(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return _4(t,g,o,c/r),g;const _=p4(o,t,r);if(c>0){let b,E;const A=c>1?Math.round((f-h)/(c-1)):null;for(Tg(t,g,_,Ne(A)?0:h-A,h),b=0,E=c-1;b<E;b++)Tg(t,g,_,o[b],o[b+1]);return Tg(t,g,_,f,Ne(A)?t.length:f+A),g}return Tg(t,g,_),g}function g4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function p4(n,t,e){const i=y4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=vL(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function m4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function _4(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Tg(n,t,e,i,r){const o=ve(i,0),c=Math.min(ve(r,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function y4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const v4=n=>n==="left"?"right":n==="right"?"left":n,Sw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Aw=(n,t)=>Math.min(t||n,n);function xw(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function b4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function E4(n,t){Ce(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Zh(n){return n.drawTicks?n.tickLength:0}function Rw(n,t){if(!n.display)return 0;const e=ji(n.font,t),i=lr(n.padding);return(Bn(n.text)?n.text.length:1)*e.lineHeight+i.height}function T4(n,t){return Mu(n,{scale:t,type:"scale"})}function w4(n,t,e){return Mu(n,{tick:e,index:t,type:"tick"})}function S4(n,t,e){let i=ix(n);return(e&&t!=="right"||!e&&t==="right")&&(i=v4(i)),i}function A4(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let b=0,E,A,R;const D=c-r,P=h-o;if(n.isHorizontal()){if(A=as(i,o,h),be(e)){const L=Object.keys(e)[0],G=e[L];R=_[L].getPixelForValue(G)+D-t}else e==="center"?R=(g.bottom+g.top)/2+D-t:R=Sw(n,e,t);E=h-o}else{if(be(e)){const L=Object.keys(e)[0],G=e[L];A=_[L].getPixelForValue(G)-P+t}else e==="center"?A=(g.left+g.right)/2-P+t:A=Sw(n,e,t);R=as(i,c,r),b=e==="left"?-Zn:Zn}return{titleX:A,titleY:R,maxWidth:E,rotation:b}}class Pu extends ku{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Nr(t,Number.POSITIVE_INFINITY),e=Nr(e,Number.NEGATIVE_INFINITY),i=Nr(i,Number.POSITIVE_INFINITY),r=Nr(r,Number.NEGATIVE_INFINITY),{min:Nr(t,i),max:Nr(e,r),minDefined:Vs(t),maxDefined:Vs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Nr(e,Nr(i,e)),max:Nr(i,Nr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KL(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?xw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=d4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Be(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Aw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),b=_.widest.width,E=_.highest.height,A=zi(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),b+6>h&&(h=A/(i-(t.offset?.5:1)),f=this.maxHeight-Zh(t.grid)-e.padding-Rw(t.title,this.chart.options.font),g=Math.sqrt(b*b+E*E),c=wL(Math.min(Math.asin(zi((_.highest.height+6)/h,-1,1)),Math.asin(zi(f/g,-1,1))-Math.asin(zi(E/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Rw(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Zh(o)+f):(t.height=this.maxHeight,t.width=Zh(o)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:b,highest:E}=this._getLabelSizes(),A=i.padding*2,R=Zl(this.labelRotation),D=Math.cos(R),P=Math.sin(R);if(h){const L=i.mirror?0:P*b.width+D*E.height;t.height=Math.min(this.maxHeight,t.height+L+A)}else{const L=i.mirror?0:D*b.width+P*E.height;t.width=Math.min(this.maxWidth,t.width+L+A)}this._calculatePadding(g,_,P,D)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,A=0;f?g?(E=r*t.width,A=i*e.height):(E=i*t.height,A=r*e.width):o==="start"?A=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,A=e.width/2),this.paddingLeft=Math.max((E-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((A-b+c)*this.width/(this.width-b),0)}else{let _=e.height/2,b=t.height/2;o==="start"?(_=0,b=t.height):o==="end"&&(_=e.height,b=0),this.paddingTop=_+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ne(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=xw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Aw(e,i));let g=0,_=0,b,E,A,R,D,P,L,G,J,ct,rt;for(b=0;b<e;b+=f){if(R=t[b].label,D=this._resolveTickFontOptions(b),r.font=P=D.string,L=o[P]=o[P]||{data:{},gc:[]},G=D.lineHeight,J=ct=0,!Ne(R)&&!Bn(R))J=nw(r,L.data,L.gc,J,R),ct=G;else if(Bn(R))for(E=0,A=R.length;E<A;++E)rt=R[E],!Ne(rt)&&!Bn(rt)&&(J=nw(r,L.data,L.gc,J,rt),ct+=G);c.push(J),h.push(ct),g=Math.max(J,g),_=Math.max(ct,_)}E4(o,e);const pt=c.indexOf(g),V=h.indexOf(_),k=N=>({width:c[N]||0,height:h[N]||0});return{first:k(0),last:k(e-1),widest:k(pt),highest:k(V),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return AL(this._alignToPixels?Gl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=w4(this.getContext(),t,i))}return this.$context||(this.$context=T4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zl(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),E=Zh(o),A=[],R=h.setContext(this.getContext()),D=R.display?R.width:0,P=D/2,L=function(et){return Gl(i,et,D)};let G,J,ct,rt,pt,V,k,N,z,B,F,U;if(c==="top")G=L(this.bottom),V=this.bottom-E,N=G-P,B=L(t.top)+P,U=t.bottom;else if(c==="bottom")G=L(this.top),B=t.top,U=L(t.bottom)-P,V=G+P,N=this.top+E;else if(c==="left")G=L(this.right),pt=this.right-E,k=G-P,z=L(t.left)+P,F=t.right;else if(c==="right")G=L(this.left),z=t.left,F=L(t.right)-P,pt=G+P,k=this.left+E;else if(e==="x"){if(c==="center")G=L((t.top+t.bottom)/2+.5);else if(be(c)){const et=Object.keys(c)[0],gt=c[et];G=L(this.chart.scales[et].getPixelForValue(gt))}B=t.top,U=t.bottom,V=G+P,N=V+E}else if(e==="y"){if(c==="center")G=L((t.left+t.right)/2);else if(be(c)){const et=Object.keys(c)[0],gt=c[et];G=L(this.chart.scales[et].getPixelForValue(gt))}pt=G-P,k=pt-E,z=t.left,F=t.right}const ne=ve(r.ticks.maxTicksLimit,b),Mt=Math.max(1,Math.ceil(b/ne));for(J=0;J<b;J+=Mt){const et=this.getContext(J),gt=o.setContext(et),xt=h.setContext(et),Lt=gt.lineWidth,M=gt.color,ht=xt.dash||[],yt=xt.dashOffset,mt=gt.tickWidth,St=gt.tickColor,zt=gt.tickBorderDash||[],It=gt.tickBorderDashOffset;ct=b4(this,J,f),ct!==void 0&&(rt=Gl(i,ct,Lt),g?pt=k=z=F=rt:V=N=B=U=rt,A.push({tx1:pt,ty1:V,tx2:k,ty2:N,x1:z,y1:B,x2:F,y2:U,width:Lt,color:M,borderDash:ht,borderDashOffset:yt,tickWidth:mt,tickColor:St,tickBorderDash:zt,tickBorderDashOffset:It}))}return this._ticksLength=b,this._borderValue=G,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:b}=o,E=Zh(i.grid),A=E+_,R=b?-_:A,D=-Zl(this.labelRotation),P=[];let L,G,J,ct,rt,pt,V,k,N,z,B,F,U="middle";if(r==="top")pt=this.bottom-R,V=this._getXAxisLabelAlignment();else if(r==="bottom")pt=this.top+R,V=this._getXAxisLabelAlignment();else if(r==="left"){const Mt=this._getYAxisLabelAlignment(E);V=Mt.textAlign,rt=Mt.x}else if(r==="right"){const Mt=this._getYAxisLabelAlignment(E);V=Mt.textAlign,rt=Mt.x}else if(e==="x"){if(r==="center")pt=(t.top+t.bottom)/2+A;else if(be(r)){const Mt=Object.keys(r)[0],et=r[Mt];pt=this.chart.scales[Mt].getPixelForValue(et)+A}V=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")rt=(t.left+t.right)/2-A;else if(be(r)){const Mt=Object.keys(r)[0],et=r[Mt];rt=this.chart.scales[Mt].getPixelForValue(et)}V=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?U="top":f==="end"&&(U="bottom"));const ne=this._getLabelSizes();for(L=0,G=h.length;L<G;++L){J=h[L],ct=J.label;const Mt=o.setContext(this.getContext(L));k=this.getPixelForTick(L)+o.labelOffset,N=this._resolveTickFontOptions(L),z=N.lineHeight,B=Bn(ct)?ct.length:1;const et=B/2,gt=Mt.color,xt=Mt.textStrokeColor,Lt=Mt.textStrokeWidth;let M=V;c?(rt=k,V==="inner"&&(L===G-1?M=this.options.reverse?"left":"right":L===0?M=this.options.reverse?"right":"left":M="center"),r==="top"?g==="near"||D!==0?F=-B*z+z/2:g==="center"?F=-ne.highest.height/2-et*z+z:F=-ne.highest.height+z/2:g==="near"||D!==0?F=z/2:g==="center"?F=ne.highest.height/2-et*z:F=ne.highest.height-B*z,b&&(F*=-1),D!==0&&!Mt.showLabelBackdrop&&(rt+=z/2*Math.sin(D))):(pt=k,F=(1-B)*z/2);let ht;if(Mt.showLabelBackdrop){const yt=lr(Mt.backdropPadding),mt=ne.heights[L],St=ne.widths[L];let zt=F-yt.top,It=0-yt.left;switch(U){case"middle":zt-=mt/2;break;case"bottom":zt-=mt;break}switch(V){case"center":It-=St/2;break;case"right":It-=St;break;case"inner":L===G-1?It-=St:L>0&&(It-=St/2);break}ht={left:It,top:zt,width:St+yt.width,height:mt+yt.height,color:Mt.backdropColor}}P.push({label:ct,font:N,textOffset:F,options:{rotation:D,color:gt,strokeColor:xt,strokeWidth:Lt,textAlign:M,textBaseline:U,translation:[rt,pt],backdrop:ht}})}return P}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zl(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,b,E;this.isHorizontal()?(g=Gl(t,this.left,c)-c/2,_=Gl(t,this.right,h)+h/2,b=E=f):(b=Gl(t,this.top,c)-c/2,E=Gl(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(_,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Av(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;pp(i,g,0,_,f,h)}r&&xv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=ji(i.font),c=lr(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||be(e)?(f+=c.bottom,Bn(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:b,rotation:E}=A4(this,f,e,h);pp(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:E,textAlign:S4(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ve(t.grid&&t.grid.z,-1),r=ve(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Pu.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ji(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wg{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;C4(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,x4(t,c,i),this.override&&dn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in dn[r]&&(delete dn[r][i],this.override&&delete lc[i])}}function x4(n,t,e){const i=Mf(Object.create(null),[e?dn.get(e):{},dn.get(t),n.defaults]);dn.set(t,i),n.defaultRoutes&&R4(t,n.defaultRoutes),n.descriptors&&dn.describe(t,n.descriptors)}function R4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");dn.route(o,r,f,h)})}function C4(n){return"id"in n&&"defaults"in n}class I4{constructor(){this.controllers=new wg(yx,"datasets",!0),this.elements=new wg(ku,"elements"),this.plugins=new wg(Object,"plugins"),this.scales=new wg(Pu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Ce(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=wv(t);Be(i["before"+r],[],i),e[t](i),Be(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Vr=new I4;class O4{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(Be(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=ve(i.options&&i.options.plugins,{}),o=D4(i);return r===!1&&!e?[]:k4(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function D4(n){const t={},e=[],i=Object.keys(Vr.plugins.items);for(let o=0;o<i.length;o++)e.push(Vr.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function M4(n,t){return!t&&n===!1?null:n===!0?{}:n}function k4(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=M4(i[f],r);g!==null&&o.push({plugin:h,options:P4(n.config,{plugin:h,local:e[f]},g,c)})}return o}function P4(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yy(n,t){const e=dn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function N4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function L4(n,t){return n===t?"_index_":"_value_"}function Cw(n){if(n==="x"||n==="y"||n==="r")return n}function V4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function vy(n,...t){if(Cw(n))return n;for(const e of t){const i=e.axis||V4(e.position)||n.length>1&&Cw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Iw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function U4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Iw(n,"x",e[0])||Iw(n,"y",e[0])}return{}}function z4(n,t){const e=lc[n.type]||{scales:{}},i=t.scales||{},r=yy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!be(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=vy(c,h,U4(c,n),dn.scales[h.type]),g=L4(f,r),_=e.scales||{};o[c]=yf(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||yy(h,t),_=(lc[h]||{}).scales||{};Object.keys(_).forEach(b=>{const E=N4(b,f),A=c[E+"AxisID"]||E;o[A]=o[A]||Object.create(null),yf(o[A],[{axis:E},i[A],_[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];yf(h,[dn.scales[h.type],dn.scale])}),o}function Ax(n){const t=n.options||(n.options={});t.plugins=ve(t.plugins,{}),t.scales=z4(n,t)}function xx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function j4(n){return n=n||{},n.data=xx(n.data),Ax(n),n}const Ow=new Map,Rx=new Set;function Sg(n,t){let e=Ow.get(n);return e||(e=t(),Ow.set(n,e),Rx.add(e)),e}const Jh=(n,t,e)=>{const i=vu(t,e);i!==void 0&&n.add(i)};class B4{constructor(t){this._config=j4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=xx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ax(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Sg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Sg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Sg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Sg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(b=>Jh(f,t,b))),_.forEach(b=>Jh(f,r,b)),_.forEach(b=>Jh(f,lc[o]||{},b)),_.forEach(b=>Jh(f,dn,b)),_.forEach(b=>Jh(f,_y,b))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),Rx.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,lc[e]||{},dn.datasets[e]||{},{type:e},dn,_y]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Dw(this._resolverCache,t,r);let f=c;if(H4(c,e)){o.$shared=!1,i=cl(i)?i():i;const g=this.createResolver(t,i,h);f=bu(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Dw(this._resolverCache,t,i);return be(e)?bu(o,e,void 0,r):o}}function Dw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Cv(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const F4=n=>be(n)&&Object.getOwnPropertyNames(n).some(t=>cl(n[t]));function H4(n,t){const{isScriptable:e,isIndexable:i}=ux(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(cl(h)||F4(h))||c&&Bn(h))return!0}return!1}var q4="4.5.0";const $4=["top","bottom","left","right","chartArea"];function Mw(n,t){return n==="top"||n==="bottom"||$4.indexOf(n)===-1&&t==="x"}function kw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Pw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Be(e&&e.onComplete,[n],t)}function G4(n){const t=n.chart,e=t.options.animation;Be(e&&e.onProgress,[n],t)}function Cx(n){return Dv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Hg={},Nw=n=>{const t=Cx(n);return Object.values(Hg).filter(e=>e.canvas===t).pop()};function Y4(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function K4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Zf=class{static defaults=dn;static instances=Hg;static overrides=lc;static registry=Vr;static version=q4;static getChart=Nw;static register(...t){Vr.add(...t),Lw()}static unregister(...t){Vr.remove(...t),Lw()}constructor(t,e){const i=this.config=new B4(e),r=Cx(t),o=Nw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||f4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=hL(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new O4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IL(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Hg[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Na.listen(this,"complete",Pw),Na.listen(this,"progress",G4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Ne(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Vr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ow(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iw(this.canvas,this.ctx),this}stop(){return Na.stop(this),this}resize(t,e){Na.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,ow(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Be(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ce(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=vy(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),Ce(o,c=>{const h=c.options,f=h.id,g=vy(f,h),_=ve(h.type,c.dtype);(h.position===void 0||Mw(h.position,g)!==Mw(c.dposition))&&(h.position=c.dposition),r[f]=!0;let b=null;if(f in i&&i[f].type===_)b=i[f];else{const E=Vr.getScale(_);b=new E({id:f,type:_,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),Ce(r,(c,h)=>{c||delete i[h]}),Ce(i,c=>{qo.configure(this,c,c.options),qo.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(kw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||yy(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Vr.getController(h),{datasetElementType:g,dataElementType:_}=dn.datasets[h];Object.assign(f,{dataElementType:Vr.getElement(_),datasetElementType:g&&Vr.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ce(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:b}=this.getDatasetMeta(g),E=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(E),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Ce(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(kw("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ce(this.scales,t=>{qo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!YT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;Y4(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!YT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qo.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ce(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,cl(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Na.has(this)?this.attached&&!Na.running(this)&&Na.start(this):(this.draw(),Pw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=gV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Av(e,r),t.controller.draw(),r&&xv(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return lx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=$V.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Mu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);kf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Na.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Hg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ce(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Ce(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ce(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!hp(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(b=>_.datasetIndex===b.datasetIndex&&_.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=_L(t),g=K4(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Be(o.onHover,[t,h,this],this),f&&Be(o.onClick,[t,h,this],this));const _=!hp(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Lw(){return Ce(Zf.instances,n=>n._plugins.invalidate())}function W4(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:_}=f,b=Math.min(g/c,zr(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+b/2,e-b/2),h>0){const E=Math.min(g/h,zr(i-e));n.arc(r,o,h+g/2,e-E/2,i+E/2,!0)}else{const E=Math.min(g/2,c*zr(i-e));if(_==="round")n.arc(r,o,E,e-Ye/2,i+Ye/2,!0);else if(_==="bevel"){const A=2*E*E,R=-A*Math.cos(e+Ye/2)+r,D=-A*Math.sin(e+Ye/2)+o,P=A*Math.cos(i+Ye/2)+r,L=A*Math.sin(i+Ye/2)+o;n.lineTo(R,D),n.lineTo(P,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Q4(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>r?(g=r/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,r,e+Zn,i-Zn),n.closePath(),n.clip()}function X4(n){return Rv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Z4(n,t,e,i){const r=X4(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return zi(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:zi(r.innerStart,0,c),innerEnd:zi(r.innerEnd,0,c)}}function Zc(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function vp(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:_}=t,b=Math.max(t.outerRadius+i+e-g,0),E=_>0?_+i+e+g:0;let A=0;const R=r-f;if(i){const Mt=_>0?_-i:0,et=b>0?b-i:0,gt=(Mt+et)/2,xt=gt!==0?R*gt/(gt+i):R;A=(R-xt)/2}const D=Math.max(.001,R*b-e/Ye)/b,P=(R-D)/2,L=f+P+A,G=r-P-A,{outerStart:J,outerEnd:ct,innerStart:rt,innerEnd:pt}=Z4(t,E,b,G-L),V=b-J,k=b-ct,N=L+J/V,z=G-ct/k,B=E+rt,F=E+pt,U=L+rt/B,ne=G-pt/F;if(n.beginPath(),o){const Mt=(N+z)/2;if(n.arc(c,h,b,N,Mt),n.arc(c,h,b,Mt,z),ct>0){const Lt=Zc(k,z,c,h);n.arc(Lt.x,Lt.y,ct,z,G+Zn)}const et=Zc(F,G,c,h);if(n.lineTo(et.x,et.y),pt>0){const Lt=Zc(F,ne,c,h);n.arc(Lt.x,Lt.y,pt,G+Zn,ne+Math.PI)}const gt=(G-pt/E+(L+rt/E))/2;if(n.arc(c,h,E,G-pt/E,gt,!0),n.arc(c,h,E,gt,L+rt/E,!0),rt>0){const Lt=Zc(B,U,c,h);n.arc(Lt.x,Lt.y,rt,U+Math.PI,L-Zn)}const xt=Zc(V,L,c,h);if(n.lineTo(xt.x,xt.y),J>0){const Lt=Zc(V,N,c,h);n.arc(Lt.x,Lt.y,J,L-Zn,N)}}else{n.moveTo(c,h);const Mt=Math.cos(N)*b+c,et=Math.sin(N)*b+h;n.lineTo(Mt,et);const gt=Math.cos(z)*b+c,xt=Math.sin(z)*b+h;n.lineTo(gt,xt)}n.closePath()}function J4(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){vp(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%bi||bi))}return vp(n,t,e,i,f,r),n.fill(),f}function t6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:b,borderDashOffset:E,borderRadius:A}=f,R=f.borderAlign==="inner";if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=E,R?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let D=t.endAngle;if(o){vp(n,t,e,i,D,r);for(let P=0;P<o;++P)n.stroke();isNaN(h)||(D=c+(h%bi||bi))}R&&Q4(n,t,D),f.selfJoin&&D-c>=Ye&&A===0&&_!=="miter"&&W4(n,t,D),o||(vp(n,t,e,i,D,r),n.stroke())}class e6 extends ku{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=X1(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,A=ve(b,f-h),R=Z1(o,h,f)&&h!==f,D=A>=bi||R,P=Jl(c,g+E,_+E);return D&&P}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,_=(r+o)/2,b=(c+h+g+f)/2;return{x:e+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>bi?Math.floor(i/bi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(Ye,i||0)),g=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,J4(t,this,g,o,c),t6(t,this,g,o,c),t.restore()}}function Ix(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,_,b;return n.horizontal?(b=c/2,h=Math.min(e,r),f=Math.max(e,r),g=i-b,_=i+b):(b=o/2,h=e-b,f=e+b,g=Math.min(i,r),_=Math.max(i,r)),{left:h,top:g,right:f,bottom:_}}function $o(n,t,e,i){return n?0:zi(t,e,i)}function n6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=cx(i);return{t:$o(r.top,o.top,0,e),r:$o(r.right,o.right,0,t),b:$o(r.bottom,o.bottom,0,e),l:$o(r.left,o.left,0,t)}}function i6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=cu(r),c=Math.min(t,e),h=n.borderSkipped,f=i||be(r);return{topLeft:$o(!f||h.top||h.left,o.topLeft,0,c),topRight:$o(!f||h.top||h.right,o.topRight,0,c),bottomLeft:$o(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:$o(!f||h.bottom||h.right,o.bottomRight,0,c)}}function s6(n){const t=Ix(n),e=t.right-t.left,i=t.bottom-t.top,r=n6(n,e/2,i/2),o=i6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function P_(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&Ix(n,i);return h&&(r||Jl(t,h.left,h.right))&&(o||Jl(e,h.top,h.bottom))}function r6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function a6(n,t){n.rect(t.x,t.y,t.w,t.h)}function N_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class o6 extends ku{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=s6(this),h=r6(c.radius)?mp:a6;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,N_(c,e,o)),t.clip(),h(t,N_(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,N_(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return P_(this,t,e,i)}inXRange(t,e){return P_(this,t,null,e)}inYRange(t,e){return P_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Vw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},l6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Uw extends ku{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Be(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=ji(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Vw(i,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let E=-1,A=-_;return this.legendItems.forEach((R,D)=>{const P=i+e/2+o.measureText(R.text).width;(D===0||g[g.length-1]+P+2*h>c)&&(b+=_,g[g.length-(D>0?0:1)]=0,A+=_,E++),f[D]={left:0,top:A,row:E,width:P,height:r},g[g.length-1]+=P+h}),b}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let b=h,E=0,A=0,R=0,D=0;return this.legendItems.forEach((P,L)=>{const{itemWidth:G,itemHeight:J}=c6(i,e,o,P,r);L>0&&A+J+2*h>_&&(b+=E+h,g.push({width:E,height:A}),R+=E+h,D++,E=A=0),f[L]={left:R,top:A,col:D,width:G,height:J},E=Math.max(E,G),A+=J+h}),b+=E,g.push({width:E,height:A}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=uu(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=as(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=as(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=as(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=as(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Av(t,this),this._draw(),xv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=dn.color,f=uu(t.rtl,this.left,this.width),g=ji(c.font),{padding:_}=c,b=g.size,E=b/2;let A;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:R,boxHeight:D,itemHeight:P}=Vw(c,b),L=function(pt,V,k){if(isNaN(R)||R<=0||isNaN(D)||D<0)return;r.save();const N=ve(k.lineWidth,1);if(r.fillStyle=ve(k.fillStyle,h),r.lineCap=ve(k.lineCap,"butt"),r.lineDashOffset=ve(k.lineDashOffset,0),r.lineJoin=ve(k.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=ve(k.strokeStyle,h),r.setLineDash(ve(k.lineDash,[])),c.usePointStyle){const z={radius:D*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:N},B=f.xPlus(pt,R/2),F=V+E;ox(r,z,B,F,c.pointStyleWidth&&R)}else{const z=V+Math.max((b-D)/2,0),B=f.leftForLtr(pt,R),F=cu(k.borderRadius);r.beginPath(),Object.values(F).some(U=>U!==0)?mp(r,{x:B,y:z,w:R,h:D,radius:F}):r.rect(B,z,R,D),r.fill(),N!==0&&r.stroke()}r.restore()},G=function(pt,V,k){pp(r,k.text,pt,V+P/2,g,{strikethrough:k.hidden,textAlign:f.textAlign(k.textAlign)})},J=this.isHorizontal(),ct=this._computeTitleHeight();J?A={x:as(o,this.left+_,this.right-i[0]),y:this.top+_+ct,line:0}:A={x:this.left+_,y:as(o,this.top+ct+_,this.bottom-e[0].height),line:0},gx(this.ctx,t.textDirection);const rt=P+_;this.legendItems.forEach((pt,V)=>{r.strokeStyle=pt.fontColor,r.fillStyle=pt.fontColor;const k=r.measureText(pt.text).width,N=f.textAlign(pt.textAlign||(pt.textAlign=c.textAlign)),z=R+E+k;let B=A.x,F=A.y;f.setWidth(this.width),J?V>0&&B+z+_>this.right&&(F=A.y+=rt,A.line++,B=A.x=as(o,this.left+_,this.right-i[A.line])):V>0&&F+rt>this.bottom&&(B=A.x=B+e[A.line].width+_,A.line++,F=A.y=as(o,this.top+ct+_,this.bottom-e[A.line].height));const U=f.x(B);if(L(U,F,pt),B=OL(N,B+R+E,J?B+z:this.right,t.rtl),G(f.x(B),F,pt),J)A.x+=z+_;else if(typeof pt.text!="string"){const ne=g.lineHeight;A.y+=Ox(pt,ne)+_}else A.y+=rt}),px(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ji(e.font),r=lr(e.padding);if(!e.display)return;const o=uu(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let _,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),_=this.top+g,b=as(t.align,b,this.right-E);else{const R=this.columnSizes.reduce((D,P)=>Math.max(D,P.height),0);_=g+as(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const A=as(h,b,b+E);c.textAlign=o.textAlign(ix(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,pp(c,e.text,A,_,i)}_computeTitleHeight(){const t=this.options.title,e=ji(t.font),i=lr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Jl(t,this.left,this.right)&&Jl(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Jl(t,r.left,r.left+r.width)&&Jl(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!f6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=l6(r,i);r&&!o&&Be(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Be(e.onHover,[t,i,this],this)}else i&&Be(e.onClick,[t,i,this],this)}}function c6(n,t,e,i,r){const o=u6(i,n,t,e),c=h6(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function u6(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function h6(n,t,e){let i=n;return typeof t.text!="string"&&(i=Ox(t,e)),i}function Ox(n,t){const e=n.text?n.text.length:0;return t*e}function f6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Dx={id:"legend",_element:Uw,start(n,t,e){const i=n.legend=new Uw({ctx:n.ctx,options:e,chart:n});qo.configure(n,i,e),qo.addBox(n,i)},stop(n){qo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;qo.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=lr(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const uf={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=SL(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Lr(n,t){return t&&(Bn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function La(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function d6(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function zw(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=ji(t.bodyFont),g=ji(t.titleFont),_=ji(t.footerFont),b=o.length,E=r.length,A=i.length,R=lr(t.padding);let D=R.height,P=0,L=i.reduce((ct,rt)=>ct+rt.before.length+rt.lines.length+rt.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,b&&(D+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),L){const ct=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;D+=A*ct+(L-A)*f.lineHeight+(L-1)*t.bodySpacing}E&&(D+=t.footerMarginTop+E*_.lineHeight+(E-1)*t.footerSpacing);let G=0;const J=function(ct){P=Math.max(P,e.measureText(ct).width+G)};return e.save(),e.font=g.string,Ce(n.title,J),e.font=f.string,Ce(n.beforeBody.concat(n.afterBody),J),G=t.displayColors?c+2+t.boxPadding:0,Ce(i,ct=>{Ce(ct.before,J),Ce(ct.lines,J),Ce(ct.after,J)}),G=0,e.font=_.string,Ce(n.footer,J),e.restore(),P+=R.width,{width:P,height:D}}function g6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function p6(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function m6(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),p6(g,n,t,e)&&(g="center"),g}function jw(n,t,e){const i=e.yAlign||t.yAlign||g6(n,e);return{xAlign:e.xAlign||t.xAlign||m6(n,t,e,i),yAlign:i}}function _6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function y6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Bw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:b,bottomLeft:E,bottomRight:A}=cu(c);let R=_6(t,h);const D=y6(t,f,g);return f==="center"?h==="left"?R+=g:h==="right"&&(R-=g):h==="left"?R-=Math.max(_,E)+r:h==="right"&&(R+=Math.max(b,A)+r),{x:zi(R,0,i.width-t.width),y:zi(D,0,i.height-t.height)}}function Ag(n,t,e){const i=lr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Fw(n){return Lr([],La(n))}function v6(n,t,e){return Mu(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Hw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Mx={beforeTitle:Pa,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Pa,beforeBody:Pa,beforeLabel:Pa,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ne(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Pa,afterBody:Pa,beforeFooter:Pa,footer:Pa,afterFooter:Pa};function Ni(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Mx[t].call(e,i):r}class qw extends ku{static positioners=uf;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new mx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=v6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Ni(i,"beforeTitle",this,t),o=Ni(i,"title",this,t),c=Ni(i,"afterTitle",this,t);let h=[];return h=Lr(h,La(r)),h=Lr(h,La(o)),h=Lr(h,La(c)),h}getBeforeBody(t,e){return Fw(Ni(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Ce(t,o=>{const c={before:[],lines:[],after:[]},h=Hw(i,o);Lr(c.before,La(Ni(h,"beforeLabel",this,o))),Lr(c.lines,Ni(h,"label",this,o)),Lr(c.after,La(Ni(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return Fw(Ni(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Ni(i,"beforeFooter",this,t),o=Ni(i,"footer",this,t),c=Ni(i,"afterFooter",this,t);let h=[];return h=Lr(h,La(r)),h=Lr(h,La(o)),h=Lr(h,La(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(d6(this.chart,e[f]));return t.filter&&(h=h.filter((_,b,E)=>t.filter(_,b,E,i))),t.itemSort&&(h=h.sort((_,b)=>t.itemSort(_,b,i))),Ce(h,_=>{const b=Hw(t.callbacks,_);r.push(Ni(b,"labelColor",this,_)),o.push(Ni(b,"labelPointStyle",this,_)),c.push(Ni(b,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=uf[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=zw(this,i),g=Object.assign({},h,f),_=jw(this.chart,i,g),b=Bw(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:b}=cu(h),{x:E,y:A}=t,{width:R,height:D}=e;let P,L,G,J,ct,rt;return o==="center"?(ct=A+D/2,r==="left"?(P=E,L=P-c,J=ct+c,rt=ct-c):(P=E+R,L=P+c,J=ct-c,rt=ct+c),G=P):(r==="left"?L=E+Math.max(f,_)+c:r==="right"?L=E+R-Math.max(g,b)-c:L=this.caretX,o==="top"?(J=A,ct=J-c,P=L-c,G=L+c):(J=A+D,ct=J+c,P=L+c,G=L-c),rt=J),{x1:P,x2:L,x3:G,y1:J,y2:ct,y3:rt}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const g=uu(i.rtl,this.x,this.width);for(t.x=Ag(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=ji(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,_=ji(o.bodyFont),b=Ag(this,"left",o),E=r.x(b),A=f<_.lineHeight?(_.lineHeight-f)/2:0,R=e.y+A;if(o.usePointStyle){const D={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},P=r.leftForLtr(E,g)+g/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,sw(t,D,P,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,sw(t,D,P,L)}else{t.lineWidth=be(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const D=r.leftForLtr(E,g),P=r.leftForLtr(r.xPlus(E,1),g-2),L=cu(c.borderRadius);Object.values(L).some(G=>G!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,mp(t,{x:D,y:R,w:g,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),mp(t,{x:P,y:R+1,w:g-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(D,R,g,f),t.strokeRect(D,R,g,f),t.fillStyle=c.backgroundColor,t.fillRect(P,R+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=i,b=ji(i.bodyFont);let E=b.lineHeight,A=0;const R=uu(i.rtl,this.x,this.width),D=function(k){e.fillText(k,R.x(t.x+A),t.y+E/2),t.y+=E+o},P=R.textAlign(c);let L,G,J,ct,rt,pt,V;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=Ag(this,P,i),e.fillStyle=i.bodyColor,Ce(this.beforeBody,D),A=h&&P!=="right"?c==="center"?g/2+_:g+2+_:0,ct=0,pt=r.length;ct<pt;++ct){for(L=r[ct],G=this.labelTextColors[ct],e.fillStyle=G,Ce(L.before,D),J=L.lines,h&&J.length&&(this._drawColorBox(e,t,ct,R,i),E=Math.max(b.lineHeight,f)),rt=0,V=J.length;rt<V;++rt)D(J[rt]),E=b.lineHeight;Ce(L.after,D)}A=0,E=b.lineHeight,Ce(this.afterBody,D),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=uu(i.rtl,this.x,this.width);for(t.x=Ag(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=ji(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=i,{topLeft:b,topRight:E,bottomLeft:A,bottomRight:R}=cu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+b,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-E,f),e.quadraticCurveTo(h+g,f,h+g,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+_-R),e.quadraticCurveTo(h+g,f+_,h+g-R,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+A,f+_),e.quadraticCurveTo(h,f+_,h,f+_-A),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+b),e.quadraticCurveTo(h,f,h+b,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=uf[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=zw(this,t),f=Object.assign({},c,this._size),g=jw(e,t,f),_=Bw(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=lr(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),gx(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),px(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!hp(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!hp(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=uf[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var kx={id:"tooltip",_element:qw,positioners:uf,afterInit(n,t,e){e&&(n.tooltip=new qw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function E6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return b6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const T6=(n,t)=>n===null?null:zi(Math.round(n),0,t);function $w(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class w6 extends Pu{static id="category";static defaults={ticks:{callback:$w}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ne(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:E6(i,t,ve(e,t),this._addedLabels),T6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return $w.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function S6(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:b,includeBounds:E}=n,A=o||1,R=_-1,{min:D,max:P}=t,L=!Ne(c),G=!Ne(h),J=!Ne(g),ct=(P-D)/(b+1);let rt=WT((P-D)/R/A)*A,pt,V,k,N;if(rt<1e-14&&!L&&!G)return[{value:D},{value:P}];N=Math.ceil(P/rt)-Math.floor(D/rt),N>R&&(rt=WT(N*rt/R/A)*A),Ne(f)||(pt=Math.pow(10,f),rt=Math.ceil(rt*pt)/pt),r==="ticks"?(V=Math.floor(D/rt)*rt,k=Math.ceil(P/rt)*rt):(V=D,k=P),L&&G&&o&&EL((h-c)/o,rt/1e3)?(N=Math.round(Math.min((h-c)/rt,_)),rt=(h-c)/N,V=c,k=h):J?(V=L?c:V,k=G?h:k,N=g-1,rt=(k-V)/N):(N=(k-V)/rt,Bg(N,Math.round(N),rt/1e3)?N=Math.round(N):N=Math.ceil(N));const z=Math.max(QT(rt),QT(V));pt=Math.pow(10,Ne(f)?z:f),V=Math.round(V*pt)/pt,k=Math.round(k*pt)/pt;let B=0;for(L&&(E&&V!==c?(e.push({value:c}),V<c&&B++,Bg(Math.round((V+B*rt)*pt)/pt,c,Gw(c,ct,n))&&B++):V<c&&B++);B<N;++B){const F=Math.round((V+B*rt)*pt)/pt;if(G&&F>h)break;e.push({value:F})}return G&&E&&k!==h?e.length&&Bg(e[e.length-1].value,h,Gw(h,ct,n))?e[e.length-1].value=h:e.push({value:h}):(!G||k===h)&&e.push({value:k}),e}function Gw(n,t,{horizontal:e,minRotation:i}){const r=Zl(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class A6 extends Pu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ne(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=tl(r),g=tl(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=S6(r,o);return t.bounds==="ticks"&&TL(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return rx(t,this.chart.options.locale,this.options.ticks.format)}}class x6 extends A6{static id="linear";static defaults={ticks:{callback:ax.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Vs(t)?t:0,this.max=Vs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Zl(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Yp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ui=Object.keys(Yp);function Yw(n,t){return n-t}function Kw(n,t){if(Ne(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Vs(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(gp(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function Ww(n,t,e,i){const r=Ui.length;for(let o=Ui.indexOf(n);o<r-1;++o){const c=Yp[Ui[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Ui[o]}return Ui[r-1]}function R6(n,t,e,i,r){for(let o=Ui.length-1;o>=Ui.indexOf(e);o--){const c=Ui[o];if(Yp[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Ui[e?Ui.indexOf(e):0]}function C6(n){for(let t=Ui.indexOf(n)+1,e=Ui.length;t<e;++t)if(Yp[Ui[t]].common)return Ui[t]}function Qw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Sv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function I6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function Xw(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:I6(n,i,r,e)}class Zw extends Pu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new jV._date(t.adapters.date);r.init(e),yf(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Kw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Vs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Vs(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=RL(r,o,c);return this._unit=e.unit||(i.autoSkip?Ww(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):R6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:C6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),Xw(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=zi(e,0,c),i=zi(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||Ww(o.minUnit,e,i,this._getLabelCapacity(e)),h=ve(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=gp(f)||f===!0,_={};let b=e,E,A;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(E=b,A=0;E<i;E=+t.add(E,h,c),A++)Qw(_,E,R);return(E===i||r.bounds==="ticks"||A===1)&&Qw(_,E,R),Object.keys(_).sort(Yw).map(D=>+D)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return Be(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],b=g&&h[g],E=i[e],A=g&&b&&E&&E.major;return this._adapter.format(t,r||(A?b:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Zl(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Xw(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(Kw(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return tx(t.sort(Yw))}}function xg(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=my(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=my(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class Y6 extends Zw{static id="timeseries";static defaults=Zw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=xg(e,this.min),this._tableRange=xg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],g=r[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(xg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return xg(this._table,i*this._tableRange+this._minPos,!0)}}const Px="label";function Jw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function O6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function Nx(n,t){n.labels=t}function Lx(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Px;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function D6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Px;const e={labels:[],datasets:[]};return Nx(e,n.labels),Lx(e,n.datasets,t),e}function M6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:b,...E}=n,A=Z.useRef(null),R=Z.useRef(null),D=()=>{A.current&&(R.current=new Zf(A.current,{type:c,data:D6(h,o),options:f&&{...f},plugins:g}),Jw(t,R.current))},P=()=>{Jw(t,null),R.current&&(R.current.destroy(),R.current=null)};return Z.useEffect(()=>{!r&&R.current&&f&&O6(R.current,f)},[r,f]),Z.useEffect(()=>{!r&&R.current&&Nx(R.current.config.data,h.labels)},[r,h.labels]),Z.useEffect(()=>{!r&&R.current&&h.datasets&&Lx(R.current.config.data,h.datasets,o)},[r,h.datasets]),Z.useEffect(()=>{R.current&&(r?(P(),setTimeout(D)):R.current.update(b))},[r,f,h.labels,h.datasets,b]),Z.useEffect(()=>{R.current&&(P(),setTimeout(D))},[c]),Z.useEffect(()=>(D(),()=>P()),[]),tS.createElement("canvas",{ref:A,role:"img",height:e,width:i,...E},_)}const k6=Z.forwardRef(M6);function P6(n,t){return Zf.register(t),Z.forwardRef((e,i)=>tS.createElement(k6,{...e,ref:i,type:n}))}const N6=P6("bar",zV);Zf.register(e6,kx,Dx);Zf.register(w6,x6,o6,kx,Dx);const L6=({loan:n})=>{const t=(n.payment*n.monthsPaid).toFixed(2),e=n.payment*n.duration-Number(t).toFixed(2),i={labels:["Loan Progress"],datasets:[{label:"Paid (₹)",data:[t],backgroundColor:"#4caf50"},{label:"Remaining (₹)",data:[e],backgroundColor:"#f44336"}]},r={responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};return q.jsx("div",{style:{maxWidth:400,marginTop:10},children:q.jsx(N6,{data:i,options:r})})},Vx=({loan:n,removeLoan:t,payMonth:e})=>q.jsxs("div",{className:"loan-item",children:[q.jsxs("div",{className:"loan-item-details",children:[q.jsx("table",{children:q.jsxs("tbody",{children:[q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Loan Name"})}),q.jsx("td",{children:q.jsx("h5",{children:n.loanName})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Loan Amount"})}),q.jsx("td",{children:q.jsxs("h5",{children:["₹ ",n.amount]})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Interest Rate"})}),q.jsx("td",{children:q.jsxs("h5",{children:[n.interest,"%"]})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Monthly Interest"})}),q.jsx("td",{children:q.jsxs("h5",{children:["₹ ",n.totalInterest]})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Duration"})}),q.jsx("td",{children:q.jsxs("h5",{children:[n.duration," months"]})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Monthly Pay"})}),q.jsx("td",{children:q.jsxs("h5",{children:["₹ ",n.payment]})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Due Date"})}),q.jsx("td",{children:q.jsx("h5",{children:n.duedate})})]}),q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx("h5",{children:"Months Paid"})}),q.jsx("td",{children:q.jsxs("h5",{children:[n.monthsPaid," / ",n.duration]})})]})]})}),q.jsx("div",{className:"loan-item-buttons",children:q.jsx("button",{onClick:()=>t(n.id),style:{marginLeft:10},children:"Remove"})})]}),q.jsx("div",{className:"loan-item-sub-div",children:q.jsx(L6,{loan:n})})]}),V6=({loans:n,removeLoan:t,payMonth:e})=>{const i=n.filter(r=>r.status=="Ongoing");return i.length==0?q.jsx("p",{className:"all-finished",children:"All Loans Are Finished"}):q.jsx("div",{children:i.map(r=>q.jsx(Vx,{loan:r,removeLoan:t,payMonth:e},r.id))})},U6=({loans:n=[],removeLoan:t,payMonth:e})=>q.jsx("div",{className:"home-sub-div",children:q.jsx(V6,{loans:n,removeLoan:t,payMonth:e})}),z6=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(""),c=wu(),h=async f=>{f.preventDefault(),o("");try{const _=(await c2(Qf,n,e)).user,b=await B1(yu(Zo,"users",_.uid));if(b.exists()){const E=b.data();console.log("Logged in as:",E.username)}c("/home")}catch(g){o(g.message)}};return q.jsxs(q.Fragment,{children:[q.jsx("nav",{children:q.jsx("h2",{children:"Loan Tracker"})}),q.jsx("div",{className:"login-page-container",children:q.jsxs("div",{className:"login-sub-page",children:[q.jsx("h1",{children:"Log In"}),q.jsxs("form",{className:"login-form",onSubmit:h,children:[q.jsx("input",{type:"text",placeholder:"Enter Your Email",value:n,onChange:f=>t(f.target.value)}),q.jsx("input",{type:"password",placeholder:"Enter Your Password",value:e,onChange:f=>i(f.target.value)}),q.jsx("button",{children:"Log IN"}),q.jsxs("p",{children:["Don't have an account ",q.jsx("span",{children:q.jsx(jr,{to:"/signup",children:"Sign Up"})})]}),r&&q.jsx("p",{style:{color:"red"},children:r})]})]})})]})},j6=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(""),[c,h]=Z.useState(""),f=wu(),g=async _=>{if(_.preventDefault(),h(""),!n||!e||!r){h("Please fill all fields");return}try{const E=(await l2(Qf,e,r)).user;await DN(yu(Zo,"users",E.uid),{uid:E.uid,username:n,email:e,password:r,createdAt:new Date}),f("/home")}catch(b){h(b.message)}};return q.jsxs(q.Fragment,{children:[q.jsx("nav",{children:q.jsx("h2",{children:"Loan Tracker"})}),q.jsx("div",{className:"Signup-page-container",children:q.jsxs("div",{className:"signup-sub-page",children:[q.jsx("h1",{children:"Sign Up"}),q.jsxs("form",{className:"signup-form",onSubmit:g,children:[q.jsx("input",{type:"text",placeholder:"Enter Your Email",value:e,onChange:_=>i(_.target.value)}),q.jsx("input",{type:"text",placeholder:"Create UserName",value:n,onChange:_=>t(_.target.value)}),q.jsx("input",{type:"password",placeholder:"Create Your Password",value:r,onChange:_=>o(_.target.value)}),q.jsx("button",{children:"Sign Up"}),q.jsxs("p",{children:["Already have an account ",q.jsx("span",{children:q.jsx(jr,{to:"/",children:"Log In"})})]}),c&&q.jsx("p",{style:{color:"red"},children:c})]})]})})]})};function Rg({children:n}){const[t,e]=Z.useState(void 0),[i,r]=Z.useState(!0);return Z.useEffect(()=>{const o=df(Qf,c=>{e(c),r(!1)});return()=>o()},[]),i?q.jsx("div",{children:"Loading..."}):t?n:q.jsx(qC,{to:"/",replace:!0})}const B6=({loans:n,removeLoan:t,payMonth:e})=>{const i=n.filter(r=>r.status=="Finished");return i.length==0?q.jsx("p",{className:"no-loan-para",children:"There are no Finished Loans"}):i.map(r=>q.jsx(Vx,{loan:r,removeLoan:t,payMonth:e},r.id))};function F6({loans:n,addLoan:t,removeLoan:e,payMonth:i}){const r=Ya(),o=["/","/signup"];return q.jsxs(q.Fragment,{children:[!o.includes(r.pathname)&&q.jsx(UN,{}),q.jsxs(GC,{children:[q.jsx(Kl,{path:"/",element:q.jsx(z6,{})}),q.jsx(Kl,{path:"/signup",element:q.jsx(j6,{})}),q.jsx(Kl,{path:"/home",element:q.jsx(Rg,{children:q.jsx(BN,{addLoan:t})})}),q.jsx(Kl,{path:"/loan",element:q.jsx(Rg,{children:q.jsx(U6,{loans:n,removeLoan:e,payMonth:i})})}),q.jsx(Kl,{path:"/InterestCalculator",element:q.jsx(Rg,{children:q.jsx(FN,{})})}),q.jsx(Kl,{path:"/finishedloan",element:q.jsx(Rg,{children:q.jsx(B6,{loans:n,removeLoan:e,payMonth:i})})})]})]})}function H6(){const[n,t]=Z.useState([]),e=hy(Zo,"loans");Z.useEffect(()=>{const c=fu(),h=df(c,f=>{if(!f)return;const g=dy(e,af("userId","==",f.uid)),_=gy(g,b=>{const E=b.docs.map(A=>({...A.data(),id:A.id}));t(E)});return()=>_()});return()=>h()},[]);const i=async c=>{const f=fu().currentUser;f&&await kN(e,{...c,userId:f.uid,createdAt:new Date().toISOString()})},r=async c=>{const h=yu(Zo,"loans",c);await MN(h)},o=async()=>{const c=new Date,h=c.getDate(),f=c.getMonth()+1,g=c.getFullYear();for(const _ of n)if(Number(_.duedate)===h&&_.monthsPaid<_.duration){const b=_.lastPaidDate?new Date(_.lastPaidDate):null;if(!(b&&b.getMonth()+1===f&&b.getFullYear()===g)){const A={..._,monthsPaid:_.monthsPaid+1,lastPaidDate:c.toISOString()},R=yu(Zo,"loans",_.id);await jT(R,{monthsPaid:A.monthsPaid,lastPaidDate:A.lastPaidDate}),A.monthsPaid===_.duration&&await jT(R,{status:"Finished"})}}};return Z.useEffect(()=>{o()},[n]),q.jsx(q.Fragment,{children:q.jsx(mI,{children:q.jsx(F6,{loans:n,addLoan:i,removeLoan:r,payMonth:o})})})}tC.createRoot(document.getElementById("root")).render(q.jsx(Z.StrictMode,{children:q.jsx(VN,{children:q.jsx(H6,{})})}));
