(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function YR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r_={exports:{}},qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function KR(){if(W0)return qh;W0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return qh.Fragment=t,qh.jsx=e,qh.jsxs=e,qh}var Q0;function WR(){return Q0||(Q0=1,r_.exports=KR()),r_.exports}var $=WR(),a_={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function QR(){if(X0)return Jt;X0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function E(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function M(D,ht,yt){this.props=D,this.context=ht,this.refs=P,this.updater=yt||A}M.prototype.isReactComponent={},M.prototype.setState=function(D,ht){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ht,"setState")},M.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function L(){}L.prototype=M.prototype;function G(D,ht,yt){this.props=D,this.context=ht,this.refs=P,this.updater=yt||A}var et=G.prototype=new L;et.constructor=G,R(et,M.prototype),et.isPureReactComponent=!0;var ct=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function V(D,ht,yt,mt,St,zt){return yt=zt.ref,{$$typeof:n,type:D,key:ht,ref:yt!==void 0?yt:null,props:zt}}function k(D,ht){return V(D.type,ht,void 0,void 0,void 0,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function z(D){var ht={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(yt){return ht[yt]})}var B=/\/+/g;function F(D,ht){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):ht.toString(36)}function U(){}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(U,U):(D.status="pending",D.then(function(ht){D.status==="pending"&&(D.status="fulfilled",D.value=ht)},function(ht){D.status==="pending"&&(D.status="rejected",D.reason=ht)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Mt(D,ht,yt,mt,St){var zt=typeof D;(zt==="undefined"||zt==="boolean")&&(D=null);var It=!1;if(D===null)It=!0;else switch(zt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(D.$$typeof){case n:case t:It=!0;break;case y:return It=D._init,Mt(It(D._payload),ht,yt,mt,St)}}if(It)return St=St(D),It=mt===""?"."+F(D,0):mt,ct(St)?(yt="",It!=null&&(yt=It.replace(B,"$&/")+"/"),Mt(St,ht,yt,"",function(fi){return fi})):St!=null&&(N(St)&&(St=k(St,yt+(St.key==null||D&&D.key===St.key?"":(""+St.key).replace(B,"$&/")+"/")+It)),ht.push(St)),1;It=0;var We=mt===""?".":mt+":";if(ct(D))for(var bt=0;bt<D.length;bt++)mt=D[bt],zt=We+F(mt,bt),It+=Mt(mt,ht,yt,zt,St);else if(bt=E(D),typeof bt=="function")for(D=bt.call(D),bt=0;!(mt=D.next()).done;)mt=mt.value,zt=We+F(mt,bt++),It+=Mt(mt,ht,yt,zt,St);else if(zt==="object"){if(typeof D.then=="function")return Mt(ne(D),ht,yt,mt,St);throw ht=String(D),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return It}function tt(D,ht,yt){if(D==null)return D;var mt=[],St=0;return Mt(D,mt,"","",function(zt){return ht.call(yt,zt,St++)}),mt}function gt(D){if(D._status===-1){var ht=D._result;ht=ht(),ht.then(function(yt){(D._status===0||D._status===-1)&&(D._status=1,D._result=yt)},function(yt){(D._status===0||D._status===-1)&&(D._status=2,D._result=yt)}),D._status===-1&&(D._status=0,D._result=ht)}if(D._status===1)return D._result.default;throw D._result}var xt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Lt(){}return Jt.Children={map:tt,forEach:function(D,ht,yt){tt(D,function(){ht.apply(this,arguments)},yt)},count:function(D){var ht=0;return tt(D,function(){ht++}),ht},toArray:function(D){return tt(D,function(ht){return ht})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Jt.Component=M,Jt.Fragment=e,Jt.Profiler=r,Jt.PureComponent=G,Jt.StrictMode=i,Jt.Suspense=f,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return rt.H.useMemoCache(D)}},Jt.cache=function(D){return function(){return D.apply(null,arguments)}},Jt.cloneElement=function(D,ht,yt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var mt=R({},D.props),St=D.key,zt=void 0;if(ht!=null)for(It in ht.ref!==void 0&&(zt=void 0),ht.key!==void 0&&(St=""+ht.key),ht)!pt.call(ht,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&ht.ref===void 0||(mt[It]=ht[It]);var It=arguments.length-2;if(It===1)mt.children=yt;else if(1<It){for(var We=Array(It),bt=0;bt<It;bt++)We[bt]=arguments[bt+2];mt.children=We}return V(D.type,St,void 0,void 0,zt,mt)},Jt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Jt.createElement=function(D,ht,yt){var mt,St={},zt=null;if(ht!=null)for(mt in ht.key!==void 0&&(zt=""+ht.key),ht)pt.call(ht,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(St[mt]=ht[mt]);var It=arguments.length-2;if(It===1)St.children=yt;else if(1<It){for(var We=Array(It),bt=0;bt<It;bt++)We[bt]=arguments[bt+2];St.children=We}if(D&&D.defaultProps)for(mt in It=D.defaultProps,It)St[mt]===void 0&&(St[mt]=It[mt]);return V(D,zt,void 0,void 0,null,St)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(D){return{$$typeof:h,render:D}},Jt.isValidElement=N,Jt.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:gt}},Jt.memo=function(D,ht){return{$$typeof:g,type:D,compare:ht===void 0?null:ht}},Jt.startTransition=function(D){var ht=rt.T,yt={};rt.T=yt;try{var mt=D(),St=rt.S;St!==null&&St(yt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(Lt,xt)}catch(zt){xt(zt)}finally{rt.T=ht}},Jt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Jt.use=function(D){return rt.H.use(D)},Jt.useActionState=function(D,ht,yt){return rt.H.useActionState(D,ht,yt)},Jt.useCallback=function(D,ht){return rt.H.useCallback(D,ht)},Jt.useContext=function(D){return rt.H.useContext(D)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(D,ht){return rt.H.useDeferredValue(D,ht)},Jt.useEffect=function(D,ht,yt){var mt=rt.H;if(typeof yt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(D,ht)},Jt.useId=function(){return rt.H.useId()},Jt.useImperativeHandle=function(D,ht,yt){return rt.H.useImperativeHandle(D,ht,yt)},Jt.useInsertionEffect=function(D,ht){return rt.H.useInsertionEffect(D,ht)},Jt.useLayoutEffect=function(D,ht){return rt.H.useLayoutEffect(D,ht)},Jt.useMemo=function(D,ht){return rt.H.useMemo(D,ht)},Jt.useOptimistic=function(D,ht){return rt.H.useOptimistic(D,ht)},Jt.useReducer=function(D,ht,yt){return rt.H.useReducer(D,ht,yt)},Jt.useRef=function(D){return rt.H.useRef(D)},Jt.useState=function(D){return rt.H.useState(D)},Jt.useSyncExternalStore=function(D,ht,yt){return rt.H.useSyncExternalStore(D,ht,yt)},Jt.useTransition=function(){return rt.H.useTransition()},Jt.version="19.1.0",Jt}var Z0;function yy(){return Z0||(Z0=1,a_.exports=QR()),a_.exports}var Z=yy();const aS=YR(Z);var o_={exports:{}},$h={},l_={exports:{}},c_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function XR(){return J0||(J0=1,function(n){function t(tt,gt){var xt=tt.length;tt.push(gt);t:for(;0<xt;){var Lt=xt-1>>>1,D=tt[Lt];if(0<r(D,gt))tt[Lt]=gt,tt[xt]=D,xt=Lt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var gt=tt[0],xt=tt.pop();if(xt!==gt){tt[0]=xt;t:for(var Lt=0,D=tt.length,ht=D>>>1;Lt<ht;){var yt=2*(Lt+1)-1,mt=tt[yt],St=yt+1,zt=tt[St];if(0>r(mt,xt))St<D&&0>r(zt,mt)?(tt[Lt]=zt,tt[St]=xt,Lt=St):(tt[Lt]=mt,tt[yt]=xt,Lt=yt);else if(St<D&&0>r(zt,xt))tt[Lt]=zt,tt[St]=xt,Lt=St;else break t}}return gt}function r(tt,gt){var xt=tt.sortIndex-gt.sortIndex;return xt!==0?xt:tt.id-gt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],y=1,b=null,E=3,A=!1,R=!1,P=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ct(tt){for(var gt=e(g);gt!==null;){if(gt.callback===null)i(g);else if(gt.startTime<=tt)i(g),gt.sortIndex=gt.expirationTime,t(f,gt);else break;gt=e(g)}}function rt(tt){if(P=!1,ct(tt),!R)if(e(f)!==null)R=!0,pt||(pt=!0,F());else{var gt=e(g);gt!==null&&Mt(rt,gt.startTime-tt)}}var pt=!1,V=-1,k=5,N=-1;function z(){return M?!0:!(n.unstable_now()-N<k)}function B(){if(M=!1,pt){var tt=n.unstable_now();N=tt;var gt=!0;try{t:{R=!1,P&&(P=!1,G(V),V=-1),A=!0;var xt=E;try{e:{for(ct(tt),b=e(f);b!==null&&!(b.expirationTime>tt&&z());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,E=b.priorityLevel;var D=Lt(b.expirationTime<=tt);if(tt=n.unstable_now(),typeof D=="function"){b.callback=D,ct(tt),gt=!0;break e}b===e(f)&&i(f),ct(tt)}else i(f);b=e(f)}if(b!==null)gt=!0;else{var ht=e(g);ht!==null&&Mt(rt,ht.startTime-tt),gt=!1}}break t}finally{b=null,E=xt,A=!1}gt=void 0}}finally{gt?F():pt=!1}}}var F;if(typeof et=="function")F=function(){et(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ne=U.port2;U.port1.onmessage=B,F=function(){ne.postMessage(null)}}else F=function(){L(B,0)};function Mt(tt,gt){V=L(function(){tt(n.unstable_now())},gt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(tt){switch(E){case 1:case 2:case 3:var gt=3;break;default:gt=E}var xt=E;E=gt;try{return tt()}finally{E=xt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(tt,gt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var xt=E;E=tt;try{return gt()}finally{E=xt}},n.unstable_scheduleCallback=function(tt,gt,xt){var Lt=n.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?Lt+xt:Lt):xt=Lt,tt){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=xt+D,tt={id:y++,callback:gt,priorityLevel:tt,startTime:xt,expirationTime:D,sortIndex:-1},xt>Lt?(tt.sortIndex=xt,t(g,tt),e(f)===null&&tt===e(g)&&(P?(G(V),V=-1):P=!0,Mt(rt,xt-Lt))):(tt.sortIndex=D,t(f,tt),R||A||(R=!0,pt||(pt=!0,F()))),tt},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(tt){var gt=E;return function(){var xt=E;E=gt;try{return tt.apply(this,arguments)}finally{E=xt}}}}(c_)),c_}var tE;function ZR(){return tE||(tE=1,l_.exports=XR()),l_.exports}var u_={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function JR(){if(eE)return oi;eE=1;var n=yy();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,oi.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},oi.flushSync=function(f){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=y,i.d.f()}},oi.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},oi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},oi.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},oi.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},oi.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},oi.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},oi.requestFormReset=function(f){i.d.r(f)},oi.unstable_batchedUpdates=function(f,g){return f(g)},oi.useFormState=function(f,g,y){return c.H.useFormState(f,g,y)},oi.useFormStatus=function(){return c.H.useHostTransitionStatus()},oi.version="19.1.0",oi}var nE;function tC(){if(nE)return u_.exports;nE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),u_.exports=JR(),u_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function eC(){if(iE)return $h;iE=1;var n=ZR(),t=yy(),e=tC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return h(p),s;if(_===u)return h(p),a;_=_.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=_;else{for(var S=!1,C=p.child;C;){if(C===l){S=!0,l=p,u=_;break}if(C===u){S=!0,u=p,l=_;break}C=C.sibling}if(!S){for(C=_.child;C;){if(C===l){S=!0,l=_,u=p;break}if(C===u){S=!0,u=_,l=p;break}C=C.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ne(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case M:return"Profiler";case P:return"StrictMode";case rt:return"Suspense";case pt:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case et:return(s.displayName||"Context")+".Provider";case G:return(s._context.displayName||"Context")+".Consumer";case ct:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:ne(s.type)||"Memo";case k:a=s._payload,s=s._init;try{return ne(s(a))}catch{}}return null}var Mt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},Lt=[],D=-1;function ht(s){return{current:s}}function yt(s){0>D||(s.current=Lt[D],Lt[D]=null,D--)}function mt(s,a){D++,Lt[D]=s.current,s.current=a}var St=ht(null),zt=ht(null),It=ht(null),We=ht(null);function bt(s,a){switch(mt(It,a),mt(zt,s),mt(St,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?w0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=w0(a),s=S0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}yt(St),mt(St,s)}function fi(){yt(St),yt(zt),yt(It)}function zs(s){s.memoizedState!==null&&mt(We,s);var a=St.current,l=S0(a,s.type);a!==l&&(mt(zt,s),mt(St,l))}function js(s){zt.current===s&&(yt(St),yt(zt)),We.current===s&&(yt(We),zh._currentValue=xt)}var Qr=Object.prototype.hasOwnProperty,Hi=n.unstable_scheduleCallback,hr=n.unstable_cancelCallback,Bs=n.unstable_shouldYield,Fs=n.unstable_requestPaint,Ti=n.unstable_now,Pu=n.unstable_getCurrentPriorityLevel,pl=n.unstable_ImmediatePriority,Za=n.unstable_UserBlockingPriority,Xr=n.unstable_NormalPriority,Nu=n.unstable_LowPriority,Ja=n.unstable_IdlePriority,fr=n.log,qi=n.unstable_setDisableYieldValue,je=null,Ee=null;function di(s){if(typeof fr=="function"&&qi(s),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(je,s)}catch{}}var Qe=Math.clz32?Math.clz32:us,Hs=Math.log,dr=Math.LN2;function us(s){return s>>>=0,s===0?32:31-(Hs(s)/dr|0)|0}var Zr=256,qs=4194304;function $i(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function to(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,_=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var C=u&134217727;return C!==0?(u=C&~_,u!==0?p=$i(u):(S&=C,S!==0?p=$i(S):l||(l=C&~s,l!==0&&(p=$i(l))))):(C=u&~_,C!==0?p=$i(C):S!==0?p=$i(S):l||(l=u&~s,l!==0&&(p=$i(l)))),p===0?0:a!==0&&a!==p&&(a&_)===0&&(_=p&-p,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:p}function Jr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ml(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var s=Zr;return Zr<<=1,(Zr&4194048)===0&&(Zr=256),s}function yl(){var s=qs;return qs<<=1,(qs&62914560)===0&&(qs=4194304),s}function hs(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function wi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function eo(s,a,l,u,p,_){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,j=s.expirationTimes,X=s.hiddenUpdates;for(l=S&~l;0<l;){var at=31-Qe(l),ft=1<<at;C[at]=0,j[at]=-1;var J=X[at];if(J!==null)for(X[at]=null,at=0;at<J.length;at++){var nt=J[at];nt!==null&&(nt.lane&=-536870913)}l&=~ft}u!==0&&Gi(s,u,0),_!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=_&~(S&~a))}function Gi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Qe(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function vl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Qe(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function gr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function no(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function pr(){var s=gt.p;return s!==0?s:(s=window.event,s===void 0?32:H0(s.type))}function $s(s,a){var l=gt.p;try{return gt.p=s,a()}finally{gt.p=l}}var Te=Math.random().toString(36).slice(2),nn="__reactFiber$"+Te,Xe="__reactProps$"+Te,Si="__reactContainer$"+Te,bl="__reactEvents$"+Te,Lu="__reactListeners$"+Te,fs="__reactHandles$"+Te,Gs="__reactResources$"+Te,ds="__reactMarker$"+Te;function mr(s){delete s[nn],delete s[Xe],delete s[bl],delete s[Lu],delete s[fs]}function Yi(s){var a=s[nn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Si]||l[nn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=C0(s);s!==null;){if(l=s[nn])return l;s=C0(s)}return a}s=l,l=s.parentNode}return null}function gs(s){if(s=s[nn]||s[Si]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ps(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ze(s){var a=s[Gs];return a||(a=s[Gs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ie(s){s[ds]=!0}var wn=new Set,gn={};function ke(s,a){Ai(s,a),Ai(s+"Capture",a)}function Ai(s,a){for(gn[s]=a,s=0;s<a.length;s++)wn.add(a[s])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ms={},xi={};function El(s){return Qr.call(xi,s)?!0:Qr.call(ms,s)?!1:Ys.test(s)?xi[s]=!0:(ms[s]=!0,!1)}function _s(s,a,l){if(El(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Fn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function pn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Ks,io;function ys(s){if(Ks===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ks=a&&a[1]||"",io=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+s+io}var ta=!1;function ea(s,a){if(!s||ta)return"";ta=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(nt){var J=nt}Reflect.construct(s,[],ft)}else{try{ft.call()}catch(nt){J=nt}s.call(ft.prototype)}}else{try{throw Error()}catch(nt){J=nt}(ft=s())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(nt){if(nt&&J&&typeof nt.stack=="string")return[nt.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),S=_[0],C=_[1];if(S&&C){var j=S.split(`
`),X=C.split(`
`);for(p=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(u===j.length||p===X.length)for(u=j.length-1,p=X.length-1;1<=u&&0<=p&&j[u]!==X[p];)p--;for(;1<=u&&0<=p;u--,p--)if(j[u]!==X[p]){if(u!==1||p!==1)do if(u--,p--,0>p||j[u]!==X[p]){var at=`
`+j[u].replace(" at new "," at ");return s.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",s.displayName)),at}while(1<=u&&0<=p);break}}}finally{ta=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ys(l):""}function so(s){switch(s.tag){case 26:case 27:case 5:return ys(s.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 15:return ea(s.type,!1);case 11:return ea(s.type.render,!1);case 1:return ea(s.type,!0);case 31:return ys("Activity");default:return""}}function na(s){try{var a="";do a+=so(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ro(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mc(s){var a=ro(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,_=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ia(s){s._valueTracker||(s._valueTracker=mc(s))}function ao(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=ro(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Nn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Hn=/[\n"\\]/g;function Ie(s){return s.replace(Hn,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Le(s,a,l,u,p,_,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Pn(a)):s.value!==""+Pn(a)&&(s.value=""+Pn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?vs(s,S,Pn(a)):l!=null?vs(s,S,Pn(l)):u!=null&&s.removeAttribute("value"),p==null&&_!=null&&(s.defaultChecked=!!_),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Pn(C):s.removeAttribute("name")}function Ws(s,a,l,u,p,_,S,C){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;l=l!=null?""+Pn(l):"",a=a!=null?""+Pn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=C?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function vs(s,a,l){a==="number"&&Nn(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function mn(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Pn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function ae(s,a,l){if(a!=null&&(a=""+Pn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Pn(l):""}function bs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Mt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Pn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Sn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Qs.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Es(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&Tl(s,p,u)}else for(var _ in a)a.hasOwnProperty(_)&&Tl(s,_,a[_])}function sa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(s){return Ki.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ln=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ts=null,gi=null;function ra(s){var a=gs(s);if(a&&(s=a.stateNode)){var l=s[Xe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Le(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ie(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[Xe]||null;if(!p)throw Error(i(90));Le(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ao(u)}break t;case"textarea":ae(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&mn(s,!!l.multiple,a,!1)}}}var ei=!1;function wl(s,a,l){if(ei)return s(a,l);ei=!0;try{var u=s(a);return u}finally{if(ei=!1,(Ts!==null||gi!==null)&&(Ud(),Ts&&(a=Ts,s=gi,gi=Ts=null,ra(a),s)))for(a=0;a<s.length;a++)ra(s[a])}}function _r(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Xe]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Ri)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){An=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{An=!1}var Wi=null,ws=null,Ci=null;function oa(){if(Ci)return Ci;var s,a=ws,l=a.length,u,p="value"in Wi?Wi.value:Wi.textContent,_=p.length;for(s=0;s<l&&a[s]===p[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===p[_-u];u++);return Ci=p.slice(s,1<u?1-u:void 0)}function Ss(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function pi(){return!0}function Sl(){return!1}function sn(s){function a(l,u,p,_,S){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pi:Sl,this.isPropagationStopped=Sl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),a}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=sn(fe),Xs=y({},fe,{view:0,detail:0}),Al=sn(Xs),As,vr,Qi,br=y({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qi&&(Qi&&s.type==="mousemove"?(As=s.screenX-Qi.screenX,vr=s.screenY-Qi.screenY):vr=As=0,Qi=s),As)},movementY:function(s){return"movementY"in s?s.movementY:vr}}),xn=sn(br),yc=y({},br,{dataTransfer:0}),vc=sn(yc),Er=y({},Xs,{relatedTarget:0}),la=sn(Er),lo=y({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=sn(lo),co=y({},fe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ua=sn(co),Vu=y({},fe,{data:0}),xl=sn(Vu),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ha[s])?!!a[s]:!1}function fa(){return Cl}var uo=y({},Xs,{key:function(s){if(s.key){var a=Tr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ss(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rl[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(s){return s.type==="keypress"?Ss(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ss(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),da=sn(uo),Il=y({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=sn(Il),Zi=y({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),bc=sn(Zi),Ol=y({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ec=sn(Ol),Tc=y({},br,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ho=sn(Tc),$n=y({},fe,{newState:0,oldState:0}),Dl=sn($n),Ml=[9,13,27,32],xs=Ri&&"CompositionEvent"in window,d=null;Ri&&"documentMode"in document&&(d=document.documentMode);var v=Ri&&"TextEvent"in window&&!d,w=Ri&&(!xs||d&&8<d&&11>=d),O=" ",W=!1;function it(s,a){switch(s){case"keyup":return Ml.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var oe=!1;function rn(s,a){switch(s){case"compositionend":return vt(a);case"keypress":return a.which!==32?null:(W=!0,O);case"textInput":return s=a.data,s===O&&W?null:s;default:return null}}function le(s,a){if(oe)return s==="compositionend"||!xs&&it(s,a)?(s=oa(),Ci=ws=Wi=null,oe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!_n[s.type]:a==="textarea"}function on(s,a,l,u){Ts?gi?gi.push(u):gi=[u]:Ts=u,a=qd(a,"onChange"),0<a.length&&(l=new yr("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var yn=null,Ji=null;function fo(s){y0(s,0)}function wc(s){var a=ps(s);if(ao(a))return s}function Xf(s,a){if(s==="change")return a}var Uu=!1;if(Ri){var go;if(Ri){var zu="oninput"in document;if(!zu){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),zu=typeof Zf.oninput=="function"}go=zu}else go=!1;Uu=go&&(!document.documentMode||9<document.documentMode)}function ju(){yn&&(yn.detachEvent("onpropertychange",Jf),Ji=yn=null)}function Jf(s){if(s.propertyName==="value"&&wc(Ji)){var a=[];on(a,Ji,s,qn(s)),wl(fo,a)}}function Kp(s,a,l){s==="focusin"?(ju(),yn=a,Ji=l,yn.attachEvent("onpropertychange",Jf)):s==="focusout"&&ju()}function td(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wc(Ji)}function ed(s,a){if(s==="click")return wc(a)}function nd(s,a){if(s==="input"||s==="change")return wc(a)}function Sc(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ni=typeof Object.is=="function"?Object.is:Sc;function ga(s,a){if(ni(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Qr.call(a,p)||!ni(s[p],a[p]))return!1}return!0}function mi(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function id(s,a){var l=mi(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=mi(l)}}function sd(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sd(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Bu(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Nn(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Nn(s.document)}return a}function Ac(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Wp=Ri&&"documentMode"in document&&11>=document.documentMode,po=null,Fu=null,kl=null,Hu=!1;function rd(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hu||po==null||po!==Nn(u)||(u=po,"selectionStart"in u&&Ac(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&ga(kl,u)||(kl=u,u=qd(Fu,"onSelect"),0<u.length&&(a=new yr("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=po)))}function wr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var pa={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Pl={},ad={};Ri&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function ma(s){if(Pl[s])return Pl[s];if(!pa[s])return s;var a=pa[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in ad)return Pl[s]=a[l];return s}var Sr=ma("animationend"),Rs=ma("animationiteration"),qu=ma("animationstart"),Qp=ma("transitionrun"),od=ma("transitionstart"),ld=ma("transitioncancel"),$u=ma("transitionend"),Gu=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function ts(s,a){Gu.set(s,a),ke(a,[s])}var cd=new WeakMap;function _i(s,a){if(typeof s=="object"&&s!==null){var l=cd.get(s);return l!==void 0?l:(a={value:s,source:a,stack:na(a)},cd.set(s,a),a)}return{value:s,source:a,stack:na(a)}}var yi=[],mo=0,Ku=0;function xc(){for(var s=mo,a=Ku=mo=0;a<s;){var l=yi[a];yi[a++]=null;var u=yi[a];yi[a++]=null;var p=yi[a];yi[a++]=null;var _=yi[a];if(yi[a++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}_!==0&&Qu(l,p,_)}}function Rc(s,a,l,u){yi[mo++]=s,yi[mo++]=a,yi[mo++]=l,yi[mo++]=u,Ku|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Wu(s,a,l,u){return Rc(s,a,l,u),Cc(s)}function ii(s,a){return Rc(s,null,null,a),Cc(s)}function Qu(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,_=s.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(p=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,p&&a!==null&&(p=31-Qe(l),s=_.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),_):null}function Cc(s){if(50<Dh)throw Dh=0,Im=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var _o={};function Xp(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(s,a,l,u){return new Xp(s,a,l,u)}function Xu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zs(s,a){var l=s.alternate;return l===null?(l=vi(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ud(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Ic(s,a,l,u,p,_){var S=0;if(u=s,typeof s=="function")Xu(s)&&(S=1);else if(typeof s=="string")S=PR(s,l,St.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=vi(31,l,a,p),s.elementType=N,s.lanes=_,s;case R:return Js(l.children,p,_,a);case P:S=8,p|=24;break;case M:return s=vi(12,l,a,p|2),s.elementType=M,s.lanes=_,s;case rt:return s=vi(13,l,a,p),s.elementType=rt,s.lanes=_,s;case pt:return s=vi(19,l,a,p),s.elementType=pt,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case et:S=10;break t;case G:S=9;break t;case ct:S=11;break t;case V:S=14;break t;case k:S=16,u=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=vi(S,l,a,p),a.elementType=s,a.type=u,a.lanes=_,a}function Js(s,a,l,u){return s=vi(7,s,u,a),s.lanes=l,s}function yo(s,a,l){return s=vi(6,s,null,a),s.lanes=l,s}function Zu(s,a,l){return a=vi(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var _a=[],ya=0,Ar=null,vo=0,si=[],Ii=0,va=null,tr=1,Gn="";function ba(s,a){_a[ya++]=vo,_a[ya++]=Ar,Ar=s,vo=a}function hd(s,a,l){si[Ii++]=tr,si[Ii++]=Gn,si[Ii++]=va,va=s;var u=tr;s=Gn;var p=32-Qe(u)-1;u&=~(1<<p),l+=1;var _=32-Qe(a)+p;if(30<_){var S=p-p%5;_=(u&(1<<S)-1).toString(32),u>>=S,p-=S,tr=1<<32-Qe(a)+p|l<<p|u,Gn=_+s}else tr=1<<_|l<<p|u,Gn=s}function Ju(s){s.return!==null&&(ba(s,1),hd(s,1,0))}function th(s){for(;s===Ar;)Ar=_a[--ya],_a[ya]=null,vo=_a[--ya],_a[ya]=null;for(;s===va;)va=si[--Ii],si[Ii]=null,Gn=si[--Ii],si[Ii]=null,tr=si[--Ii],si[Ii]=null}var vn=null,Ve=null,me=!1,xr=null,Cs=!1,Rr=Error(i(519));function er(s){var a=Error(i(418,""));throw es(_i(a,s)),Rr}function eh(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[nn]=s,a[Xe]=u,l){case"dialog":re("cancel",a),re("close",a);break;case"iframe":case"object":case"embed":re("load",a);break;case"video":case"audio":for(l=0;l<kh.length;l++)re(kh[l],a);break;case"source":re("error",a);break;case"img":case"image":case"link":re("error",a),re("load",a);break;case"details":re("toggle",a);break;case"input":re("invalid",a),Ws(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ia(a);break;case"select":re("invalid",a);break;case"textarea":re("invalid",a),bs(a,u.value,u.defaultValue,u.children),ia(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||T0(a.textContent,l)?(u.popover!=null&&(re("beforetoggle",a),re("toggle",a)),u.onScroll!=null&&re("scroll",a),u.onScrollEnd!=null&&re("scrollend",a),u.onClick!=null&&(a.onclick=$d),a=!0):a=!1,a||er(s)}function fd(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:vn=vn.return}}function Nl(s){if(s!==vn)return!1;if(!me)return fd(s),me=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||$m(s.type,s.memoizedProps)),l=!l),l&&Ve&&er(s),fd(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ve=rr(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ve=null}}else a===27?(a=Ve,Po(s.type)?(s=Wm,Wm=null,Ve=s):Ve=a):Ve=vn?rr(s.stateNode.nextSibling):null;return!0}function Ll(){Ve=vn=null,me=!1}function bo(){var s=xr;return s!==null&&(Ni===null?Ni=s:Ni.push.apply(Ni,s),xr=null),s}function es(s){xr===null?xr=[s]:xr.push(s)}var nh=ht(null),Ea=null,nr=null;function Cr(s,a,l){mt(nh,a._currentValue),a._currentValue=l}function ir(s){s._currentValue=nh.current,yt(nh)}function ih(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function sh(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var _=p.dependencies;if(_!==null){var S=p.child;_=_.firstContext;t:for(;_!==null;){var C=_;_=p;for(var j=0;j<a.length;j++)if(C.context===a[j]){_.lanes|=l,C=_.alternate,C!==null&&(C.lanes|=l),ih(_.return,l,s),u||(S=null);break t}_=C.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=l,_=S.alternate,_!==null&&(_.lanes|=l),ih(S,l,s),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===s){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Vl(s,a,l,u){s=null;for(var p=a,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=p.type;ni(p.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(p===We.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}p=p.return}s!==null&&sh(a,s,l,u),a.flags|=262144}function Ul(s){for(s=s.firstContext;s!==null;){if(!ni(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ta(s){Ea=s,nr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Rn(s){return rh(Ea,s)}function Eo(s,a){return Ea===null&&Ta(s),rh(s,a)}function rh(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},nr===null){if(s===null)throw Error(i(308));nr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else nr=nr.next=a;return l}var wa=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},dd=n.unstable_scheduleCallback,ah=n.unstable_NormalPriority,Je={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zl(){return{controller:new wa,data:new Map,refCount:0}}function To(s){s.refCount--,s.refCount===0&&dd(ah,function(){s.controller.abort()})}var Sa=null,oh=0,Oi=0,bi=null;function Zp(s,a){if(Sa===null){var l=Sa=[];oh=0,Oi=Lm(),bi={status:"pending",value:void 0,then:function(u){l.push(u)}}}return oh++,a.then(gd,gd),a}function gd(){if(--oh===0&&Sa!==null){bi!==null&&(bi.status="fulfilled");var s=Sa;Sa=null,Oi=0,bi=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Jp(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var pd=tt.S;tt.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zp(s,a),pd!==null&&pd(s,a)};var Aa=ht(null);function lh(){var s=Aa.current;return s!==null?s:Ue.pooledCache}function Oc(s,a){a===null?mt(Aa,Aa.current):mt(Aa,a.pool)}function md(){var s=lh();return s===null?null:{parent:Je._currentValue,pool:s}}var wo=Error(i(460)),jl=Error(i(474)),xa=Error(i(542)),ch={then:function(){}};function _d(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ir(){}function x(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ir,Ir),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,I(s),s;default:if(typeof a.status=="string")a.then(Ir,Ir);else{if(s=Ue,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,I(s),s}throw m=a,wo}}var m=null;function T(){if(m===null)throw Error(i(459));var s=m;return m=null,s}function I(s){if(s===wo||s===xa)throw Error(i(483))}var q=!1;function Y(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function st(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ot(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _t(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=Cc(s),Qu(s,null,l),a}return Rc(s,u,a,l),Cc(s)}function wt(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,vl(s,l)}}function Rt(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=S:_=_.next=S,l=l.next}while(l!==null);_===null?p=_=a:_=_.next=a}else p=_=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Et=!1;function Yt(){if(Et){var s=bi;if(s!==null)throw s}}function Pt(s,a,l,u){Et=!1;var p=s.updateQueue;q=!1;var _=p.firstBaseUpdate,S=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var j=C,X=j.next;j.next=null,S===null?_=X:S.next=X,S=j;var at=s.alternate;at!==null&&(at=at.updateQueue,C=at.lastBaseUpdate,C!==S&&(C===null?at.firstBaseUpdate=X:C.next=X,at.lastBaseUpdate=j))}if(_!==null){var ft=p.baseState;S=0,at=X=j=null,C=_;do{var J=C.lane&-536870913,nt=J!==C.lane;if(nt?(ge&J)===J:(u&J)===J){J!==0&&J===Oi&&(Et=!0),at!==null&&(at=at.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Gt=s,Ut=C;J=a;var Me=l;switch(Ut.tag){case 1:if(Gt=Ut.payload,typeof Gt=="function"){ft=Gt.call(Me,ft,J);break t}ft=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Ut.payload,J=typeof Gt=="function"?Gt.call(Me,ft,J):Gt,J==null)break t;ft=y({},ft,J);break t;case 2:q=!0}}J=C.callback,J!==null&&(s.flags|=64,nt&&(s.flags|=8192),nt=p.callbacks,nt===null?p.callbacks=[J]:nt.push(J))}else nt={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},at===null?(X=at=nt,j=ft):at=at.next=nt,S|=J;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;nt=C,C=nt.next,nt.next=null,p.lastBaseUpdate=nt,p.shared.pending=null}}while(!0);at===null&&(j=ft),p.baseState=j,p.firstBaseUpdate=X,p.lastBaseUpdate=at,_===null&&(p.shared.lanes=0),Oo|=S,s.lanes=S,s.memoizedState=ft}}function Kt(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Bt(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Kt(l[s],a)}var Vt=ht(null),_e=ht(0);function Se(s,a){s=ka,mt(_e,s),mt(Vt,a),ka=s|a.baseLanes}function Zt(){mt(_e,ka),mt(Vt,Vt.current)}function he(){ka=_e.current,yt(Vt),yt(_e)}var Ft=0,Tt=null,Dt=null,Ht=null,de=!1,Oe=!1,ln=!1,ri=0,cn=0,Cn=null,Di=0;function Qt(){throw Error(i(321))}function Mi(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!ni(s[l],a[l]))return!1;return!0}function ki(s,a,l,u,p,_){return Ft=_,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,tt.H=s===null||s.memoizedState===null?nb:ib,ln=!1,_=l(u,p),ln=!1,Oe&&(_=un(a,l,u,p)),Ra(s),_}function Ra(s){tt.H=Ad;var a=Dt!==null&&Dt.next!==null;if(Ft=0,Ht=Dt=Tt=null,de=!1,cn=0,Cn=null,a)throw Error(i(300));s===null||Vn||(s=s.dependencies,s!==null&&Ul(s)&&(Vn=!0))}function un(s,a,l,u){Tt=s;var p=0;do{if(Oe&&(Cn=null),cn=0,Oe=!1,25<=p)throw Error(i(301));if(p+=1,Ht=Dt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}tt.H=$x,_=a(l,u)}while(Oe);return _}function Ae(){var s=tt.H,a=s.useState()[0];return a=typeof a.then=="function"?Or(a):a,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(Tt.flags|=1024),a}function In(){var s=ri!==0;return ri=0,s}function ai(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Is(s){if(de){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}de=!1}Ft=0,Ht=Dt=Tt=null,Oe=!1,cn=ri=0,Cn=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function $e(){if(Dt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var a=Ht===null?Tt.memoizedState:Ht.next;if(a!==null)Ht=a,Dt=s;else{if(s===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ht===null?Tt.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Or(s){var a=cn;return cn+=1,Cn===null&&(Cn=[]),s=x(Cn,s,a),a=Tt,(Ht===null?a.memoizedState:Ht.next)===null&&(a=a.alternate,tt.H=a===null||a.memoizedState===null?nb:ib),s}function Mc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Or(s);if(s.$$typeof===et)return Rn(s)}throw Error(i(438,String(s)))}function uh(s){var a=null,l=Tt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Dc(),Tt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=z;return a.index++,l}function ns(s,a){return typeof a=="function"?a(s):a}function kc(s){var a=$e();return Pc(a,Dt,s)}function Pc(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,_=u.pending;if(_!==null){if(p!==null){var S=p.next;p.next=_.next,_.next=S}a.baseQueue=p=_,u.pending=null}if(_=s.baseState,p===null)s.memoizedState=_;else{a=p.next;var C=S=null,j=null,X=a,at=!1;do{var ft=X.lane&-536870913;if(ft!==X.lane?(ge&ft)===ft:(Ft&ft)===ft){var J=X.revertLane;if(J===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ft===Oi&&(at=!0);else if((Ft&J)===J){X=X.next,J===Oi&&(at=!0);continue}else ft={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(C=j=ft,S=_):j=j.next=ft,Tt.lanes|=J,Oo|=J;ft=X.action,ln&&l(_,ft),_=X.hasEagerState?X.eagerState:l(_,ft)}else J={lane:ft,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(C=j=J,S=_):j=j.next=J,Tt.lanes|=ft,Oo|=ft;X=X.next}while(X!==null&&X!==a);if(j===null?S=_:j.next=C,!ni(_,s.memoizedState)&&(Vn=!0,at&&(l=bi,l!==null)))throw l;s.memoizedState=_,s.baseState=S,s.baseQueue=j,u.lastRenderedState=_}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function hh(s){var a=$e(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,_=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do _=s(_,S.action),S=S.next;while(S!==p);ni(_,a.memoizedState)||(Vn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,u]}function fh(s,a,l){var u=Tt,p=$e(),_=me;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!ni((Dt||p).memoizedState,l);S&&(p.memoizedState=l,Vn=!0),p=p.queue;var C=vd.bind(null,u,p,s);if(bh(2048,8,C,[s]),p.getSnapshot!==a||S||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Uc(9,Td(),yd.bind(null,u,p,l,a),null),Ue===null)throw Error(i(349));_||(Ft&124)!==0||dh(u,a,l)}return l}function dh(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Tt.updateQueue,a===null?(a=Dc(),Tt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function yd(s,a,l,u){a.value=l,a.getSnapshot=u,Dr(a)&&Bl(s)}function vd(s,a,l){return l(function(){Dr(a)&&Bl(s)})}function Dr(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!ni(s,l)}catch{return!0}}function Bl(s){var a=ii(s,2);a!==null&&os(a,s,2)}function Nc(s){var a=On();if(typeof s=="function"){var l=s;if(s=l(),ln){di(!0);try{l()}finally{di(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},a}function gh(s,a,l,u){return s.baseState=l,Pc(s,Dt,typeof u=="function"?u:ns)}function ph(s,a,l,u,p){if(Sd(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};tt.T!==null?l(!0):_.isTransition=!1,u(_),l=a.pending,l===null?(_.next=a.pending=_,mh(a,_)):(_.next=l.next,a.pending=l.next=_)}}function mh(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var _=tt.T,S={};tt.T=S;try{var C=l(p,u),j=tt.S;j!==null&&j(S,C),_h(s,a,C)}catch(X){Lc(s,a,X)}finally{tt.T=_}}else try{_=l(p,u),_h(s,a,_)}catch(X){Lc(s,a,X)}}function _h(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){yh(s,a,u)},function(u){return Lc(s,a,u)}):yh(s,a,l)}function yh(s,a,l){a.status="fulfilled",a.value=l,bd(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,mh(s,l)))}function Lc(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,bd(a),a=a.next;while(a!==u)}s.action=null}function bd(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Ed(s,a){return a}function Vc(s,a){if(me){var l=Ue.formState;if(l!==null){t:{var u=Tt;if(me){if(Ve){e:{for(var p=Ve,_=Cs;p.nodeType!==8;){if(!_){p=null;break e}if(p=rr(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Ve=rr(p.nextSibling),u=p.data==="F!";break t}}er(u)}u=!1}u&&(a=l[0])}}return l=On(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:a},l.queue=u,l=Jv.bind(null,Tt,u),u.dispatch=l,u=Nc(!1),_=sm.bind(null,Tt,!1,u.queue),u=On(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=ph.bind(null,Tt,p,_,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function vh(s){var a=$e();return Lv(a,Dt,s)}function Lv(s,a,l){if(a=Pc(s,a,Ed)[0],s=kc(ns)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Or(a)}catch(S){throw S===wo?xa:S}else u=a;a=$e();var p=a.queue,_=p.dispatch;return l!==a.memoizedState&&(Tt.flags|=2048,Uc(9,Td(),Bx.bind(null,p,l),null)),[u,_,s]}function Bx(s,a){s.action=a}function Vv(s){var a=$e(),l=Dt;if(l!==null)return Lv(a,l,s);$e(),a=a.memoizedState,l=$e();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Uc(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Tt.updateQueue,a===null&&(a=Dc(),Tt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Td(){return{destroy:void 0,resource:void 0}}function Uv(){return $e().memoizedState}function wd(s,a,l,u){var p=On();u=u===void 0?null:u,Tt.flags|=s,p.memoizedState=Uc(1|a,Td(),l,u)}function bh(s,a,l,u){var p=$e();u=u===void 0?null:u;var _=p.memoizedState.inst;Dt!==null&&u!==null&&Mi(u,Dt.memoizedState.deps)?p.memoizedState=Uc(a,_,l,u):(Tt.flags|=s,p.memoizedState=Uc(1|a,_,l,u))}function zv(s,a){wd(8390656,8,s,a)}function jv(s,a){bh(2048,8,s,a)}function Bv(s,a){return bh(4,2,s,a)}function Fv(s,a){return bh(4,4,s,a)}function Hv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function qv(s,a,l){l=l!=null?l.concat([s]):null,bh(4,4,Hv.bind(null,a,s),l)}function tm(){}function $v(s,a){var l=$e();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Mi(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Gv(s,a){var l=$e();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Mi(a,u[1]))return u[0];if(u=s(),ln){di(!0);try{s()}finally{di(!1)}}return l.memoizedState=[u,a],u}function em(s,a,l){return l===void 0||(Ft&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Wb(),Tt.lanes|=s,Oo|=s,l)}function Yv(s,a,l,u){return ni(l,a)?l:Vt.current!==null?(s=em(s,l,u),ni(s,a)||(Vn=!0),s):(Ft&42)===0?(Vn=!0,s.memoizedState=l):(s=Wb(),Tt.lanes|=s,Oo|=s,a)}function Kv(s,a,l,u,p){var _=gt.p;gt.p=_!==0&&8>_?_:8;var S=tt.T,C={};tt.T=C,sm(s,!1,a,l);try{var j=p(),X=tt.S;if(X!==null&&X(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var at=Jp(j,u);Eh(s,a,at,as(s))}else Eh(s,a,u,as(s))}catch(ft){Eh(s,a,{then:function(){},status:"rejected",reason:ft},as())}finally{gt.p=_,tt.T=S}}function Fx(){}function nm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=Wv(s).queue;Kv(s,p,a,xt,l===null?Fx:function(){return Qv(s),l(u)})}function Wv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:xt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Qv(s){var a=Wv(s).next.queue;Eh(s,a,{},as())}function im(){return Rn(zh)}function Xv(){return $e().memoizedState}function Zv(){return $e().memoizedState}function Hx(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=as();s=ot(l);var u=_t(a,s,l);u!==null&&(os(u,a,l),wt(u,a,l)),a={cache:zl()},s.payload=a;return}a=a.return}}function qx(s,a,l){var u=as();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Sd(s)?tb(a,l):(l=Wu(s,a,l,u),l!==null&&(os(l,s,u),eb(l,a,u)))}function Jv(s,a,l){var u=as();Eh(s,a,l,u)}function Eh(s,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sd(s))tb(a,p);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,C=_(S,l);if(p.hasEagerState=!0,p.eagerState=C,ni(C,S))return Rc(s,a,p,0),Ue===null&&xc(),!1}catch{}finally{}if(l=Wu(s,a,p,u),l!==null)return os(l,s,u),eb(l,a,u),!0}return!1}function sm(s,a,l,u){if(u={lane:2,revertLane:Lm(),action:u,hasEagerState:!1,eagerState:null,next:null},Sd(s)){if(a)throw Error(i(479))}else a=Wu(s,l,u,2),a!==null&&os(a,s,2)}function Sd(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function tb(s,a){Oe=de=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function eb(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,vl(s,l)}}var Ad={readContext:Rn,use:Mc,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},nb={readContext:Rn,use:Mc,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:Rn,useEffect:zv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,wd(4194308,4,Hv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return wd(4194308,4,s,a)},useInsertionEffect:function(s,a){wd(4,2,s,a)},useMemo:function(s,a){var l=On();a=a===void 0?null:a;var u=s();if(ln){di(!0);try{s()}finally{di(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=On();if(l!==void 0){var p=l(a);if(ln){di(!0);try{l(a)}finally{di(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=qx.bind(null,Tt,s),[u.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:function(s){s=Nc(s);var a=s.queue,l=Jv.bind(null,Tt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:tm,useDeferredValue:function(s,a){var l=On();return em(l,s,a)},useTransition:function(){var s=Nc(!1);return s=Kv.bind(null,Tt,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Tt,p=On();if(me){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ue===null)throw Error(i(349));(ge&124)!==0||dh(u,a,l)}p.memoizedState=l;var _={value:l,getSnapshot:a};return p.queue=_,zv(vd.bind(null,u,_,s),[s]),u.flags|=2048,Uc(9,Td(),yd.bind(null,u,_,l,a),null),l},useId:function(){var s=On(),a=Ue.identifierPrefix;if(me){var l=Gn,u=tr;l=(u&~(1<<32-Qe(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=ri++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Di++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:im,useFormState:Vc,useActionState:Vc,useOptimistic:function(s){var a=On();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sm.bind(null,Tt,!0,l),l.dispatch=a,[s,a]},useMemoCache:uh,useCacheRefresh:function(){return On().memoizedState=Hx.bind(null,Tt)}},ib={readContext:Rn,use:Mc,useCallback:$v,useContext:Rn,useEffect:jv,useImperativeHandle:qv,useInsertionEffect:Bv,useLayoutEffect:Fv,useMemo:Gv,useReducer:kc,useRef:Uv,useState:function(){return kc(ns)},useDebugValue:tm,useDeferredValue:function(s,a){var l=$e();return Yv(l,Dt.memoizedState,s,a)},useTransition:function(){var s=kc(ns)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:Or(s),a]},useSyncExternalStore:fh,useId:Xv,useHostTransitionStatus:im,useFormState:vh,useActionState:vh,useOptimistic:function(s,a){var l=$e();return gh(l,Dt,s,a)},useMemoCache:uh,useCacheRefresh:Zv},$x={readContext:Rn,use:Mc,useCallback:$v,useContext:Rn,useEffect:jv,useImperativeHandle:qv,useInsertionEffect:Bv,useLayoutEffect:Fv,useMemo:Gv,useReducer:hh,useRef:Uv,useState:function(){return hh(ns)},useDebugValue:tm,useDeferredValue:function(s,a){var l=$e();return Dt===null?em(l,s,a):Yv(l,Dt.memoizedState,s,a)},useTransition:function(){var s=hh(ns)[0],a=$e().memoizedState;return[typeof s=="boolean"?s:Or(s),a]},useSyncExternalStore:fh,useId:Xv,useHostTransitionStatus:im,useFormState:Vv,useActionState:Vv,useOptimistic:function(s,a){var l=$e();return Dt!==null?gh(l,Dt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:uh,useCacheRefresh:Zv},zc=null,Th=0;function xd(s){var a=Th;return Th+=1,zc===null&&(zc=[]),x(zc,s,a)}function wh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Rd(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function sb(s){var a=s._init;return a(s._payload)}function rb(s){function a(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function l(K,H){if(!s)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function u(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function p(K,H){return K=Zs(K,H),K.index=0,K.sibling=null,K}function _(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=67108866,H):Q):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function S(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,Q,lt){return H===null||H.tag!==6?(H=yo(Q,K.mode,lt),H.return=K,H):(H=p(H,Q),H.return=K,H)}function j(K,H,Q,lt){var Ot=Q.type;return Ot===R?at(K,H,Q.props.children,lt,Q.key):H!==null&&(H.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===k&&sb(Ot)===H.type)?(H=p(H,Q.props),wh(H,Q),H.return=K,H):(H=Ic(Q.type,Q.key,Q.props,null,K.mode,lt),wh(H,Q),H.return=K,H)}function X(K,H,Q,lt){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Zu(Q,K.mode,lt),H.return=K,H):(H=p(H,Q.children||[]),H.return=K,H)}function at(K,H,Q,lt,Ot){return H===null||H.tag!==7?(H=Js(Q,K.mode,lt,Ot),H.return=K,H):(H=p(H,Q),H.return=K,H)}function ft(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=yo(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return Q=Ic(H.type,H.key,H.props,null,K.mode,Q),wh(Q,H),Q.return=K,Q;case A:return H=Zu(H,K.mode,Q),H.return=K,H;case k:var lt=H._init;return H=lt(H._payload),ft(K,H,Q)}if(Mt(H)||F(H))return H=Js(H,K.mode,Q,null),H.return=K,H;if(typeof H.then=="function")return ft(K,xd(H),Q);if(H.$$typeof===et)return ft(K,Eo(K,H),Q);Rd(K,H)}return null}function J(K,H,Q,lt){var Ot=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ot!==null?null:C(K,H,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Ot?j(K,H,Q,lt):null;case A:return Q.key===Ot?X(K,H,Q,lt):null;case k:return Ot=Q._init,Q=Ot(Q._payload),J(K,H,Q,lt)}if(Mt(Q)||F(Q))return Ot!==null?null:at(K,H,Q,lt,null);if(typeof Q.then=="function")return J(K,H,xd(Q),lt);if(Q.$$typeof===et)return J(K,H,Eo(K,Q),lt);Rd(K,Q)}return null}function nt(K,H,Q,lt,Ot){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return K=K.get(Q)||null,C(H,K,""+lt,Ot);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case E:return K=K.get(lt.key===null?Q:lt.key)||null,j(H,K,lt,Ot);case A:return K=K.get(lt.key===null?Q:lt.key)||null,X(H,K,lt,Ot);case k:var ee=lt._init;return lt=ee(lt._payload),nt(K,H,Q,lt,Ot)}if(Mt(lt)||F(lt))return K=K.get(Q)||null,at(H,K,lt,Ot,null);if(typeof lt.then=="function")return nt(K,H,Q,xd(lt),Ot);if(lt.$$typeof===et)return nt(K,H,Q,Eo(H,lt),Ot);Rd(H,lt)}return null}function Gt(K,H,Q,lt){for(var Ot=null,ee=null,kt=H,jt=H=0,zn=null;kt!==null&&jt<Q.length;jt++){kt.index>jt?(zn=kt,kt=null):zn=kt.sibling;var ye=J(K,kt,Q[jt],lt);if(ye===null){kt===null&&(kt=zn);break}s&&kt&&ye.alternate===null&&a(K,kt),H=_(ye,H,jt),ee===null?Ot=ye:ee.sibling=ye,ee=ye,kt=zn}if(jt===Q.length)return l(K,kt),me&&ba(K,jt),Ot;if(kt===null){for(;jt<Q.length;jt++)kt=ft(K,Q[jt],lt),kt!==null&&(H=_(kt,H,jt),ee===null?Ot=kt:ee.sibling=kt,ee=kt);return me&&ba(K,jt),Ot}for(kt=u(kt);jt<Q.length;jt++)zn=nt(kt,K,jt,Q[jt],lt),zn!==null&&(s&&zn.alternate!==null&&kt.delete(zn.key===null?jt:zn.key),H=_(zn,H,jt),ee===null?Ot=zn:ee.sibling=zn,ee=zn);return s&&kt.forEach(function(zo){return a(K,zo)}),me&&ba(K,jt),Ot}function Ut(K,H,Q,lt){if(Q==null)throw Error(i(151));for(var Ot=null,ee=null,kt=H,jt=H=0,zn=null,ye=Q.next();kt!==null&&!ye.done;jt++,ye=Q.next()){kt.index>jt?(zn=kt,kt=null):zn=kt.sibling;var zo=J(K,kt,ye.value,lt);if(zo===null){kt===null&&(kt=zn);break}s&&kt&&zo.alternate===null&&a(K,kt),H=_(zo,H,jt),ee===null?Ot=zo:ee.sibling=zo,ee=zo,kt=zn}if(ye.done)return l(K,kt),me&&ba(K,jt),Ot;if(kt===null){for(;!ye.done;jt++,ye=Q.next())ye=ft(K,ye.value,lt),ye!==null&&(H=_(ye,H,jt),ee===null?Ot=ye:ee.sibling=ye,ee=ye);return me&&ba(K,jt),Ot}for(kt=u(kt);!ye.done;jt++,ye=Q.next())ye=nt(kt,K,jt,ye.value,lt),ye!==null&&(s&&ye.alternate!==null&&kt.delete(ye.key===null?jt:ye.key),H=_(ye,H,jt),ee===null?Ot=ye:ee.sibling=ye,ee=ye);return s&&kt.forEach(function(GR){return a(K,GR)}),me&&ba(K,jt),Ot}function Me(K,H,Q,lt){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:t:{for(var Ot=Q.key;H!==null;){if(H.key===Ot){if(Ot=Q.type,Ot===R){if(H.tag===7){l(K,H.sibling),lt=p(H,Q.props.children),lt.return=K,K=lt;break t}}else if(H.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===k&&sb(Ot)===H.type){l(K,H.sibling),lt=p(H,Q.props),wh(lt,Q),lt.return=K,K=lt;break t}l(K,H);break}else a(K,H);H=H.sibling}Q.type===R?(lt=Js(Q.props.children,K.mode,lt,Q.key),lt.return=K,K=lt):(lt=Ic(Q.type,Q.key,Q.props,null,K.mode,lt),wh(lt,Q),lt.return=K,K=lt)}return S(K);case A:t:{for(Ot=Q.key;H!==null;){if(H.key===Ot)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){l(K,H.sibling),lt=p(H,Q.children||[]),lt.return=K,K=lt;break t}else{l(K,H);break}else a(K,H);H=H.sibling}lt=Zu(Q,K.mode,lt),lt.return=K,K=lt}return S(K);case k:return Ot=Q._init,Q=Ot(Q._payload),Me(K,H,Q,lt)}if(Mt(Q))return Gt(K,H,Q,lt);if(F(Q)){if(Ot=F(Q),typeof Ot!="function")throw Error(i(150));return Q=Ot.call(Q),Ut(K,H,Q,lt)}if(typeof Q.then=="function")return Me(K,H,xd(Q),lt);if(Q.$$typeof===et)return Me(K,H,Eo(K,Q),lt);Rd(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(l(K,H.sibling),lt=p(H,Q),lt.return=K,K=lt):(l(K,H),lt=yo(Q,K.mode,lt),lt.return=K,K=lt),S(K)):l(K,H)}return function(K,H,Q,lt){try{Th=0;var Ot=Me(K,H,Q,lt);return zc=null,Ot}catch(kt){if(kt===wo||kt===xa)throw kt;var ee=vi(29,kt,null,K.mode);return ee.lanes=lt,ee.return=K,ee}finally{}}}var jc=rb(!0),ab=rb(!1),Os=ht(null),Mr=null;function So(s){var a=s.alternate;mt(Dn,Dn.current&1),mt(Os,s),Mr===null&&(a===null||Vt.current!==null||a.memoizedState!==null)&&(Mr=s)}function ob(s){if(s.tag===22){if(mt(Dn,Dn.current),mt(Os,s),Mr===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Mr=s)}}else Ao()}function Ao(){mt(Dn,Dn.current),mt(Os,Os.current)}function Ca(s){yt(Os),Mr===s&&(Mr=null),yt(Dn)}var Dn=ht(0);function Cd(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Km(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function rm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var am={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=as(),p=ot(u);p.payload=a,l!=null&&(p.callback=l),a=_t(s,p,u),a!==null&&(os(a,s,u),wt(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=as(),p=ot(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=_t(s,p,u),a!==null&&(os(a,s,u),wt(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=as(),u=ot(l);u.tag=2,a!=null&&(u.callback=a),a=_t(s,u,l),a!==null&&(os(a,s,l),wt(a,s,l))}};function lb(s,a,l,u,p,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,_,S):a.prototype&&a.prototype.isPureReactComponent?!ga(l,u)||!ga(p,_):!0}function cb(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&am.enqueueReplaceState(a,a.state,null)}function Fl(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Id=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ub(s){Id(s)}function hb(s){console.error(s)}function fb(s){Id(s)}function Od(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function db(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function om(s,a,l){return l=ot(l),l.tag=3,l.payload={element:null},l.callback=function(){Od(s,a)},l}function gb(s){return s=ot(s),s.tag=3,s}function pb(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=u.value;s.payload=function(){return p(_)},s.callback=function(){db(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){db(a,l,u),typeof p!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function Gx(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Vl(a,l,p,!0),l=Os.current,l!==null){switch(l.tag){case 13:return Mr===null?Dm():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===ch?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),km(s,u,p)),!1;case 22:return l.flags|=65536,u===ch?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),km(s,u,p)),!1}throw Error(i(435,l.tag))}return km(s,u,p),Dm(),!1}if(me)return a=Os.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==Rr&&(s=Error(i(422),{cause:u}),es(_i(s,l)))):(u!==Rr&&(a=Error(i(423),{cause:u}),es(_i(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=_i(u,l),p=om(s.stateNode,u,p),Rt(s,p),tn!==4&&(tn=2)),!1;var _=Error(i(520),{cause:u});if(_=_i(_,l),Oh===null?Oh=[_]:Oh.push(_),tn!==4&&(tn=2),a===null)return!0;u=_i(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=om(l.stateNode,u,s),Rt(l,s),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Do===null||!Do.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=gb(p),pb(p,s,l,u),Rt(l,p),!1}l=l.return}while(l!==null);return!1}var mb=Error(i(461)),Vn=!1;function Yn(s,a,l,u){a.child=s===null?ab(a,null,l,u):jc(a,s.child,l,u)}function _b(s,a,l,u,p){l=l.render;var _=a.ref;if("ref"in u){var S={};for(var C in u)C!=="ref"&&(S[C]=u[C])}else S=u;return Ta(a),u=ki(s,a,l,S,_,p),C=In(),s!==null&&!Vn?(ai(s,a,p),Ia(s,a,p)):(me&&C&&Ju(a),a.flags|=1,Yn(s,a,u,p),a.child)}function yb(s,a,l,u,p){if(s===null){var _=l.type;return typeof _=="function"&&!Xu(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,vb(s,a,_,u,p)):(s=Ic(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!pm(s,p)){var S=_.memoizedProps;if(l=l.compare,l=l!==null?l:ga,l(S,u)&&s.ref===a.ref)return Ia(s,a,p)}return a.flags|=1,s=Zs(_,u),s.ref=a.ref,s.return=a,a.child=s}function vb(s,a,l,u,p){if(s!==null){var _=s.memoizedProps;if(ga(_,u)&&s.ref===a.ref)if(Vn=!1,a.pendingProps=u=_,pm(s,p))(s.flags&131072)!==0&&(Vn=!0);else return a.lanes=s.lanes,Ia(s,a,p)}return lm(s,a,l,u,p)}function bb(s,a,l){var u=a.pendingProps,p=u.children,_=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=_!==null?_.baseLanes|l:l,s!==null){for(p=a.child=s.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;a.childLanes=_&~u}else a.childLanes=0,a.child=null;return Eb(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Oc(a,_!==null?_.cachePool:null),_!==null?Se(a,_):Zt(),ob(a);else return a.lanes=a.childLanes=536870912,Eb(s,a,_!==null?_.baseLanes|l:l,l)}else _!==null?(Oc(a,_.cachePool),Se(a,_),Ao(),a.memoizedState=null):(s!==null&&Oc(a,null),Zt(),Ao());return Yn(s,a,p,l),a.child}function Eb(s,a,l,u){var p=lh();return p=p===null?null:{parent:Je._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Oc(a,null),Zt(),ob(a),s!==null&&Vl(s,a,u,!0),null}function Dd(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function lm(s,a,l,u,p){return Ta(a),l=ki(s,a,l,u,void 0,p),u=In(),s!==null&&!Vn?(ai(s,a,p),Ia(s,a,p)):(me&&u&&Ju(a),a.flags|=1,Yn(s,a,l,p),a.child)}function Tb(s,a,l,u,p,_){return Ta(a),a.updateQueue=null,l=un(a,u,l,p),Ra(s),u=In(),s!==null&&!Vn?(ai(s,a,_),Ia(s,a,_)):(me&&u&&Ju(a),a.flags|=1,Yn(s,a,l,_),a.child)}function wb(s,a,l,u,p){if(Ta(a),a.stateNode===null){var _=_o,S=l.contextType;typeof S=="object"&&S!==null&&(_=Rn(S)),_=new l(u,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=am,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=u,_.state=a.memoizedState,_.refs={},Y(a),S=l.contextType,_.context=typeof S=="object"&&S!==null?Rn(S):_o,_.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(rm(a,l,S,u),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&am.enqueueReplaceState(_,_.state,null),Pt(a,u,_,p),Yt(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){_=a.stateNode;var C=a.memoizedProps,j=Fl(l,C);_.props=j;var X=_.context,at=l.contextType;S=_o,typeof at=="object"&&at!==null&&(S=Rn(at));var ft=l.getDerivedStateFromProps;at=typeof ft=="function"||typeof _.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,at||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C||X!==S)&&cb(a,_,u,S),q=!1;var J=a.memoizedState;_.state=J,Pt(a,u,_,p),Yt(),X=a.memoizedState,C||J!==X||q?(typeof ft=="function"&&(rm(a,l,ft,u),X=a.memoizedState),(j=q||lb(a,l,j,u,J,X,S))?(at||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=X),_.props=u,_.state=X,_.context=S,u=j):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{_=a.stateNode,st(s,a),S=a.memoizedProps,at=Fl(l,S),_.props=at,ft=a.pendingProps,J=_.context,X=l.contextType,j=_o,typeof X=="object"&&X!==null&&(j=Rn(X)),C=l.getDerivedStateFromProps,(X=typeof C=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==ft||J!==j)&&cb(a,_,u,j),q=!1,J=a.memoizedState,_.state=J,Pt(a,u,_,p),Yt();var nt=a.memoizedState;S!==ft||J!==nt||q||s!==null&&s.dependencies!==null&&Ul(s.dependencies)?(typeof C=="function"&&(rm(a,l,C,u),nt=a.memoizedState),(at=q||lb(a,l,at,u,J,nt,j)||s!==null&&s.dependencies!==null&&Ul(s.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,nt,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,nt,j)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=nt),_.props=u,_.state=nt,_.context=j,u=at):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),u=!1)}return _=u,Dd(s,a),u=(a.flags&128)!==0,_||u?(_=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&u?(a.child=jc(a,s.child,null,p),a.child=jc(a,null,l,p)):Yn(s,a,l,p),a.memoizedState=_.state,s=a.child):s=Ia(s,a,p),s}function Sb(s,a,l,u){return Ll(),a.flags|=256,Yn(s,a,l,u),a.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(s){return{baseLanes:s,cachePool:md()}}function hm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ds),s}function Ab(s,a,l){var u=a.pendingProps,p=!1,_=(a.flags&128)!==0,S;if((S=_)||(S=s!==null&&s.memoizedState===null?!1:(Dn.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(me){if(p?So(a):Ao(),me){var C=Ve,j;if(j=C){t:{for(j=C,C=Cs;j.nodeType!==8;){if(!C){C=null;break t}if(j=rr(j.nextSibling),j===null){C=null;break t}}C=j}C!==null?(a.memoizedState={dehydrated:C,treeContext:va!==null?{id:tr,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},j=vi(18,null,null,0),j.stateNode=C,j.return=a,a.child=j,vn=a,Ve=null,j=!0):j=!1}j||er(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Km(C)?a.lanes=32:a.lanes=536870912,null;Ca(a)}return C=u.children,u=u.fallback,p?(Ao(),p=a.mode,C=Md({mode:"hidden",children:C},p),u=Js(u,p,l,null),C.return=a,u.return=a,C.sibling=u,a.child=C,p=a.child,p.memoizedState=um(l),p.childLanes=hm(s,S,l),a.memoizedState=cm,u):(So(a),fm(a,C))}if(j=s.memoizedState,j!==null&&(C=j.dehydrated,C!==null)){if(_)a.flags&256?(So(a),a.flags&=-257,a=dm(s,a,l)):a.memoizedState!==null?(Ao(),a.child=s.child,a.flags|=128,a=null):(Ao(),p=u.fallback,C=a.mode,u=Md({mode:"visible",children:u.children},C),p=Js(p,C,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,jc(a,s.child,null,l),u=a.child,u.memoizedState=um(l),u.childLanes=hm(s,S,l),a.memoizedState=cm,a=p);else if(So(a),Km(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var X=S.dgst;S=X,u=Error(i(419)),u.stack="",u.digest=S,es({value:u,source:null,stack:null}),a=dm(s,a,l)}else if(Vn||Vl(s,a,l,!1),S=(l&s.childLanes)!==0,Vn||S){if(S=Ue,S!==null&&(u=l&-l,u=(u&42)!==0?1:gr(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,ii(s,u),os(S,s,u),mb;C.data==="$?"||Dm(),a=dm(s,a,l)}else C.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,Ve=rr(C.nextSibling),vn=a,me=!0,xr=null,Cs=!1,s!==null&&(si[Ii++]=tr,si[Ii++]=Gn,si[Ii++]=va,tr=s.id,Gn=s.overflow,va=a),a=fm(a,u.children),a.flags|=4096);return a}return p?(Ao(),p=u.fallback,C=a.mode,j=s.child,X=j.sibling,u=Zs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,X!==null?p=Zs(X,p):(p=Js(p,C,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,C=s.child.memoizedState,C===null?C=um(l):(j=C.cachePool,j!==null?(X=Je._currentValue,j=j.parent!==X?{parent:X,pool:X}:j):j=md(),C={baseLanes:C.baseLanes|l,cachePool:j}),p.memoizedState=C,p.childLanes=hm(s,S,l),a.memoizedState=cm,u):(So(a),l=s.child,s=l.sibling,l=Zs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function fm(s,a){return a=Md({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Md(s,a){return s=vi(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function dm(s,a,l){return jc(a,s.child,null,l),s=fm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function xb(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),ih(s.return,a,l)}function gm(s,a,l,u,p){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p)}function Rb(s,a,l){var u=a.pendingProps,p=u.revealOrder,_=u.tail;if(Yn(s,a,u.children,l),u=Dn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xb(s,l,a);else if(s.tag===19)xb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(mt(Dn,u),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Cd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),gm(a,!1,p,l,_);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Cd(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}gm(a,!0,l,null,_);break;case"together":gm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ia(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Oo|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Vl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Zs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Zs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function pm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Ul(s)))}function Yx(s,a,l){switch(a.tag){case 3:bt(a,a.stateNode.containerInfo),Cr(a,Je,s.memoizedState.cache),Ll();break;case 27:case 5:zs(a);break;case 4:bt(a,a.stateNode.containerInfo);break;case 10:Cr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(So(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Ab(s,a,l):(So(a),s=Ia(s,a,l),s!==null?s.sibling:null);So(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Vl(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Rb(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Dn,Dn.current),u)break;return null;case 22:case 23:return a.lanes=0,bb(s,a,l);case 24:Cr(a,Je,s.memoizedState.cache)}return Ia(s,a,l)}function Cb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Vn=!0;else{if(!pm(s,l)&&(a.flags&128)===0)return Vn=!1,Yx(s,a,l);Vn=(s.flags&131072)!==0}else Vn=!1,me&&(a.flags&1048576)!==0&&hd(a,vo,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")Xu(u)?(s=Fl(u,s),a.tag=1,a=wb(null,a,u,s,l)):(a.tag=0,a=lm(null,a,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===ct){a.tag=11,a=_b(null,a,u,s,l);break t}else if(p===V){a.tag=14,a=yb(null,a,u,s,l);break t}}throw a=ne(u)||u,Error(i(306,a,""))}}return a;case 0:return lm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=Fl(u,a.pendingProps),wb(s,a,u,p,l);case 3:t:{if(bt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var _=a.memoizedState;p=_.element,st(s,a),Pt(a,u,null,l);var S=a.memoizedState;if(u=S.cache,Cr(a,Je,u),u!==_.cache&&sh(a,[Je],l,!0),Yt(),u=S.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Sb(s,a,u,l);break t}else if(u!==p){p=_i(Error(i(424)),a),es(p),a=Sb(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ve=rr(s.firstChild),vn=a,me=!0,xr=null,Cs=!0,l=ab(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ll(),u===p){a=Ia(s,a,l);break t}Yn(s,a,u,l)}a=a.child}return a;case 26:return Dd(s,a),s===null?(l=M0(a.type,null,a.pendingProps,null))?a.memoizedState=l:me||(l=a.type,s=a.pendingProps,u=Gd(It.current).createElement(l),u[nn]=a,u[Xe]=s,Wn(u,l,s),ie(u),a.stateNode=u):a.memoizedState=M0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return zs(a),s===null&&me&&(u=a.stateNode=I0(a.type,a.pendingProps,It.current),vn=a,Cs=!0,p=Ve,Po(a.type)?(Wm=p,Ve=rr(u.firstChild)):Ve=p),Yn(s,a,a.pendingProps.children,l),Dd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&me&&((p=u=Ve)&&(u=ER(u,a.type,a.pendingProps,Cs),u!==null?(a.stateNode=u,vn=a,Ve=rr(u.firstChild),Cs=!1,p=!0):p=!1),p||er(a)),zs(a),p=a.type,_=a.pendingProps,S=s!==null?s.memoizedProps:null,u=_.children,$m(p,_)?u=null:S!==null&&$m(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=ki(s,a,Ae,null,null,l),zh._currentValue=p),Dd(s,a),Yn(s,a,u,l),a.child;case 6:return s===null&&me&&((s=l=Ve)&&(l=TR(l,a.pendingProps,Cs),l!==null?(a.stateNode=l,vn=a,Ve=null,s=!0):s=!1),s||er(a)),null;case 13:return Ab(s,a,l);case 4:return bt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=jc(a,null,u,l):Yn(s,a,u,l),a.child;case 11:return _b(s,a,a.type,a.pendingProps,l);case 7:return Yn(s,a,a.pendingProps,l),a.child;case 8:return Yn(s,a,a.pendingProps.children,l),a.child;case 12:return Yn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Cr(a,a.type,u.value),Yn(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Ta(a),p=Rn(p),u=u(p),a.flags|=1,Yn(s,a,u,l),a.child;case 14:return yb(s,a,a.type,a.pendingProps,l);case 15:return vb(s,a,a.type,a.pendingProps,l);case 19:return Rb(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Md(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Zs(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return bb(s,a,l);case 24:return Ta(a),u=Rn(Je),s===null?(p=lh(),p===null&&(p=Ue,_=zl(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),a.memoizedState={parent:u,cache:p},Y(a),Cr(a,Je,p)):((s.lanes&l)!==0&&(st(s,a),Pt(a,null,null,l),Yt()),p=s.memoizedState,_=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Cr(a,Je,u)):(u=_.cache,Cr(a,Je,u),u!==p.cache&&sh(a,[Je],l,!0))),Yn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Oa(s){s.flags|=4}function Ib(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!V0(a)){if(a=Os.current,a!==null&&((ge&4194048)===ge?Mr!==null:(ge&62914560)!==ge&&(ge&536870912)===0||a!==Mr))throw m=ch,jl;s.flags|=8192}}function kd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?yl():536870912,s.lanes|=a,qc|=a)}function Sh(s,a){if(!me)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ge(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function Kx(s,a,l){var u=a.pendingProps;switch(th(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(a),null;case 1:return Ge(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ir(Je),fi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Nl(a)?Oa(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bo())),Ge(a),null;case 26:return l=a.memoizedState,s===null?(Oa(a),l!==null?(Ge(a),Ib(a,l)):(Ge(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Oa(a),Ge(a),Ib(a,l)):(Ge(a),a.flags&=-16777217):(s.memoizedProps!==u&&Oa(a),Ge(a),a.flags&=-16777217),null;case 27:js(a),l=It.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Oa(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}s=St.current,Nl(a)?eh(a):(s=I0(p,u,l),a.stateNode=s,Oa(a))}return Ge(a),null;case 5:if(js(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Oa(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}if(s=St.current,Nl(a))eh(a);else{switch(p=Gd(It.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[nn]=a,s[Xe]=u;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(Wn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Oa(a)}}return Ge(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Oa(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=It.current,Nl(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[nn]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||T0(s.nodeValue,l)),s||er(a)}else s=Gd(s).createTextNode(u),s[nn]=a,a.stateNode=s}return Ge(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Nl(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[nn]=a}else Ll(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ge(a),p=!1}else p=bo(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Ca(a),a):(Ca(a),null)}if(Ca(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==p&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),kd(a,a.updateQueue),Ge(a),null;case 4:return fi(),s===null&&jm(a.stateNode.containerInfo),Ge(a),null;case 10:return ir(a.type),Ge(a),null;case 19:if(yt(Dn),p=a.memoizedState,p===null)return Ge(a),null;if(u=(a.flags&128)!==0,_=p.rendering,_===null)if(u)Sh(p,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Cd(s),_!==null){for(a.flags|=128,Sh(p,!1),s=_.updateQueue,a.updateQueue=s,kd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)ud(l,s),l=l.sibling;return mt(Dn,Dn.current&1|2),a.child}s=s.sibling}p.tail!==null&&Ti()>Ld&&(a.flags|=128,u=!0,Sh(p,!1),a.lanes=4194304)}else{if(!u)if(s=Cd(_),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,kd(a,s),Sh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!me)return Ge(a),null}else 2*Ti()-p.renderingStartTime>Ld&&l!==536870912&&(a.flags|=128,u=!0,Sh(p,!1),a.lanes=4194304);p.isBackwards?(_.sibling=a.child,a.child=_):(s=p.last,s!==null?s.sibling=_:a.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Ti(),a.sibling=null,s=Dn.current,mt(Dn,u?s&1|2:s&1),a):(Ge(a),null);case 22:case 23:return Ca(a),he(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Ge(a),a.subtreeFlags&6&&(a.flags|=8192)):Ge(a),l=a.updateQueue,l!==null&&kd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&yt(Aa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ir(Je),Ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Wx(s,a){switch(th(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ir(Je),fi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return js(a),null;case 13:if(Ca(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ll()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return yt(Dn),null;case 4:return fi(),null;case 10:return ir(a.type),null;case 22:case 23:return Ca(a),he(),s!==null&&yt(Aa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ir(Je),null;case 25:return null;default:return null}}function Ob(s,a){switch(th(a),a.tag){case 3:ir(Je),fi();break;case 26:case 27:case 5:js(a);break;case 4:fi();break;case 13:Ca(a);break;case 19:yt(Dn);break;case 10:ir(a.type);break;case 22:case 23:Ca(a),he(),s!==null&&yt(Aa);break;case 24:ir(Je)}}function Ah(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var _=l.create,S=l.inst;u=_(),S.destroy=u}l=l.next}while(l!==p)}}catch(C){Pe(a,a.return,C)}}function xo(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&s)===s){var S=u.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,p=a;var j=l,X=C;try{X()}catch(at){Pe(p,j,at)}}}u=u.next}while(u!==_)}}catch(at){Pe(a,a.return,at)}}function Db(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Bt(a,l)}catch(u){Pe(s,s.return,u)}}}function Mb(s,a,l){l.props=Fl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Pe(s,a,u)}}function xh(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){Pe(s,a,p)}}function kr(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Pe(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Pe(s,a,p)}else l.current=null}function kb(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Pe(s,s.return,p)}}function mm(s,a,l){try{var u=s.stateNode;mR(u,s.type,l,a),u[Xe]=a}catch(p){Pe(s,s.return,p)}}function Pb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Po(s.type)||s.tag===4}function _m(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Pb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Po(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ym(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=$d));else if(u!==4&&(u===27&&Po(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(ym(s,a,l),s=s.sibling;s!==null;)ym(s,a,l),s=s.sibling}function Pd(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Po(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Pd(s,a,l),s=s.sibling;s!==null;)Pd(s,a,l),s=s.sibling}function Nb(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Wn(a,u,l),a[nn]=s,a[Xe]=l}catch(_){Pe(s,s.return,_)}}var Da=!1,hn=!1,vm=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,Un=null;function Qx(s,a){if(s=s.containerInfo,Hm=Zd,s=Bu(s),Ac(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var S=0,C=-1,j=-1,X=0,at=0,ft=s,J=null;e:for(;;){for(var nt;ft!==l||p!==0&&ft.nodeType!==3||(C=S+p),ft!==_||u!==0&&ft.nodeType!==3||(j=S+u),ft.nodeType===3&&(S+=ft.nodeValue.length),(nt=ft.firstChild)!==null;)J=ft,ft=nt;for(;;){if(ft===s)break e;if(J===l&&++X===p&&(C=S),J===_&&++at===u&&(j=S),(nt=ft.nextSibling)!==null)break;ft=J,J=ft.parentNode}ft=nt}l=C===-1||j===-1?null:{start:C,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(qm={focusedElem:s,selectionRange:l},Zd=!1,Un=a;Un!==null;)if(a=Un,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Un=s;else for(;Un!==null;){switch(a=Un,_=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=a,p=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var Gt=Fl(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Gt,_),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ut){Pe(l,l.return,Ut)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Ym(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ym(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Un=s;break}Un=a.return}}function Vb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ro(s,l),u&4&&Ah(5,l);break;case 1:if(Ro(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){Pe(l,l.return,S)}else{var p=Fl(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(l,l.return,S)}}u&64&&Db(l),u&512&&xh(l,l.return);break;case 3:if(Ro(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Bt(s,a)}catch(S){Pe(l,l.return,S)}}break;case 27:a===null&&u&4&&Nb(l);case 26:case 5:Ro(s,l),a===null&&u&4&&kb(l),u&512&&xh(l,l.return);break;case 12:Ro(s,l);break;case 13:Ro(s,l),u&4&&jb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=rR.bind(null,l),wR(s,l))));break;case 22:if(u=l.memoizedState!==null||Da,!u){a=a!==null&&a.memoizedState!==null||hn,p=Da;var _=hn;Da=u,(hn=a)&&!_?Co(s,l,(l.subtreeFlags&8772)!==0):Ro(s,l),Da=p,hn=_}break;case 30:break;default:Ro(s,l)}}function Ub(s){var a=s.alternate;a!==null&&(s.alternate=null,Ub(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&mr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var He=null,Pi=!1;function Ma(s,a,l){for(l=l.child;l!==null;)zb(s,a,l),l=l.sibling}function zb(s,a,l){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(je,l)}catch{}switch(l.tag){case 26:hn||kr(l,a),Ma(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:hn||kr(l,a);var u=He,p=Pi;Po(l.type)&&(He=l.stateNode,Pi=!1),Ma(s,a,l),Nh(l.stateNode),He=u,Pi=p;break;case 5:hn||kr(l,a);case 6:if(u=He,p=Pi,He=null,Ma(s,a,l),He=u,Pi=p,He!==null)if(Pi)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(_){Pe(l,a,_)}else try{He.removeChild(l.stateNode)}catch(_){Pe(l,a,_)}break;case 18:He!==null&&(Pi?(s=He,R0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Hh(s)):R0(He,l.stateNode));break;case 4:u=He,p=Pi,He=l.stateNode.containerInfo,Pi=!0,Ma(s,a,l),He=u,Pi=p;break;case 0:case 11:case 14:case 15:hn||xo(2,l,a),hn||xo(4,l,a),Ma(s,a,l);break;case 1:hn||(kr(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Mb(l,a,u)),Ma(s,a,l);break;case 21:Ma(s,a,l);break;case 22:hn=(u=hn)||l.memoizedState!==null,Ma(s,a,l),hn=u;break;default:Ma(s,a,l)}}function jb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hh(s)}catch(l){Pe(a,a.return,l)}}function Xx(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Lb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Lb),a;default:throw Error(i(435,s.tag))}}function bm(s,a){var l=Xx(s);a.forEach(function(u){var p=aR.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function is(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],_=s,S=a,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(Po(C.type)){He=C.stateNode,Pi=!1;break t}break;case 5:He=C.stateNode,Pi=!1;break t;case 3:case 4:He=C.stateNode.containerInfo,Pi=!0;break t}C=C.return}if(He===null)throw Error(i(160));zb(_,S,p),He=null,Pi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Bb(a,s),a=a.sibling}var sr=null;function Bb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:is(a,s),ss(s),u&4&&(xo(3,s,s.return),Ah(3,s),xo(5,s,s.return));break;case 1:is(a,s),ss(s),u&512&&(hn||l===null||kr(l,l.return)),u&64&&Da&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=sr;if(is(a,s),ss(s),u&512&&(hn||l===null||kr(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":_=p.getElementsByTagName("title")[0],(!_||_[ds]||_[nn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(u),p.head.insertBefore(_,p.querySelector("head > title"))),Wn(_,u,l),_[nn]=s,ie(_),u=_;break t;case"link":var S=N0("link","href",p).get(u+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(_=S[C],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break e}}_=p.createElement(u),Wn(_,u,l),p.head.appendChild(_);break;case"meta":if(S=N0("meta","content",p).get(u+(l.content||""))){for(C=0;C<S.length;C++)if(_=S[C],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break e}}_=p.createElement(u),Wn(_,u,l),p.head.appendChild(_);break;default:throw Error(i(468,u))}_[nn]=s,ie(_),u=_}s.stateNode=u}else L0(p,s.type,s.stateNode);else s.stateNode=P0(p,u,s.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?L0(p,s.type,s.stateNode):P0(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&mm(s,s.memoizedProps,l.memoizedProps)}break;case 27:is(a,s),ss(s),u&512&&(hn||l===null||kr(l,l.return)),l!==null&&u&4&&mm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(is(a,s),ss(s),u&512&&(hn||l===null||kr(l,l.return)),s.flags&32){p=s.stateNode;try{Sn(p,"")}catch(nt){Pe(s,s.return,nt)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,mm(s,p,l!==null?l.memoizedProps:p)),u&1024&&(vm=!0);break;case 6:if(is(a,s),ss(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(nt){Pe(s,s.return,nt)}}break;case 3:if(Wd=null,p=sr,sr=Yd(a.containerInfo),is(a,s),sr=p,ss(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Hh(a.containerInfo)}catch(nt){Pe(s,s.return,nt)}vm&&(vm=!1,Fb(s));break;case 4:u=sr,sr=Yd(s.stateNode.containerInfo),is(a,s),ss(s),sr=u;break;case 12:is(a,s),ss(s);break;case 13:is(a,s),ss(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xm=Ti()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,bm(s,u)));break;case 22:p=s.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,X=Da,at=hn;if(Da=X||p,hn=at||j,is(a,s),hn=at,Da=X,ss(s),u&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||j||Da||hn||Hl(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){j=l=a;try{if(_=j.stateNode,p)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=j.stateNode;var ft=j.memoizedProps.style,J=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(nt){Pe(j,j.return,nt)}}}else if(a.tag===6){if(l===null){j=a;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(nt){Pe(j,j.return,nt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,bm(s,l))));break;case 19:is(a,s),ss(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,bm(s,u)));break;case 30:break;case 21:break;default:is(a,s),ss(s)}}function ss(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Pb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,_=_m(s);Pd(s,_,p);break;case 5:var S=l.stateNode;l.flags&32&&(Sn(S,""),l.flags&=-33);var C=_m(s);Pd(s,C,S);break;case 3:case 4:var j=l.stateNode.containerInfo,X=_m(s);ym(s,X,j);break;default:throw Error(i(161))}}catch(at){Pe(s,s.return,at)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Fb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Fb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ro(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Vb(s,a.alternate,a),a=a.sibling}function Hl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:xo(4,a,a.return),Hl(a);break;case 1:kr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Mb(a,a.return,l),Hl(a);break;case 27:Nh(a.stateNode);case 26:case 5:kr(a,a.return),Hl(a);break;case 22:a.memoizedState===null&&Hl(a);break;case 30:Hl(a);break;default:Hl(a)}s=s.sibling}}function Co(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,_=a,S=_.flags;switch(_.tag){case 0:case 11:case 15:Co(p,_,l),Ah(4,_);break;case 1:if(Co(p,_,l),u=_,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Pe(u,u.return,X)}if(u=_,p=u.updateQueue,p!==null){var C=u.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)Kt(j[p],C)}catch(X){Pe(u,u.return,X)}}l&&S&64&&Db(_),xh(_,_.return);break;case 27:Nb(_);case 26:case 5:Co(p,_,l),l&&u===null&&S&4&&kb(_),xh(_,_.return);break;case 12:Co(p,_,l);break;case 13:Co(p,_,l),l&&S&4&&jb(p,_);break;case 22:_.memoizedState===null&&Co(p,_,l),xh(_,_.return);break;case 30:break;default:Co(p,_,l)}a=a.sibling}}function Em(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&To(l))}function Tm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&To(s))}function Pr(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hb(s,a,l,u),a=a.sibling}function Hb(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Pr(s,a,l,u),p&2048&&Ah(9,a);break;case 1:Pr(s,a,l,u);break;case 3:Pr(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&To(s)));break;case 12:if(p&2048){Pr(s,a,l,u),s=a.stateNode;try{var _=a.memoizedProps,S=_.id,C=_.onPostCommit;typeof C=="function"&&C(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){Pe(a,a.return,j)}}else Pr(s,a,l,u);break;case 13:Pr(s,a,l,u);break;case 23:break;case 22:_=a.stateNode,S=a.alternate,a.memoizedState!==null?_._visibility&2?Pr(s,a,l,u):Rh(s,a):_._visibility&2?Pr(s,a,l,u):(_._visibility|=2,Bc(s,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&Em(S,a);break;case 24:Pr(s,a,l,u),p&2048&&Tm(a.alternate,a);break;default:Pr(s,a,l,u)}}function Bc(s,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=s,S=a,C=l,j=u,X=S.flags;switch(S.tag){case 0:case 11:case 15:Bc(_,S,C,j,p),Ah(8,S);break;case 23:break;case 22:var at=S.stateNode;S.memoizedState!==null?at._visibility&2?Bc(_,S,C,j,p):Rh(_,S):(at._visibility|=2,Bc(_,S,C,j,p)),p&&X&2048&&Em(S.alternate,S);break;case 24:Bc(_,S,C,j,p),p&&X&2048&&Tm(S.alternate,S);break;default:Bc(_,S,C,j,p)}a=a.sibling}}function Rh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:Rh(l,u),p&2048&&Em(u.alternate,u);break;case 24:Rh(l,u),p&2048&&Tm(u.alternate,u);break;default:Rh(l,u)}a=a.sibling}}var Ch=8192;function Fc(s){if(s.subtreeFlags&Ch)for(s=s.child;s!==null;)qb(s),s=s.sibling}function qb(s){switch(s.tag){case 26:Fc(s),s.flags&Ch&&s.memoizedState!==null&&LR(sr,s.memoizedState,s.memoizedProps);break;case 5:Fc(s);break;case 3:case 4:var a=sr;sr=Yd(s.stateNode.containerInfo),Fc(s),sr=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ch,Ch=16777216,Fc(s),Ch=a):Fc(s));break;default:Fc(s)}}function $b(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ih(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Un=u,Yb(u,s)}$b(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gb(s),s=s.sibling}function Gb(s){switch(s.tag){case 0:case 11:case 15:Ih(s),s.flags&2048&&xo(9,s,s.return);break;case 3:Ih(s);break;case 12:Ih(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Nd(s)):Ih(s);break;default:Ih(s)}}function Nd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Un=u,Yb(u,s)}$b(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:xo(8,a,a.return),Nd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Nd(a));break;default:Nd(a)}s=s.sibling}}function Yb(s,a){for(;Un!==null;){var l=Un;switch(l.tag){case 0:case 11:case 15:xo(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:To(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Un=u;else t:for(l=s;Un!==null;){u=Un;var p=u.sibling,_=u.return;if(Ub(u),u===l){Un=null;break t}if(p!==null){p.return=_,Un=p;break t}Un=_}}}var Zx={getCacheForType:function(s){var a=Rn(Je),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Jx=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ue=null,se=null,ge=0,Re=0,rs=null,Io=!1,Hc=!1,wm=!1,ka=0,tn=0,Oo=0,ql=0,Sm=0,Ds=0,qc=0,Oh=null,Ni=null,Am=!1,xm=0,Ld=1/0,Vd=null,Do=null,Kn=0,Mo=null,$c=null,Gc=0,Rm=0,Cm=null,Kb=null,Dh=0,Im=null;function as(){if((xe&2)!==0&&ge!==0)return ge&-ge;if(tt.T!==null){var s=Oi;return s!==0?s:Lm()}return pr()}function Wb(){Ds===0&&(Ds=(ge&536870912)===0||me?_l():536870912);var s=Os.current;return s!==null&&(s.flags|=32),Ds}function os(s,a,l){(s===Ue&&(Re===2||Re===9)||s.cancelPendingCommit!==null)&&(Yc(s,0),ko(s,ge,Ds,!1)),wi(s,l),((xe&2)===0||s!==Ue)&&(s===Ue&&((xe&2)===0&&(ql|=l),tn===4&&ko(s,ge,Ds,!1)),Nr(s))}function Qb(s,a,l){if((xe&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Jr(s,a),p=u?nR(s,a):Mm(s,a,!0),_=u;do{if(p===0){Hc&&!u&&ko(s,a,0,!1);break}else{if(l=s.current.alternate,_&&!tR(l)){p=Mm(s,a,!1),_=!1;continue}if(p===2){if(_=a,s.errorRecoveryDisabledLanes&_)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var C=s;p=Oh;var j=C.current.memoizedState.isDehydrated;if(j&&(Yc(C,S).flags|=256),S=Mm(C,S,!1),S!==2){if(wm&&!j){C.errorRecoveryDisabledLanes|=_,ql|=_,p=4;break t}_=Ni,Ni=p,_!==null&&(Ni===null?Ni=_:Ni.push.apply(Ni,_))}p=S}if(_=!1,p!==2)continue}}if(p===1){Yc(s,0),ko(s,a,0,!0);break}t:{switch(u=s,_=p,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ko(u,a,Ds,!Io);break t;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=xm+300-Ti(),10<p)){if(ko(u,a,Ds,!Io),to(u,0,!0)!==0)break t;u.timeoutHandle=A0(Xb.bind(null,u,l,Ni,Vd,Am,a,Ds,ql,qc,Io,_,2,-0,0),p);break t}Xb(u,l,Ni,Vd,Am,a,Ds,ql,qc,Io,_,0,-0,0)}}break}while(!0);Nr(s)}function Xb(s,a,l,u,p,_,S,C,j,X,at,ft,J,nt){if(s.timeoutHandle=-1,ft=a.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Uh={stylesheets:null,count:0,unsuspend:NR},qb(a),ft=VR(),ft!==null)){s.cancelPendingCommit=ft(s0.bind(null,s,a,_,l,u,p,S,C,j,at,1,J,nt)),ko(s,_,S,!X);return}s0(s,a,_,l,u,p,S,C,j)}function tR(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],_=p.getSnapshot;p=p.value;try{if(!ni(_(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ko(s,a,l,u){a&=~Sm,a&=~ql,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var _=31-Qe(p),S=1<<_;u[_]=-1,p&=~S}l!==0&&Gi(s,l,a)}function Ud(){return(xe&6)===0?(Mh(0),!1):!0}function Om(){if(se!==null){if(Re===0)var s=se.return;else s=se,nr=Ea=null,Is(s),zc=null,Th=0,s=se;for(;s!==null;)Ob(s.alternate,s),s=s.return;se=null}}function Yc(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,yR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Om(),Ue=s,se=l=Zs(s.current,null),ge=a,Re=0,rs=null,Io=!1,Hc=Jr(s,a),wm=!1,qc=Ds=Sm=ql=Oo=tn=0,Ni=Oh=null,Am=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-Qe(u),_=1<<p;a|=s[p],u&=~_}return ka=a,xc(),l}function Zb(s,a){Tt=null,tt.H=Ad,a===wo||a===xa?(a=T(),Re=3):a===jl?(a=T(),Re=4):Re=a===mb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,rs=a,se===null&&(tn=1,Od(s,_i(a,s.current)))}function Jb(){var s=tt.H;return tt.H=Ad,s===null?Ad:s}function t0(){var s=tt.A;return tt.A=Zx,s}function Dm(){tn=4,Io||(ge&4194048)!==ge&&Os.current!==null||(Hc=!0),(Oo&134217727)===0&&(ql&134217727)===0||Ue===null||ko(Ue,ge,Ds,!1)}function Mm(s,a,l){var u=xe;xe|=2;var p=Jb(),_=t0();(Ue!==s||ge!==a)&&(Vd=null,Yc(s,a)),a=!1;var S=tn;t:do try{if(Re!==0&&se!==null){var C=se,j=rs;switch(Re){case 8:Om(),S=6;break t;case 3:case 2:case 9:case 6:Os.current===null&&(a=!0);var X=Re;if(Re=0,rs=null,Kc(s,C,j,X),l&&Hc){S=0;break t}break;default:X=Re,Re=0,rs=null,Kc(s,C,j,X)}}eR(),S=tn;break}catch(at){Zb(s,at)}while(!0);return a&&s.shellSuspendCounter++,nr=Ea=null,xe=u,tt.H=p,tt.A=_,se===null&&(Ue=null,ge=0,xc()),S}function eR(){for(;se!==null;)e0(se)}function nR(s,a){var l=xe;xe|=2;var u=Jb(),p=t0();Ue!==s||ge!==a?(Vd=null,Ld=Ti()+500,Yc(s,a)):Hc=Jr(s,a);t:do try{if(Re!==0&&se!==null){a=se;var _=rs;e:switch(Re){case 1:Re=0,rs=null,Kc(s,a,_,1);break;case 2:case 9:if(_d(_)){Re=0,rs=null,n0(a);break}a=function(){Re!==2&&Re!==9||Ue!==s||(Re=7),Nr(s)},_.then(a,a);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:_d(_)?(Re=0,rs=null,n0(a)):(Re=0,rs=null,Kc(s,a,_,7));break;case 5:var S=null;switch(se.tag){case 26:S=se.memoizedState;case 5:case 27:var C=se;if(!S||V0(S)){Re=0,rs=null;var j=C.sibling;if(j!==null)se=j;else{var X=C.return;X!==null?(se=X,zd(X)):se=null}break e}}Re=0,rs=null,Kc(s,a,_,5);break;case 6:Re=0,rs=null,Kc(s,a,_,6);break;case 8:Om(),tn=6;break t;default:throw Error(i(462))}}iR();break}catch(at){Zb(s,at)}while(!0);return nr=Ea=null,tt.H=u,tt.A=p,xe=l,se!==null?0:(Ue=null,ge=0,xc(),tn)}function iR(){for(;se!==null&&!Bs();)e0(se)}function e0(s){var a=Cb(s.alternate,s,ka);s.memoizedProps=s.pendingProps,a===null?zd(s):se=a}function n0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Tb(l,a,a.pendingProps,a.type,void 0,ge);break;case 11:a=Tb(l,a,a.pendingProps,a.type.render,a.ref,ge);break;case 5:Is(a);default:Ob(l,a),a=se=ud(a,ka),a=Cb(l,a,ka)}s.memoizedProps=s.pendingProps,a===null?zd(s):se=a}function Kc(s,a,l,u){nr=Ea=null,Is(a),zc=null,Th=0;var p=a.return;try{if(Gx(s,p,a,l,ge)){tn=1,Od(s,_i(l,s.current)),se=null;return}}catch(_){if(p!==null)throw se=p,_;tn=1,Od(s,_i(l,s.current)),se=null;return}a.flags&32768?(me||u===1?s=!0:Hc||(ge&536870912)!==0?s=!1:(Io=s=!0,(u===2||u===9||u===3||u===6)&&(u=Os.current,u!==null&&u.tag===13&&(u.flags|=16384))),i0(a,s)):zd(a)}function zd(s){var a=s;do{if((a.flags&32768)!==0){i0(a,Io);return}s=a.return;var l=Kx(a.alternate,a,ka);if(l!==null){se=l;return}if(a=a.sibling,a!==null){se=a;return}se=a=s}while(a!==null);tn===0&&(tn=5)}function i0(s,a){do{var l=Wx(s.alternate,s);if(l!==null){l.flags&=32767,se=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){se=s;return}se=s=l}while(s!==null);tn=6,se=null}function s0(s,a,l,u,p,_,S,C,j){s.cancelPendingCommit=null;do jd();while(Kn!==0);if((xe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=Ku,eo(s,l,_,S,C,j),s===Ue&&(se=Ue=null,ge=0),$c=a,Mo=s,Gc=l,Rm=_,Cm=p,Kb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,oR(Xr,function(){return c0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=tt.T,tt.T=null,p=gt.p,gt.p=2,S=xe,xe|=4;try{Qx(s,a,l)}finally{xe=S,gt.p=p,tt.T=u}}Kn=1,r0(),a0(),o0()}}function r0(){if(Kn===1){Kn=0;var s=Mo,a=$c,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null;var u=gt.p;gt.p=2;var p=xe;xe|=4;try{Bb(a,s);var _=qm,S=Bu(s.containerInfo),C=_.focusedElem,j=_.selectionRange;if(S!==C&&C&&C.ownerDocument&&sd(C.ownerDocument.documentElement,C)){if(j!==null&&Ac(C)){var X=j.start,at=j.end;if(at===void 0&&(at=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(at,C.value.length);else{var ft=C.ownerDocument||document,J=ft&&ft.defaultView||window;if(J.getSelection){var nt=J.getSelection(),Gt=C.textContent.length,Ut=Math.min(j.start,Gt),Me=j.end===void 0?Ut:Math.min(j.end,Gt);!nt.extend&&Ut>Me&&(S=Me,Me=Ut,Ut=S);var K=id(C,Ut),H=id(C,Me);if(K&&H&&(nt.rangeCount!==1||nt.anchorNode!==K.node||nt.anchorOffset!==K.offset||nt.focusNode!==H.node||nt.focusOffset!==H.offset)){var Q=ft.createRange();Q.setStart(K.node,K.offset),nt.removeAllRanges(),Ut>Me?(nt.addRange(Q),nt.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),nt.addRange(Q))}}}}for(ft=[],nt=C;nt=nt.parentNode;)nt.nodeType===1&&ft.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ft.length;C++){var lt=ft[C];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Zd=!!Hm,qm=Hm=null}finally{xe=p,gt.p=u,tt.T=l}}s.current=a,Kn=2}}function a0(){if(Kn===2){Kn=0;var s=Mo,a=$c,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=tt.T,tt.T=null;var u=gt.p;gt.p=2;var p=xe;xe|=4;try{Vb(s,a.alternate,a)}finally{xe=p,gt.p=u,tt.T=l}}Kn=3}}function o0(){if(Kn===4||Kn===3){Kn=0,Fs();var s=Mo,a=$c,l=Gc,u=Kb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Kn=5:(Kn=0,$c=Mo=null,l0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Do=null),no(l),a=a.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(je,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=tt.T,p=gt.p,gt.p=2,tt.T=null;try{for(var _=s.onRecoverableError,S=0;S<u.length;S++){var C=u[S];_(C.value,{componentStack:C.stack})}}finally{tt.T=a,gt.p=p}}(Gc&3)!==0&&jd(),Nr(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Im?Dh++:(Dh=0,Im=s):Dh=0,Mh(0)}}function l0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,To(a)))}function jd(s){return r0(),a0(),o0(),c0()}function c0(){if(Kn!==5)return!1;var s=Mo,a=Rm;Rm=0;var l=no(Gc),u=tt.T,p=gt.p;try{gt.p=32>l?32:l,tt.T=null,l=Cm,Cm=null;var _=Mo,S=Gc;if(Kn=0,$c=Mo=null,Gc=0,(xe&6)!==0)throw Error(i(331));var C=xe;if(xe|=4,Gb(_.current),Hb(_,_.current,S,l),xe=C,Mh(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(je,_)}catch{}return!0}finally{gt.p=p,tt.T=u,l0(s,a)}}function u0(s,a,l){a=_i(l,a),a=om(s.stateNode,a,2),s=_t(s,a,2),s!==null&&(wi(s,2),Nr(s))}function Pe(s,a,l){if(s.tag===3)u0(s,s,l);else for(;a!==null;){if(a.tag===3){u0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Do===null||!Do.has(u))){s=_i(l,s),l=gb(2),u=_t(a,l,2),u!==null&&(pb(l,u,a,s),wi(u,2),Nr(u));break}}a=a.return}}function km(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new Jx;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(wm=!0,p.add(l),s=sR.bind(null,s,a,l),a.then(s,s))}function sR(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ue===s&&(ge&l)===l&&(tn===4||tn===3&&(ge&62914560)===ge&&300>Ti()-xm?(xe&2)===0&&Yc(s,0):Sm|=l,qc===ge&&(qc=0)),Nr(s)}function h0(s,a){a===0&&(a=yl()),s=ii(s,a),s!==null&&(wi(s,a),Nr(s))}function rR(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),h0(s,l)}function aR(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),h0(s,l)}function oR(s,a){return Hi(s,a)}var Bd=null,Wc=null,Pm=!1,Fd=!1,Nm=!1,$l=0;function Nr(s){s!==Wc&&s.next===null&&(Wc===null?Bd=Wc=s:Wc=Wc.next=s),Fd=!0,Pm||(Pm=!0,cR())}function Mh(s,a){if(!Nm&&Fd){Nm=!0;do for(var l=!1,u=Bd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var _=0;else{var S=u.suspendedLanes,C=u.pingedLanes;_=(1<<31-Qe(42|s)+1)-1,_&=p&~(S&~C),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,p0(u,_))}else _=ge,_=to(u,u===Ue?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Jr(u,_)||(l=!0,p0(u,_));u=u.next}while(l);Nm=!1}}function lR(){f0()}function f0(){Fd=Pm=!1;var s=0;$l!==0&&(_R()&&(s=$l),$l=0);for(var a=Ti(),l=null,u=Bd;u!==null;){var p=u.next,_=d0(u,a);_===0?(u.next=null,l===null?Bd=p:l.next=p,p===null&&(Wc=l)):(l=u,(s!==0||(_&3)!==0)&&(Fd=!0)),u=p}Mh(s)}function d0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var S=31-Qe(_),C=1<<S,j=p[S];j===-1?((C&l)===0||(C&u)!==0)&&(p[S]=ml(C,a)):j<=a&&(s.expiredLanes|=C),_&=~C}if(a=Ue,l=ge,l=to(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Re===2||Re===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&hr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Jr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&hr(u),no(l)){case 2:case 8:l=Za;break;case 32:l=Xr;break;case 268435456:l=Ja;break;default:l=Xr}return u=g0.bind(null,s),l=Hi(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&hr(u),s.callbackPriority=2,s.callbackNode=null,2}function g0(s,a){if(Kn!==0&&Kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(jd()&&s.callbackNode!==l)return null;var u=ge;return u=to(s,s===Ue?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Qb(s,u,a),d0(s,Ti()),s.callbackNode!=null&&s.callbackNode===l?g0.bind(null,s):null)}function p0(s,a){if(jd())return null;Qb(s,a,!0)}function cR(){vR(function(){(xe&6)!==0?Hi(pl,lR):f0()})}function Lm(){return $l===0&&($l=_l()),$l}function m0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:oo(""+s)}function _0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function uR(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var _=m0((p[Xe]||null).action),S=u.submitter;S&&(a=(a=S[Xe]||null)?m0(a.formAction):S.getAttribute("formAction"),a!==null&&(_=a,S=null));var C=new yr("action","action",null,u,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($l!==0){var j=S?_0(p,S):new FormData(p);nm(l,{pending:!0,data:j,method:p.method,action:_},null,j)}}else typeof _=="function"&&(C.preventDefault(),j=S?_0(p,S):new FormData(p),nm(l,{pending:!0,data:j,method:p.method,action:_},_,j))},currentTarget:p}]})}}for(var Vm=0;Vm<Yu.length;Vm++){var Um=Yu[Vm],hR=Um.toLowerCase(),fR=Um[0].toUpperCase()+Um.slice(1);ts(hR,"on"+fR)}ts(Sr,"onAnimationEnd"),ts(Rs,"onAnimationIteration"),ts(qu,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Qp,"onTransitionRun"),ts(od,"onTransitionStart"),ts(ld,"onTransitionCancel"),ts($u,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function y0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;t:{var _=void 0;if(a)for(var S=u.length-1;0<=S;S--){var C=u[S],j=C.instance,X=C.currentTarget;if(C=C.listener,j!==_&&p.isPropagationStopped())break t;_=C,p.currentTarget=X;try{_(p)}catch(at){Id(at)}p.currentTarget=null,_=j}else for(S=0;S<u.length;S++){if(C=u[S],j=C.instance,X=C.currentTarget,C=C.listener,j!==_&&p.isPropagationStopped())break t;_=C,p.currentTarget=X;try{_(p)}catch(at){Id(at)}p.currentTarget=null,_=j}}}}function re(s,a){var l=a[bl];l===void 0&&(l=a[bl]=new Set);var u=s+"__bubble";l.has(u)||(v0(a,s,2,!1),l.add(u))}function zm(s,a,l){var u=0;a&&(u|=4),v0(l,s,u,a)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function jm(s){if(!s[Hd]){s[Hd]=!0,wn.forEach(function(l){l!=="selectionchange"&&(dR.has(l)||zm(l,!1,s),zm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Hd]||(a[Hd]=!0,zm("selectionchange",!1,a))}}function v0(s,a,l,u){switch(H0(a)){case 2:var p=jR;break;case 8:p=BR;break;default:p=t_}l=p.bind(null,a,l,s),p=void 0,!An||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Bm(s,a,l,u,p){var _=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var C=u.stateNode.containerInfo;if(C===p)break;if(S===4)for(S=u.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;C!==null;){if(S=Yi(C),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){u=_=S;continue t}C=C.parentNode}}u=u.return}wl(function(){var X=_,at=qn(l),ft=[];t:{var J=Gu.get(s);if(J!==void 0){var nt=yr,Gt=s;switch(s){case"keypress":if(Ss(l)===0)break t;case"keydown":case"keyup":nt=da;break;case"focusin":Gt="focus",nt=la;break;case"focusout":Gt="blur",nt=la;break;case"beforeblur":case"afterblur":nt=la;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=bc;break;case Sr:case Rs:case qu:nt=ca;break;case $u:nt=Ec;break;case"scroll":case"scrollend":nt=Al;break;case"wheel":nt=ho;break;case"copy":case"cut":case"paste":nt=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Xi;break;case"toggle":case"beforetoggle":nt=Dl}var Ut=(a&4)!==0,Me=!Ut&&(s==="scroll"||s==="scrollend"),K=Ut?J!==null?J+"Capture":null:J;Ut=[];for(var H=X,Q;H!==null;){var lt=H;if(Q=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Q===null||K===null||(lt=_r(H,K),lt!=null&&Ut.push(Ph(H,lt,Q))),Me)break;H=H.return}0<Ut.length&&(J=new nt(J,Gt,null,l,at),ft.push({event:J,listeners:Ut}))}}if((a&7)===0){t:{if(J=s==="mouseover"||s==="pointerover",nt=s==="mouseout"||s==="pointerout",J&&l!==Ln&&(Gt=l.relatedTarget||l.fromElement)&&(Yi(Gt)||Gt[Si]))break t;if((nt||J)&&(J=at.window===at?at:(J=at.ownerDocument)?J.defaultView||J.parentWindow:window,nt?(Gt=l.relatedTarget||l.toElement,nt=X,Gt=Gt?Yi(Gt):null,Gt!==null&&(Me=o(Gt),Ut=Gt.tag,Gt!==Me||Ut!==5&&Ut!==27&&Ut!==6)&&(Gt=null)):(nt=null,Gt=X),nt!==Gt)){if(Ut=xn,lt="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ut=Xi,lt="onPointerLeave",K="onPointerEnter",H="pointer"),Me=nt==null?J:ps(nt),Q=Gt==null?J:ps(Gt),J=new Ut(lt,H+"leave",nt,l,at),J.target=Me,J.relatedTarget=Q,lt=null,Yi(at)===X&&(Ut=new Ut(K,H+"enter",Gt,l,at),Ut.target=Q,Ut.relatedTarget=Me,lt=Ut),Me=lt,nt&&Gt)e:{for(Ut=nt,K=Gt,H=0,Q=Ut;Q;Q=Qc(Q))H++;for(Q=0,lt=K;lt;lt=Qc(lt))Q++;for(;0<H-Q;)Ut=Qc(Ut),H--;for(;0<Q-H;)K=Qc(K),Q--;for(;H--;){if(Ut===K||K!==null&&Ut===K.alternate)break e;Ut=Qc(Ut),K=Qc(K)}Ut=null}else Ut=null;nt!==null&&b0(ft,J,nt,Ut,!1),Gt!==null&&Me!==null&&b0(ft,Me,Gt,Ut,!0)}}t:{if(J=X?ps(X):window,nt=J.nodeName&&J.nodeName.toLowerCase(),nt==="select"||nt==="input"&&J.type==="file")var Ot=Xf;else if(an(J))if(Uu)Ot=nd;else{Ot=td;var ee=Kp}else nt=J.nodeName,!nt||nt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&sa(X.elementType)&&(Ot=Xf):Ot=ed;if(Ot&&(Ot=Ot(s,X))){on(ft,Ot,l,at);break t}ee&&ee(s,J,X),s==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&vs(J,"number",J.value)}switch(ee=X?ps(X):window,s){case"focusin":(an(ee)||ee.contentEditable==="true")&&(po=ee,Fu=X,kl=null);break;case"focusout":kl=Fu=po=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,rd(ft,l,at);break;case"selectionchange":if(Wp)break;case"keydown":case"keyup":rd(ft,l,at)}var kt;if(xs)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else oe?it(s,l)&&(jt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(w&&l.locale!=="ko"&&(oe||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&oe&&(kt=oa()):(Wi=at,ws="value"in Wi?Wi.value:Wi.textContent,oe=!0)),ee=qd(X,jt),0<ee.length&&(jt=new xl(jt,s,null,l,at),ft.push({event:jt,listeners:ee}),kt?jt.data=kt:(kt=vt(l),kt!==null&&(jt.data=kt)))),(kt=v?rn(s,l):le(s,l))&&(jt=qd(X,"onBeforeInput"),0<jt.length&&(ee=new xl("onBeforeInput","beforeinput",null,l,at),ft.push({event:ee,listeners:jt}),ee.data=kt)),uR(ft,s,X,l,at)}y0(ft,a)})}function Ph(s,a,l){return{instance:s,listener:a,currentTarget:l}}function qd(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=_r(s,l),p!=null&&u.unshift(Ph(s,p,_)),p=_r(s,a),p!=null&&u.push(Ph(s,p,_))),s.tag===3)return u;s=s.return}return[]}function Qc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function b0(s,a,l,u,p){for(var _=a._reactName,S=[];l!==null&&l!==u;){var C=l,j=C.alternate,X=C.stateNode;if(C=C.tag,j!==null&&j===u)break;C!==5&&C!==26&&C!==27||X===null||(j=X,p?(X=_r(l,_),X!=null&&S.unshift(Ph(l,X,j))):p||(X=_r(l,_),X!=null&&S.push(Ph(l,X,j)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var gR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function E0(s){return(typeof s=="string"?s:""+s).replace(gR,`
`).replace(pR,"")}function T0(s,a){return a=E0(a),E0(s)===a}function $d(){}function De(s,a,l,u,p,_){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Sn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":Es(s,u,_);break;case"data":if(a!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=oo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&De(s,a,"name",p.name,p,null),De(s,a,"formEncType",p.formEncType,p,null),De(s,a,"formMethod",p.formMethod,p,null),De(s,a,"formTarget",p.formTarget,p,null)):(De(s,a,"encType",p.encType,p,null),De(s,a,"method",p.method,p,null),De(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=oo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=$d);break;case"onScroll":u!=null&&re("scroll",s);break;case"onScrollEnd":u!=null&&re("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=oo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":re("beforetoggle",s),re("toggle",s),_s(s,"popover",u);break;case"xlinkActuate":pn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_s(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_c.get(l)||l,_s(s,l,u))}}function Fm(s,a,l,u,p,_){switch(l){case"style":Es(s,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&re("scroll",s);break;case"onScrollEnd":u!=null&&re("scrollend",s);break;case"onClick":u!=null&&(s.onclick=$d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gn.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),_=s[Xe]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(a,_,p),typeof u=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):_s(s,l,u)}}}function Wn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",s),re("load",s);var u=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var S=l[_];if(S!=null)switch(_){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(s,a,_,S,l,null)}}p&&De(s,a,"srcSet",l.srcSet,l,null),u&&De(s,a,"src",l.src,l,null);return;case"input":re("invalid",s);var C=_=S=p=null,j=null,X=null;for(u in l)if(l.hasOwnProperty(u)){var at=l[u];if(at!=null)switch(u){case"name":p=at;break;case"type":S=at;break;case"checked":j=at;break;case"defaultChecked":X=at;break;case"value":_=at;break;case"defaultValue":C=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,a));break;default:De(s,a,u,at,l,null)}}Ws(s,_,C,j,X,S,p,!1),ia(s);return;case"select":re("invalid",s),u=S=_=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":_=C;break;case"defaultValue":S=C;break;case"multiple":u=C;default:De(s,a,p,C,l,null)}a=_,l=S,s.multiple=!!u,a!=null?mn(s,!!u,a,!1):l!=null&&mn(s,!!u,l,!0);return;case"textarea":re("invalid",s),_=p=u=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":u=C;break;case"defaultValue":p=C;break;case"children":_=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:De(s,a,S,C,l,null)}bs(s,u,p,_),ia(s);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:De(s,a,j,u,l,null)}return;case"dialog":re("beforetoggle",s),re("toggle",s),re("cancel",s),re("close",s);break;case"iframe":case"object":re("load",s);break;case"video":case"audio":for(u=0;u<kh.length;u++)re(kh[u],s);break;case"image":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"embed":case"source":case"link":re("error",s),re("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(u=l[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(s,a,X,u,l,null)}return;default:if(sa(a)){for(at in l)l.hasOwnProperty(at)&&(u=l[at],u!==void 0&&Fm(s,a,at,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&De(s,a,C,u,l,null))}function mR(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,S=null,C=null,j=null,X=null,at=null;for(nt in l){var ft=l[nt];if(l.hasOwnProperty(nt)&&ft!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":j=ft;default:u.hasOwnProperty(nt)||De(s,a,nt,null,u,ft)}}for(var J in u){var nt=u[J];if(ft=l[J],u.hasOwnProperty(J)&&(nt!=null||ft!=null))switch(J){case"type":_=nt;break;case"name":p=nt;break;case"checked":X=nt;break;case"defaultChecked":at=nt;break;case"value":S=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:nt!==ft&&De(s,a,J,nt,u,ft)}}Le(s,S,C,j,X,at,_,p);return;case"select":nt=S=C=J=null;for(_ in l)if(j=l[_],l.hasOwnProperty(_)&&j!=null)switch(_){case"value":break;case"multiple":nt=j;default:u.hasOwnProperty(_)||De(s,a,_,null,u,j)}for(p in u)if(_=u[p],j=l[p],u.hasOwnProperty(p)&&(_!=null||j!=null))switch(p){case"value":J=_;break;case"defaultValue":C=_;break;case"multiple":S=_;default:_!==j&&De(s,a,p,_,u,j)}a=C,l=S,u=nt,J!=null?mn(s,!!l,J,!1):!!u!=!!l&&(a!=null?mn(s,!!l,a,!0):mn(s,!!l,l?[]:"",!1));return;case"textarea":nt=J=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:De(s,a,C,null,u,p)}for(S in u)if(p=u[S],_=l[S],u.hasOwnProperty(S)&&(p!=null||_!=null))switch(S){case"value":J=p;break;case"defaultValue":nt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==_&&De(s,a,S,p,u,_)}ae(s,J,nt);return;case"option":for(var Gt in l)if(J=l[Gt],l.hasOwnProperty(Gt)&&J!=null&&!u.hasOwnProperty(Gt))switch(Gt){case"selected":s.selected=!1;break;default:De(s,a,Gt,null,u,J)}for(j in u)if(J=u[j],nt=l[j],u.hasOwnProperty(j)&&J!==nt&&(J!=null||nt!=null))switch(j){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:De(s,a,j,J,u,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in l)J=l[Ut],l.hasOwnProperty(Ut)&&J!=null&&!u.hasOwnProperty(Ut)&&De(s,a,Ut,null,u,J);for(X in u)if(J=u[X],nt=l[X],u.hasOwnProperty(X)&&J!==nt&&(J!=null||nt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:De(s,a,X,J,u,nt)}return;default:if(sa(a)){for(var Me in l)J=l[Me],l.hasOwnProperty(Me)&&J!==void 0&&!u.hasOwnProperty(Me)&&Fm(s,a,Me,void 0,u,J);for(at in u)J=u[at],nt=l[at],!u.hasOwnProperty(at)||J===nt||J===void 0&&nt===void 0||Fm(s,a,at,J,u,nt);return}}for(var K in l)J=l[K],l.hasOwnProperty(K)&&J!=null&&!u.hasOwnProperty(K)&&De(s,a,K,null,u,J);for(ft in u)J=u[ft],nt=l[ft],!u.hasOwnProperty(ft)||J===nt||J==null&&nt==null||De(s,a,ft,J,u,nt)}var Hm=null,qm=null;function Gd(s){return s.nodeType===9?s:s.ownerDocument}function w0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function $m(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gm=null;function _R(){var s=window.event;return s&&s.type==="popstate"?s===Gm?!1:(Gm=s,!0):(Gm=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,yR=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,vR=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(s){return x0.resolve(null).then(s).catch(bR)}:A0;function bR(s){setTimeout(function(){throw s})}function Po(s){return s==="head"}function R0(s,a){var l=a,u=0,p=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&Nh(S.documentElement),l&2&&Nh(S.body),l&4)for(l=S.head,Nh(l),S=l.firstChild;S;){var C=S.nextSibling,j=S.nodeName;S[ds]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(p===0){s.removeChild(_),Hh(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=_}while(l);Hh(a)}function Ym(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ym(l),mr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function ER(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ds])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=rr(s.nextSibling),s===null)break}return null}function TR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=rr(s.nextSibling),s===null))return null;return s}function Km(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function wR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function rr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Wm=null;function C0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function I0(s,a,l){switch(a=Gd(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Nh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);mr(s)}var Ms=new Map,O0=new Set;function Yd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pa=gt.d;gt.d={f:SR,r:AR,D:xR,C:RR,L:CR,m:IR,X:DR,S:OR,M:MR};function SR(){var s=Pa.f(),a=Ud();return s||a}function AR(s){var a=gs(s);a!==null&&a.tag===5&&a.type==="form"?Qv(a):Pa.r(s)}var Xc=typeof document>"u"?null:document;function D0(s,a,l){var u=Xc;if(u&&typeof a=="string"&&a){var p=Ie(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),O0.has(p)||(O0.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),Wn(a,"link",s),ie(a),u.head.appendChild(a)))}}function xR(s){Pa.D(s),D0("dns-prefetch",s,null)}function RR(s,a){Pa.C(s,a),D0("preconnect",s,a)}function CR(s,a,l){Pa.L(s,a,l);var u=Xc;if(u&&s&&a){var p='link[rel="preload"][as="'+Ie(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ie(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ie(l.imageSizes)+'"]')):p+='[href="'+Ie(s)+'"]';var _=p;switch(a){case"style":_=Zc(s);break;case"script":_=Jc(s)}Ms.has(_)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Ms.set(_,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(Lh(_))||a==="script"&&u.querySelector(Vh(_))||(a=u.createElement("link"),Wn(a,"link",s),ie(a),u.head.appendChild(a)))}}function IR(s,a){Pa.m(s,a);var l=Xc;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ie(u)+'"][href="'+Ie(s)+'"]',_=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Jc(s)}if(!Ms.has(_)&&(s=y({rel:"modulepreload",href:s},a),Ms.set(_,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vh(_)))return}u=l.createElement("link"),Wn(u,"link",s),ie(u),l.head.appendChild(u)}}}function OR(s,a,l){Pa.S(s,a,l);var u=Xc;if(u&&s){var p=Ze(u).hoistableStyles,_=Zc(s);a=a||"default";var S=p.get(_);if(!S){var C={loading:0,preload:null};if(S=u.querySelector(Lh(_)))C.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Ms.get(_))&&Qm(s,l);var j=S=u.createElement("link");ie(j),Wn(j,"link",s),j._p=new Promise(function(X,at){j.onload=X,j.onerror=at}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Kd(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:C},p.set(_,S)}}}function DR(s,a){Pa.X(s,a);var l=Xc;if(l&&s){var u=Ze(l).hoistableScripts,p=Jc(s),_=u.get(p);_||(_=l.querySelector(Vh(p)),_||(s=y({src:s,async:!0},a),(a=Ms.get(p))&&Xm(s,a),_=l.createElement("script"),ie(_),Wn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(p,_))}}function MR(s,a){Pa.M(s,a);var l=Xc;if(l&&s){var u=Ze(l).hoistableScripts,p=Jc(s),_=u.get(p);_||(_=l.querySelector(Vh(p)),_||(s=y({src:s,async:!0,type:"module"},a),(a=Ms.get(p))&&Xm(s,a),_=l.createElement("script"),ie(_),Wn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(p,_))}}function M0(s,a,l,u){var p=(p=It.current)?Yd(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Zc(l.href),l=Ze(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Zc(l.href);var _=Ze(p).hoistableStyles,S=_.get(s);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,S),(_=p.querySelector(Lh(s)))&&!_._p&&(S.instance=_,S.state.loading=5),Ms.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ms.set(s,l),_||kR(p,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jc(l),l=Ze(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Zc(s){return'href="'+Ie(s)+'"'}function Lh(s){return'link[rel="stylesheet"]['+s+"]"}function k0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function kR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Wn(a,"link",l),ie(a),s.head.appendChild(a))}function Jc(s){return'[src="'+Ie(s)+'"]'}function Vh(s){return"script[async]"+s}function P0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Ie(l.href)+'"]');if(u)return a.instance=u,ie(u),u;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ie(u),Wn(u,"style",p),Kd(u,l.precedence,s),a.instance=u;case"stylesheet":p=Zc(l.href);var _=s.querySelector(Lh(p));if(_)return a.state.loading|=4,a.instance=_,ie(_),_;u=k0(l),(p=Ms.get(p))&&Qm(u,p),_=(s.ownerDocument||s).createElement("link"),ie(_);var S=_;return S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Wn(_,"link",u),a.state.loading|=4,Kd(_,l.precedence,s),a.instance=_;case"script":return _=Jc(l.src),(p=s.querySelector(Vh(_)))?(a.instance=p,ie(p),p):(u=l,(p=Ms.get(_))&&(u=y({},l),Xm(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),ie(p),Wn(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Kd(u,l.precedence,s));return a.instance}function Kd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,_=p,S=0;S<u.length;S++){var C=u[S];if(C.dataset.precedence===a)_=C;else if(_!==p)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Qm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Xm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Wd=null;function N0(s,a,l){if(Wd===null){var u=new Map,p=Wd=new Map;p.set(l,u)}else p=Wd,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var _=l[p];if(!(_[ds]||_[nn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(a)||"";S=s+S;var C=u.get(S);C?C.push(_):u.set(S,[_])}}return u}function L0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function PR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function V0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Uh=null;function NR(){}function LR(s,a,l){if(Uh===null)throw Error(i(475));var u=Uh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Zc(l.href),_=s.querySelector(Lh(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Qd.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=_,ie(_);return}_=s.ownerDocument||s,l=k0(l),(p=Ms.get(p))&&Qm(l,p),_=_.createElement("link"),ie(_);var S=_;S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Wn(_,"link",l),a.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Qd.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function VR(){if(Uh===null)throw Error(i(475));var s=Uh;return s.stylesheets&&s.count===0&&Zm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Zm(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Qd(){if(this.count--,this.count===0){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xd=null;function Zm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xd=new Map,a.forEach(UR,s),Xd=null,Qd.call(s))}function UR(s,a){if(!(a.state.loading&4)){var l=Xd.get(s);if(l)var u=l.get(null);else{l=new Map,Xd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var S=p[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}p=a.instance,S=p.getAttribute("data-precedence"),_=l.get(S)||u,_===u&&l.set(null,p),l.set(S,p),this.count++,u=Qd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),_?_.parentNode.insertBefore(p,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var zh={$$typeof:et,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function zR(s,a,l,u,p,_,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function U0(s,a,l,u,p,_,S,C,j,X,at,ft){return s=new zR(s,a,l,S,C,j,X,ft),a=1,_===!0&&(a|=24),_=vi(3,null,null,a),s.current=_,_.stateNode=s,a=zl(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:a},Y(_),s}function z0(s){return s?(s=_o,s):_o}function j0(s,a,l,u,p,_){p=z0(p),u.context===null?u.context=p:u.pendingContext=p,u=ot(a),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=_t(s,u,a),l!==null&&(os(l,s,a),wt(l,s,a))}function B0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Jm(s,a){B0(s,a),(s=s.alternate)&&B0(s,a)}function F0(s){if(s.tag===13){var a=ii(s,67108864);a!==null&&os(a,s,67108864),Jm(s,67108864)}}var Zd=!0;function jR(s,a,l,u){var p=tt.T;tt.T=null;var _=gt.p;try{gt.p=2,t_(s,a,l,u)}finally{gt.p=_,tt.T=p}}function BR(s,a,l,u){var p=tt.T;tt.T=null;var _=gt.p;try{gt.p=8,t_(s,a,l,u)}finally{gt.p=_,tt.T=p}}function t_(s,a,l,u){if(Zd){var p=e_(u);if(p===null)Bm(s,a,u,Jd,l),q0(s,u);else if(HR(p,s,a,l,u))u.stopPropagation();else if(q0(s,u),a&4&&-1<FR.indexOf(s)){for(;p!==null;){var _=gs(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=$i(_.pendingLanes);if(S!==0){var C=_;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var j=1<<31-Qe(S);C.entanglements[1]|=j,S&=~j}Nr(_),(xe&6)===0&&(Ld=Ti()+500,Mh(0))}}break;case 13:C=ii(_,2),C!==null&&os(C,_,2),Ud(),Jm(_,2)}if(_=e_(u),_===null&&Bm(s,a,u,Jd,l),_===p)break;p=_}p!==null&&u.stopPropagation()}else Bm(s,a,u,null,l)}}function e_(s){return s=qn(s),n_(s)}var Jd=null;function n_(s){if(Jd=null,s=Yi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Jd=s,null}function H0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pu()){case pl:return 2;case Za:return 8;case Xr:case Nu:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var i_=!1,No=null,Lo=null,Vo=null,jh=new Map,Bh=new Map,Uo=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(s,a){switch(s){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":jh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(a.pointerId)}}function Fh(s,a,l,u,p,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[p]},a!==null&&(a=gs(a),a!==null&&F0(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function HR(s,a,l,u,p){switch(a){case"focusin":return No=Fh(No,s,a,l,u,p),!0;case"dragenter":return Lo=Fh(Lo,s,a,l,u,p),!0;case"mouseover":return Vo=Fh(Vo,s,a,l,u,p),!0;case"pointerover":var _=p.pointerId;return jh.set(_,Fh(jh.get(_)||null,s,a,l,u,p)),!0;case"gotpointercapture":return _=p.pointerId,Bh.set(_,Fh(Bh.get(_)||null,s,a,l,u,p)),!0}return!1}function $0(s){var a=Yi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,$s(s.priority,function(){if(l.tag===13){var u=as();u=gr(u);var p=ii(l,u);p!==null&&os(p,l,u),Jm(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tg(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=e_(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ln=u,l.target.dispatchEvent(u),Ln=null}else return a=gs(l),a!==null&&F0(a),s.blockedOn=l,!1;a.shift()}return!0}function G0(s,a,l){tg(s)&&l.delete(a)}function qR(){i_=!1,No!==null&&tg(No)&&(No=null),Lo!==null&&tg(Lo)&&(Lo=null),Vo!==null&&tg(Vo)&&(Vo=null),jh.forEach(G0),Bh.forEach(G0)}function eg(s,a){s.blockedOn===a&&(s.blockedOn=null,i_||(i_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qR)))}var ng=null;function Y0(s){ng!==s&&(ng=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ng===s&&(ng=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(n_(u||l)===null)continue;break}var _=gs(l);_!==null&&(s.splice(a,3),a-=3,nm(_,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Hh(s){function a(j){return eg(j,s)}No!==null&&eg(No,s),Lo!==null&&eg(Lo,s),Vo!==null&&eg(Vo,s),jh.forEach(a),Bh.forEach(a);for(var l=0;l<Uo.length;l++){var u=Uo[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Uo.length&&(l=Uo[0],l.blockedOn===null);)$0(l),l.blockedOn===null&&Uo.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],_=l[u+1],S=p[Xe]||null;if(typeof _=="function")S||Y0(l);else if(S){var C=null;if(_&&_.hasAttribute("formAction")){if(p=_,S=_[Xe]||null)C=S.formAction;else if(n_(p)!==null)continue}else C=S.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),Y0(l)}}}function s_(s){this._internalRoot=s}ig.prototype.render=s_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=as();j0(l,u,s,a,null,null)},ig.prototype.unmount=s_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;j0(s.current,2,null,s,null,null),Ud(),a[Si]=null}};function ig(s){this._internalRoot=s}ig.prototype.unstable_scheduleHydration=function(s){if(s){var a=pr();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Uo.length&&a!==0&&a<Uo[l].priority;l++);Uo.splice(l,0,s),l===0&&$0(s)}};var K0=t.version;if(K0!=="19.1.0")throw Error(i(527,K0,"19.1.0"));gt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var $R={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{je=sg.inject($R),Ee=sg}catch{}}return $h.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=ub,_=hb,S=fb,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=U0(s,1,!1,null,null,l,u,p,_,S,C,null),s[Si]=a.current,jm(s),new s_(a)},$h.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",_=ub,S=hb,C=fb,j=null,X=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(X=l.formState)),a=U0(s,1,!0,a,l??null,u,p,_,S,C,j,X),a.context=z0(null),l=a.current,u=as(),u=gr(u),p=ot(u),p.callback=null,_t(l,p,u),l=u,a.current.lanes=l,wi(a,l),Nr(a),s[Si]=a.current,jm(s),new ig(a)},$h.version="19.1.0",$h}var sE;function nC(){if(sE)return o_.exports;sE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),o_.exports=eC(),o_.exports}var iC=nC(),Gh={},rE;function sC(){if(rE)return Gh;rE=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.parse=c,Gh.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const R=new o,P=E.length;if(P<2)return R;const M=A?.decode||y;let L=0;do{const G=E.indexOf("=",L);if(G===-1)break;const et=E.indexOf(";",L),ct=et===-1?P:et;if(G>ct){L=E.lastIndexOf(";",G-1)+1;continue}const rt=h(E,L,G),pt=f(E,G,rt),V=E.slice(rt,pt);if(R[V]===void 0){let k=h(E,G+1,ct),N=f(E,ct,k);const z=M(E.slice(k,N));R[V]=z}L=ct+1}while(L<P);return R}function h(E,A,R){do{const P=E.charCodeAt(A);if(P!==32&&P!==9)return A}while(++A<R);return R}function f(E,A,R){for(;A>R;){const P=E.charCodeAt(--A);if(P!==32&&P!==9)return A+1}return R}function g(E,A,R){const P=R?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const M=P(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let L=E+"="+M;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!e.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return r.call(E)==="[object Date]"}return Gh}sC();var aE="popstate";function rC(n={}){function t(r,o){let{pathname:c="/",search:h="",hash:f=""}=hc(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),V_("",{pathname:c,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=r.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:yf(o))}function i(r,o){Vs(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return oC(t,e,i,n)}function qe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Vs(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aC(){return Math.random().toString(36).substring(2,10)}function oE(n,t){return{usr:n.state,key:n.key,idx:t}}function V_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?hc(t):t,state:e,key:t&&t.key||i||aC()}}function yf({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function hc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function oC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function b(){h="POP";let M=y(),L=M==null?null:M-g;g=M,f&&f({action:h,location:P.location,delta:L})}function E(M,L){h="PUSH";let G=V_(P.location,M,L);e&&e(G,M),g=y()+1;let et=oE(G,g),ct=P.createHref(G);try{c.pushState(et,"",ct)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;r.location.assign(ct)}o&&f&&f({action:h,location:P.location,delta:1})}function A(M,L){h="REPLACE";let G=V_(P.location,M,L);e&&e(G,M),g=y();let et=oE(G,g),ct=P.createHref(G);c.replaceState(et,"",ct),o&&f&&f({action:h,location:P.location,delta:0})}function R(M){return lC(M)}let P={get action(){return h},get location(){return n(r,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(aE,b),f=M,()=>{r.removeEventListener(aE,b),f=null}},createHref(M){return t(r,M)},createURL:R,encodeLocation(M){let L=R(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:A,go(M){return c.go(M)}};return P}function lC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:yf(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function oS(n,t,e="/"){return cC(n,t,e,!1)}function cC(n,t,e,i){let r=typeof t=="string"?hc(t):t,o=qa(r.pathname||"/",e);if(o==null)return null;let c=lS(n);uC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=EC(o);h=vC(c[f],g,i)}return h}function lS(n,t=[],e=[],i=""){let r=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=Ba([i,f.relativePath]),y=e.concat(f);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),lS(o.children,t,y,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:_C(g,o.index),routesMeta:y})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of cS(o.path))r(o,c,h)}),t}function cS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=cS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function uC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:yC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var hC=/^:[\w-]+$/,fC=3,dC=2,gC=1,pC=10,mC=-2,lE=n=>n==="*";function _C(n,t){let e=n.split("/"),i=e.length;return e.some(lE)&&(i+=mC),t&&(i+=dC),e.filter(r=>!lE(r)).reduce((r,o)=>r+(hC.test(o)?fC:o===""?gC:pC),i)}function yC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function vC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",b=Fg({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),E=f.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=Fg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Ba([o,b.pathname]),pathnameBase:AC(Ba([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=Ba([o,b.pathnameBase]))}return c}function Fg(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=bC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:b},E)=>{if(y==="*"){let R=h[E]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const A=h[E];return b&&!A?g[y]=void 0:g[y]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function bC(n,t=!1,e=!0){Vs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function EC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function qa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function TC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?hc(n):n;return{pathname:e?e.startsWith("/")?e:wC(e,t):t,search:xC(i),hash:RC(r)}}function wC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function h_(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function vy(n){let t=SC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function by(n,t,e,i=!1){let r;typeof n=="string"?r=hc(n):(r={...n},qe(!r.pathname||!r.pathname.includes("?"),h_("?","pathname","search",r)),qe(!r.pathname||!r.pathname.includes("#"),h_("#","pathname","hash",r)),qe(!r.search||!r.search.includes("#"),h_("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;r.pathname=E.join("/")}h=b>=0?t[b]:"/"}let f=TC(r,h),g=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var Ba=n=>n.join("/").replace(/\/\/+/g,"/"),AC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function CC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var uS=["POST","PUT","PATCH","DELETE"];new Set(uS);var IC=["GET",...uS];new Set(IC);var Tu=Z.createContext(null);Tu.displayName="DataRouter";var vp=Z.createContext(null);vp.displayName="DataRouterState";var hS=Z.createContext({isTransitioning:!1});hS.displayName="ViewTransition";var OC=Z.createContext(new Map);OC.displayName="Fetchers";var DC=Z.createContext(null);DC.displayName="Await";var ur=Z.createContext(null);ur.displayName="Navigation";var Mf=Z.createContext(null);Mf.displayName="Location";var Wr=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Ey=Z.createContext(null);Ey.displayName="RouteError";function MC(n,{relative:t}={}){qe(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=Z.useContext(ur),{hash:r,pathname:o,search:c}=Pf(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Ba([e,o])),i.createHref({pathname:h,search:c,hash:r})}function wu(){return Z.useContext(Mf)!=null}function Qa(){return qe(wu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Mf).location}var fS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dS(n){Z.useContext(ur).static||Z.useLayoutEffect(n)}function kf(){let{isDataRoute:n}=Z.useContext(Wr);return n?$C():kC()}function kC(){qe(wu(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(Tu),{basename:t,navigator:e}=Z.useContext(ur),{matches:i}=Z.useContext(Wr),{pathname:r}=Qa(),o=JSON.stringify(vy(i)),c=Z.useRef(!1);return dS(()=>{c.current=!0}),Z.useCallback((f,g={})=>{if(Vs(c.current,fS),!c.current)return;if(typeof f=="number"){e.go(f);return}let y=by(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ba([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,o,r,n])}Z.createContext(null);function Pf(n,{relative:t}={}){let{matches:e}=Z.useContext(Wr),{pathname:i}=Qa(),r=JSON.stringify(vy(e));return Z.useMemo(()=>by(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function PC(n,t){return gS(n,t)}function gS(n,t,e,i){qe(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=Z.useContext(ur),{matches:o}=Z.useContext(Wr),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";pS(f,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=Qa(),E;if(t){let L=typeof t=="string"?hc(t):t;qe(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=b;let A=E.pathname||"/",R=A;if(g!=="/"){let L=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=oS(n,{pathname:R});Vs(y||P!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Vs(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=zC(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:Ba([g,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Ba([g,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,e,i);return t&&M?Z.createElement(Mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function NC(){let n=qC(),t=CC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),e?Z.createElement("pre",{style:r},e):null,c)}var LC=Z.createElement(NC,null),VC=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?Z.createElement(Wr.Provider,{value:this.props.routeContext},Z.createElement(Ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UC({routeContext:n,match:t,children:e}){let i=Z.useContext(Tu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Wr.Provider,{value:n},e)}function zC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:b}=e,E=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,y)=>{let b,E=!1,A=null,R=null;e&&(b=o&&g.route.id?o[g.route.id]:void 0,A=g.route.errorElement||LC,c&&(h<0&&y===0?(pS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===y&&(E=!0,R=g.route.hydrateFallbackElement||null)));let P=t.concat(r.slice(0,y+1)),M=()=>{let L;return b?L=A:E?L=R:g.route.Component?L=Z.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=f,Z.createElement(UC,{match:g,routeContext:{outlet:f,matches:P,isDataRoute:e!=null},children:L})};return e&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?Z.createElement(VC,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:M(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):M()},null)}function Ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jC(n){let t=Z.useContext(Tu);return qe(t,Ty(n)),t}function BC(n){let t=Z.useContext(vp);return qe(t,Ty(n)),t}function FC(n){let t=Z.useContext(Wr);return qe(t,Ty(n)),t}function wy(n){let t=FC(n),e=t.matches[t.matches.length-1];return qe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function HC(){return wy("useRouteId")}function qC(){let n=Z.useContext(Ey),t=BC("useRouteError"),e=wy("useRouteError");return n!==void 0?n:t.errors?.[e]}function $C(){let{router:n}=jC("useNavigate"),t=wy("useNavigate"),e=Z.useRef(!1);return dS(()=>{e.current=!0}),Z.useCallback(async(r,o={})=>{Vs(e.current,fS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var cE={};function pS(n,t,e){!t&&!cE[n]&&(cE[n]=!0,Vs(!1,e))}Z.memo(GC);function GC({routes:n,future:t,state:e}){return gS(n,void 0,e,t)}function YC({to:n,replace:t,state:e,relative:i}){qe(wu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Z.useContext(ur);Vs(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Z.useContext(Wr),{pathname:c}=Qa(),h=kf(),f=by(n,vy(o),c,i==="path"),g=JSON.stringify(f);return Z.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function Wl(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){qe(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=Z.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=hc(e));let{pathname:f="/",search:g="",hash:y="",state:b=null,key:E="default"}=e,A=Z.useMemo(()=>{let R=qa(f,c);return R==null?null:{location:{pathname:R,search:g,hash:y,state:b,key:E},navigationType:i}},[c,f,g,y,b,E,i]);return Vs(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:Z.createElement(ur.Provider,{value:h},Z.createElement(Mf.Provider,{children:t,value:A}))}function WC({children:n,location:t}){return PC(U_(n),t)}function U_(n,t=[]){let e=[];return Z.Children.forEach(n,(i,r)=>{if(!Z.isValidElement(i))return;let o=[...t,r];if(i.type===Z.Fragment){e.push.apply(e,U_(i.props.children,o));return}qe(i.type===Wl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=U_(i.props.children,o)),e.push(c)}),e}var xg="get",Rg="application/x-www-form-urlencoded";function bp(n){return n!=null&&typeof n.tagName=="string"}function QC(n){return bp(n)&&n.tagName.toLowerCase()==="button"}function XC(n){return bp(n)&&n.tagName.toLowerCase()==="form"}function ZC(n){return bp(n)&&n.tagName.toLowerCase()==="input"}function JC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tI(n,t){return n.button===0&&(!t||t==="_self")&&!JC(n)}var rg=null;function eI(){if(rg===null)try{new FormData(document.createElement("form"),0),rg=!1}catch{rg=!0}return rg}var nI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f_(n){return n!=null&&!nI.has(n)?(Vs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rg}"`),null):n}function iI(n,t){let e,i,r,o,c;if(XC(n)){let h=n.getAttribute("action");i=h?qa(h,t):null,e=n.getAttribute("method")||xg,r=f_(n.getAttribute("enctype"))||Rg,o=new FormData(n)}else if(QC(n)||ZC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?qa(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||xg,r=f_(n.getAttribute("formenctype"))||f_(h.getAttribute("enctype"))||Rg,o=new FormData(h,n),!eI()){let{name:g,type:y,value:b}=n;if(y==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,b)}}else{if(bp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=xg,i=null,r=Rg,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function Sy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function sI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await sI(o,e);return c.links?c.links():[]}return[]}));return uI(i.flat(1).filter(rI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function uE(n,t,e,i,r,o){let c=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>e[g].pathname!==f.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oI(n,t,{includeHydrateFallback:e}={}){return lI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function lI(n){return[...new Set(n)]}function cI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function uI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(cI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hI=new Set([100,101,204,205]);function fI(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&qa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mS(){let n=Z.useContext(Tu);return Sy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dI(){let n=Z.useContext(vp);return Sy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ay=Z.createContext(void 0);Ay.displayName="FrameworkContext";function _S(){let n=Z.useContext(Ay);return Sy(n,"You must render this element inside a <HydratedRouter> element"),n}function gI(n,t){let e=Z.useContext(Ay),[i,r]=Z.useState(!1),[o,c]=Z.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=t,E=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=L=>{L.forEach(G=>{c(G.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[n]),Z.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let A=()=>{r(!0)},R=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Yh(h,A),onBlur:Yh(f,R),onMouseEnter:Yh(g,A),onMouseLeave:Yh(y,R),onTouchStart:Yh(b,A)}]:[!1,E,{}]}function Yh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function pI({page:n,...t}){let{router:e}=mS(),i=Z.useMemo(()=>oS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?Z.createElement(_I,{page:n,matches:i,...t}):null}function mI(n){let{manifest:t,routeModules:e}=_S(),[i,r]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return aI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function _I({page:n,matches:t,...e}){let i=Qa(),{manifest:r,routeModules:o}=_S(),{basename:c}=mS(),{loaderData:h,matches:f}=dI(),g=Z.useMemo(()=>uE(n,t,f,r,i,"data"),[n,t,f,r,i]),y=Z.useMemo(()=>uE(n,t,f,r,i,"assets"),[n,t,f,r,i]),b=Z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,P=!1;if(t.forEach(L=>{let G=r.routes[L.route.id];!G||!G.hasLoader||(!g.some(et=>et.route.id===L.route.id)&&L.route.id in h&&o[L.route.id]?.shouldRevalidate||G.hasClientLoader?P=!0:R.add(L.route.id))}),R.size===0)return[];let M=fI(n,c);return P&&R.size>0&&M.searchParams.set("_routes",t.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[c,h,i,r,g,t,n,o]),E=Z.useMemo(()=>oI(y,r),[y,r]),A=mI(y);return Z.createElement(Z.Fragment,null,b.map(R=>Z.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...e})),E.map(R=>Z.createElement("link",{key:R,rel:"modulepreload",href:R,...e})),A.map(({key:R,link:P})=>Z.createElement("link",{key:R,...P})))}function yI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var yS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yS&&(window.__reactRouterVersion="7.6.3")}catch{}function vI({basename:n,children:t,window:e}){let i=Z.useRef();i.current==null&&(i.current=rC({window:e,v5Compat:!0}));let r=i.current,[o,c]=Z.useState({action:r.action,location:r.location}),h=Z.useCallback(f=>{Z.startTransition(()=>c(f))},[c]);return Z.useLayoutEffect(()=>r.listen(h),[r,h]),Z.createElement(KC,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=Z.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:y,viewTransition:b,...E},A){let{basename:R}=Z.useContext(ur),P=typeof g=="string"&&vS.test(g),M,L=!1;if(typeof g=="string"&&P&&(M=g,yS))try{let N=new URL(window.location.href),z=g.startsWith("//")?new URL(N.protocol+g):new URL(g),B=qa(z.pathname,R);z.origin===N.origin&&B!=null?g=B+z.search+z.hash:L=!0}catch{Vs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=MC(g,{relative:r}),[et,ct,rt]=gI(i,E),pt=wI(g,{replace:c,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:b});function V(N){t&&t(N),N.defaultPrevented||pt(N)}let k=Z.createElement("a",{...E,...rt,href:M||G,onClick:L||o?t:V,ref:yI(A,ct),target:f,"data-discover":!P&&e==="render"?"true":void 0});return et&&!P?Z.createElement(Z.Fragment,null,k,Z.createElement(pI,{page:G})):k});Br.displayName="Link";var bI=Z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...g},y){let b=Pf(c,{relative:g.relative}),E=Qa(),A=Z.useContext(vp),{navigator:R,basename:P}=Z.useContext(ur),M=A!=null&&CI(b)&&h===!0,L=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,G=E.pathname,et=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(G=G.toLowerCase(),et=et?et.toLowerCase():null,L=L.toLowerCase()),et&&P&&(et=qa(et,P)||et);const ct=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let rt=G===L||!r&&G.startsWith(L)&&G.charAt(ct)==="/",pt=et!=null&&(et===L||!r&&et.startsWith(L)&&et.charAt(L.length)==="/"),V={isActive:rt,isPending:pt,isTransitioning:M},k=rt?t:void 0,N;typeof i=="function"?N=i(V):N=[i,rt?"active":null,pt?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(V):o;return Z.createElement(Br,{...g,"aria-current":k,className:N,ref:y,style:z,to:c,viewTransition:h},typeof f=="function"?f(V):f)});bI.displayName="NavLink";var EI=Z.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=xg,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:b,...E},A)=>{let R=xI(),P=RI(h,{relative:g}),M=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&vS.test(h),G=et=>{if(f&&f(et),et.defaultPrevented)return;et.preventDefault();let ct=et.nativeEvent.submitter,rt=ct?.getAttribute("formmethod")||c;R(ct||et.currentTarget,{fetcherKey:t,method:rt,navigate:e,replace:r,state:o,relative:g,preventScrollReset:y,viewTransition:b})};return Z.createElement("form",{ref:A,method:M,action:P,onSubmit:i?f:G,...E,"data-discover":!L&&n==="render"?"true":void 0})});EI.displayName="Form";function TI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(n){let t=Z.useContext(Tu);return qe(t,TI(n)),t}function wI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=kf(),f=Qa(),g=Pf(n,{relative:o});return Z.useCallback(y=>{if(tI(y,t)){y.preventDefault();let b=e!==void 0?e:yf(f)===yf(g);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,g,e,i,t,n,r,o,c])}var SI=0,AI=()=>`__${String(++SI)}__`;function xI(){let{router:n}=bS("useSubmit"),{basename:t}=Z.useContext(ur),e=HC();return Z.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=iI(i,t);if(r.navigate===!1){let y=r.fetcherKey||AI();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function RI(n,{relative:t}={}){let{basename:e}=Z.useContext(ur),i=Z.useContext(Wr);qe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Pf(n||".",{relative:t})},c=Qa();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Ba([e,o.pathname])),yf(o)}function CI(n,t={}){let e=Z.useContext(hS);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bS("useViewTransitionState"),r=Pf(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=qa(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=qa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Fg(r.pathname,c)!=null||Fg(r.pathname,o)!=null}[...hI];const II=()=>{};var hE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},OI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,A=g&63;f||(A=64,c||(E=64)),i.push(e[y],e[b],e[E],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ES(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):OI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const b=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||b==null)throw new DI;const E=o<<2|h>>4;if(i.push(E),g!==64){const A=h<<4&240|g>>2;if(i.push(A),b!==64){const R=g<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(n){const t=ES(n);return TS.encodeByteArray(t,!0)},Hg=function(n){return MI(n).replace(/\./g,"")},wS=function(n){try{return TS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>kI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof hE>"u")return;const n=hE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&wS(n[1]);return t&&JSON.parse(t)},Ep=()=>{try{return II()||PI()||NI()||LI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SS=n=>{var t,e;return(e=(t=Ep())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},VI=n=>{const t=SS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},AS=()=>{var n;return(n=Ep())===null||n===void 0?void 0:n.config},xS=n=>{var t;return(t=Ep())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hg(JSON.stringify(e)),Hg(JSON.stringify(c)),""].join(".")}const cf={};function jI(){const n={prod:[],emulator:[]};for(const t of Object.keys(cf))cf[t]?n.emulator.push(t):n.prod.push(t);return n}function BI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let fE=!1;function CS(n,t){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||cf[n]===t||cf[n]||fE)return;cf[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=jI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{fE=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=BI(i),A=e("text"),R=document.getElementById(A)||document.createElement("span"),P=e("learnmore"),M=document.getElementById(P)||document.createElement("a"),L=e("preprendIcon"),G=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const et=E.element;h(et),y(M,P);const ct=g();f(G,L),et.append(G,R,M,ct),document.body.appendChild(et)}o?(R.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function HI(){var n;const t=(n=Ep())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $I(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YI(){const n=hi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function KI(){return!HI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function QI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FirebaseError";class Xa extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=XI,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?ZI(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Xa(r,h,i)}}function ZI(n,t){return n.replace(JI,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const JI=/\{\$([^}]+)}/g;function tO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function sc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(dE(o)&&dE(c)){if(!sc(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function dE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Jh(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function tf(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function eO(n,t){const e=new nO(n,t);return e.subscribe.bind(e)}class nO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");iO(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=d_),r.error===void 0&&(r.error=d_),r.complete===void 0&&(r.complete=d_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function d_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n){return n&&n._delegate?n._delegate:n}class rc{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new UI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aO(t))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ql){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ql){return this.instances.has(t)}getOptions(t=Ql){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ql){return this.component?this.component.multipleInstances?t:Ql:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rO(n){return n===Ql?void 0:n}function aO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new sO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ce||(ce={}));const lO={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},cO=ce.INFO,uO={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},hO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=uO[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xy{constructor(t){this.name=t,this._logLevel=cO,this._logHandler=hO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const fO=(n,t)=>t.some(e=>n instanceof e);let gE,pE;function dO(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gO(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IS=new WeakMap,z_=new WeakMap,OS=new WeakMap,g_=new WeakMap,Ry=new WeakMap;function pO(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Wo(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&IS.set(e,n)}).catch(()=>{}),Ry.set(t,n),t}function mO(n){if(z_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});z_.set(n,t)}let j_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return z_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||OS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Wo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function _O(n){j_=n(j_)}function yO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(p_(this),t,...e);return OS.set(i,t.sort?t.sort():[t]),Wo(i)}:gO().includes(n)?function(...t){return n.apply(p_(this),t),Wo(IS.get(this))}:function(...t){return Wo(n.apply(p_(this),t))}}function vO(n){return typeof n=="function"?yO(n):(n instanceof IDBTransaction&&mO(n),fO(n,dO())?new Proxy(n,j_):n)}function Wo(n){if(n instanceof IDBRequest)return pO(n);if(g_.has(n))return g_.get(n);const t=vO(n);return t!==n&&(g_.set(n,t),Ry.set(t,n)),t}const p_=n=>Ry.get(n);function bO(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Wo(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Wo(c.result),f.oldVersion,f.newVersion,Wo(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const EO=["get","getKey","getAll","getAllKeys","count"],TO=["put","add","delete","clear"],m_=new Map;function mE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(m_.get(t))return m_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=TO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||EO.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return m_.set(t,o),o}_O(n=>({...n,get:(t,e,i)=>mE(t,e)||n.get(t,e,i),has:(t,e)=>!!mE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(SO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function SO(n){const t=n.getComponent();return t?.type==="VERSION"}const B_="@firebase/app",_E="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new xy("@firebase/app"),AO="@firebase/app-compat",xO="@firebase/analytics-compat",RO="@firebase/analytics",CO="@firebase/app-check-compat",IO="@firebase/app-check",OO="@firebase/auth",DO="@firebase/auth-compat",MO="@firebase/database",kO="@firebase/data-connect",PO="@firebase/database-compat",NO="@firebase/functions",LO="@firebase/functions-compat",VO="@firebase/installations",UO="@firebase/installations-compat",zO="@firebase/messaging",jO="@firebase/messaging-compat",BO="@firebase/performance",FO="@firebase/performance-compat",HO="@firebase/remote-config",qO="@firebase/remote-config-compat",$O="@firebase/storage",GO="@firebase/storage-compat",YO="@firebase/firestore",KO="@firebase/ai",WO="@firebase/firestore-compat",QO="firebase",XO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="[DEFAULT]",ZO={[B_]:"fire-core",[AO]:"fire-core-compat",[RO]:"fire-analytics",[xO]:"fire-analytics-compat",[IO]:"fire-app-check",[CO]:"fire-app-check-compat",[OO]:"fire-auth",[DO]:"fire-auth-compat",[MO]:"fire-rtdb",[kO]:"fire-data-connect",[PO]:"fire-rtdb-compat",[NO]:"fire-fn",[LO]:"fire-fn-compat",[VO]:"fire-iid",[UO]:"fire-iid-compat",[zO]:"fire-fcm",[jO]:"fire-fcm-compat",[BO]:"fire-perf",[FO]:"fire-perf-compat",[HO]:"fire-rc",[qO]:"fire-rc-compat",[$O]:"fire-gcs",[GO]:"fire-gcs-compat",[YO]:"fire-fst",[WO]:"fire-fst-compat",[KO]:"fire-vertex","fire-js":"fire-js",[QO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=new Map,JO=new Map,H_=new Map;function yE(n,t){try{n.container.addComponent(t)}catch(e){$a.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function du(n){const t=n.name;if(H_.has(t))return $a.debug(`There were multiple attempts to register component ${t}.`),!1;H_.set(t,n);for(const e of qg.values())yE(e,n);for(const e of JO.values())yE(e,n);return!0}function Cy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ps(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Nf("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=XO;function DS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:F_,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Qo.create("bad-app-name",{appName:String(r)});if(e||(e=AS()),!e)throw Qo.create("no-options");const o=qg.get(r);if(o){if(sc(e,o.options)&&sc(i,o.config))return o;throw Qo.create("duplicate-app",{appName:r})}const c=new oO(r);for(const f of H_.values())c.addComponent(f);const h=new eD(e,i,c);return qg.set(r,h),h}function MS(n=F_){const t=qg.get(n);if(!t&&n===F_&&AS())return DS();if(!t)throw Qo.create("no-app",{appName:n});return t}function Xo(n,t,e){var i;let r=(i=ZO[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$a.warn(h.join(" "));return}du(new rc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="firebase-heartbeat-database",iD=1,vf="firebase-heartbeat-store";let __=null;function kS(){return __||(__=bO(nD,iD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(vf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Qo.create("idb-open",{originalErrorMessage:n.message})})),__}async function sD(n){try{const e=(await kS()).transaction(vf),i=await e.objectStore(vf).get(PS(n));return await e.done,i}catch(t){if(t instanceof Xa)$a.warn(t.message);else{const e=Qo.create("idb-get",{originalErrorMessage:t?.message});$a.warn(e.message)}}}async function vE(n,t){try{const i=(await kS()).transaction(vf,"readwrite");await i.objectStore(vf).put(t,PS(n)),await i.done}catch(e){if(e instanceof Xa)$a.warn(e.message);else{const i=Qo.create("idb-set",{originalErrorMessage:e?.message});$a.warn(i.message)}}}function PS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=1024,aD=30;class oD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>aD){const c=uD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$a.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bE(),{heartbeatsToSend:i,unsentEntries:r}=lD(this._heartbeatsCache.heartbeats),o=Hg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $a.warn(e),""}}}function bE(){return new Date().toISOString().substring(0,10)}function lD(n,t=rD){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),EE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),EE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class cD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?QI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await sD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function EE(n){return Hg(JSON.stringify({version:2,heartbeats:n})).length}function uD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){du(new rc("platform-logger",t=>new wO(t),"PRIVATE")),du(new rc("heartbeat",t=>new oD(t),"PRIVATE")),Xo(B_,_E,n),Xo(B_,_E,"esm2017"),Xo("fire-js","")}hD("");var fD="firebase",dD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(fD,dD,"app");function Iy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gD=NS,LS=new Nf("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new xy("@firebase/auth");function pD(n,...t){$g.logLevel<=ce.WARN&&$g.warn(`Auth (${Au}): ${n}`,...t)}function Cg(n,...t){$g.logLevel<=ce.ERROR&&$g.error(`Auth (${Au}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...t){throw Oy(n,...t)}function Fr(n,...t){return Oy(n,...t)}function VS(n,t,e){const i=Object.assign(Object.assign({},gD()),{[t]:e});return new Nf("auth","Firebase",i).create(t,{appName:n.name})}function Fa(n){return VS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return LS.create(n,...t)}function qt(n,t,...e){if(!n)throw Oy(t,...e)}function za(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Cg(t),new Error(t)}function Ga(n,t){n||za(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mD(){return TE()==="http:"||TE()==="https:"}function TE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mD()||$I()||"connection"in navigator)?navigator.onLine:!0}function yD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ga(e>t,"Short delay should be less than long delay!"),this.isMobile=FI()||GI()}get(){return _D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,t){Ga(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ED=new Vf(3e4,6e4);function hl(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function fl(n,t,e,i,r={}){return zS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Lf(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return qI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Su(n.emulatorConfig.host)&&(g.credentials="include"),US.fetch()(await jS(n,n.config.apiHost,e,h),g)})}async function zS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},vD),t);try{const r=new wD(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw ag(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ag(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ag(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw ag(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw VS(n,y,g);or(n,y)}}catch(r){if(r instanceof Xa)throw r;or(n,"network-request-failed",{message:String(r)})}}async function Uf(n,t,e,i,r={}){const o=await fl(n,t,e,i,r);return"mfaPendingCredential"in o&&or(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function jS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Dy(n.config,r):`${n.config.apiScheme}://${r}`;return bD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function TD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Fr(this.auth,"network-request-failed")),ED.get())})}}function ag(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Fr(n,t,i);return r.customData._tokenResponse=e,r}function wE(n){return n!==void 0&&n.enterprise!==void 0}class SD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return TD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AD(n,t){return fl(n,"GET","/v2/recaptchaConfig",hl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,t){return fl(n,"POST","/v1/accounts:delete",t)}async function Gg(n,t){return fl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RD(n,t=!1){const e=kn(n),i=await e.getIdToken(t),r=My(i);qt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:uf(y_(r.auth_time)),issuedAtTime:uf(y_(r.iat)),expirationTime:uf(y_(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function y_(n){return Number(n)*1e3}function My(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Cg("JWT malformed, contained fewer than 3 sections"),null;try{const r=wS(e);return r?JSON.parse(r):(Cg("Failed to decode base64 JWT payload"),null)}catch(r){return Cg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function SE(n){const t=My(n);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Xa&&CD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=uf(this.lastLoginAt),this.creationTime=uf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(n){var t;const e=n.auth,i=await n.getIdToken(),r=await bf(n,Gg(e,{idToken:i}));qt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?BS(o.providerUserInfo):[],h=DD(n.providerData,c),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=f?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new $_(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function OD(n){const t=kn(n);await Yg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function BS(n){return n.map(t=>{var{providerId:e}=t,i=Iy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,t){const e=await zS(n,{},async()=>{const i=Lf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await jS(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Su(n.emulatorConfig.host)&&(f.credentials="include"),US.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function kD(n,t){return fl(n,"POST","/v2/accounts:revokeToken",hl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):SE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const e=SE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await MD(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new ou;return i&&(qt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(qt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(qt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(n,t){qt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ar{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Iy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ID(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await bf(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return RD(this,t)}reload(){return OD(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ar(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Yg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(Fa(this.auth));const t=await this.getIdToken();return await bf(this,xD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,f,g,y;const b=(i=e.displayName)!==null&&i!==void 0?i:void 0,E=(r=e.email)!==null&&r!==void 0?r:void 0,A=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,R=(c=e.photoURL)!==null&&c!==void 0?c:void 0,P=(h=e.tenantId)!==null&&h!==void 0?h:void 0,M=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,L=(g=e.createdAt)!==null&&g!==void 0?g:void 0,G=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:et,emailVerified:ct,isAnonymous:rt,providerData:pt,stsTokenManager:V}=e;qt(et&&V,t,"internal-error");const k=ou.fromJSON(this.name,V);qt(typeof et=="string",t,"internal-error"),jo(b,t.name),jo(E,t.name),qt(typeof ct=="boolean",t,"internal-error"),qt(typeof rt=="boolean",t,"internal-error"),jo(A,t.name),jo(R,t.name),jo(P,t.name),jo(M,t.name),jo(L,t.name),jo(G,t.name);const N=new ar({uid:et,auth:t,email:E,emailVerified:ct,displayName:b,isAnonymous:rt,photoURL:R,phoneNumber:A,tenantId:P,stsTokenManager:k,createdAt:L,lastLoginAt:G});return pt&&Array.isArray(pt)&&(N.providerData=pt.map(z=>Object.assign({},z))),M&&(N._redirectEventId=M),N}static async _fromIdTokenResponse(t,e,i=!1){const r=new ou;r.updateFromServerResponse(e);const o=new ar({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Yg(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];qt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?BS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new ou;h.updateFromIdToken(i);const f=new ar({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new $_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;function ja(n){Ga(n instanceof Function,"Expected a class definition");let t=AE.get(n);return t?(Ga(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,AE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}FS.type="NONE";const xE=FS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(n,t,e){return`firebase:${n}:${t}:${e}`}class lu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ig(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ig("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Gg(this.auth,{idToken:t}).catch(()=>{});return e?ar._fromGetAccountInfoResponse(this.auth,e,t):null}return ar._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new lu(ja(xE),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||ja(xE);const c=Ig(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(c);if(y){let b;if(typeof y=="string"){const E=await Gg(t,{idToken:y}).catch(()=>{});if(!E)break;b=await ar._fromGetAccountInfoResponse(t,E,y)}else b=ar._fromJSON(t,y);g!==o&&(h=b),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new lu(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new lu(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KS(t))return"Blackberry";if(WS(t))return"Webos";if(qS(t))return"Safari";if((t.includes("chrome/")||$S(t))&&!t.includes("edge/"))return"Chrome";if(YS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function HS(n=hi()){return/firefox\//i.test(n)}function qS(n=hi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $S(n=hi()){return/crios\//i.test(n)}function GS(n=hi()){return/iemobile/i.test(n)}function YS(n=hi()){return/android/i.test(n)}function KS(n=hi()){return/blackberry/i.test(n)}function WS(n=hi()){return/webos/i.test(n)}function ky(n=hi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PD(n=hi()){var t;return ky(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function ND(){return YI()&&document.documentMode===10}function QS(n=hi()){return ky(n)||YS(n)||WS(n)||KS(n)||/windows phone/i.test(n)||GS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,t=[]){let e;switch(n){case"Browser":e=RE(hi());break;case"Worker":e=`${RE(hi())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Au}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,t={}){return fl(n,"GET","/v2/passwordPolicy",hl(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=6;class zD{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:UD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new LD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ja(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await lu.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Gg(this,{idToken:t}),i=await ar._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ps(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Yg(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ps(this.app))return Promise.reject(Fa(this));const e=t?kn(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ps(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VD(this),e=new zD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nf("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await kD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ja(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[ja(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&pD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fc(n){return kn(n)}class CE{constructor(t){this.auth=t,this.observer=null,this.addObserver=eO(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BD(n){Tp=n}function ZS(n){return Tp.loadJS(n)}function FD(){return Tp.recaptchaEnterpriseScript}function HD(){return Tp.gapiScript}function qD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $D{constructor(){this.enterprise=new GD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class GD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const YD="recaptcha-enterprise",JS="NO_RECAPTCHA";class KD{constructor(t){this.type=YD,this.auth=fc(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{AD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new SD(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;wE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(JS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $D().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&wE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=FD();f.length!==0&&(f+=h),ZS(f).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function IE(n,t,e,i=!1,r=!1){const o=new KD(n);let c;if(r)c=JS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function G_(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await IE(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await IE(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n,t){const e=Cy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(sc(o,t??{}))return r;or(r,"already-initialized")}return e.initialize({options:t})}function QD(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ja);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function XD(n,t,e){const i=fc(n);qt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=tA(t),{host:c,port:h}=ZD(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){qt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qt(sc(g,i.config.emulator)&&sc(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Su(c)?(RS(`${o}//${c}${f}`),CS("Auth",!0)):JD()}function tA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function ZD(n){const t=tA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:OE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:OE(c)}}}function OE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function JD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return za("not implemented")}_getIdTokenResponse(t){return za("not implemented")}_linkToIdToken(t,e){return za("not implemented")}_getReauthenticationResolver(t){return za("not implemented")}}async function t2(n,t){return fl(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,t){return Uf(n,"POST","/v1/accounts:signInWithPassword",hl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,t){return Uf(n,"POST","/v1/accounts:signInWithEmailLink",hl(n,t))}async function i2(n,t){return Uf(n,"POST","/v1/accounts:signInWithEmailLink",hl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends Py{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Ef(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Ef(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(t,e,"signInWithPassword",e2);case"emailLink":return n2(t,{email:this._email,oobCode:this._password});default:or(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(t,i,"signUpPassword",t2);case"emailLink":return i2(t,{idToken:e,email:this._email,oobCode:this._password});default:or(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(n,t){return Uf(n,"POST","/v1/accounts:signInWithIdp",hl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="http://localhost";class ac extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ac(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):or("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Iy(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new ac(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return cu(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,cu(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,cu(t,e)}buildRequest(){const t={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Lf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a2(n){const t=Jh(tf(n)).link,e=t?Jh(tf(t)).deep_link_id:null,i=Jh(tf(n)).deep_link_id;return(i?Jh(tf(i)).link:null)||i||e||t||n}class Ny{constructor(t){var e,i,r,o,c,h;const f=Jh(tf(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,b=r2((r=f.mode)!==null&&r!==void 0?r:null);qt(g&&y&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=a2(t);try{return new Ny(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.providerId=xu.PROVIDER_ID}static credential(t,e){return Ef._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Ny.parseLink(e);return qt(i,"argument-error"),Ef._fromEmailAndCode(t,i.code,i.tenantId)}}xu.PROVIDER_ID="password";xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends eA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends zf{constructor(){super("facebook.com")}static credential(t){return ac._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bo.credential(t.oauthAccessToken)}catch{return null}}}Bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends zf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ac._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Fo.credentialFromTaggedObject(t)}static credentialFromError(t){return Fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Fo.credential(e,i)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends zf{constructor(){super("github.com")}static credential(t){return ac._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ho.credentialFromTaggedObject(t)}static credentialFromError(t){return Ho.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ho.credential(t.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends zf{constructor(){super("twitter.com")}static credential(t,e){return ac._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return qo.credentialFromTaggedObject(t)}static credentialFromError(t){return qo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return qo.credential(e,i)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,t){return Uf(n,"POST","/v1/accounts:signUp",hl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ar._fromIdTokenResponse(t,i,r),c=DE(i);return new oc({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=DE(i);return new oc({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function DE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends Xa{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Kg.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Kg(t,e,i,r)}}function nA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kg._fromErrorAndOperation(n,o,t,i):o})}async function l2(n,t,e=!1){const i=await bf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return oc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,t,e=!1){const{auth:i}=n;if(Ps(i.app))return Promise.reject(Fa(i));const r="reauthenticate";try{const o=await bf(n,nA(i,r,t,n),e);qt(o.idToken,i,"internal-error");const c=My(o.idToken);qt(c,i,"internal-error");const{sub:h}=c;return qt(n.uid===h,i,"user-mismatch"),oc._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&or(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(n,t,e=!1){if(Ps(n.app))return Promise.reject(Fa(n));const i="signIn",r=await nA(n,i,t),o=await oc._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function u2(n,t){return iA(fc(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(n){const t=fc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function h2(n,t,e){if(Ps(n.app))return Promise.reject(Fa(n));const i=fc(n),c=await G_(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&sA(n),f}),h=await oc._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function f2(n,t,e){return Ps(n.app)?Promise.reject(Fa(n)):u2(kn(n),xu.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sA(n),i})}function d2(n,t,e,i){return kn(n).onIdTokenChanged(t,e,i)}function g2(n,t,e){return kn(n).beforeAuthStateChanged(t,e)}function rA(n,t,e,i){return kn(n).onAuthStateChanged(t,e,i)}function p2(n){return kn(n).signOut()}const Wg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Wg,"1"),this.storage.removeItem(Wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1e3,_2=10;class oA extends aA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);ND()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,_2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}oA.type="LOCAL";const y2=oA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends aA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}lA.type="SESSION";const cA=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new wp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await v2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=Ly("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function E2(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function T2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function S2(){return uA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebaseLocalStorageDb",A2=1,Qg="firebaseLocalStorage",fA="fbase_key";class jf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Sp(n,t){return n.transaction([Qg],t?"readwrite":"readonly").objectStore(Qg)}function x2(){const n=indexedDB.deleteDatabase(hA);return new jf(n).toPromise()}function Y_(){const n=indexedDB.open(hA,A2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Qg,{keyPath:fA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Qg)?t(i):(i.close(),await x2(),t(await Y_()))})})}async function ME(n,t,e){const i=Sp(n,!0).put({[fA]:t,value:e});return new jf(i).toPromise()}async function R2(n,t){const e=Sp(n,!1).get(t),i=await new jf(e).toPromise();return i===void 0?null:i.value}function kE(n,t){const e=Sp(n,!0).delete(t);return new jf(e).toPromise()}const C2=800,I2=3;class dA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>I2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(S2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Y_();return await ME(t,Wg,"1"),await kE(t,Wg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ME(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>R2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>kE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Sp(r,!1).getAll();return new jf(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dA.type="LOCAL";const O2=dA;new Vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n,t){return t?ja(t):(qt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Py{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return cu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return cu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function M2(n){return iA(n.auth,new Vy(n),n.bypassAuthState)}function k2(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),c2(e,new Vy(n),n.bypassAuthState)}async function P2(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),l2(e,new Vy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:or(this.auth,"internal-error")}}resolve(t){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Vf(2e3,1e4);class au extends gA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,au.currentPopupAction&&au.currentPopupAction.cancel(),au.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){Ga(this.filter.length===1,"Popup operations only handle one event");const t=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,au.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,N2.get())};t()}}au.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="pendingRedirect",Og=new Map;class V2 extends gA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Og.get(this.auth._key());if(!t){try{const i=await U2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Og.set(this.auth._key(),t)}return this.bypassAuthState||Og.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(n,t){const e=B2(t),i=j2(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function z2(n,t){Og.set(n._key(),t)}function j2(n){return ja(n._redirectPersistence)}function B2(n){return Ig(L2,n.config.apiKey,n.name)}async function F2(n,t,e=!1){if(Ps(n.app))return Promise.reject(Fa(n));const i=fc(n),r=D2(i,t),c=await new V2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=10*60*1e3;class q2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!pA(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Fr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=H2&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(t))}saveEventToCache(t){this.cachedEventUids.add(PE(t)),this.lastProcessedEventTime=Date.now()}}function PE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function pA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function $2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t={}){return fl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function W2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await G2(n);for(const e of t)try{if(Q2(e))return}catch{}or(n,"unauthorized-domain")}function Q2(n){const t=q_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!K2.test(e))return!1;if(Y2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Vf(3e4,6e4);function NE(){const n=Hr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Z2(n){return new Promise((t,e)=>{var i,r,o;function c(){NE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{NE(),e(Fr(n,"network-request-failed"))},timeout:X2.get()})}if(!((r=(i=Hr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Hr().gapi)===null||o===void 0)&&o.load)c();else{const h=qD("iframefcb");return Hr()[h]=()=>{gapi.load?c():e(Fr(n,"network-request-failed"))},ZS(`${HD()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw Dg=null,t})}let Dg=null;function J2(n){return Dg=Dg||Z2(n),Dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Vf(5e3,15e3),eM="__/auth/iframe",nM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rM(n){const t=n.config;qt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Dy(t,nM):`https://${n.config.authDomain}/${eM}`,i={apiKey:t.apiKey,appName:n.name,v:Au},r=sM.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Lf(i).slice(1)}`}async function aM(n){const t=await J2(n),e=Hr().gapi;return qt(e,n,"internal-error"),t.open({where:document.body,url:rM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Fr(n,"network-request-failed"),h=Hr().setTimeout(()=>{o(c)},tM.get());function f(){Hr().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lM=500,cM=600,uM="_blank",hM="http://localhost";class LE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fM(n,t,e,i=lM,r=cM){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},oM),{width:i.toString(),height:r.toString(),top:o,left:c}),g=hi().toLowerCase();e&&(h=$S(g)?uM:e),HS(g)&&(t=t||hM,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,R])=>`${E}${A}=${R},`,"");if(PD(g)&&h!=="_self")return dM(t||"",h),new LE(null);const b=window.open(t||"",h,y);qt(b,n,"popup-blocked");try{b.focus()}catch{}return new LE(b)}function dM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="__/auth/handler",pM="emulator/auth/handler",mM=encodeURIComponent("fac");async function VE(n,t,e,i,r,o){qt(n.config.authDomain,n,"auth-domain-config-required"),qt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Au,eventId:r};if(t instanceof eA){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",tO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(t instanceof zf){const y=t.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${mM}=${encodeURIComponent(f)}`:"";return`${_M(n)}?${Lf(h).slice(1)}${g}`}function _M({config:n}){return n.emulator?Dy(n,pM):`https://${n.authDomain}/${gM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="webStorageSupport";class yM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cA,this._completeRedirectFn=F2,this._overrideRedirectResult=z2}async _openPopup(t,e,i,r){var o;Ga((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await VE(t,e,i,q_(),r);return fM(t,c,Ly())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await VE(t,e,i,q_(),r);return E2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ga(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await aM(t),i=new q2(t);return e.register("authEvent",r=>(qt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(v_,{type:v_},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[v_];c!==void 0&&e(!!c),or(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=W2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return QS()||qS()||ky()}}const vM=yM;var UE="@firebase/auth",zE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TM(n){du(new rc("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;qt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(n)},g=new jD(i,r,o,f);return QD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),du(new rc("auth-internal",t=>{const e=fc(t.getProvider("auth").getImmediate());return(i=>new bM(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(UE,zE,EM(n)),Xo(UE,zE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=5*60,SM=xS("authIdTokenMaxAge")||wM;let jE=null;const AM=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>SM)return;const r=e?.token;jE!==r&&(jE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xM(n=MS()){const t=Cy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=WD(n,{popupRedirectResolver:vM,persistence:[O2,y2,cA]}),i=xS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=AM(o.toString());g2(e,c,()=>c(e.currentUser)),d2(e,h=>c(h))}}const r=SS("auth");return r&&XD(e,`http://${r}`),e}function RM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}BD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Fr("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",RM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TM("Browser");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,mA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,k){function N(){}N.prototype=k.prototype,V.D=k.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(z,B,F){for(var U=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)U[ne-2]=arguments[ne];return k.prototype[B].apply(z,U)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,k,N){N||(N=0);var z=Array(16);if(typeof k=="string")for(var B=0;16>B;++B)z[B]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(B=0;16>B;++B)z[B]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=V.g[0],N=V.g[1],B=V.g[2];var F=V.g[3],U=k+(F^N&(B^F))+z[0]+3614090360&4294967295;k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[1]+3905402710&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[2]+606105819&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[3]+3250441966&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(F^N&(B^F))+z[4]+4118548399&4294967295,k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[5]+1200080426&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[6]+2821735955&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[7]+4249261313&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(F^N&(B^F))+z[8]+1770035416&4294967295,k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[9]+2336552879&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[10]+4294925233&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[11]+2304563134&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(F^N&(B^F))+z[12]+1804603682&4294967295,k=N+(U<<7&4294967295|U>>>25),U=F+(B^k&(N^B))+z[13]+4254626195&4294967295,F=k+(U<<12&4294967295|U>>>20),U=B+(N^F&(k^N))+z[14]+2792965006&4294967295,B=F+(U<<17&4294967295|U>>>15),U=N+(k^B&(F^k))+z[15]+1236535329&4294967295,N=B+(U<<22&4294967295|U>>>10),U=k+(B^F&(N^B))+z[1]+4129170786&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[6]+3225465664&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[11]+643717713&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[0]+3921069994&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(B^F&(N^B))+z[5]+3593408605&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[10]+38016083&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[15]+3634488961&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[4]+3889429448&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(B^F&(N^B))+z[9]+568446438&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[14]+3275163606&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[3]+4107603335&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[8]+1163531501&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(B^F&(N^B))+z[13]+2850285829&4294967295,k=N+(U<<5&4294967295|U>>>27),U=F+(N^B&(k^N))+z[2]+4243563512&4294967295,F=k+(U<<9&4294967295|U>>>23),U=B+(k^N&(F^k))+z[7]+1735328473&4294967295,B=F+(U<<14&4294967295|U>>>18),U=N+(F^k&(B^F))+z[12]+2368359562&4294967295,N=B+(U<<20&4294967295|U>>>12),U=k+(N^B^F)+z[5]+4294588738&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[8]+2272392833&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[11]+1839030562&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[14]+4259657740&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(N^B^F)+z[1]+2763975236&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[4]+1272893353&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[7]+4139469664&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[10]+3200236656&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(N^B^F)+z[13]+681279174&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[0]+3936430074&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[3]+3572445317&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[6]+76029189&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(N^B^F)+z[9]+3654602809&4294967295,k=N+(U<<4&4294967295|U>>>28),U=F+(k^N^B)+z[12]+3873151461&4294967295,F=k+(U<<11&4294967295|U>>>21),U=B+(F^k^N)+z[15]+530742520&4294967295,B=F+(U<<16&4294967295|U>>>16),U=N+(B^F^k)+z[2]+3299628645&4294967295,N=B+(U<<23&4294967295|U>>>9),U=k+(B^(N|~F))+z[0]+4096336452&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[7]+1126891415&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[14]+2878612391&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[5]+4237533241&4294967295,N=B+(U<<21&4294967295|U>>>11),U=k+(B^(N|~F))+z[12]+1700485571&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[3]+2399980690&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[10]+4293915773&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[1]+2240044497&4294967295,N=B+(U<<21&4294967295|U>>>11),U=k+(B^(N|~F))+z[8]+1873313359&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[15]+4264355552&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[6]+2734768916&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[13]+1309151649&4294967295,N=B+(U<<21&4294967295|U>>>11),U=k+(B^(N|~F))+z[4]+4149444226&4294967295,k=N+(U<<6&4294967295|U>>>26),U=F+(N^(k|~B))+z[11]+3174756917&4294967295,F=k+(U<<10&4294967295|U>>>22),U=B+(k^(F|~N))+z[2]+718787259&4294967295,B=F+(U<<15&4294967295|U>>>17),U=N+(F^(B|~k))+z[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+F&4294967295}i.prototype.u=function(V,k){k===void 0&&(k=V.length);for(var N=k-this.blockSize,z=this.B,B=this.h,F=0;F<k;){if(B==0)for(;F<=N;)r(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<k;)if(z[B++]=V.charCodeAt(F++),B==this.blockSize){r(this,z),B=0;break}}else for(;F<k;)if(z[B++]=V[F++],B==this.blockSize){r(this,z),B=0;break}}this.h=B,this.o+=k},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var N=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=N&255,N/=256;for(this.u(V),V=Array(16),k=N=0;4>k;++k)for(var z=0;32>z;z+=8)V[N++]=this.g[k]>>>z&255;return V};function o(V,k){var N=h;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=k(V)}function c(V,k){this.h=k;for(var N=[],z=!0,B=V.length-1;0<=B;B--){var F=V[B]|0;z&&F==k||(N[B]=F,z=!1)}this.g=N}var h={};function f(V){return-128<=V&&128>V?o(V,function(k){return new c([k|0],0>k?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return M(g(-V));for(var k=[],N=1,z=0;V>=N;z++)k[z]=V/N|0,N*=4294967296;return new c(k,0)}function y(V,k){if(V.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V.charAt(0)=="-")return M(y(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(k,8)),z=b,B=0;B<V.length;B+=8){var F=Math.min(8,V.length-B),U=parseInt(V.substring(B,B+F),k);8>F?(F=g(Math.pow(k,F)),z=z.j(F).add(g(U))):(z=z.j(N),z=z.add(g(U)))}return z}var b=f(0),E=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(P(this))return-M(this).m();for(var V=0,k=1,N=0;N<this.g.length;N++){var z=this.i(N);V+=(0<=z?z:4294967296+z)*k,k*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(P(this))return"-"+M(this).toString(V);for(var k=g(Math.pow(V,6)),N=this,z="";;){var B=ct(N,k).g;N=L(N,B.j(k));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=B,R(N))return F+z;for(;6>F.length;)F="0"+F;z=F+z}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var k=0;k<V.g.length;k++)if(V.g[k]!=0)return!1;return!0}function P(V){return V.h==-1}n.l=function(V){return V=L(this,V),P(V)?-1:R(V)?0:1};function M(V){for(var k=V.g.length,N=[],z=0;z<k;z++)N[z]=~V.g[z];return new c(N,~V.h).add(E)}n.abs=function(){return P(this)?M(this):this},n.add=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0,B=0;B<=k;B++){var F=z+(this.i(B)&65535)+(V.i(B)&65535),U=(F>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);z=U>>>16,F&=65535,U&=65535,N[B]=U<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function L(V,k){return V.add(M(k))}n.j=function(V){if(R(this)||R(V))return b;if(P(this))return P(V)?M(this).j(M(V)):M(M(this).j(V));if(P(V))return M(this.j(M(V)));if(0>this.l(A)&&0>V.l(A))return g(this.m()*V.m());for(var k=this.g.length+V.g.length,N=[],z=0;z<2*k;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(var B=0;B<V.g.length;B++){var F=this.i(z)>>>16,U=this.i(z)&65535,ne=V.i(B)>>>16,Mt=V.i(B)&65535;N[2*z+2*B]+=U*Mt,G(N,2*z+2*B),N[2*z+2*B+1]+=F*Mt,G(N,2*z+2*B+1),N[2*z+2*B+1]+=U*ne,G(N,2*z+2*B+1),N[2*z+2*B+2]+=F*ne,G(N,2*z+2*B+2)}for(z=0;z<k;z++)N[z]=N[2*z+1]<<16|N[2*z];for(z=k;z<2*k;z++)N[z]=0;return new c(N,0)};function G(V,k){for(;(V[k]&65535)!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function et(V,k){this.g=V,this.h=k}function ct(V,k){if(R(k))throw Error("division by zero");if(R(V))return new et(b,b);if(P(V))return k=ct(M(V),k),new et(M(k.g),M(k.h));if(P(k))return k=ct(V,M(k)),new et(M(k.g),k.h);if(30<V.g.length){if(P(V)||P(k))throw Error("slowDivide_ only works with positive integers.");for(var N=E,z=k;0>=z.l(V);)N=rt(N),z=rt(z);var B=pt(N,1),F=pt(z,1);for(z=pt(z,2),N=pt(N,2);!R(z);){var U=F.add(z);0>=U.l(V)&&(B=B.add(N),F=U),z=pt(z,1),N=pt(N,1)}return k=L(V,B.j(k)),new et(B,k)}for(B=b;0<=V.l(k);){for(N=Math.max(1,Math.floor(V.m()/k.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),F=g(N),U=F.j(k);P(U)||0<U.l(V);)N-=z,F=g(N),U=F.j(k);R(F)&&(F=E),B=B.add(F),V=L(V,U)}return new et(B,V)}n.A=function(V){return ct(this,V).h},n.and=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)&V.i(z);return new c(N,this.h&V.h)},n.or=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)|V.i(z);return new c(N,this.h|V.h)},n.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)^V.i(z);return new c(N,this.h^V.h)};function rt(V){for(var k=V.g.length+1,N=[],z=0;z<k;z++)N[z]=V.i(z)<<1|V.i(z-1)>>>31;return new c(N,V.h)}function pt(V,k){var N=k>>5;k%=32;for(var z=V.g.length-N,B=[],F=0;F<z;F++)B[F]=0<k?V.i(F+N)>>>k|V.i(F+N+1)<<32-k:V.i(F+N);return new c(B,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,mA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Zo=c}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _A,ef,yA,Mg,K_,vA,bA,EA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var w=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var W=d[O];if(!(W in w))break t;w=w[W]}d=d[d.length-1],O=w[d],v=v(O),v!=O&&v!=null&&t(w,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var w=0,O=!1,W={next:function(){if(!O&&w<d.length){var it=w++;return{value:v(it,d[it]),done:!1}}return O=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,w){return d.call.apply(d.bind,arguments)}function b(d,v,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,O),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function E(d,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,E.apply(null,arguments)}function A(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,W,it){for(var vt=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)vt[oe-2]=arguments[oe];return v.prototype[W].apply(O,vt)}}function P(d){const v=d.length;if(0<v){const w=Array(v);for(let O=0;O<v;O++)w[O]=d[O];return w}return[]}function M(d,v){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(f(O)){const W=d.length||0,it=O.length||0;d.length=W+it;for(let vt=0;vt<it;vt++)d[W+vt]=O[vt]}else d.push(O)}}class L{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(d){return/^[\s\xa0]*$/.test(d)}function et(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function ct(d){return ct[" "](d),d}ct[" "]=function(){};var rt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function pt(d,v,w){for(const O in d)v.call(w,d[O],O,d)}function V(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function k(d){const v={};for(const w in d)v[w]=d[w];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(d,v){let w,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(w in O)d[w]=O[w];for(let it=0;it<N.length;it++)w=N[it],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function B(d){var v=1;d=d.split(":");const w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function F(d){h.setTimeout(()=>{throw d},0)}function U(){var d=Lt;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ne{constructor(){this.h=this.g=null}add(v,w){const O=Mt.get();O.set(v,w),this.h?this.h.next=O:this.g=O,this.h=O}}var Mt=new L(()=>new tt,d=>d.reset());class tt{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,xt=!1,Lt=new ne,D=()=>{const d=h.Promise.resolve(void 0);gt=()=>{d.then(ht)}};var ht=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(w){F(w)}var v=Mt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}xt=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return d}();function zt(d,v){if(mt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(rt){t:{try{ct(v.nodeName);var W=!0;break t}catch{}W=!1}W||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:It[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&zt.aa.h.call(this)}}R(zt,mt);var It={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),bt=0;function fi(d,v,w,O,W){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!O,this.ha=W,this.key=++bt,this.da=this.fa=!1}function zs(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function js(d){this.src=d,this.g={},this.h=0}js.prototype.add=function(d,v,w,O,W){var it=d.toString();d=this.g[it],d||(d=this.g[it]=[],this.h++);var vt=Hi(d,v,O,W);return-1<vt?(v=d[vt],w||(v.fa=!1)):(v=new fi(v,this.src,it,!!O,W),v.fa=w,d.push(v)),v};function Qr(d,v){var w=v.type;if(w in d.g){var O=d.g[w],W=Array.prototype.indexOf.call(O,v,void 0),it;(it=0<=W)&&Array.prototype.splice.call(O,W,1),it&&(zs(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Hi(d,v,w,O){for(var W=0;W<d.length;++W){var it=d[W];if(!it.da&&it.listener==v&&it.capture==!!w&&it.ha==O)return W}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),Bs={};function Fs(d,v,w,O,W){if(Array.isArray(v)){for(var it=0;it<v.length;it++)Fs(d,v[it],w,O,W);return null}return w=qi(w),d&&d[We]?d.K(v,w,g(O)?!!O.capture:!1,W):Ti(d,v,w,!1,O,W)}function Ti(d,v,w,O,W,it){if(!v)throw Error("Invalid event type");var vt=g(W)?!!W.capture:!!W,oe=Ja(d);if(oe||(d[hr]=oe=new js(d)),w=oe.add(v,w,O,vt,it),w.proxy)return w;if(O=Pu(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)St||(W=vt),W===void 0&&(W=!1),d.addEventListener(v.toString(),O,W);else if(d.attachEvent)d.attachEvent(Xr(v.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Pu(){function d(w){return v.call(d.src,d.listener,w)}const v=Nu;return d}function pl(d,v,w,O,W){if(Array.isArray(v))for(var it=0;it<v.length;it++)pl(d,v[it],w,O,W);else O=g(O)?!!O.capture:!!O,w=qi(w),d&&d[We]?(d=d.i,v=String(v).toString(),v in d.g&&(it=d.g[v],w=Hi(it,w,O,W),-1<w&&(zs(it[w]),Array.prototype.splice.call(it,w,1),it.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ja(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Hi(v,w,O,W)),(w=-1<d?v[d]:null)&&Za(w))}function Za(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[We])Qr(v.i,d);else{var w=d.type,O=d.proxy;v.removeEventListener?v.removeEventListener(w,O,d.capture):v.detachEvent?v.detachEvent(Xr(w),O):v.addListener&&v.removeListener&&v.removeListener(O),(w=Ja(v))?(Qr(w,d),w.h==0&&(w.src=null,v[hr]=null)):zs(d)}}}function Xr(d){return d in Bs?Bs[d]:Bs[d]="on"+d}function Nu(d,v){if(d.da)d=!0;else{v=new zt(v,this);var w=d.listener,O=d.ha||d.src;d.fa&&Za(d),d=w.call(O,v)}return d}function Ja(d){return d=d[hr],d instanceof js?d:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function qi(d){return typeof d=="function"?d:(d[fr]||(d[fr]=function(v){return d.handleEvent(v)}),d[fr])}function je(){yt.call(this),this.i=new js(this),this.M=this,this.F=null}R(je,yt),je.prototype[We]=!0,je.prototype.removeEventListener=function(d,v,w,O){pl(this,d,v,w,O)};function Ee(d,v){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=v.type||v,typeof v=="string")v=new mt(v,d);else if(v instanceof mt)v.target=v.target||d;else{var W=v;v=new mt(O,d),z(v,W)}if(W=!0,w)for(var it=w.length-1;0<=it;it--){var vt=v.g=w[it];W=di(vt,O,!0,v)&&W}if(vt=v.g=d,W=di(vt,O,!0,v)&&W,W=di(vt,O,!1,v)&&W,w)for(it=0;it<w.length;it++)vt=v.g=w[it],W=di(vt,O,!1,v)&&W}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],O=0;O<w.length;O++)zs(w[O]);delete d.g[v],d.h--}}this.F=null},je.prototype.K=function(d,v,w,O){return this.i.add(String(d),v,!1,w,O)},je.prototype.L=function(d,v,w,O){return this.i.add(String(d),v,!0,w,O)};function di(d,v,w,O){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,it=0;it<v.length;++it){var vt=v[it];if(vt&&!vt.da&&vt.capture==w){var oe=vt.listener,rn=vt.ha||vt.src;vt.fa&&Qr(d.i,vt),W=oe.call(rn,O)!==!1&&W}}return W&&!O.defaultPrevented}function Qe(d,v,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function Hs(d){d.g=Qe(()=>{d.g=null,d.i&&(d.i=!1,Hs(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dr extends yt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(d){yt.call(this),this.h=d,this.g={}}R(us,yt);var Zr=[];function qs(d){pt(d.g,function(v,w){this.g.hasOwnProperty(w)&&Za(v)},d),d.g={}}us.prototype.N=function(){us.aa.N.call(this),qs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=h.JSON.stringify,to=h.JSON.parse,Jr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function ml(){}ml.prototype.h=null;function _l(d){return d.h||(d.h=d.i())}function yl(){}var hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){mt.call(this,"d")}R(wi,mt);function eo(){mt.call(this,"c")}R(eo,mt);var Gi={},vl=null;function gr(){return vl=vl||new je}Gi.La="serverreachability";function no(d){mt.call(this,Gi.La,d)}R(no,mt);function pr(d){const v=gr();Ee(v,new no(v))}Gi.STAT_EVENT="statevent";function $s(d,v){mt.call(this,Gi.STAT_EVENT,d),this.stat=v}R($s,mt);function Te(d){const v=gr();Ee(v,new $s(v,d))}Gi.Ma="timingevent";function nn(d,v){mt.call(this,Gi.Ma,d),this.size=v}R(nn,mt);function Xe(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function bl(d,v,w,O,W,it){d.info(function(){if(d.g)if(it)for(var vt="",oe=it.split("&"),rn=0;rn<oe.length;rn++){var le=oe[rn].split("=");if(1<le.length){var _n=le[0];le=le[1];var an=_n.split("_");vt=2<=an.length&&an[1]=="type"?vt+(_n+"="+le+"&"):vt+(_n+"=redacted&")}}else vt=null;else vt=it;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+v+`
`+w+`
`+vt})}function Lu(d,v,w,O,W,it,vt){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+v+`
`+w+`
`+it+" "+vt})}function fs(d,v,w,O){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+ds(d,w)+(O?" "+O:"")})}function Gs(d,v){d.info(function(){return"TIMEOUT: "+v})}Si.prototype.info=function(){};function ds(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var W=O[1];if(Array.isArray(W)&&!(1>W.length)){var it=W[0];if(it!="noop"&&it!="stop"&&it!="close")for(var vt=1;vt<W.length;vt++)W[vt]=""}}}}return $i(w)}catch{return v}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gs;function ps(){}R(ps,ml),ps.prototype.g=function(){return new XMLHttpRequest},ps.prototype.i=function(){return{}},gs=new ps;function Ze(d,v,w,O){this.j=d,this.i=v,this.l=w,this.R=O||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ie}function ie(){this.i=null,this.g="",this.h=!1}var wn={},gn={};function ke(d,v,w){d.L=1,d.v=bs(Le(v)),d.m=w,d.P=!0,Ai(d,null)}function Ai(d,v){d.F=Date.now(),xi(d),d.A=Le(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),ra(w.i,"t",O),d.C=0,w=d.j.J,d.h=new ie,d.g=Ec(d.j,w?v:null,!d.m),0<d.O&&(d.M=new dr(E(d.Y,d,d.g),d.O)),v=d.U,w=d.g,O=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Zr[0]=W.toString()),W=Zr);for(var it=0;it<W.length;it++){var vt=Fs(w,W[it],O||v.handleEvent,!1,v.h||v);if(!vt)break;v.g[vt.key]=vt}v=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),pr(),bl(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const v=this.M;v&&xn(d)==3?v.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)t:{const an=xn(this.g);var v=this.g.Ba();const on=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||an!=4||v==7||(v==8||0>=on?pr(3):pr(2)),_s(this);var w=this.g.Z();this.X=w;e:if(Ys(this)){var O=yc(this.g);d="";var W=O.length,it=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Fn(this);var vt="";break e}this.h.i=new h.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(O[v],{stream:!(it&&v==W-1)});O.length=0,this.h.g+=d,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=w==200,Lu(this.i,this.u,this.A,this.l,this.R,an,w),this.o){if(this.T&&!this.K){e:{if(this.g){var oe,rn=this.g;if((oe=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(oe)){var le=oe;break e}}le=null}if(w=le)fs(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,w);else{this.o=!1,this.s=3,Te(12),pn(this),Fn(this);break t}}if(this.P){w=!0;let yn;for(;!this.J&&this.C<vt.length;)if(yn=ms(this,vt),yn==gn){an==4&&(this.s=4,Te(14),w=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==wn){this.s=4,Te(15),fs(this.i,this.l,vt,"[Invalid Chunk]"),w=!1;break}else fs(this.i,this.l,yn,null),Ks(this,yn);if(Ys(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||vt.length!=0||this.h.h||(this.s=1,Te(16),w=!1),this.o=this.o&&w,!w)fs(this.i,this.l,vt,"[Invalid Chunked Response]"),pn(this),Fn(this);else if(0<vt.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),fa(_n),_n.M=!0,Te(11))}}else fs(this.i,this.l,vt,null),Ks(this,vt);an==4&&pn(this),this.o&&!this.J&&(an==4?Il(this.j,this):(this.o=!1,xi(this)))}else vc(this.g),w==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),pn(this),Fn(this)}}}catch{}finally{}};function Ys(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ms(d,v){var w=d.C,O=v.indexOf(`
`,w);return O==-1?gn:(w=Number(v.substring(w,O)),isNaN(w)?wn:(O+=1,O+w>v.length?gn:(v=v.slice(O,O+w),d.C=O+w,v)))}Ze.prototype.cancel=function(){this.J=!0,pn(this)};function xi(d){d.S=Date.now()+d.I,El(d,d.I)}function El(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Xe(E(d.ba,d),v)}function _s(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Gs(this.i,this.A),this.L!=2&&(pr(),Te(17)),pn(this),this.s=2,Fn(this)):El(this,this.S-d)};function Fn(d){d.j.G==0||d.J||Il(d.j,d)}function pn(d){_s(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,qs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ks(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||so(w.h,d))){if(!d.K&&so(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)da(w),ca(w);else break t;Cl(w),Te(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xe(E(w.Za,w),6e3));if(1>=ea(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Zi(w,11)}else if((d.K||w.g==d)&&da(w),!G(v))for(W=w.Da.g.parse(v),v=0;v<W.length;v++){let le=W[v];if(w.T=le[0],le=le[1],w.G==2)if(le[0]=="c"){w.K=le[1],w.ia=le[2];const _n=le[3];_n!=null&&(w.la=_n,w.j.info("VER="+w.la));const an=le[4];an!=null&&(w.Aa=an,w.j.info("SVER="+w.Aa));const on=le[5];on!=null&&typeof on=="number"&&0<on&&(O=1.5*on,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const yn=d.g;if(yn){const Ji=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var it=O.h;it.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(na(it,it.h),it.h=null))}if(O.D){const fo=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(O.ya=fo,ae(O.I,O.D,fo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var vt=d;if(O.qa=Ol(O,O.J?O.ia:null,O.W),vt.K){Pn(O.h,vt);var oe=vt,rn=O.L;rn&&(oe.I=rn),oe.B&&(_s(oe),xi(oe)),O.g=vt}else ha(O);0<w.i.length&&ua(w)}else le[0]!="stop"&&le[0]!="close"||Zi(w,7);else w.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Zi(w,7):lo(w):le[0]!="noop"&&w.l&&w.l.ta(le),w.v=0)}}pr(4)}catch{}}var io=class{constructor(d,v){this.g=d,this.map=v}};function ys(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ea(d){return d.h?1:d.g?d.g.size:0}function so(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function na(d,v){d.g?d.g.add(v):d.h=v}function Pn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}ys.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ro(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.D);return v}return P(d.i)}function mc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],w=d.length,O=0;O<w;O++)v.push(d[O]);return v}v=[],w=0;for(O in d)v[w++]=d[O];return v}function ia(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(const O in d)v[w++]=O;return v}}}function ao(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=ia(d),O=mc(d),W=O.length,it=0;it<W;it++)v.call(void 0,O[it],w&&w[it],d)}var Nn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hn(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),W=null;if(0<=O){var it=d[w].substring(0,O);W=d[w].substring(O+1)}else it=d[w];v(it,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ie(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ie){this.h=d.h,Ws(this,d.j),this.o=d.o,this.g=d.g,vs(this,d.s),this.l=d.l;var v=d.i,w=new Ln;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),mn(this,w),this.m=d.m}else d&&(v=String(d).match(Nn))?(this.h=!1,Ws(this,v[1]||"",!0),this.o=Sn(v[2]||""),this.g=Sn(v[3]||"",!0),vs(this,v[4]),this.l=Sn(v[5]||"",!0),mn(this,v[6]||"",!0),this.m=Sn(v[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Ie.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Qs(v,Es,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qs(v,Es,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Qs(w,w.charAt(0)=="/"?_c:sa,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Qs(w,oo)),d.join("")};function Le(d){return new Ie(d)}function Ws(d,v,w){d.j=w?Sn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function vs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function mn(d,v,w){v instanceof Ln?(d.i=v,wl(d.i,d.h)):(w||(v=Qs(v,Ki)),d.i=new Ln(v,d.h))}function ae(d,v,w){d.i.set(v,w)}function bs(d){return ae(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qs(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,Tl),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Tl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Es=/[#\/\?@]/g,sa=/[#\?:]/g,_c=/[#\?]/g,Ki=/[#\?@]/g,oo=/#/g;function Ln(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&Hn(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Ln.prototype,n.add=function(d,v){qn(this),this.i=null,d=ei(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function Ts(d,v){qn(d),v=ei(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function gi(d,v){return qn(d),v=ei(d,v),d.g.has(v)}n.forEach=function(d,v){qn(this),this.g.forEach(function(w,O){w.forEach(function(W){d.call(v,W,O,this)},this)},this)},n.na=function(){qn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let O=0;O<v.length;O++){const W=d[O];for(let it=0;it<W.length;it++)w.push(v[O])}return w},n.V=function(d){qn(this);let v=[];if(typeof d=="string")gi(this,d)&&(v=v.concat(this.g.get(ei(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},n.set=function(d,v){return qn(this),this.i=null,d=ei(this,d),gi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ra(d,v,w){Ts(d,v),0<w.length&&(d.i=null,d.g.set(ei(d,v),P(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var O=v[w];const it=encodeURIComponent(String(O)),vt=this.V(O);for(O=0;O<vt.length;O++){var W=it;vt[O]!==""&&(W+="="+encodeURIComponent(String(vt[O]))),d.push(W)}}return this.i=d.join("&")};function ei(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function wl(d,v){v&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(w,O){var W=O.toLowerCase();O!=W&&(Ts(this,O),ra(this,W,w))},d)),d.j=v}function _r(d,v){const w=new Si;if(h.Image){const O=new Image;O.onload=A(An,w,"TestLoadImage: loaded",!0,v,O),O.onerror=A(An,w,"TestLoadImage: error",!1,v,O),O.onabort=A(An,w,"TestLoadImage: abort",!1,v,O),O.ontimeout=A(An,w,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else v(!1)}function Ri(d,v){const w=new Si,O=new AbortController,W=setTimeout(()=>{O.abort(),An(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:O.signal}).then(it=>{clearTimeout(W),it.ok?An(w,"TestPingServer: ok",!0,v):An(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),An(w,"TestPingServer: error",!1,v)})}function An(d,v,w,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(w)}catch{}}function aa(){this.g=new Jr}function Wi(d,v,w){const O=w||"";try{ao(d,function(W,it){let vt=W;g(W)&&(vt=$i(W)),v.push(O+it+"="+encodeURIComponent(vt))})}catch(W){throw v.push(O+"type="+encodeURIComponent("_badmap")),W}}function ws(d){this.l=d.Ub||null,this.j=d.eb||!1}R(ws,ml),ws.prototype.g=function(){return new Ci(this.l,this.j)},ws.prototype.i=function(d){return function(){return d}}({});function Ci(d,v){je.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ci,je),n=Ci.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,pi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oa(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function oa(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ss(this):pi(this),this.readyState==3&&oa(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ss(this))},n.Qa=function(d){this.g&&(this.response=d,Ss(this))},n.ga=function(){this.g&&Ss(this)};function Ss(d){d.readyState=4,d.l=null,d.j=null,d.v=null,pi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function pi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Sl(d){let v="";return pt(d,function(w,O){v+=O,v+=":",v+=w,v+=`\r
`}),v}function sn(d,v,w){t:{for(O in w){var O=!1;break t}O=!0}O||(w=Sl(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ae(d,v,w))}function fe(d){je.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(fe,je);var yr=/^https?$/i,Xs=["POST","PUT"];n=fe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gs.g(),this.v=this.o?_l(this.o):_l(gs),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(it){Al(this,it);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)w.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const it of O.keys())w.set(it,O.get(it));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(it=>it.toLowerCase()=="content-type"),W=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Xs,v,void 0))||O||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,vt]of w)this.g.setRequestHeader(it,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{br(this),this.u=!0,this.g.send(d),this.u=!1}catch(it){Al(this,it)}};function Al(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,As(d),Qi(d)}function As(d){d.A||(d.A=!0,Ee(d,"complete"),Ee(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ee(this,"complete"),Ee(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vr(this):this.bb())},n.bb=function(){vr(this)};function vr(d){if(d.h&&typeof c<"u"&&(!d.v[1]||xn(d)!=4||d.Z()!=2)){if(d.u&&xn(d)==4)Qe(d.Ea,0,d);else if(Ee(d,"readystatechange"),xn(d)==4){d.h=!1;try{const vt=d.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var O;if(O=vt===0){var W=String(d.D).match(Nn)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),O=!yr.test(W?W.toLowerCase():"")}w=O}if(w)Ee(d,"complete"),Ee(d,"success");else{d.m=6;try{var it=2<xn(d)?d.g.statusText:""}catch{it=""}d.l=it+" ["+d.Z()+"]",As(d)}}finally{Qi(d)}}}}function Qi(d,v){if(d.g){br(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ee(d,"ready");try{w.onreadystatechange=O}catch{}}}function br(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),to(v)}};function yc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(d){const v={};d=(d.g&&2<=xn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(G(d[O]))continue;var w=B(d[O]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const it=v[W]||[];v[W]=it,it.push(w)}V(v,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function la(d){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,d),this.cb=Er("retryDelaySeedMs",1e4,d),this.Wa=Er("forwardChannelMaxRetries",2,d),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(d&&d.concurrentRequestLimit),this.Da=new aa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=la.prototype,n.la=8,n.G=1,n.connect=function(d,v,w,O){Te(0),this.W=d,this.H=v||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=Ol(this,null,this.W),ua(this)};function lo(d){if(co(d),d.G==3){var v=d.U++,w=Le(d.I);if(ae(w,"SID",d.K),ae(w,"RID",v),ae(w,"TYPE","terminate"),Tr(d,w),v=new Ze(d,d.j,v),v.L=2,v.v=bs(Le(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=Ec(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xi(v)}bc(d)}function ca(d){d.g&&(fa(d),d.g.cancel(),d.g=null)}function co(d){ca(d),d.u&&(h.clearTimeout(d.u),d.u=null),da(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function ua(d){if(!ta(d.h)&&!d.s){d.s=!0;var v=d.Ga;gt||D(),xt||(gt(),xt=!0),Lt.add(v,d),d.B=0}}function Vu(d,v){return ea(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Xe(E(d.Ga,d,v),Xi(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Ze(this,this.j,d);let it=this.o;if(this.S&&(it?(it=k(it),z(it,this.S)):it=this.S),this.m!==null||this.O||(W.H=it,it=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=Rl(this,W,v),w=Le(this.I),ae(w,"RID",d),ae(w,"CVER",22),this.D&&ae(w,"X-HTTP-Session-Id",this.D),Tr(this,w),it&&(this.O?v="headers="+encodeURIComponent(String(Sl(it)))+"&"+v:this.m&&sn(w,this.m,it)),na(this.h,W),this.Ua&&ae(w,"TYPE","init"),this.P?(ae(w,"$req",v),ae(w,"SID","null"),W.T=!0,ke(W,w,null)):ke(W,w,v),this.G=2}}else this.G==3&&(d?xl(this,d):this.i.length==0||ta(this.h)||xl(this))};function xl(d,v){var w;v?w=v.l:w=d.U++;const O=Le(d.I);ae(O,"SID",d.K),ae(O,"RID",w),ae(O,"AID",d.T),Tr(d,O),d.m&&d.o&&sn(O,d.m,d.o),w=new Ze(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Rl(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),na(d.h,w),ke(w,O,v)}function Tr(d,v){d.H&&pt(d.H,function(w,O){ae(v,O,w)}),d.l&&ao({},function(w,O){ae(v,O,w)})}function Rl(d,v,w){w=Math.min(d.i.length,w);var O=d.l?E(d.l.Na,d.l,d):null;t:{var W=d.i;let it=-1;for(;;){const vt=["count="+w];it==-1?0<w?(it=W[0].g,vt.push("ofs="+it)):it=0:vt.push("ofs="+it);let oe=!0;for(let rn=0;rn<w;rn++){let le=W[rn].g;const _n=W[rn].map;if(le-=it,0>le)it=Math.max(0,W[rn].g-100),oe=!1;else try{Wi(_n,vt,"req"+le+"_")}catch{O&&O(_n)}}if(oe){O=vt.join("&");break t}}}return d=d.i.splice(0,w),v.D=d,O}function ha(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;gt||D(),xt||(gt(),xt=!0),Lt.add(v,d),d.v=0}}function Cl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Xe(E(d.Fa,d),Xi(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,uo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Xe(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),ca(this),uo(this))};function fa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function uo(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Le(d.qa);ae(v,"RID","rpc"),ae(v,"SID",d.K),ae(v,"AID",d.T),ae(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ae(v,"TO",d.ja),ae(v,"TYPE","xmlhttp"),Tr(d,v),d.m&&d.o&&sn(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=bs(Le(v)),w.m=null,w.P=!0,Ai(w,d)}n.Za=function(){this.C!=null&&(this.C=null,ca(this),Cl(this),Te(19))};function da(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Il(d,v){var w=null;if(d.g==v){da(d),fa(d),d.g=null;var O=2}else if(so(d.h,v))w=v.D,Pn(d.h,v),O=1;else return;if(d.G!=0){if(v.o)if(O==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;O=gr(),Ee(O,new nn(O,w)),ua(d)}else ha(d);else if(W=v.s,W==3||W==0&&0<v.X||!(O==1&&Vu(d,v)||O==2&&Cl(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),W){case 1:Zi(d,5);break;case 4:Zi(d,10);break;case 3:Zi(d,6);break;default:Zi(d,2)}}}function Xi(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function Zi(d,v){if(d.j.info("Error code "+v),v==2){var w=E(d.fb,d),O=d.Xa;const W=!O;O=new Ie(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ws(O,"https"),bs(O),W?_r(O.toString(),w):Ri(O.toString(),w)}else Te(2);d.G=0,d.l&&d.l.sa(v),bc(d),co(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function bc(d){if(d.G=0,d.ka=[],d.l){const v=ro(d.h);(v.length!=0||d.i.length!=0)&&(M(d.ka,v),M(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function Ol(d,v,w){var O=w instanceof Ie?Le(w):new Ie(w);if(O.g!="")v&&(O.g=v+"."+O.g),vs(O,O.s);else{var W=h.location;O=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var it=new Ie(null);O&&Ws(it,O),v&&(it.g=v),W&&vs(it,W),w&&(it.l=w),O=it}return w=d.D,v=d.ya,w&&v&&ae(O,w,v),ae(O,"VER",d.la),Tr(d,O),O}function Ec(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new fe(new ws({eb:w})):new fe(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}n=Tc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(d,v){return new $n(d,v)};function $n(d,v){je.call(this),this.g=new la(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!G(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new xs(this)}R($n,je),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){lo(this.g)},$n.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=$i(d),d=w);v.i.push(new io(v.Ya++,d)),v.G==3&&ua(v)},$n.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,$n.aa.N.call(this)};function Dl(d){wi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const w in v){d=w;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(Dl,wi);function Ml(){eo.call(this),this.status=1}R(Ml,eo);function xs(d){this.g=d}R(xs,Tc),xs.prototype.ua=function(){Ee(this.g,"a")},xs.prototype.ta=function(d){Ee(this.g,new Dl(d))},xs.prototype.sa=function(d){Ee(this.g,new Ml)},xs.prototype.ra=function(){Ee(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,EA=function(){return new ho},bA=function(){return gr()},vA=Gi,K_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Mg=mr,Yi.COMPLETE="complete",yA=Yi,yl.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",je.prototype.listen=je.prototype.K,ef=yl,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,_A=fe}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});const FE="@firebase/firestore",HE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new xy("@firebase/firestore");function nu(){return lc.logLevel}function Ct(n,...t){if(lc.logLevel<=ce.DEBUG){const e=t.map(Uy);lc.debug(`Firestore (${Ru}): ${n}`,...e)}}function Ya(n,...t){if(lc.logLevel<=ce.ERROR){const e=t.map(Uy);lc.error(`Firestore (${Ru}): ${n}`,...e)}}function il(n,...t){if(lc.logLevel<=ce.WARN){const e=t.map(Uy);lc.warn(`Firestore (${Ru}): ${n}`,...e)}}function Uy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,TA(n,i,e)}function TA(n,t,e){let i=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ya(i),new Error(i)}function we(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||TA(t,r,i)}function Xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Xa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ci.UNAUTHENTICATED))}shutdown(){}}class IM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class OM{constructor(t){this.t=t,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){we(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ha,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ha)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string",31837,{l:i}),new wA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string",2055,{h:t}),new ci(t)}}class DM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new DM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){we(this.o===void 0,3512);const i=o=>{o.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(we(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=PM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function te(n,t){return n<t?-1:n>t?1:0}function W_(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return te(i,r);{const o=SA(),c=NM(o.encode($E(n,e)),o.encode($E(t,e)));return c!==0?c:te(i,r)}}e+=i>65535?2:1}return te(n.length,t.length)}function $E(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function NM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return te(n[e],t[e]);return te(n.length,t.length)}function gu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__name__";class zr{constructor(t,e,i){e===void 0?e=0:e>t.length&&$t(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&$t(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return zr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=zr.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return te(t.length,e.length)}static compareSegments(t,e){const i=zr.isNumericId(t),r=zr.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?zr.extractNumericId(t).compare(zr.extractNumericId(e)):W_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zo.fromString(t.substring(4,t.length-2))}}class ze extends zr{construct(t,e,i){return new ze(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new At(ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ze(e)}static emptyPath(){return new ze([])}}const LM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends zr{construct(t,e,i){return new Zn(t,e,i)}static isValidIdentifier(t){return LM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GE}static keyField(){return new Zn([GE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new At(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new At(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new At(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new At(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zn(e)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(ze.fromString(t))}static fromName(t){return new Nt(ze.fromString(t).popFirst(5))}static empty(){return new Nt(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ze.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new ze(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n,t,e){if(!e)throw new At(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function VM(n,t,e,i){if(t===!0&&i===!0)throw new At(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function YE(n){if(!Nt.isDocumentKey(n))throw new At(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KE(n){if(Nt.isDocumentKey(n))throw new At(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ap(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":$t(12329,{type:typeof n})}function Fi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new At(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ap(n);throw new At(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Bf(n,t){if(!xA(n))throw new At(ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new At(ut.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,QE=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*QE);return new Fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<WE)throw new At(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bf(t,Fe._jsonSchema))return new Fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Tn("string",Fe._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(t){return new Wt(t)}static min(){return new Wt(new Fe(0,0))}static max(){return new Wt(new Fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=-1;function UM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(i===1e9?new Fe(e+1,0):new Fe(e,i));return new sl(r,Nt.empty(),t)}function zM(n){return new sl(n.readTime,n.key,Tf)}class sl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new sl(Wt.min(),Nt.empty(),Tf)}static max(){return new sl(Wt.max(),Nt.empty(),Tf)}}function jM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Nt.comparator(n.documentKey,t.documentKey),e!==0?e:te(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==BM)throw n;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.reject(e)}static resolve(t){return new dt((e,i)=>{e(t)})}static reject(t){return new dt((e,i)=>{i(t)})}static waitFor(t){return new dt((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=dt.resolve(!1);for(const i of t)e=e.next(r=>r?dt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new dt((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(y=>{c[g]=y,++h,h===o&&i(c)},y=>r(y))}})}static doWhile(t,e){return new dt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function HM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Iu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}xp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-1;function Rp(n){return n==null}function Xg(n){return n===0&&1/n==-1/0}function qM(n){return typeof n=="number"&&Number.isInteger(n)&&!Xg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="";function $M(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=XE(t)),t=GM(n.get(e),t);return XE(t)}function GM(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case RA:e+="";break;default:e+=o}}return e}function XE(n){return n+RA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function dl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function CA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,e){this.comparator=t,this.root=e||Xn.EMPTY}insert(t,e){return new Ke(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(t){return new Ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lg(this.root,t,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lg(this.root,t,this.comparator,!0)}}class lg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Xn.RED,this.left=r??Xn.EMPTY,this.right=o??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Xn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Xn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $t(27949);return t+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.comparator=t,this.data=new Ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new JE(this.data.getIterator())}getIteratorFrom(t){return new JE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Mn(this.comparator);return e.data=t,e}}class JE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.fields=t,t.sort(Zn.comparator)}static empty(){return new cs([])}unionWith(t){let e=new Mn(Zn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new cs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return gu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IA("Invalid base64 string: "+o):o}}(t);return new ti(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new ti(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(n){if(we(!!n,39018),typeof n=="string"){let t=0;const e=YM.exec(n);if(we(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function al(n){return typeof n=="string"?ti.fromBase64String(n):ti.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",DA="__type__",MA="__previous_value__",kA="__local_write_time__";function By(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[DA])===null||e===void 0?void 0:e.stringValue)===OA}function Cp(n){const t=n.mapValue.fields[MA];return By(t)?Cp(t):t}function wf(n){const t=rl(n.mapValue.fields[kA].timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,e,i,r,o,c,h,f,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y}}const Zg="(default)";class Sf{constructor(t,e){this.projectId=t,this.database=e||Zg}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database===Zg}isEqual(t){return t instanceof Sf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="__type__",WM="__max__",cg={mapValue:{}},NA="__vector__",Jg="value";function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:XM(n)?9007199254740991:QM(n)?10:11:$t(28295,{value:n})}function Kr(n,t){if(n===t)return!0;const e=ol(n);if(e!==ol(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return wf(n).isEqual(wf(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=rl(r.timestampValue),h=rl(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return al(r.bytesValue).isEqual(al(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return fn(r.geoPointValue.latitude)===fn(o.geoPointValue.latitude)&&fn(r.geoPointValue.longitude)===fn(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return fn(r.integerValue)===fn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=fn(r.doubleValue),h=fn(o.doubleValue);return c===h?Xg(c)===Xg(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return gu(n.arrayValue.values||[],t.arrayValue.values||[],Kr);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(ZE(c)!==ZE(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Kr(c[f],h[f])))return!1;return!0}(n,t);default:return $t(52216,{left:n})}}function Af(n,t){return(n.values||[]).find(e=>Kr(e,t))!==void 0}function pu(n,t){if(n===t)return 0;const e=ol(n),i=ol(t);if(e!==i)return te(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=fn(o.integerValue||o.doubleValue),f=fn(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return tT(n.timestampValue,t.timestampValue);case 4:return tT(wf(n),wf(t));case 5:return W_(n.stringValue,t.stringValue);case 6:return function(o,c){const h=al(o),f=al(c);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=te(h[g],f[g]);if(y!==0)return y}return te(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=te(fn(o.latitude),fn(c.latitude));return h!==0?h:te(fn(o.longitude),fn(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return eT(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,f,g,y;const b=o.fields||{},E=c.fields||{},A=(h=b[Jg])===null||h===void 0?void 0:h.arrayValue,R=(f=E[Jg])===null||f===void 0?void 0:f.arrayValue,P=te(((g=A?.values)===null||g===void 0?void 0:g.length)||0,((y=R?.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:eT(A,R)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===cg.mapValue&&c===cg.mapValue)return 0;if(o===cg.mapValue)return 1;if(c===cg.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const E=W_(f[b],y[b]);if(E!==0)return E;const A=pu(h[f[b]],g[y[b]]);if(A!==0)return A}return te(f.length,y.length)}(n.mapValue,t.mapValue);default:throw $t(23264,{le:e})}}function tT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return te(n,t);const e=rl(n),i=rl(t),r=te(e.seconds,i.seconds);return r!==0?r:te(e.nanos,i.nanos)}function eT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=pu(e[r],i[r]);if(o)return o}return te(e.length,i.length)}function mu(n){return Q_(n)}function Q_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=rl(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return al(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Nt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Q_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Q_(e.fields[c])}`;return r+"}"}(n.mapValue):$t(61005,{value:n})}function kg(n){switch(ol(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cp(n);return t?16+kg(t):16;case 5:return 2*n.stringValue.length;case 6:return al(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+kg(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return dl(i.fields,(o,c)=>{r+=o.length+kg(c)}),r}(n.mapValue);default:throw $t(13486,{value:n})}}function nT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function X_(n){return!!n&&"integerValue"in n}function Fy(n){return!!n&&"arrayValue"in n}function iT(n){return!!n&&"nullValue"in n}function sT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pg(n){return!!n&&"mapValue"in n}function QM(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[PA])===null||e===void 0?void 0:e.stringValue)===NA}function hf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return dl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=hf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=hf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function XM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.value=t}static empty(){return new Ui({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Pg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=hf(e)}setAll(t){let e=Zn.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=hf(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Pg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Kr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){dl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ui(hf(this.value))}}function LA(n){const t=[];return dl(n.fields,(e,i)=>{const r=new Zn([e]);if(Pg(i)){const o=LA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new cs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ui(t,0,Wt.min(),Wt.min(),Wt.min(),Ui.empty(),0)}static newFoundDocument(t,e,i,r){return new ui(t,1,e,Wt.min(),i,r,0)}static newNoDocument(t,e){return new ui(t,2,e,Wt.min(),Wt.min(),Ui.empty(),0)}static newUnknownDocument(t,e){return new ui(t,3,e,Wt.min(),Wt.min(),Ui.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,e){this.position=t,this.inclusive=e}}function rT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=Nt.comparator(Nt.fromName(c.referenceValue),e.key):i=pu(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function aT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Kr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,e="asc"){this.field=t,this.dir=e}}function ZM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{}class En extends VA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new tk(t,e,i):e==="array-contains"?new ik(t,i):e==="in"?new sk(t,i):e==="not-in"?new rk(t,i):e==="array-contains-any"?new ak(t,i):new En(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ek(t,i):new nk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(pu(e,this.value)):e!==null&&ol(this.value)===ol(e)&&this.matchesComparison(pu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends VA{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new lr(t,e)}matches(t){return UA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function UA(n){return n.op==="and"}function zA(n){return JM(n)&&UA(n)}function JM(n){for(const t of n.filters)if(t instanceof lr)return!1;return!0}function Z_(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+mu(n.value);if(zA(n))return n.filters.map(t=>Z_(t)).join(",");{const t=n.filters.map(e=>Z_(e)).join(",");return`${n.op}(${t})`}}function jA(n,t){return n instanceof En?function(i,r){return r instanceof En&&i.op===r.op&&i.field.isEqual(r.field)&&Kr(i.value,r.value)}(n,t):n instanceof lr?function(i,r){return r instanceof lr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&jA(c,r.filters[h]),!0):!1}(n,t):void $t(19439)}function BA(n){return n instanceof En?function(e){return`${e.field.canonicalString()} ${e.op} ${mu(e.value)}`}(n):n instanceof lr?function(e){return e.op.toString()+" {"+e.getFilters().map(BA).join(" ,")+"}"}(n):"Filter"}class tk extends En{constructor(t,e,i){super(t,e,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const e=Nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ek extends En{constructor(t,e){super(t,"in",e),this.keys=FA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class nk extends En{constructor(t,e){super(t,"not-in",e),this.keys=FA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function FA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Nt.fromName(i.referenceValue))}class ik extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fy(e)&&Af(e.arrayValue,this.value)}}class sk extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Af(this.value.arrayValue,e)}}class rk extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Af(this.value.arrayValue,e)}}class ak extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Af(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Pe=null}}function oT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new ok(n,t,e,i,r,o,c)}function Hy(n){const t=Xt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Z_(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Rp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>mu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>mu(i)).join(",")),t.Pe=e}return t.Pe}function qy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ZM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!jA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!aT(n.startAt,t.startAt)&&aT(n.endAt,t.endAt)}function J_(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lk(n,t,e,i,r,o,c,h){return new Ff(n,t,e,i,r,o,c,h)}function Ip(n){return new Ff(n)}function lT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HA(n){return n.collectionGroup!==null}function ff(n){const t=Xt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mn(Zn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new ep(o,i))}),e.has(Zn.keyField().canonicalString())||t.Te.push(new ep(Zn.keyField(),i))}return t.Te}function qr(n){const t=Xt(n);return t.Ie||(t.Ie=ck(t,ff(n))),t.Ie}function ck(n,t){if(n.limitType==="F")return oT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new ep(r.field,o)});const e=n.endAt?new tp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new tp(n.startAt.position,n.startAt.inclusive):null;return oT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function ty(n,t){const e=n.filters.concat([t]);return new Ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ey(n,t,e){return new Ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Op(n,t){return qy(qr(n),qr(t))&&n.limitType===t.limitType}function qA(n){return`${Hy(qr(n))}|lt:${n.limitType}`}function iu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>BA(r)).join(", ")}]`),Rp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>mu(r)).join(",")),`Target(${i})`}(qr(n))}; limitType=${n.limitType})`}function Dp(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Nt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of ff(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,f){const g=rT(c,h,f);return c.inclusive?g<=0:g<0}(i.startAt,ff(i),r)||i.endAt&&!function(c,h,f){const g=rT(c,h,f);return c.inclusive?g>=0:g>0}(i.endAt,ff(i),r))}(n,t)}function uk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $A(n){return(t,e)=>{let i=!1;for(const r of ff(n)){const o=hk(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function hk(n,t,e){const i=n.field.isKeyField()?Nt.comparator(t.key,e.key):function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?pu(f,g):$t(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $t(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){dl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return CA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Ke(Nt.comparator);function Ka(){return fk}const GA=new Ke(Nt.comparator);function nf(...n){let t=GA;for(const e of n)t=t.insert(e.key,e);return t}function YA(n){let t=GA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Zl(){return df()}function KA(){return df()}function df(){return new dc(n=>n.toString(),(n,t)=>n.isEqual(t))}const dk=new Ke(Nt.comparator),gk=new Mn(Nt.comparator);function ue(...n){let t=gk;for(const e of n)t=t.add(e);return t}const pk=new Mn(te);function mk(){return pk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xg(t)?"-0":t}}function WA(n){return{integerValue:""+n}}function _k(n,t){return qM(t)?WA(t):$y(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this._=void 0}}function yk(n,t,e){return n instanceof np?function(r,o){const c={fields:{[DA]:{stringValue:OA},[kA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&By(o)&&(o=Cp(o)),o&&(c.fields[MA]=o),{mapValue:c}}(e,t):n instanceof xf?XA(n,t):n instanceof Rf?ZA(n,t):function(r,o){const c=QA(r,o),h=cT(c)+cT(r.Ee);return X_(c)&&X_(r.Ee)?WA(h):$y(r.serializer,h)}(n,t)}function vk(n,t,e){return n instanceof xf?XA(n,t):n instanceof Rf?ZA(n,t):e}function QA(n,t){return n instanceof ip?function(i){return X_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class np extends Mp{}class xf extends Mp{constructor(t){super(),this.elements=t}}function XA(n,t){const e=JA(t);for(const i of n.elements)e.some(r=>Kr(r,i))||e.push(i);return{arrayValue:{values:e}}}class Rf extends Mp{constructor(t){super(),this.elements=t}}function ZA(n,t){let e=JA(t);for(const i of n.elements)e=e.filter(r=>!Kr(r,i));return{arrayValue:{values:e}}}class ip extends Mp{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function cT(n){return fn(n.integerValue||n.doubleValue)}function JA(n){return Fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function bk(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof xf&&r instanceof xf||i instanceof Rf&&r instanceof Rf?gu(i.elements,r.elements,Kr):i instanceof ip&&r instanceof ip?Kr(i.Ee,r.Ee):i instanceof np&&r instanceof np}(n.transform,t.transform)}class Ek{constructor(t,e){this.version=t,this.transformResults=e}}class Ls{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ls}static exists(t){return new Ls(void 0,t)}static updateTime(t){return new Ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ng(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class kp{}function t1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Gy(n.key,Ls.none()):new Hf(n.key,n.data,Ls.none());{const e=n.data,i=Ui.empty();let r=new Mn(Zn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new gl(n.key,i,new cs(r.toArray()),Ls.none())}}function Tk(n,t,e){n instanceof Hf?function(r,o,c){const h=r.value.clone(),f=hT(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof gl?function(r,o,c){if(!Ng(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=hT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(e1(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function gf(n,t,e,i){return n instanceof Hf?function(o,c,h,f){if(!Ng(o.precondition,c))return h;const g=o.value.clone(),y=fT(o.fieldTransforms,f,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof gl?function(o,c,h,f){if(!Ng(o.precondition,c))return h;const g=fT(o.fieldTransforms,f,c),y=c.data;return y.setAll(e1(o)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,t,e,i):function(o,c,h){return Ng(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function wk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=QA(i.transform,r||null);o!=null&&(e===null&&(e=Ui.empty()),e.set(i.field,o))}return e||null}function uT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&gu(i,r,(o,c)=>bk(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Hf extends kp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gl extends kp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function e1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function hT(n,t,e){const i=new Map;we(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,vk(c,h,e[r]))}return i}function fT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,yk(o,c,t))}return i}class Gy extends kp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sk extends kp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Tk(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=gf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=gf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=KA();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=t1(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Wt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ue())}isEqual(t){return this.batchId===t.batchId&&gu(this.mutations,t.mutations,(e,i)=>uT(e,i))&&gu(this.baseMutations,t.baseMutations,(e,i)=>uT(e,i))}}class Yy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){we(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return dk}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Yy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,pe;function Ck(n){switch(n){case ut.OK:return $t(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return $t(15467,{code:n})}}function n1(n){if(n===void 0)return Ya("GRPC error has no .code"),ut.UNKNOWN;switch(n){case bn.OK:return ut.OK;case bn.CANCELLED:return ut.CANCELLED;case bn.UNKNOWN:return ut.UNKNOWN;case bn.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case bn.INTERNAL:return ut.INTERNAL;case bn.UNAVAILABLE:return ut.UNAVAILABLE;case bn.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case bn.NOT_FOUND:return ut.NOT_FOUND;case bn.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case bn.ABORTED:return ut.ABORTED;case bn.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case bn.DATA_LOSS:return ut.DATA_LOSS;default:return $t(39323,{code:n})}}(pe=bn||(bn={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new Zo([4294967295,4294967295],0);function dT(n){const t=SA().encode(n),e=new mA;return e.update(t),new Uint8Array(e.digest())}function gT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Zo([e,i],0),new Zo([r,o],0)]}class Ky{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new sf(`Invalid padding: ${e}`);if(i<0)throw new sf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new sf(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new sf(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=Zo.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(Zo.fromNumber(i)));return r.compare(Ik)===1&&(r=new Zo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=dT(t),[i,r]=gT(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);if(!this.ye(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Ky(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(this.fe===0)return;const e=dT(t),[i,r]=gT(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);this.we(c)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,qf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Pp(Wt.min(),r,new Ke(te),Ka(),ue())}}class qf{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new qf(i,e,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class i1{constructor(t,e){this.targetId=t,this.De=e}}class s1{constructor(t,e,i=ti.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class pT{constructor(){this.ve=0,this.Ce=mT(),this.Fe=ti.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ue(),e=ue(),i=ue();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$t(38017,{changeType:o})}}),new qf(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=mT()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Ok{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ka(),this.je=ug(),this.Je=ug(),this.He=new Ke(te)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:$t(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(J_(o))if(i===0){const c=new Nt(o.path);this.Xe(e,c,ui.newNoDocument(c,Wt.min()))}else we(i===1,20013,{expectedCount:i});else{const c=this.ot(e);if(c!==i){const h=this._t(t),f=h?this.ut(h,t,c):1;if(f!==0){this.rt(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,g)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=al(i).toUint8Array()}catch(f){if(f instanceof IA)return il("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Ky(c,r,o)}catch(f){return il(f instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,c)=>{const h=this.st(c);if(h){if(o.current&&J_(h.target)){const f=new Nt(h.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,ui.newNoDocument(f,t))}o.Ne&&(e.set(c,o.Le()),o.ke())}});let i=ue();this.Je.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const g=this.st(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(t));const r=new Pp(t,e,this.He,this.ze,i);return this.ze=Ka(),this.je=ug(),this.Je=ug(),this.He=new Ke(te),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new pT,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Mn(te),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Mn(te),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||Ct("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new pT),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function ug(){return new Ke(Nt.comparator)}function mT(){return new Ke(Nt.comparator)}const Dk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kk={and:"AND",or:"OR"};class Pk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ny(n,t){return n.useProto3Json||Rp(t)?t:{value:t}}function sp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function r1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Nk(n,t){return sp(n,t.toTimestamp())}function $r(n){return we(!!n,49232),Wt.fromTimestamp(function(e){const i=rl(e);return new Fe(i.seconds,i.nanos)}(n))}function Wy(n,t){return iy(n,t).canonicalString()}function iy(n,t){const e=function(r){return new ze(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function a1(n){const t=ze.fromString(n);return we(h1(t),10190,{key:t.toString()}),t}function sy(n,t){return Wy(n.databaseId,t.path)}function b_(n,t){const e=a1(t);if(e.get(1)!==n.databaseId.projectId)throw new At(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new At(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Nt(l1(e))}function o1(n,t){return Wy(n.databaseId,t)}function Lk(n){const t=a1(n);return t.length===4?ze.emptyPath():l1(t)}function ry(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l1(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _T(n,t,e){return{name:sy(n,t),fields:e.value.mapValue.fields}}function Vk(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:$t(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(we(y===void 0||typeof y=="string",58123),ti.fromBase64String(y||"")):(we(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ti.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(g){const y=g.code===void 0?ut.UNKNOWN:n1(g.code);return new At(y,g.message||"")}(c);e=new s1(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=b_(n,i.document.name),o=$r(i.document.updateTime),c=i.document.createTime?$r(i.document.createTime):Wt.min(),h=new Ui({mapValue:{fields:i.document.fields}}),f=ui.newFoundDocument(r,o,c,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new Lg(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=b_(n,i.document),o=i.readTime?$r(i.readTime):Wt.min(),c=ui.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Lg([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=b_(n,i.document),o=i.removedTargetIds||[];e=new Lg([],o,r,null)}else{if(!("filter"in t))return $t(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new Rk(r,o),h=i.targetId;e=new i1(h,c)}}return e}function Uk(n,t){let e;if(t instanceof Hf)e={update:_T(n,t.key,t.value)};else if(t instanceof Gy)e={delete:sy(n,t.key)};else if(t instanceof gl)e={update:_T(n,t.key,t.data),updateMask:Yk(t.fieldMask)};else{if(!(t instanceof Sk))return $t(16599,{Rt:t.type});e={verify:sy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof np)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof xf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Rf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ip)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw $t(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Nk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$t(27497)}(n,t.precondition)),e}function zk(n,t){return n&&n.length>0?(we(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?$r(r.updateTime):$r(o);return c.isEqual(Wt.min())&&(c=$r(o)),new Ek(c,r.transformResults||[])}(e,t))):[]}function jk(n,t){return{documents:[o1(n,t.path)]}}function Bk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=o1(n,r);const o=function(g){if(g.length!==0)return u1(lr.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(y=>function(E){return{field:su(E.field),direction:qk(E.dir)}}(y))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=ny(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:e,parent:r}}function Fk(n){let t=Lk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){we(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(b){const E=c1(b);return E instanceof lr&&zA(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=function(b){return b.map(E=>function(R){return new ep(ru(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(e.orderBy));let h=null;e.limit&&(h=function(b){let E;return E=typeof b=="object"?b.value:b,Rp(E)?null:E}(e.limit));let f=null;e.startAt&&(f=function(b){const E=!!b.before,A=b.values||[];return new tp(A,E)}(e.startAt));let g=null;return e.endAt&&(g=function(b){const E=!b.before,A=b.values||[];return new tp(A,E)}(e.endAt)),lk(t,r,c,o,h,"F",f,g)}function Hk(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function c1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ru(e.unaryFilter.field);return En.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ru(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ru(e.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ru(e.unaryFilter.field);return En.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}}(n):n.fieldFilter!==void 0?function(e){return En.create(ru(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return lr.create(e.compositeFilter.filters.map(i=>c1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $t(1026)}}(e.compositeFilter.op))}(n):$t(30097,{filter:n})}function qk(n){return Dk[n]}function $k(n){return Mk[n]}function Gk(n){return kk[n]}function su(n){return{fieldPath:n.canonicalString()}}function ru(n){return Zn.fromServerFormat(n.fieldPath)}function u1(n){return n instanceof En?function(e){if(e.op==="=="){if(sT(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NAN"}};if(iT(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(sT(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NAN"}};if(iT(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(e.field),op:$k(e.op),value:e.value}}}(n):n instanceof lr?function(e){const i=e.getFilters().map(r=>u1(r));return i.length===1?i[0]:{compositeFilter:{op:Gk(e.op),filters:i}}}(n):$t(54877,{filter:n})}function Yk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function h1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,e,i,r,o=Wt.min(),c=Wt.min(),h=ti.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new $o(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.gt=t}}function Wk(n){const t=Fk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ey(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.Dn=new Xk}addToCollectionParentIndex(t,e){return this.Dn.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(sl.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(sl.min())}updateCollectionGroup(t,e,i){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class Xk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Mn(ze.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Mn(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class Vi{static withCacheSize(t){return new Vi(t,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi.DEFAULT_COLLECTION_PERCENTILE=10,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vi.DEFAULT=new Vi(f1,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vi.DISABLED=new Vi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new _u(0)}static ur(){return new _u(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="LruGarbageCollector",Zk=1048576;function bT([n,t],[e,i]){const r=te(n,e);return r===0?te(t,i):r}class Jk{constructor(t){this.Tr=t,this.buffer=new Mn(bT),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();bT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class tP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){Ct(vT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Iu(e)?Ct(vT,"Ignoring IndexedDB error during garbage collection: ",e):await Cu(e)}await this.Rr(3e5)})}}class eP{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return dt.resolve(xp.ue);const i=new Jk(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(yT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,c,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,c=Date.now(),this.nthSequenceNumber(t,r))).next(b=>(i=b,h=Date.now(),this.removeTargets(t,i,e))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(g=Date.now(),nu()<=ce.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b})))}}function nP(n,t){return new eP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.changes=new dc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?dt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&gf(i.mutation,r,cs.empty(),Fe.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ue()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ue()){const r=Zl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=nf();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Zl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ue()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=Ka();const c=df(),h=function(){return df()}();return e.forEach((f,g)=>{const y=i.get(g.key);r.has(g.key)&&(y===void 0||y.mutation instanceof gl)?o=o.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),gf(y.mutation,g,y.mutation.getFieldMask(),Fe.now())):c.set(g.key,cs.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,y)=>c.set(g,y)),e.forEach((g,y)=>{var b;return h.set(g,new sP(y,(b=c.get(g))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(t,e){const i=df();let r=new Ke((c,h)=>c-h),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||cs.empty();y=h.applyToLocalView(g,y),i.set(f,y);const b=(r.get(h.batchId)||ue()).add(f);r=r.insert(h.batchId,b)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,b=KA();y.forEach(E=>{if(!o.has(E)){const A=t1(e.get(E),i.get(E));A!==null&&b.set(E,A),o=o.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return dt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return Nt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):HA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):dt.resolve(Zl());let h=Tf,f=o;return c.next(g=>dt.forEach(g,(y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?dt.resolve():this.remoteDocumentCache.getEntry(t,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,ue())).next(y=>({batchId:h,changes:YA(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Nt(e)).next(i=>{let r=nf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=nf();return this.indexManager.getCollectionParents(t,o).next(h=>dt.forEach(h,f=>{const g=function(b,E){return new Ff(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(y=>{y.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,ui.newInvalidDocument(y)))});let h=nf();return c.forEach((f,g)=>{const y=o.get(f);y!==void 0&&gf(y.mutation,g,cs.empty(),Fe.now()),Dp(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return dt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:$r(r.createTime)}}(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:Wk(r.bundledQuery),readTime:$r(r.readTime)}}(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.overlays=new Ke(Nt.comparator),this.kr=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Zl();return dt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),dt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),dt.resolve()}getOverlaysForCollection(t,e,i){const r=Zl(),o=e.length+1,c=new Nt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return dt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ke((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=Zl(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=Zl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=r)););return dt.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new xk(e,i));let o=this.kr.get(e);o===void 0&&(o=ue(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.qr=new Mn(jn.Qr),this.$r=new Mn(jn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new jn(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new jn(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new Nt(new ze([])),i=new jn(e,t),r=new jn(e,t+1),o=[];return this.$r.forEachInRange([i,r],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Nt(new ze([])),i=new jn(e,t),r=new jn(e,t+1);let o=ue();return this.$r.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new jn(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class jn{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Nt.comparator(t.key,e.key)||te(t.Hr,e.Hr)}static Ur(t,e){return te(t.Hr,e.Hr)||Nt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Mn(jn.Qr)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ak(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Yr=this.Yr.add(new jn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return dt.resolve(c)}lookupMutationBatch(t,e){return dt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return dt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?jy:this.er-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new jn(e,0),r=new jn(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],c=>{const h=this.Zr(c.Hr);o.push(h)}),dt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Mn(te);return e.forEach(r=>{const o=new jn(r,0),c=new jn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],h=>{i=i.add(h.Hr)})}),dt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Nt.isDocumentKey(o)||(o=o.child(""));const c=new jn(new Nt(o),0);let h=new Mn(te);return this.Yr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Hr)),!0)},c),dt.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){we(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return dt.forEach(e.mutations,r=>{const o=new jn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new jn(e,0),r=this.Yr.firstAfterOrEqual(i);return dt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t){this.ni=t,this.docs=function(){return new Ke(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return dt.resolve(i?i.document.mutableCopy():ui.newInvalidDocument(e))}getEntries(t,e){let i=Ka();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ui.newInvalidDocument(r))}),dt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ka();const c=e.path,h=new Nt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||jM(zM(y),i)<=0||(r.has(y.key)||Dp(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return dt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$t(9500)}ri(t,e){return dt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new hP(this)}getSize(t){return dt.resolve(this.size)}}class hP extends iP{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),dt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t){this.persistence=t,this.ii=new dc(e=>Hy(e),qy),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Qy,this.targetCount=0,this._i=_u.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),dt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new _u(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.hr(e),dt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),dt.waitFor(o).next(()=>r)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return dt.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),dt.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),dt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return dt.resolve(i)}containsKey(t,e){return dt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,e){this.ai={},this.overlays={},this.ui=new xp(0),this.ci=!1,this.ci=!0,this.li=new lP,this.referenceDelegate=t(this),this.hi=new fP(this),this.indexManager=new Qk,this.remoteDocumentCache=function(r){return new uP(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new Kk(e),this.Ti=new aP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new cP(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){Ct("MemoryPersistence","Starting transaction:",t);const r=new dP(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return dt.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class dP extends FM{constructor(t){super(),this.currentSequenceNumber=t}}class Xy{constructor(t){this.persistence=t,this.Ai=new Qy,this.Ri=null}static Vi(t){return new Xy(t)}get mi(){if(this.Ri)return this.Ri;throw $t(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),dt.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,i=>{const r=Nt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,Wt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return dt.or([()=>dt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class rp{constructor(t,e){this.persistence=t,this.gi=new dc(i=>$M(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=nP(this,e)}static Vi(t,e){return new rp(t,e)}Ii(){}di(t){return dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return dt.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?dt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,c=>this.Sr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,Wt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),dt.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=kg(t.data.value)),e}Sr(t,e,i){return dt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return dt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=ue(),r=ue();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Zy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return KI()?8:HM(hi())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new gP;return this.ws(t,e,c).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,c,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(nu()<=ce.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",iu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(nu()<=ce.DEBUG&&Ct("QueryEngine","Query:",iu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(nu()<=ce.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",iu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qr(e))):dt.resolve())}ps(t,e){if(lT(e))return dt.resolve(null);let i=qr(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=ey(e,null,"F"),i=qr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=ue(...o);return this.gs.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.bs(e,h);return this.Ds(e,g,c,f.readTime)?this.ps(t,ey(e,null,"F")):this.vs(t,g,e,f)}))})))}ys(t,e,i,r){return lT(e)||r.isEqual(Wt.min())?dt.resolve(null):this.gs.getDocuments(t,i).next(o=>{const c=this.bs(e,o);return this.Ds(e,c,i,r)?dt.resolve(null):(nu()<=ce.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iu(e)),this.vs(t,c,e,UM(r,Tf)).next(h=>h))})}bs(t,e){let i=new Mn($A(t));return e.forEach((r,o)=>{Dp(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return nu()<=ce.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",iu(e)),this.gs.getDocumentsMatchingQuery(t,e,sl.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",mP=3e8;class _P{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new Ke(te),this.Ms=new dc(o=>Hy(o),qy),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function yP(n,t,e,i){return new _P(n,t,e,i)}async function g1(n,t){const e=Xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=ue();for(const g of r){c.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:h}))})})}function vP(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const b=g.batch,E=b.keys();let A=dt.resolve();return E.forEach(R=>{A=A.next(()=>y.getEntry(f,R)).next(P=>{const M=g.docVersions.get(R);we(M!==null,48541),P.version.compareTo(M)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),y.addEntry(P)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(f,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=ue();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function p1(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function bP(n,t){const e=Xt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((y,b)=>{const E=r.get(b);if(!E)return;h.push(e.hi.removeMatchingKeys(o,y.removedDocuments,b).next(()=>e.hi.addMatchingKeys(o,y.addedDocuments,b)));let A=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(b)!==null?A=A.withResumeToken(ti.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),r=r.insert(b,A),function(P,M,L){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=mP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,A,y)&&h.push(e.hi.updateTargetData(o,A))});let f=Ka(),g=ue();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(EP(o,c,t.documentUpdates).next(y=>{f=y.Ls,g=y.ks})),!i.isEqual(Wt.min())){const y=e.hi.getLastRemoteSnapshotVersion(o).next(b=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return dt.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Fs=r,o))}function EP(n,t,e){let i=ue(),r=ue();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Ka();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Wt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):Ct(Jy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Ls:c,ks:r}})}function TP(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=jy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function wP(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,dt.resolve(r)):e.hi.allocateTargetId(i).next(c=>(r=new $o(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function ay(n,t,e){const i=Xt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Iu(c))throw c;Ct(Jy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function ET(n,t,e){const i=Xt(n);let r=Wt.min(),o=ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,y){const b=Xt(f),E=b.Ms.get(y);return E!==void 0?dt.resolve(b.Fs.get(E)):b.hi.getTargetData(g,y)}(i,c,qr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:Wt.min(),e?o:ue())).next(h=>(SP(i,uk(t),h),{documents:h,qs:o})))}function SP(n,t,e){let i=n.xs.get(t)||Wt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class TT{constructor(){this.activeTargetIds=mk()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AP{constructor(){this.Fo=new TT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new TT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="ConnectivityMonitor";class ST{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ct(wT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){Ct(wT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg=null;function oy(){return hg===null?hg=function(){return 268435456+Math.round(2147483648*Math.random())}():hg++,"0x"+hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="RestConnection",RP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CP{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Zg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=oy(),h=this.Go(t,e.toUriEncodedString());Ct(E_,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,r,o);const{host:g}=new URL(h),y=Su(g);return this.jo(t,h,f,i,y).then(b=>(Ct(E_,`Received RPC '${t}' ${c}: `,b),b),b=>{throw il(E_,`RPC '${t}' ${c} failed with error: `,b,"url: ",h,"request:",i),b})}Jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=RP[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class OP extends CP{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const c=oy();return new Promise((h,f)=>{const g=new _A;g.setWithCredentials(!0),g.listenOnce(yA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Mg.NO_ERROR:const b=g.getResponseJson();Ct(li,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),h(b);break;case Mg.TIMEOUT:Ct(li,`RPC '${t}' ${c} timed out`),f(new At(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Mg.HTTP_ERROR:const E=g.getStatus();if(Ct(li,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A?.error;if(R&&R.status&&R.message){const P=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(G)>=0?G:ut.UNKNOWN}(R.status);f(new At(P,R.message))}else f(new At(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new At(ut.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{c_:t,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ct(li,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(r);Ct(li,`RPC '${t}' ${c} sending request:`,r),g.send(e,"POST",y,i,15)})}P_(t,e,i){const r=oy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=EA(),h=bA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");Ct(li,`Creating RPC '${t}' stream ${r}: ${y}`,f);const b=c.createWebChannel(y,f);this.T_(b);let E=!1,A=!1;const R=new IP({Ho:M=>{A?Ct(li,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(E||(Ct(li,`Opening RPC '${t}' stream ${r} transport.`),b.open(),E=!0),Ct(li,`RPC '${t}' stream ${r} sending:`,M),b.send(M))},Yo:()=>b.close()}),P=(M,L,G)=>{M.listen(L,et=>{try{G(et)}catch(ct){setTimeout(()=>{throw ct},0)}})};return P(b,ef.EventType.OPEN,()=>{A||(Ct(li,`RPC '${t}' stream ${r} transport opened.`),R.s_())}),P(b,ef.EventType.CLOSE,()=>{A||(A=!0,Ct(li,`RPC '${t}' stream ${r} transport closed`),R.__(),this.I_(b))}),P(b,ef.EventType.ERROR,M=>{A||(A=!0,il(li,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),R.__(new At(ut.UNAVAILABLE,"The operation could not be completed")))}),P(b,ef.EventType.MESSAGE,M=>{var L;if(!A){const G=M.data[0];we(!!G,16349);const et=G,ct=et?.error||((L=et[0])===null||L===void 0?void 0:L.error);if(ct){Ct(li,`RPC '${t}' stream ${r} received error:`,ct);const rt=ct.status;let pt=function(N){const z=bn[N];if(z!==void 0)return n1(z)}(rt),V=ct.message;pt===void 0&&(pt=ut.INTERNAL,V="Unknown error status: "+rt+" with message "+ct.message),A=!0,R.__(new At(pt,V)),b.close()}else Ct(li,`RPC '${t}' stream ${r} received:`,G),R.a_(G)}}),P(h,vA.STAT_EVENT,M=>{M.stat===K_.PROXY?Ct(li,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===K_.NOPROXY&&Ct(li,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function T_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){return new Pk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&Ct("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="PersistentStream";class _1{constructor(t,e,i,r,o,c,h,f){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new m1(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(Ya(e.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new At(ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return Ct(AT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(Ct(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DP extends _1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=Vk(this.serializer,t),i=function(o){if(!("targetChange"in o))return Wt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Wt.min():c.readTime?$r(c.readTime):Wt.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=ry(this.serializer),e.addTarget=function(o,c){let h;const f=c.target;if(h=J_(f)?{documents:jk(o,f)}:{query:Bk(o,f).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=r1(o,c.resumeToken);const g=ny(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Wt.min())>0){h.readTime=sp(o,c.snapshotVersion.toTimestamp());const g=ny(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=Hk(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=ry(this.serializer),e.removeTarget=t,this.k_(e)}}class MP extends _1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return we(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,we(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){we(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=zk(t.writeResults,t.commitTime),i=$r(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=ry(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Uk(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{}class PP extends kP{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new At(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(t,iy(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new At(ut.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Jo(t,iy(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new At(ut.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class NP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ya(e),this._a=!1):Ct("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="RemoteStore";class LP{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{gc(this)&&(Ct(cc,"Restarting streams for network reachability change."),await async function(f){const g=Xt(f);g.Ia.add(4),await $f(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Lp(g)}(this))})}),this.Aa=new NP(i,r)}}async function Lp(n){if(gc(n))for(const t of n.da)await t(!0)}async function $f(n){for(const t of n.da)await t(!1)}function y1(n,t){const e=Xt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),iv(e)?nv(e):Ou(e).x_()&&ev(e,t))}function tv(n,t){const e=Xt(n),i=Ou(e);e.Ta.delete(t),i.x_()&&v1(e,t),e.Ta.size===0&&(i.x_()?i.B_():gc(e)&&e.Aa.set("Unknown"))}function ev(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ou(n).H_(t)}function v1(n,t){n.Ra.$e(t),Ou(n).Y_(t)}function nv(n){n.Ra=new Ok({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Ou(n).start(),n.Aa.aa()}function iv(n){return gc(n)&&!Ou(n).M_()&&n.Ta.size>0}function gc(n){return Xt(n).Ia.size===0}function b1(n){n.Ra=void 0}async function VP(n){n.Aa.set("Online")}async function UP(n){n.Ta.forEach((t,e)=>{ev(n,t)})}async function zP(n,t){b1(n),iv(n)?(n.Aa.la(t),nv(n)):n.Aa.set("Unknown")}async function jP(n,t,e){if(n.Aa.set("Online"),t instanceof s1&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){Ct(cc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ap(n,i)}else if(t instanceof Lg?n.Ra.Ye(t):t instanceof i1?n.Ra.it(t):n.Ra.et(t),!e.isEqual(Wt.min()))try{const i=await p1(n.localStore);e.compareTo(i)>=0&&await function(o,c){const h=o.Ra.Pt(c);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ta.get(g);y&&o.Ta.set(g,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,g)=>{const y=o.Ta.get(f);if(!y)return;o.Ta.set(f,y.withResumeToken(ti.EMPTY_BYTE_STRING,y.snapshotVersion)),v1(o,f);const b=new $o(y.target,f,g,y.sequenceNumber);ev(o,b)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){Ct(cc,"Failed to raise snapshot:",i),await ap(n,i)}}async function ap(n,t,e){if(!Iu(t))throw t;n.Ia.add(1),await $f(n),n.Aa.set("Offline"),e||(e=()=>p1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ct(cc,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Lp(n)})}function E1(n,t){return t().catch(e=>ap(n,e,t))}async function Vp(n){const t=Xt(n),e=ll(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:jy;for(;BP(t);)try{const r=await TP(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,FP(t,r)}catch(r){await ap(t,r)}T1(t)&&w1(t)}function BP(n){return gc(n)&&n.Pa.length<10}function FP(n,t){n.Pa.push(t);const e=ll(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function T1(n){return gc(n)&&!ll(n).M_()&&n.Pa.length>0}function w1(n){ll(n).start()}async function HP(n){ll(n).na()}async function qP(n){const t=ll(n);for(const e of n.Pa)t.X_(e.mutations)}async function $P(n,t,e){const i=n.Pa.shift(),r=Yy.from(i,t,e);await E1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Vp(n)}async function GP(n,t){t&&ll(n).Z_&&await async function(i,r){if(function(c){return Ck(c)&&c!==ut.ABORTED}(r.code)){const o=i.Pa.shift();ll(i).N_(),await E1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Vp(i)}}(n,t),T1(n)&&w1(n)}async function xT(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),Ct(cc,"RemoteStore received new credentials");const i=gc(e);e.Ia.add(3),await $f(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Lp(e)}async function YP(n,t){const e=Xt(n);t?(e.Ia.delete(2),await Lp(e)):t||(e.Ia.add(2),await $f(e),e.Aa.set("Unknown"))}function Ou(n){return n.Va||(n.Va=function(e,i,r){const o=Xt(e);return o.ia(),new DP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:VP.bind(null,n),e_:UP.bind(null,n),n_:zP.bind(null,n),J_:jP.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),iv(n)?nv(n):n.Aa.set("Unknown")):(await n.Va.stop(),b1(n))})),n.Va}function ll(n){return n.ma||(n.ma=function(e,i,r){const o=Xt(e);return o.ia(),new MP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:HP.bind(null,n),n_:GP.bind(null,n),ea:qP.bind(null,n),ta:$P.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await Vp(n)):(await n.ma.stop(),n.Pa.length>0&&(Ct(cc,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new sv(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(n,t){if(Ya("AsyncQueue",`${t}: ${n}`),Iu(n))return new At(ut.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{static emptySet(t){return new uu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Nt.comparator(e.key,i.key):(e,i)=>Nt.comparator(e.key,i.key),this.keyedMap=nf(),this.sortedSet=new Ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new uu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.fa=new Ke(Nt.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):$t(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class yu{constructor(t,e,i,r,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new yu(t,e,uu.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Op(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class WP{constructor(){this.queries=CT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=Xt(e),o=r.queries;r.queries=CT(),o.forEach((c,h)=>{for(const f of h.wa)f.onError(i)})})(this,new At(ut.ABORTED,"Firestore shutting down"))}}function CT(){return new dc(n=>qA(n),Op)}async function av(n,t){const e=Xt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new KP,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=rv(c,`Initialization of query '${iu(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&lv(e)}async function ov(n,t){const e=Xt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.wa.indexOf(t);c>=0&&(o.wa.splice(c,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function QP(n,t){const e=Xt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.wa)h.Ca(r)&&(i=!0);c.ya=r}}i&&lv(e)}function XP(n,t,e){const i=Xt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function lv(n){n.Da.forEach(t=>{t.next()})}var ly,IT;(IT=ly||(ly={})).Fa="default",IT.Cache="cache";class cv{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new yu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=yu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.key=t}}class A1{constructor(t){this.key=t}}class ZP{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=$A(t),this.eu=new uu(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new RT,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((y,b)=>{const E=r.get(y),A=Dp(this.query,b)?b:null,R=!!E&&this.mutatedKeys.has(E.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;E&&A?E.data.isEqual(A.data)?R!==P&&(i.track({type:3,doc:A}),M=!0):this.iu(E,A)||(i.track({type:2,doc:A}),M=!0,(f&&this.Xa(A,f)>0||g&&this.Xa(A,g)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),M=!0):E&&!A&&(i.track({type:1,doc:E}),M=!0,(f||g)&&(h=!0)),M&&(A?(c=c.add(A),o=P?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{eu:c,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((y,b)=>function(A,R){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{At:M})}};return P(A)-P(R)}(y.type,b.type)||this.Xa(y.doc,b.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],f=this.Za.size===0&&this.current&&!r?1:0,g=f!==this.Ya;return this.Ya=f,c.length!==0||g?{snapshot:new yu(this.query,t.eu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new RT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=ue(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new A1(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new S1(i))}),e}uu(t){this.Ha=t.qs,this.Za=ue();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return yu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const uv="SyncEngine";class JP{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class tN{constructor(t){this.key=t,this.lu=!1}}class eN{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new dc(h=>qA(h),Op),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(Nt.comparator),this.Eu=new Map,this.Au=new Qy,this.Ru={},this.Vu=new Map,this.mu=_u.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function nN(n,t,e=!0){const i=D1(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await x1(i,t,e,!0),r}async function iN(n,t){const e=D1(n);await x1(e,t,!0,!1)}async function x1(n,t,e,i){const r=await wP(n.localStore,qr(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await sN(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&y1(n.remoteStore,r),h}async function sN(n,t,e,i,r){n.gu=(b,E,A)=>async function(P,M,L,G){let et=M.view.nu(L);et.Ds&&(et=await ET(P.localStore,M.query,!1).then(({documents:V})=>M.view.nu(V,et)));const ct=G&&G.targetChanges.get(M.targetId),rt=G&&G.targetMismatches.get(M.targetId)!=null,pt=M.view.applyChanges(et,P.isPrimaryClient,ct,rt);return DT(P,M.targetId,pt._u),pt.snapshot}(n,b,E,A);const o=await ET(n.localStore,t,!0),c=new ZP(t,o.qs),h=c.nu(o.documents),f=qf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=c.applyChanges(h,n.isPrimaryClient,f);DT(n,e,g._u);const y=new JP(t,e,c);return n.Pu.set(t,y),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),g.snapshot}async function rN(n,t,e){const i=Xt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(c=>!Op(c,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await ay(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&tv(i.remoteStore,r.targetId),cy(i,r.targetId)}).catch(Cu)):(cy(i,r.targetId),await ay(i.localStore,r.targetId,!0))}async function aN(n,t){const e=Xt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),tv(e.remoteStore,i.targetId))}async function oN(n,t,e){const i=gN(n);try{const r=await function(c,h){const f=Xt(c),g=Fe.now(),y=h.reduce((A,R)=>A.add(R.key),ue());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=Ka(),P=ue();return f.Os.getEntries(A,y).next(M=>{R=M,R.forEach((L,G)=>{G.isValidDocument()||(P=P.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,R)).next(M=>{b=M;const L=[];for(const G of h){const et=wk(G,b.get(G.key).overlayedDocument);et!=null&&L.push(new gl(G.key,et,LA(et.value.mapValue),Ls.exists(!0)))}return f.mutationQueue.addMutationBatch(A,g,L,h)}).next(M=>{E=M;const L=M.applyToLocalDocumentSet(b,P);return f.documentOverlayCache.saveOverlays(A,M.batchId,L)})}).then(()=>({batchId:E.batchId,changes:YA(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,f){let g=c.Ru[c.currentUser.toKey()];g||(g=new Ke(te)),g=g.insert(h,f),c.Ru[c.currentUser.toKey()]=g}(i,r.batchId,e),await Gf(i,r.changes),await Vp(i.remoteStore)}catch(r){const o=rv(r,"Failed to persist write");e.reject(o)}}async function R1(n,t){const e=Xt(n);try{const i=await bP(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Eu.get(o);c&&(we(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.lu=!0:r.modifiedDocuments.size>0?we(c.lu,14607):r.removedDocuments.size>0&&(we(c.lu,42227),c.lu=!1))}),await Gf(e,i,t)}catch(i){await Cu(i)}}function OT(n,t,e){const i=Xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const f=Xt(c);f.onlineState=h;let g=!1;f.queries.forEach((y,b)=>{for(const E of b.wa)E.va(h)&&(g=!0)}),g&&lv(f)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function lN(n,t,e){const i=Xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let c=new Ke(Nt.comparator);c=c.insert(o,ui.newNoDocument(o,Wt.min()));const h=ue().add(o),f=new Pp(Wt.min(),new Map,new Ke(te),c,h);await R1(i,f),i.du=i.du.remove(o),i.Eu.delete(t),hv(i)}else await ay(i.localStore,t,!1).then(()=>cy(i,t,e)).catch(Cu)}async function cN(n,t){const e=Xt(n),i=t.batch.batchId;try{const r=await vP(e.localStore,t);I1(e,i,null),C1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Gf(e,r)}catch(r){await Cu(r)}}async function uN(n,t,e){const i=Xt(n);try{const r=await function(c,h){const f=Xt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(b=>(we(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(g,b))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);I1(i,t,e),C1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Gf(i,r)}catch(r){await Cu(r)}}function C1(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function I1(n,t,e){const i=Xt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function cy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||O1(n,i)})}function O1(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(tv(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),hv(n))}function DT(n,t,e){for(const i of e)i instanceof S1?(n.Au.addReference(i.key,t),hN(n,i)):i instanceof A1?(Ct(uv,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||O1(n,i.key)):$t(19791,{yu:i})}function hN(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(Ct(uv,"New document in limbo: "+e),n.Iu.add(i),hv(n))}function hv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Nt(ze.fromString(t)),i=n.mu.next();n.Eu.set(i,new tN(e)),n.du=n.du.insert(e,i),y1(n.remoteStore,new $o(qr(Ip(e.path)),i,"TargetPurposeLimboResolution",xp.ue))}}async function Gf(n,t,e){const i=Xt(n),r=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((h,f)=>{c.push(i.gu(f,t,e).then(g=>{var y;if((g||e)&&i.isPrimaryClient){const b=g?!g.fromCache:(y=e?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){r.push(g);const b=Zy.Es(f.targetId,g);o.push(b)}}))}),await Promise.all(c),i.hu.J_(r),await async function(f,g){const y=Xt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>dt.forEach(g,E=>dt.forEach(E.Is,A=>y.persistence.referenceDelegate.addReference(b,E.targetId,A)).next(()=>dt.forEach(E.ds,A=>y.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))}catch(b){if(!Iu(b))throw b;Ct(Jy,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const A=y.Fs.get(E),R=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(R);y.Fs=y.Fs.insert(E,P)}}}(i.localStore,o))}async function fN(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){Ct(uv,"User change. New user:",t.toKey());const i=await g1(e.localStore,t);e.currentUser=t,function(o,c){o.Vu.forEach(h=>{h.forEach(f=>{f.reject(new At(ut.CANCELLED,c))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Gf(e,i.Bs)}}function dN(n,t){const e=Xt(n),i=e.Eu.get(t);if(i&&i.lu)return ue().add(i.key);{let r=ue();const o=e.Tu.get(t);if(!o)return r;for(const c of o){const h=e.Pu.get(c);r=r.unionWith(h.view.tu)}return r}}function D1(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lN.bind(null,t),t.hu.J_=QP.bind(null,t.eventManager),t.hu.pu=XP.bind(null,t.eventManager),t}function gN(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uN.bind(null,t),t}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Np(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return yP(this.persistence,new pP,t.initialUser,this.serializer)}Du(t){return new d1(Xy.Vi,this.serializer)}bu(t){return new AP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class pN extends op{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){we(this.persistence.referenceDelegate instanceof rp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tP(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?Vi.withCacheSize(this.cacheSizeBytes):Vi.DEFAULT;return new d1(i=>rp.Vi(i,e),this.serializer)}}class uy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await YP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new WP}()}createDatastore(t){const e=Np(t.databaseInfo.databaseId),i=function(o){return new OP(o)}(t.databaseInfo);return function(o,c,h,f){return new PP(o,c,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new LP(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>OT(this.syncEngine,e,0),function(){return ST.C()?new ST:new xP}())}createSyncEngine(t,e){return function(r,o,c,h,f,g,y){const b=new eN(r,o,c,h,f,g);return y&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Xt(r);Ct(cc,"RemoteStore shutting down."),o.Ia.add(5),await $f(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ya("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="FirestoreClient";class mN{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ci.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{Ct(cl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ct(cl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=rv(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function w_(n,t){n.asyncQueue.verifyOperationInProgress(),Ct(cl,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await g1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{il("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{il("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function MT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await _N(n);Ct(cl,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>xT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>xT(t.remoteStore,r)),n._onlineComponents=t}async function _N(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ct(cl,"Using user provided OfflineComponentProvider");try{await w_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===ut.FAILED_PRECONDITION||r.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;il("Error using user provided cache. Falling back to memory cache: "+e),await w_(n,new op)}}else Ct(cl,"Using default OfflineComponentProvider"),await w_(n,new pN(void 0));return n._offlineComponents}async function M1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ct(cl,"Using user provided OnlineComponentProvider"),await MT(n,n._uninitializedComponentsProvider._online)):(Ct(cl,"Using default OnlineComponentProvider"),await MT(n,new uy))),n._onlineComponents}function yN(n){return M1(n).then(t=>t.syncEngine)}async function lp(n){const t=await M1(n),e=t.eventManager;return e.onListen=nN.bind(null,t.syncEngine),e.onUnlisten=rN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=iN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=aN.bind(null,t.syncEngine),e}function vN(n,t,e={}){const i=new Ha;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,g){const y=new fv({next:E=>{y.Ou(),c.enqueueAndForget(()=>ov(o,b));const A=E.docs.has(h);!A&&E.fromCache?g.reject(new At(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?g.reject(new At(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new cv(Ip(h.path),y,{includeMetadataChanges:!0,ka:!0});return av(o,b)}(await lp(n),n.asyncQueue,t,e,i)),i.promise}function bN(n,t,e={}){const i=new Ha;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,g){const y=new fv({next:E=>{y.Ou(),c.enqueueAndForget(()=>ov(o,b)),E.fromCache&&f.source==="server"?g.reject(new At(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new cv(h,y,{includeMetadataChanges:!0,ka:!0});return av(o,b)}(await lp(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firestore.googleapis.com",PT=!0;class NT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new At(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=PT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:PT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Zk)throw new At(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Up{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CM;switch(i.type){case"firstParty":return new MM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new At(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=kT.get(e);i&&(Ct("ComponentProvider","Removing Datastore"),kT.delete(e),i.terminate())}(this),Promise.resolve()}}function EN(n,t,e,i={}){var r;n=Fi(n,Up);const o=Su(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(RS(`https://${f}`),CS("Firestore",!0)),c.host!==P1&&c.host!==f&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!sc(g,h)&&(n._setSettings(g),i.mockUserToken)){let y,b;if(typeof i.mockUserToken=="string")y=i.mockUserToken,b=ci.MOCK_USER;else{y=zI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new At(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ci(E)}n._authCredentials=new IM(new wA(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new pc(this.firestore,t,this._query)}}class en{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Bf(e,en._jsonSchema))return new en(t,i||null,new Nt(ze.fromString(e.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Tn("string",en._jsonSchemaVersion),referencePath:Tn("string")};class Jo extends pc{constructor(t,e,i){super(t,e,Ip(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Nt(t))}withConverter(t){return new Jo(this.firestore,t,this._path)}}function hy(n,t,...e){if(n=kn(n),AA("collection","path",t),n instanceof Up){const i=ze.fromString(t,...e);return KE(i),new Jo(n,null,i)}{if(!(n instanceof en||n instanceof Jo))throw new At(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ze.fromString(t,...e));return KE(i),new Jo(n.firestore,null,i)}}function vu(n,t,...e){if(n=kn(n),arguments.length===1&&(t=zy.newId()),AA("doc","path",t),n instanceof Up){const i=ze.fromString(t,...e);return YE(i),new en(n,null,new Nt(i))}{if(!(n instanceof en||n instanceof Jo))throw new At(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ze.fromString(t,...e));return YE(i),new en(n.firestore,n instanceof Jo?n.converter:null,new Nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="AsyncQueue";class VT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new m1(this,"async_queue_retry"),this.oc=()=>{const i=T_();i&&Ct(LT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=T_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=T_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new Ha;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Iu(t))throw t;Ct(LT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Ya("INTERNAL UNHANDLED ERROR: ",UT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=sv.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&$t(47125,{hc:UT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function UT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Wa extends Up{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new VT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new VT(t),this._firestoreClient=void 0,await t}}}function TN(n,t){const e=typeof n=="object"?n:MS(),i=typeof n=="string"?n:Zg,r=Cy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=VI("firestore");o&&EN(r,...o)}return r}function zp(n){if(n._terminated)throw new At(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wN(n),n._firestoreClient}function wN(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,y){return new KM(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,k1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new mN(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ns(ti.fromBase64String(t))}catch(e){throw new At(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ns(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bf(t,Ns._jsonSchema))return Ns.fromBase64String(t.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:Tn("string",Ns._jsonSchemaVersion),bytes:Tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(t){if(Bf(t,Gr._jsonSchema))return new Gr(t.latitude,t.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:Tn("string",Gr._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bf(t,Yr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Yr(t.vectorValues);throw new At(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:Tn("string",Yr._jsonSchemaVersion),vectorValues:Tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^__.*__$/;class AN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new gl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hf(t,this.data,e,this.fieldTransforms)}}class N1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new gl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function L1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ec:n})}}class gv{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new gv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return cp(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(L1(this.Ec)&&SN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class xN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Np(t)}Dc(t,e,i,r=!1){return new gv({Ec:t,methodName:e,bc:i,path:Zn.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(n){const t=n._freezeSettings(),e=Np(n._databaseId);return new xN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function V1(n,t,e,i,r,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);pv("Data must be an object, but it was:",c,i);const h=U1(i,c);let f,g;if(o.merge)f=new cs(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const E=fy(t,b,e);if(!c.contains(E))throw new At(ut.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);j1(y,E)||y.push(E)}f=new cs(y),g=c.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,g=c.fieldTransforms;return new AN(new Ui(h),f,g)}class Fp extends dv{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fp}}function RN(n,t,e,i){const r=n.Dc(1,t,e);pv("Data must be an object, but it was:",r,i);const o=[],c=Ui.empty();dl(i,(f,g)=>{const y=mv(t,f,e);g=kn(g);const b=r.gc(y);if(g instanceof Fp)o.push(y);else{const E=Yf(g,b);E!=null&&(o.push(y),c.set(y,E))}});const h=new cs(o);return new N1(c,h,r.fieldTransforms)}function CN(n,t,e,i,r,o){const c=n.Dc(1,t,e),h=[fy(t,i,e)],f=[r];if(o.length%2!=0)throw new At(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(fy(t,o[E])),f.push(o[E+1]);const g=[],y=Ui.empty();for(let E=h.length-1;E>=0;--E)if(!j1(g,h[E])){const A=h[E];let R=f[E];R=kn(R);const P=c.gc(A);if(R instanceof Fp)g.push(A);else{const M=Yf(R,P);M!=null&&(g.push(A),y.set(A,M))}}const b=new cs(g);return new N1(y,b,c.fieldTransforms)}function IN(n,t,e,i=!1){return Yf(e,n.Dc(i?4:3,t))}function Yf(n,t){if(z1(n=kn(n)))return pv("Unsupported field value:",t,n),U1(n,t);if(n instanceof dv)return function(i,r){if(!L1(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let f=Yf(h,r.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _k(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Fe.fromDate(i);return{timestampValue:sp(r.serializer,o)}}if(i instanceof Fe){const o=new Fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sp(r.serializer,o)}}if(i instanceof Gr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ns)return{bytesValue:r1(r.serializer,i._byteString)};if(i instanceof en){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Yr)return function(c,h){return{mapValue:{fields:{[PA]:{stringValue:NA},[Jg]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.wc("VectorValues must only contain numeric values.");return $y(h.serializer,g)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Ap(i)}`)}(n,t)}function U1(n,t){const e={};return CA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dl(n,(i,r)=>{const o=Yf(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function z1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fe||n instanceof Gr||n instanceof Ns||n instanceof en||n instanceof dv||n instanceof Yr)}function pv(n,t,e){if(!z1(e)||!xA(e)){const i=Ap(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function fy(n,t,e){if((t=kn(t))instanceof jp)return t._internalPath;if(typeof t=="string")return mv(n,t);throw cp("Field path arguments must be of type string or ",n,!1,void 0,e)}const ON=new RegExp("[~\\*/\\[\\]]");function mv(n,t,e){if(t.search(ON)>=0)throw cp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new jp(...t.split("."))._internalPath}catch{throw cp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cp(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new At(ut.INVALID_ARGUMENT,h+n+f)}function j1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(_v("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class DN extends B1{data(){return super.data()}}function _v(n,t){return typeof t=="string"?mv(n,t):t instanceof jp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new At(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class MN extends yv{}function jT(n,t,...e){let i=[];t instanceof yv&&i.push(t),i=i.concat(e),function(o){const c=o.filter(f=>f instanceof vv).length,h=o.filter(f=>f instanceof Hp).length;if(c>1||c>0&&h>0)throw new At(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hp extends MN{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Hp(t,e,i)}_apply(t){const e=this._parse(t);return H1(t._query,e),new pc(t.firestore,t.converter,ty(t._query,e))}_parse(t){const e=Bp(t.firestore);return function(o,c,h,f,g,y,b){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new At(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){HT(b,y);const R=[];for(const P of b)R.push(FT(f,o,P));E={arrayValue:{values:R}}}else E=FT(f,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||HT(b,y),E=IN(h,c,b,y==="in"||y==="not-in");return En.create(g,y,E)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function BT(n,t,e){const i=t,r=_v("where",n);return Hp._create(r,i,e)}class vv extends yv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new vv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:lr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)H1(c,f),c=ty(c,f)}(t._query,e),new pc(t.firestore,t.converter,ty(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FT(n,t,e){if(typeof(e=kn(e))=="string"){if(e==="")throw new At(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HA(t)&&e.indexOf("/")!==-1)throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ze.fromString(e));if(!Nt.isDocumentKey(i))throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nT(n,new Nt(i))}if(e instanceof en)return nT(n,e._key);throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ap(e)}.`)}function HT(n,t){if(!Array.isArray(n)||n.length===0)throw new At(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function H1(n,t){const e=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new At(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class kN{convertValue(t,e="none"){switch(ol(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(al(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw $t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return dl(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Jg].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>fn(c.doubleValue));return new Yr(o)}convertGeoPoint(t){return new Gr(fn(t.latitude),fn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Cp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(wf(t));default:return null}}convertTimestamp(t){const e=rl(t);return new Fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ze.fromString(t);we(h1(i),9688,{name:t});const r=new Sf(i.get(1),i.get(3)),o=new Nt(i.popFirst(5));return r.isEqual(e)||Ya(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class rf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ec extends B1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(_v("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ec._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ec._jsonSchemaVersion="firestore/documentSnapshot/1.0",ec._jsonSchema={type:Tn("string",ec._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class Vg extends ec{data(t={}){return super.data(t)}}class nc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new rf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Vg(this._firestore,this._userDataWriter,i.key,i,new rf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const f=new Vg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new rf(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Vg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new rf(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:PN(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=nc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n){n=Fi(n,en);const t=Fi(n.firestore,Wa);return vN(zp(t),n._key).then(e=>G1(t,n,e))}nc._jsonSchemaVersion="firestore/querySnapshot/1.0",nc._jsonSchema={type:Tn("string",nc._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class bv extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ns(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,e)}}function qT(n){n=Fi(n,pc);const t=Fi(n.firestore,Wa),e=zp(t),i=new bv(t);return F1(n._query),bN(e,n._query).then(r=>new nc(t,i,n,r))}function NN(n,t,e){n=Fi(n,en);const i=Fi(n.firestore,Wa),r=q1(n.converter,t);return qp(i,[V1(Bp(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Ls.none())])}function $T(n,t,e,...i){n=Fi(n,en);const r=Fi(n.firestore,Wa),o=Bp(r);let c;return c=typeof(t=kn(t))=="string"||t instanceof jp?CN(o,"updateDoc",n._key,t,e,i):RN(o,"updateDoc",n._key,t),qp(r,[c.toMutation(n._key,Ls.exists(!0))])}function LN(n){return qp(Fi(n.firestore,Wa),[new Gy(n._key,Ls.none())])}function VN(n,t){const e=Fi(n.firestore,Wa),i=vu(n),r=q1(n.converter,t);return qp(e,[V1(Bp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ls.exists(!1))]).then(()=>i)}function UN(n,...t){var e,i,r;n=kn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||zT(t[c])||(o=t[c++]);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zT(t[c])){const b=t[c];t[c]=(e=b.next)===null||e===void 0?void 0:e.bind(b),t[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),t[c+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}let f,g,y;if(n instanceof en)g=Fi(n.firestore,Wa),y=Ip(n._key.path),f={next:b=>{t[c]&&t[c](G1(g,n,b))},error:t[c+1],complete:t[c+2]};else{const b=Fi(n,pc);g=Fi(b.firestore,Wa),y=b._query;const E=new bv(g);f={next:A=>{t[c]&&t[c](new nc(g,E,b,A))},error:t[c+1],complete:t[c+2]},F1(n._query)}return function(E,A,R,P){const M=new fv(P),L=new cv(A,M,R);return E.asyncQueue.enqueueAndForget(async()=>av(await lp(E),L)),()=>{M.Ou(),E.asyncQueue.enqueueAndForget(async()=>ov(await lp(E),L))}}(zp(g),y,h,f)}function qp(n,t){return function(i,r){const o=new Ha;return i.asyncQueue.enqueueAndForget(async()=>oN(await yN(i),r,o)),o.promise}(zp(n),t)}function G1(n,t,e){const i=e.docs.get(t._key),r=new bv(n);return new ec(n,r,t._key,i,new rf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Ru=r})(Au),du(new rc("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Wa(new OM(i.getProvider("auth-internal")),new kM(c,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new At(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(g.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Xo(FE,HE,t),Xo(FE,HE,"esm2017")})();const zN={apiKey:"AIzaSyAO0PEnd9TGPPTpuObD5KXy55owSY5hd2Q",authDomain:"loan-tracker-48cf5.firebaseapp.com",projectId:"loan-tracker-48cf5",storageBucket:"loan-tracker-48cf5.firebasestorage.app",messagingSenderId:"372251322656",appId:"1:372251322656:web:fda88c85a0e0aba8ba4f45"},Y1=DS(zN),tl=TN(Y1),Kf=xM(Y1);var Ug={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var jN=Ug.exports,GT;function BN(){return GT||(GT=1,function(n,t){(function(e,i){n.exports=i()})(jN,function(){const e=new Map,i={set(x,m,T){e.has(x)||e.set(x,new Map);const I=e.get(x);I.has(m)||I.size===0?I.set(m,T):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(I.keys())[0]}.`)},get:(x,m)=>e.has(x)&&e.get(x).get(m)||null,remove(x,m){if(!e.has(x))return;const T=e.get(x);T.delete(m),T.size===0&&e.delete(x)}},r="transitionend",o=x=>(x&&window.CSS&&window.CSS.escape&&(x=x.replace(/#([^\s"#']+)/g,(m,T)=>`#${CSS.escape(T)}`)),x),c=x=>{x.dispatchEvent(new Event(r))},h=x=>!(!x||typeof x!="object")&&(x.jquery!==void 0&&(x=x[0]),x.nodeType!==void 0),f=x=>h(x)?x.jquery?x[0]:x:typeof x=="string"&&x.length>0?document.querySelector(o(x)):null,g=x=>{if(!h(x)||x.getClientRects().length===0)return!1;const m=getComputedStyle(x).getPropertyValue("visibility")==="visible",T=x.closest("details:not([open])");if(!T)return m;if(T!==x){const I=x.closest("summary");if(I&&I.parentNode!==T||I===null)return!1}return m},y=x=>!x||x.nodeType!==Node.ELEMENT_NODE||!!x.classList.contains("disabled")||(x.disabled!==void 0?x.disabled:x.hasAttribute("disabled")&&x.getAttribute("disabled")!=="false"),b=x=>{if(!document.documentElement.attachShadow)return null;if(typeof x.getRootNode=="function"){const m=x.getRootNode();return m instanceof ShadowRoot?m:null}return x instanceof ShadowRoot?x:x.parentNode?b(x.parentNode):null},E=()=>{},A=x=>{x.offsetHeight},R=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P=[],M=()=>document.documentElement.dir==="rtl",L=x=>{var m;m=()=>{const T=R();if(T){const I=x.NAME,q=T.fn[I];T.fn[I]=x.jQueryInterface,T.fn[I].Constructor=x,T.fn[I].noConflict=()=>(T.fn[I]=q,x.jQueryInterface)}},document.readyState==="loading"?(P.length||document.addEventListener("DOMContentLoaded",()=>{for(const T of P)T()}),P.push(m)):m()},G=(x,m=[],T=x)=>typeof x=="function"?x.call(...m):T,et=(x,m,T=!0)=>{if(!T)return void G(x);const I=(st=>{if(!st)return 0;let{transitionDuration:ot,transitionDelay:_t}=window.getComputedStyle(st);const wt=Number.parseFloat(ot),Rt=Number.parseFloat(_t);return wt||Rt?(ot=ot.split(",")[0],_t=_t.split(",")[0],1e3*(Number.parseFloat(ot)+Number.parseFloat(_t))):0})(m)+5;let q=!1;const Y=({target:st})=>{st===m&&(q=!0,m.removeEventListener(r,Y),G(x))};m.addEventListener(r,Y),setTimeout(()=>{q||c(m)},I)},ct=(x,m,T,I)=>{const q=x.length;let Y=x.indexOf(m);return Y===-1?!T&&I?x[q-1]:x[0]:(Y+=T?1:-1,I&&(Y=(Y+q)%q),x[Math.max(0,Math.min(Y,q-1))])},rt=/[^.]*(?=\..*)\.|.*/,pt=/\..*/,V=/::\d+$/,k={};let N=1;const z={mouseenter:"mouseover",mouseleave:"mouseout"},B=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(x,m){return m&&`${m}::${N++}`||x.uidEvent||N++}function U(x){const m=F(x);return x.uidEvent=m,k[m]=k[m]||{},k[m]}function ne(x,m,T=null){return Object.values(x).find(I=>I.callable===m&&I.delegationSelector===T)}function Mt(x,m,T){const I=typeof m=="string",q=I?T:m||T;let Y=Lt(x);return B.has(Y)||(Y=x),[I,q,Y]}function tt(x,m,T,I,q){if(typeof m!="string"||!x)return;let[Y,st,ot]=Mt(m,T,I);m in z&&(st=(Kt=>function(Bt){if(!Bt.relatedTarget||Bt.relatedTarget!==Bt.delegateTarget&&!Bt.delegateTarget.contains(Bt.relatedTarget))return Kt.call(this,Bt)})(st));const _t=U(x),wt=_t[ot]||(_t[ot]={}),Rt=ne(wt,st,Y?T:null);if(Rt)return void(Rt.oneOff=Rt.oneOff&&q);const Et=F(st,m.replace(rt,"")),Yt=Y?function(Pt,Kt,Bt){return function Vt(_e){const Se=Pt.querySelectorAll(Kt);for(let{target:Zt}=_e;Zt&&Zt!==this;Zt=Zt.parentNode)for(const he of Se)if(he===Zt)return ht(_e,{delegateTarget:Zt}),Vt.oneOff&&D.off(Pt,_e.type,Kt,Bt),Bt.apply(Zt,[_e])}}(x,T,st):function(Pt,Kt){return function Bt(Vt){return ht(Vt,{delegateTarget:Pt}),Bt.oneOff&&D.off(Pt,Vt.type,Kt),Kt.apply(Pt,[Vt])}}(x,st);Yt.delegationSelector=Y?T:null,Yt.callable=st,Yt.oneOff=q,Yt.uidEvent=Et,wt[Et]=Yt,x.addEventListener(ot,Yt,Y)}function gt(x,m,T,I,q){const Y=ne(m[T],I,q);Y&&(x.removeEventListener(T,Y,!!q),delete m[T][Y.uidEvent])}function xt(x,m,T,I){const q=m[T]||{};for(const[Y,st]of Object.entries(q))Y.includes(I)&&gt(x,m,T,st.callable,st.delegationSelector)}function Lt(x){return x=x.replace(pt,""),z[x]||x}const D={on(x,m,T,I){tt(x,m,T,I,!1)},one(x,m,T,I){tt(x,m,T,I,!0)},off(x,m,T,I){if(typeof m!="string"||!x)return;const[q,Y,st]=Mt(m,T,I),ot=st!==m,_t=U(x),wt=_t[st]||{},Rt=m.startsWith(".");if(Y===void 0){if(Rt)for(const Et of Object.keys(_t))xt(x,_t,Et,m.slice(1));for(const[Et,Yt]of Object.entries(wt)){const Pt=Et.replace(V,"");ot&&!m.includes(Pt)||gt(x,_t,st,Yt.callable,Yt.delegationSelector)}}else{if(!Object.keys(wt).length)return;gt(x,_t,st,Y,q?T:null)}},trigger(x,m,T){if(typeof m!="string"||!x)return null;const I=R();let q=null,Y=!0,st=!0,ot=!1;m!==Lt(m)&&I&&(q=I.Event(m,T),I(x).trigger(q),Y=!q.isPropagationStopped(),st=!q.isImmediatePropagationStopped(),ot=q.isDefaultPrevented());const _t=ht(new Event(m,{bubbles:Y,cancelable:!0}),T);return ot&&_t.preventDefault(),st&&x.dispatchEvent(_t),_t.defaultPrevented&&q&&q.preventDefault(),_t}};function ht(x,m={}){for(const[T,I]of Object.entries(m))try{x[T]=I}catch{Object.defineProperty(x,T,{configurable:!0,get:()=>I})}return x}function yt(x){if(x==="true")return!0;if(x==="false")return!1;if(x===Number(x).toString())return Number(x);if(x===""||x==="null")return null;if(typeof x!="string")return x;try{return JSON.parse(decodeURIComponent(x))}catch{return x}}function mt(x){return x.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const St={setDataAttribute(x,m,T){x.setAttribute(`data-bs-${mt(m)}`,T)},removeDataAttribute(x,m){x.removeAttribute(`data-bs-${mt(m)}`)},getDataAttributes(x){if(!x)return{};const m={},T=Object.keys(x.dataset).filter(I=>I.startsWith("bs")&&!I.startsWith("bsConfig"));for(const I of T){let q=I.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1),m[q]=yt(x.dataset[I])}return m},getDataAttribute:(x,m)=>yt(x.getAttribute(`data-bs-${mt(m)}`))};class zt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,T){const I=h(T)?St.getDataAttribute(T,"config"):{};return{...this.constructor.Default,...typeof I=="object"?I:{},...h(T)?St.getDataAttributes(T):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,T=this.constructor.DefaultType){for(const[q,Y]of Object.entries(T)){const st=m[q],ot=h(st)?"element":(I=st)==null?`${I}`:Object.prototype.toString.call(I).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Y).test(ot))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${ot}" but expected type "${Y}".`)}var I}}class It extends zt{constructor(m,T){super(),(m=f(m))&&(this._element=m,this._config=this._getConfig(T),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,T,I=!0){et(m,T,I)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return i.get(f(m),this.DATA_KEY)}static getOrCreateInstance(m,T={}){return this.getInstance(m)||new this(m,typeof T=="object"?T:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const We=x=>{let m=x.getAttribute("data-bs-target");if(!m||m==="#"){let T=x.getAttribute("href");if(!T||!T.includes("#")&&!T.startsWith("."))return null;T.includes("#")&&!T.startsWith("#")&&(T=`#${T.split("#")[1]}`),m=T&&T!=="#"?T.trim():null}return m?m.split(",").map(T=>o(T)).join(","):null},bt={find:(x,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,x)),findOne:(x,m=document.documentElement)=>Element.prototype.querySelector.call(m,x),children:(x,m)=>[].concat(...x.children).filter(T=>T.matches(m)),parents(x,m){const T=[];let I=x.parentNode.closest(m);for(;I;)T.push(I),I=I.parentNode.closest(m);return T},prev(x,m){let T=x.previousElementSibling;for(;T;){if(T.matches(m))return[T];T=T.previousElementSibling}return[]},next(x,m){let T=x.nextElementSibling;for(;T;){if(T.matches(m))return[T];T=T.nextElementSibling}return[]},focusableChildren(x){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(T=>`${T}:not([tabindex^="-"])`).join(",");return this.find(m,x).filter(T=>!y(T)&&g(T))},getSelectorFromElement(x){const m=We(x);return m&&bt.findOne(m)?m:null},getElementFromSelector(x){const m=We(x);return m?bt.findOne(m):null},getMultipleElementsFromSelector(x){const m=We(x);return m?bt.find(m):[]}},fi=(x,m="hide")=>{const T=`click.dismiss${x.EVENT_KEY}`,I=x.NAME;D.on(document,T,`[data-bs-dismiss="${I}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),y(this))return;const Y=bt.getElementFromSelector(this)||this.closest(`.${I}`);x.getOrCreateInstance(Y)[m]()})},zs=".bs.alert",js=`close${zs}`,Qr=`closed${zs}`;class Hi extends It{static get NAME(){return"alert"}close(){if(D.trigger(this._element,js).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),D.trigger(this._element,Qr),this.dispose()}static jQueryInterface(m){return this.each(function(){const T=Hi.getOrCreateInstance(this);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m](this)}})}}fi(Hi,"close"),L(Hi);const hr='[data-bs-toggle="button"]';class Bs extends It{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const T=Bs.getOrCreateInstance(this);m==="toggle"&&T[m]()})}}D.on(document,"click.bs.button.data-api",hr,x=>{x.preventDefault();const m=x.target.closest(hr);Bs.getOrCreateInstance(m).toggle()}),L(Bs);const Fs=".bs.swipe",Ti=`touchstart${Fs}`,Pu=`touchmove${Fs}`,pl=`touchend${Fs}`,Za=`pointerdown${Fs}`,Xr=`pointerup${Fs}`,Nu={endCallback:null,leftCallback:null,rightCallback:null},Ja={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class fr extends zt{constructor(m,T){super(),this._element=m,m&&fr.isSupported()&&(this._config=this._getConfig(T),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Nu}static get DefaultType(){return Ja}static get NAME(){return"swipe"}dispose(){D.off(this._element,Fs)}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const T=m/this._deltaX;this._deltaX=0,T&&G(T>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,Za,m=>this._start(m)),D.on(this._element,Xr,m=>this._end(m)),this._element.classList.add("pointer-event")):(D.on(this._element,Ti,m=>this._start(m)),D.on(this._element,Pu,m=>this._move(m)),D.on(this._element,pl,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const qi=".bs.carousel",je=".data-api",Ee="ArrowLeft",di="ArrowRight",Qe="next",Hs="prev",dr="left",us="right",Zr=`slide${qi}`,qs=`slid${qi}`,$i=`keydown${qi}`,to=`mouseenter${qi}`,Jr=`mouseleave${qi}`,ml=`dragstart${qi}`,_l=`load${qi}${je}`,yl=`click${qi}${je}`,hs="carousel",wi="active",eo=".active",Gi=".carousel-item",vl=eo+Gi,gr={[Ee]:us,[di]:dr},no={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},pr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $s extends It{constructor(m,T){super(m,T),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=bt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===hs&&this.cycle()}static get Default(){return no}static get DefaultType(){return pr}static get NAME(){return"carousel"}next(){this._slide(Qe)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(Hs)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?D.one(this._element,qs,()=>this.cycle()):this.cycle())}to(m){const T=this._getItems();if(m>T.length-1||m<0)return;if(this._isSliding)return void D.one(this._element,qs,()=>this.to(m));const I=this._getItemIndex(this._getActive());if(I===m)return;const q=m>I?Qe:Hs;this._slide(q,T[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&D.on(this._element,$i,m=>this._keydown(m)),this._config.pause==="hover"&&(D.on(this._element,to,()=>this.pause()),D.on(this._element,Jr,()=>this._maybeEnableCycle())),this._config.touch&&fr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const T of bt.find(".carousel-item img",this._element))D.on(T,ml,I=>I.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(dr)),rightCallback:()=>this._slide(this._directionToOrder(us)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new fr(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const T=gr[m.key];T&&(m.preventDefault(),this._slide(this._directionToOrder(T)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const T=bt.findOne(eo,this._indicatorsElement);T.classList.remove(wi),T.removeAttribute("aria-current");const I=bt.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);I&&(I.classList.add(wi),I.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const T=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=T||this._config.defaultInterval}_slide(m,T=null){if(this._isSliding)return;const I=this._getActive(),q=m===Qe,Y=T||ct(this._getItems(),I,q,this._config.wrap);if(Y===I)return;const st=this._getItemIndex(Y),ot=Et=>D.trigger(this._element,Et,{relatedTarget:Y,direction:this._orderToDirection(m),from:this._getItemIndex(I),to:st});if(ot(Zr).defaultPrevented||!I||!Y)return;const _t=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(st),this._activeElement=Y;const wt=q?"carousel-item-start":"carousel-item-end",Rt=q?"carousel-item-next":"carousel-item-prev";Y.classList.add(Rt),A(Y),I.classList.add(wt),Y.classList.add(wt),this._queueCallback(()=>{Y.classList.remove(wt,Rt),Y.classList.add(wi),I.classList.remove(wi,Rt,wt),this._isSliding=!1,ot(qs)},I,this._isAnimated()),_t&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return bt.findOne(vl,this._element)}_getItems(){return bt.find(Gi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return M()?m===dr?Hs:Qe:m===dr?Qe:Hs}_orderToDirection(m){return M()?m===Hs?dr:us:m===Hs?us:dr}static jQueryInterface(m){return this.each(function(){const T=$s.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}}else T.to(m)})}}D.on(document,yl,"[data-bs-slide], [data-bs-slide-to]",function(x){const m=bt.getElementFromSelector(this);if(!m||!m.classList.contains(hs))return;x.preventDefault();const T=$s.getOrCreateInstance(m),I=this.getAttribute("data-bs-slide-to");return I?(T.to(I),void T._maybeEnableCycle()):St.getDataAttribute(this,"slide")==="next"?(T.next(),void T._maybeEnableCycle()):(T.prev(),void T._maybeEnableCycle())}),D.on(window,_l,()=>{const x=bt.find('[data-bs-ride="carousel"]');for(const m of x)$s.getOrCreateInstance(m)}),L($s);const Te=".bs.collapse",nn=`show${Te}`,Xe=`shown${Te}`,Si=`hide${Te}`,bl=`hidden${Te}`,Lu=`click${Te}.data-api`,fs="show",Gs="collapse",ds="collapsing",mr=`:scope .${Gs} .${Gs}`,Yi='[data-bs-toggle="collapse"]',gs={parent:null,toggle:!0},ps={parent:"(null|element)",toggle:"boolean"};class Ze extends It{constructor(m,T){super(m,T),this._isTransitioning=!1,this._triggerArray=[];const I=bt.find(Yi);for(const q of I){const Y=bt.getSelectorFromElement(q),st=bt.find(Y).filter(ot=>ot===this._element);Y!==null&&st.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return gs}static get DefaultType(){return ps}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>Ze.getOrCreateInstance(q,{toggle:!1}))),m.length&&m[0]._isTransitioning||D.trigger(this._element,nn).defaultPrevented)return;for(const q of m)q.hide();const T=this._getDimension();this._element.classList.remove(Gs),this._element.classList.add(ds),this._element.style[T]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${T[0].toUpperCase()+T.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ds),this._element.classList.add(Gs,fs),this._element.style[T]="",D.trigger(this._element,Xe)},this._element,!0),this._element.style[T]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,Si).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,A(this._element),this._element.classList.add(ds),this._element.classList.remove(Gs,fs);for(const T of this._triggerArray){const I=bt.getElementFromSelector(T);I&&!this._isShown(I)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ds),this._element.classList.add(Gs),D.trigger(this._element,bl)},this._element,!0)}_isShown(m=this._element){return m.classList.contains(fs)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=f(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(Yi);for(const T of m){const I=bt.getElementFromSelector(T);I&&this._addAriaAndCollapsedClass([T],this._isShown(I))}}_getFirstLevelChildren(m){const T=bt.find(mr,this._config.parent);return bt.find(m,this._config.parent).filter(I=>!T.includes(I))}_addAriaAndCollapsedClass(m,T){if(m.length)for(const I of m)I.classList.toggle("collapsed",!T),I.setAttribute("aria-expanded",T)}static jQueryInterface(m){const T={};return typeof m=="string"&&/show|hide/.test(m)&&(T.toggle=!1),this.each(function(){const I=Ze.getOrCreateInstance(this,T);if(typeof m=="string"){if(I[m]===void 0)throw new TypeError(`No method named "${m}"`);I[m]()}})}}D.on(document,Lu,Yi,function(x){(x.target.tagName==="A"||x.delegateTarget&&x.delegateTarget.tagName==="A")&&x.preventDefault();for(const m of bt.getMultipleElementsFromSelector(this))Ze.getOrCreateInstance(m,{toggle:!1}).toggle()}),L(Ze);var ie="top",wn="bottom",gn="right",ke="left",Ai="auto",Ys=[ie,wn,gn,ke],ms="start",xi="end",El="clippingParents",_s="viewport",Fn="popper",pn="reference",Ks=Ys.reduce(function(x,m){return x.concat([m+"-"+ms,m+"-"+xi])},[]),io=[].concat(Ys,[Ai]).reduce(function(x,m){return x.concat([m,m+"-"+ms,m+"-"+xi])},[]),ys="beforeRead",ta="read",ea="afterRead",so="beforeMain",na="main",Pn="afterMain",ro="beforeWrite",mc="write",ia="afterWrite",ao=[ys,ta,ea,so,na,Pn,ro,mc,ia];function Nn(x){return x?(x.nodeName||"").toLowerCase():null}function Hn(x){if(x==null)return window;if(x.toString()!=="[object Window]"){var m=x.ownerDocument;return m&&m.defaultView||window}return x}function Ie(x){return x instanceof Hn(x).Element||x instanceof Element}function Le(x){return x instanceof Hn(x).HTMLElement||x instanceof HTMLElement}function Ws(x){return typeof ShadowRoot<"u"&&(x instanceof Hn(x).ShadowRoot||x instanceof ShadowRoot)}const vs={name:"applyStyles",enabled:!0,phase:"write",fn:function(x){var m=x.state;Object.keys(m.elements).forEach(function(T){var I=m.styles[T]||{},q=m.attributes[T]||{},Y=m.elements[T];Le(Y)&&Nn(Y)&&(Object.assign(Y.style,I),Object.keys(q).forEach(function(st){var ot=q[st];ot===!1?Y.removeAttribute(st):Y.setAttribute(st,ot===!0?"":ot)}))})},effect:function(x){var m=x.state,T={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,T.popper),m.styles=T,m.elements.arrow&&Object.assign(m.elements.arrow.style,T.arrow),function(){Object.keys(m.elements).forEach(function(I){var q=m.elements[I],Y=m.attributes[I]||{},st=Object.keys(m.styles.hasOwnProperty(I)?m.styles[I]:T[I]).reduce(function(ot,_t){return ot[_t]="",ot},{});Le(q)&&Nn(q)&&(Object.assign(q.style,st),Object.keys(Y).forEach(function(ot){q.removeAttribute(ot)}))})}},requires:["computeStyles"]};function mn(x){return x.split("-")[0]}var ae=Math.max,bs=Math.min,Sn=Math.round;function Qs(){var x=navigator.userAgentData;return x!=null&&x.brands&&Array.isArray(x.brands)?x.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function Tl(){return!/^((?!chrome|android).)*safari/i.test(Qs())}function Es(x,m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);var I=x.getBoundingClientRect(),q=1,Y=1;m&&Le(x)&&(q=x.offsetWidth>0&&Sn(I.width)/x.offsetWidth||1,Y=x.offsetHeight>0&&Sn(I.height)/x.offsetHeight||1);var st=(Ie(x)?Hn(x):window).visualViewport,ot=!Tl()&&T,_t=(I.left+(ot&&st?st.offsetLeft:0))/q,wt=(I.top+(ot&&st?st.offsetTop:0))/Y,Rt=I.width/q,Et=I.height/Y;return{width:Rt,height:Et,top:wt,right:_t+Rt,bottom:wt+Et,left:_t,x:_t,y:wt}}function sa(x){var m=Es(x),T=x.offsetWidth,I=x.offsetHeight;return Math.abs(m.width-T)<=1&&(T=m.width),Math.abs(m.height-I)<=1&&(I=m.height),{x:x.offsetLeft,y:x.offsetTop,width:T,height:I}}function _c(x,m){var T=m.getRootNode&&m.getRootNode();if(x.contains(m))return!0;if(T&&Ws(T)){var I=m;do{if(I&&x.isSameNode(I))return!0;I=I.parentNode||I.host}while(I)}return!1}function Ki(x){return Hn(x).getComputedStyle(x)}function oo(x){return["table","td","th"].indexOf(Nn(x))>=0}function Ln(x){return((Ie(x)?x.ownerDocument:x.document)||window.document).documentElement}function qn(x){return Nn(x)==="html"?x:x.assignedSlot||x.parentNode||(Ws(x)?x.host:null)||Ln(x)}function Ts(x){return Le(x)&&Ki(x).position!=="fixed"?x.offsetParent:null}function gi(x){for(var m=Hn(x),T=Ts(x);T&&oo(T)&&Ki(T).position==="static";)T=Ts(T);return T&&(Nn(T)==="html"||Nn(T)==="body"&&Ki(T).position==="static")?m:T||function(I){var q=/firefox/i.test(Qs());if(/Trident/i.test(Qs())&&Le(I)&&Ki(I).position==="fixed")return null;var Y=qn(I);for(Ws(Y)&&(Y=Y.host);Le(Y)&&["html","body"].indexOf(Nn(Y))<0;){var st=Ki(Y);if(st.transform!=="none"||st.perspective!=="none"||st.contain==="paint"||["transform","perspective"].indexOf(st.willChange)!==-1||q&&st.willChange==="filter"||q&&st.filter&&st.filter!=="none")return Y;Y=Y.parentNode}return null}(x)||m}function ra(x){return["top","bottom"].indexOf(x)>=0?"x":"y"}function ei(x,m,T){return ae(x,bs(m,T))}function wl(x){return Object.assign({},{top:0,right:0,bottom:0,left:0},x)}function _r(x,m){return m.reduce(function(T,I){return T[I]=x,T},{})}const Ri={name:"arrow",enabled:!0,phase:"main",fn:function(x){var m,T=x.state,I=x.name,q=x.options,Y=T.elements.arrow,st=T.modifiersData.popperOffsets,ot=mn(T.placement),_t=ra(ot),wt=[ke,gn].indexOf(ot)>=0?"height":"width";if(Y&&st){var Rt=function(Ht,de){return wl(typeof(Ht=typeof Ht=="function"?Ht(Object.assign({},de.rects,{placement:de.placement})):Ht)!="number"?Ht:_r(Ht,Ys))}(q.padding,T),Et=sa(Y),Yt=_t==="y"?ie:ke,Pt=_t==="y"?wn:gn,Kt=T.rects.reference[wt]+T.rects.reference[_t]-st[_t]-T.rects.popper[wt],Bt=st[_t]-T.rects.reference[_t],Vt=gi(Y),_e=Vt?_t==="y"?Vt.clientHeight||0:Vt.clientWidth||0:0,Se=Kt/2-Bt/2,Zt=Rt[Yt],he=_e-Et[wt]-Rt[Pt],Ft=_e/2-Et[wt]/2+Se,Tt=ei(Zt,Ft,he),Dt=_t;T.modifiersData[I]=((m={})[Dt]=Tt,m.centerOffset=Tt-Ft,m)}},effect:function(x){var m=x.state,T=x.options.element,I=T===void 0?"[data-popper-arrow]":T;I!=null&&(typeof I!="string"||(I=m.elements.popper.querySelector(I)))&&_c(m.elements.popper,I)&&(m.elements.arrow=I)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function An(x){return x.split("-")[1]}var aa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wi(x){var m,T=x.popper,I=x.popperRect,q=x.placement,Y=x.variation,st=x.offsets,ot=x.position,_t=x.gpuAcceleration,wt=x.adaptive,Rt=x.roundOffsets,Et=x.isFixed,Yt=st.x,Pt=Yt===void 0?0:Yt,Kt=st.y,Bt=Kt===void 0?0:Kt,Vt=typeof Rt=="function"?Rt({x:Pt,y:Bt}):{x:Pt,y:Bt};Pt=Vt.x,Bt=Vt.y;var _e=st.hasOwnProperty("x"),Se=st.hasOwnProperty("y"),Zt=ke,he=ie,Ft=window;if(wt){var Tt=gi(T),Dt="clientHeight",Ht="clientWidth";Tt===Hn(T)&&Ki(Tt=Ln(T)).position!=="static"&&ot==="absolute"&&(Dt="scrollHeight",Ht="scrollWidth"),(q===ie||(q===ke||q===gn)&&Y===xi)&&(he=wn,Bt-=(Et&&Tt===Ft&&Ft.visualViewport?Ft.visualViewport.height:Tt[Dt])-I.height,Bt*=_t?1:-1),q!==ke&&(q!==ie&&q!==wn||Y!==xi)||(Zt=gn,Pt-=(Et&&Tt===Ft&&Ft.visualViewport?Ft.visualViewport.width:Tt[Ht])-I.width,Pt*=_t?1:-1)}var de,Oe=Object.assign({position:ot},wt&&aa),ln=Rt===!0?function(ri,cn){var Cn=ri.x,Di=ri.y,Qt=cn.devicePixelRatio||1;return{x:Sn(Cn*Qt)/Qt||0,y:Sn(Di*Qt)/Qt||0}}({x:Pt,y:Bt},Hn(T)):{x:Pt,y:Bt};return Pt=ln.x,Bt=ln.y,_t?Object.assign({},Oe,((de={})[he]=Se?"0":"",de[Zt]=_e?"0":"",de.transform=(Ft.devicePixelRatio||1)<=1?"translate("+Pt+"px, "+Bt+"px)":"translate3d("+Pt+"px, "+Bt+"px, 0)",de)):Object.assign({},Oe,((m={})[he]=Se?Bt+"px":"",m[Zt]=_e?Pt+"px":"",m.transform="",m))}const ws={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var m=x.state,T=x.options,I=T.gpuAcceleration,q=I===void 0||I,Y=T.adaptive,st=Y===void 0||Y,ot=T.roundOffsets,_t=ot===void 0||ot,wt={placement:mn(m.placement),variation:An(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:q,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,Wi(Object.assign({},wt,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:st,roundOffsets:_t})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,Wi(Object.assign({},wt,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_t})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}};var Ci={passive:!0};const oa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(x){var m=x.state,T=x.instance,I=x.options,q=I.scroll,Y=q===void 0||q,st=I.resize,ot=st===void 0||st,_t=Hn(m.elements.popper),wt=[].concat(m.scrollParents.reference,m.scrollParents.popper);return Y&&wt.forEach(function(Rt){Rt.addEventListener("scroll",T.update,Ci)}),ot&&_t.addEventListener("resize",T.update,Ci),function(){Y&&wt.forEach(function(Rt){Rt.removeEventListener("scroll",T.update,Ci)}),ot&&_t.removeEventListener("resize",T.update,Ci)}},data:{}};var Ss={left:"right",right:"left",bottom:"top",top:"bottom"};function pi(x){return x.replace(/left|right|bottom|top/g,function(m){return Ss[m]})}var Sl={start:"end",end:"start"};function sn(x){return x.replace(/start|end/g,function(m){return Sl[m]})}function fe(x){var m=Hn(x);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function yr(x){return Es(Ln(x)).left+fe(x).scrollLeft}function Xs(x){var m=Ki(x),T=m.overflow,I=m.overflowX,q=m.overflowY;return/auto|scroll|overlay|hidden/.test(T+q+I)}function Al(x){return["html","body","#document"].indexOf(Nn(x))>=0?x.ownerDocument.body:Le(x)&&Xs(x)?x:Al(qn(x))}function As(x,m){var T;m===void 0&&(m=[]);var I=Al(x),q=I===((T=x.ownerDocument)==null?void 0:T.body),Y=Hn(I),st=q?[Y].concat(Y.visualViewport||[],Xs(I)?I:[]):I,ot=m.concat(st);return q?ot:ot.concat(As(qn(st)))}function vr(x){return Object.assign({},x,{left:x.x,top:x.y,right:x.x+x.width,bottom:x.y+x.height})}function Qi(x,m,T){return m===_s?vr(function(I,q){var Y=Hn(I),st=Ln(I),ot=Y.visualViewport,_t=st.clientWidth,wt=st.clientHeight,Rt=0,Et=0;if(ot){_t=ot.width,wt=ot.height;var Yt=Tl();(Yt||!Yt&&q==="fixed")&&(Rt=ot.offsetLeft,Et=ot.offsetTop)}return{width:_t,height:wt,x:Rt+yr(I),y:Et}}(x,T)):Ie(m)?function(I,q){var Y=Es(I,!1,q==="fixed");return Y.top=Y.top+I.clientTop,Y.left=Y.left+I.clientLeft,Y.bottom=Y.top+I.clientHeight,Y.right=Y.left+I.clientWidth,Y.width=I.clientWidth,Y.height=I.clientHeight,Y.x=Y.left,Y.y=Y.top,Y}(m,T):vr(function(I){var q,Y=Ln(I),st=fe(I),ot=(q=I.ownerDocument)==null?void 0:q.body,_t=ae(Y.scrollWidth,Y.clientWidth,ot?ot.scrollWidth:0,ot?ot.clientWidth:0),wt=ae(Y.scrollHeight,Y.clientHeight,ot?ot.scrollHeight:0,ot?ot.clientHeight:0),Rt=-st.scrollLeft+yr(I),Et=-st.scrollTop;return Ki(ot||Y).direction==="rtl"&&(Rt+=ae(Y.clientWidth,ot?ot.clientWidth:0)-_t),{width:_t,height:wt,x:Rt,y:Et}}(Ln(x)))}function br(x){var m,T=x.reference,I=x.element,q=x.placement,Y=q?mn(q):null,st=q?An(q):null,ot=T.x+T.width/2-I.width/2,_t=T.y+T.height/2-I.height/2;switch(Y){case ie:m={x:ot,y:T.y-I.height};break;case wn:m={x:ot,y:T.y+T.height};break;case gn:m={x:T.x+T.width,y:_t};break;case ke:m={x:T.x-I.width,y:_t};break;default:m={x:T.x,y:T.y}}var wt=Y?ra(Y):null;if(wt!=null){var Rt=wt==="y"?"height":"width";switch(st){case ms:m[wt]=m[wt]-(T[Rt]/2-I[Rt]/2);break;case xi:m[wt]=m[wt]+(T[Rt]/2-I[Rt]/2)}}return m}function xn(x,m){m===void 0&&(m={});var T=m,I=T.placement,q=I===void 0?x.placement:I,Y=T.strategy,st=Y===void 0?x.strategy:Y,ot=T.boundary,_t=ot===void 0?El:ot,wt=T.rootBoundary,Rt=wt===void 0?_s:wt,Et=T.elementContext,Yt=Et===void 0?Fn:Et,Pt=T.altBoundary,Kt=Pt!==void 0&&Pt,Bt=T.padding,Vt=Bt===void 0?0:Bt,_e=wl(typeof Vt!="number"?Vt:_r(Vt,Ys)),Se=Yt===Fn?pn:Fn,Zt=x.rects.popper,he=x.elements[Kt?Se:Yt],Ft=function(cn,Cn,Di,Qt){var Mi=Cn==="clippingParents"?function(Ae){var In=As(qn(Ae)),ai=["absolute","fixed"].indexOf(Ki(Ae).position)>=0&&Le(Ae)?gi(Ae):Ae;return Ie(ai)?In.filter(function(Is){return Ie(Is)&&_c(Is,ai)&&Nn(Is)!=="body"}):[]}(cn):[].concat(Cn),ki=[].concat(Mi,[Di]),Ra=ki[0],un=ki.reduce(function(Ae,In){var ai=Qi(cn,In,Qt);return Ae.top=ae(ai.top,Ae.top),Ae.right=bs(ai.right,Ae.right),Ae.bottom=bs(ai.bottom,Ae.bottom),Ae.left=ae(ai.left,Ae.left),Ae},Qi(cn,Ra,Qt));return un.width=un.right-un.left,un.height=un.bottom-un.top,un.x=un.left,un.y=un.top,un}(Ie(he)?he:he.contextElement||Ln(x.elements.popper),_t,Rt,st),Tt=Es(x.elements.reference),Dt=br({reference:Tt,element:Zt,placement:q}),Ht=vr(Object.assign({},Zt,Dt)),de=Yt===Fn?Ht:Tt,Oe={top:Ft.top-de.top+_e.top,bottom:de.bottom-Ft.bottom+_e.bottom,left:Ft.left-de.left+_e.left,right:de.right-Ft.right+_e.right},ln=x.modifiersData.offset;if(Yt===Fn&&ln){var ri=ln[q];Object.keys(Oe).forEach(function(cn){var Cn=[gn,wn].indexOf(cn)>=0?1:-1,Di=[ie,wn].indexOf(cn)>=0?"y":"x";Oe[cn]+=ri[Di]*Cn})}return Oe}function yc(x,m){m===void 0&&(m={});var T=m,I=T.placement,q=T.boundary,Y=T.rootBoundary,st=T.padding,ot=T.flipVariations,_t=T.allowedAutoPlacements,wt=_t===void 0?io:_t,Rt=An(I),Et=Rt?ot?Ks:Ks.filter(function(Kt){return An(Kt)===Rt}):Ys,Yt=Et.filter(function(Kt){return wt.indexOf(Kt)>=0});Yt.length===0&&(Yt=Et);var Pt=Yt.reduce(function(Kt,Bt){return Kt[Bt]=xn(x,{placement:Bt,boundary:q,rootBoundary:Y,padding:st})[mn(Bt)],Kt},{});return Object.keys(Pt).sort(function(Kt,Bt){return Pt[Kt]-Pt[Bt]})}const vc={name:"flip",enabled:!0,phase:"main",fn:function(x){var m=x.state,T=x.options,I=x.name;if(!m.modifiersData[I]._skip){for(var q=T.mainAxis,Y=q===void 0||q,st=T.altAxis,ot=st===void 0||st,_t=T.fallbackPlacements,wt=T.padding,Rt=T.boundary,Et=T.rootBoundary,Yt=T.altBoundary,Pt=T.flipVariations,Kt=Pt===void 0||Pt,Bt=T.allowedAutoPlacements,Vt=m.options.placement,_e=mn(Vt),Se=_t||(_e!==Vt&&Kt?function(Ae){if(mn(Ae)===Ai)return[];var In=pi(Ae);return[sn(Ae),In,sn(In)]}(Vt):[pi(Vt)]),Zt=[Vt].concat(Se).reduce(function(Ae,In){return Ae.concat(mn(In)===Ai?yc(m,{placement:In,boundary:Rt,rootBoundary:Et,padding:wt,flipVariations:Kt,allowedAutoPlacements:Bt}):In)},[]),he=m.rects.reference,Ft=m.rects.popper,Tt=new Map,Dt=!0,Ht=Zt[0],de=0;de<Zt.length;de++){var Oe=Zt[de],ln=mn(Oe),ri=An(Oe)===ms,cn=[ie,wn].indexOf(ln)>=0,Cn=cn?"width":"height",Di=xn(m,{placement:Oe,boundary:Rt,rootBoundary:Et,altBoundary:Yt,padding:wt}),Qt=cn?ri?gn:ke:ri?wn:ie;he[Cn]>Ft[Cn]&&(Qt=pi(Qt));var Mi=pi(Qt),ki=[];if(Y&&ki.push(Di[ln]<=0),ot&&ki.push(Di[Qt]<=0,Di[Mi]<=0),ki.every(function(Ae){return Ae})){Ht=Oe,Dt=!1;break}Tt.set(Oe,ki)}if(Dt)for(var Ra=function(Ae){var In=Zt.find(function(ai){var Is=Tt.get(ai);if(Is)return Is.slice(0,Ae).every(function(On){return On})});if(In)return Ht=In,"break"},un=Kt?3:1;un>0&&Ra(un)!=="break";un--);m.placement!==Ht&&(m.modifiersData[I]._skip=!0,m.placement=Ht,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Er(x,m,T){return T===void 0&&(T={x:0,y:0}),{top:x.top-m.height-T.y,right:x.right-m.width+T.x,bottom:x.bottom-m.height+T.y,left:x.left-m.width-T.x}}function la(x){return[ie,gn,wn,ke].some(function(m){return x[m]>=0})}const lo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(x){var m=x.state,T=x.name,I=m.rects.reference,q=m.rects.popper,Y=m.modifiersData.preventOverflow,st=xn(m,{elementContext:"reference"}),ot=xn(m,{altBoundary:!0}),_t=Er(st,I),wt=Er(ot,q,Y),Rt=la(_t),Et=la(wt);m.modifiersData[T]={referenceClippingOffsets:_t,popperEscapeOffsets:wt,isReferenceHidden:Rt,hasPopperEscaped:Et},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Rt,"data-popper-escaped":Et})}},ca={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(x){var m=x.state,T=x.options,I=x.name,q=T.offset,Y=q===void 0?[0,0]:q,st=io.reduce(function(Rt,Et){return Rt[Et]=function(Yt,Pt,Kt){var Bt=mn(Yt),Vt=[ke,ie].indexOf(Bt)>=0?-1:1,_e=typeof Kt=="function"?Kt(Object.assign({},Pt,{placement:Yt})):Kt,Se=_e[0],Zt=_e[1];return Se=Se||0,Zt=(Zt||0)*Vt,[ke,gn].indexOf(Bt)>=0?{x:Zt,y:Se}:{x:Se,y:Zt}}(Et,m.rects,Y),Rt},{}),ot=st[m.placement],_t=ot.x,wt=ot.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=_t,m.modifiersData.popperOffsets.y+=wt),m.modifiersData[I]=st}},co={name:"popperOffsets",enabled:!0,phase:"read",fn:function(x){var m=x.state,T=x.name;m.modifiersData[T]=br({reference:m.rects.reference,element:m.rects.popper,placement:m.placement})},data:{}},ua={name:"preventOverflow",enabled:!0,phase:"main",fn:function(x){var m=x.state,T=x.options,I=x.name,q=T.mainAxis,Y=q===void 0||q,st=T.altAxis,ot=st!==void 0&&st,_t=T.boundary,wt=T.rootBoundary,Rt=T.altBoundary,Et=T.padding,Yt=T.tether,Pt=Yt===void 0||Yt,Kt=T.tetherOffset,Bt=Kt===void 0?0:Kt,Vt=xn(m,{boundary:_t,rootBoundary:wt,padding:Et,altBoundary:Rt}),_e=mn(m.placement),Se=An(m.placement),Zt=!Se,he=ra(_e),Ft=he==="x"?"y":"x",Tt=m.modifiersData.popperOffsets,Dt=m.rects.reference,Ht=m.rects.popper,de=typeof Bt=="function"?Bt(Object.assign({},m.rects,{placement:m.placement})):Bt,Oe=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),ln=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,ri={x:0,y:0};if(Tt){if(Y){var cn,Cn=he==="y"?ie:ke,Di=he==="y"?wn:gn,Qt=he==="y"?"height":"width",Mi=Tt[he],ki=Mi+Vt[Cn],Ra=Mi-Vt[Di],un=Pt?-Ht[Qt]/2:0,Ae=Se===ms?Dt[Qt]:Ht[Qt],In=Se===ms?-Ht[Qt]:-Dt[Qt],ai=m.elements.arrow,Is=Pt&&ai?sa(ai):{width:0,height:0},On=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$e=On[Cn],Dc=On[Di],Or=ei(0,Dt[Qt],Is[Qt]),Mc=Zt?Dt[Qt]/2-un-Or-$e-Oe.mainAxis:Ae-Or-$e-Oe.mainAxis,uh=Zt?-Dt[Qt]/2+un+Or+Dc+Oe.mainAxis:In+Or+Dc+Oe.mainAxis,ns=m.elements.arrow&&gi(m.elements.arrow),kc=ns?he==="y"?ns.clientTop||0:ns.clientLeft||0:0,Pc=(cn=ln?.[he])!=null?cn:0,hh=Mi+uh-Pc,fh=ei(Pt?bs(ki,Mi+Mc-Pc-kc):ki,Mi,Pt?ae(Ra,hh):Ra);Tt[he]=fh,ri[he]=fh-Mi}if(ot){var dh,yd=he==="x"?ie:ke,vd=he==="x"?wn:gn,Dr=Tt[Ft],Bl=Ft==="y"?"height":"width",Nc=Dr+Vt[yd],gh=Dr-Vt[vd],ph=[ie,ke].indexOf(_e)!==-1,mh=(dh=ln?.[Ft])!=null?dh:0,_h=ph?Nc:Dr-Dt[Bl]-Ht[Bl]-mh+Oe.altAxis,yh=ph?Dr+Dt[Bl]+Ht[Bl]-mh-Oe.altAxis:gh,Lc=Pt&&ph?function(bd,Ed,Vc){var vh=ei(bd,Ed,Vc);return vh>Vc?Vc:vh}(_h,Dr,yh):ei(Pt?_h:Nc,Dr,Pt?yh:gh);Tt[Ft]=Lc,ri[Ft]=Lc-Dr}m.modifiersData[I]=ri}},requiresIfExists:["offset"]};function Vu(x,m,T){T===void 0&&(T=!1);var I,q,Y=Le(m),st=Le(m)&&function(Et){var Yt=Et.getBoundingClientRect(),Pt=Sn(Yt.width)/Et.offsetWidth||1,Kt=Sn(Yt.height)/Et.offsetHeight||1;return Pt!==1||Kt!==1}(m),ot=Ln(m),_t=Es(x,st,T),wt={scrollLeft:0,scrollTop:0},Rt={x:0,y:0};return(Y||!Y&&!T)&&((Nn(m)!=="body"||Xs(ot))&&(wt=(I=m)!==Hn(I)&&Le(I)?{scrollLeft:(q=I).scrollLeft,scrollTop:q.scrollTop}:fe(I)),Le(m)?((Rt=Es(m,!0)).x+=m.clientLeft,Rt.y+=m.clientTop):ot&&(Rt.x=yr(ot))),{x:_t.left+wt.scrollLeft-Rt.x,y:_t.top+wt.scrollTop-Rt.y,width:_t.width,height:_t.height}}function xl(x){var m=new Map,T=new Set,I=[];function q(Y){T.add(Y.name),[].concat(Y.requires||[],Y.requiresIfExists||[]).forEach(function(st){if(!T.has(st)){var ot=m.get(st);ot&&q(ot)}}),I.push(Y)}return x.forEach(function(Y){m.set(Y.name,Y)}),x.forEach(function(Y){T.has(Y.name)||q(Y)}),I}var Tr={placement:"bottom",modifiers:[],strategy:"absolute"};function Rl(){for(var x=arguments.length,m=new Array(x),T=0;T<x;T++)m[T]=arguments[T];return!m.some(function(I){return!(I&&typeof I.getBoundingClientRect=="function")})}function ha(x){x===void 0&&(x={});var m=x,T=m.defaultModifiers,I=T===void 0?[]:T,q=m.defaultOptions,Y=q===void 0?Tr:q;return function(st,ot,_t){_t===void 0&&(_t=Y);var wt,Rt,Et={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tr,Y),modifiersData:{},elements:{reference:st,popper:ot},attributes:{},styles:{}},Yt=[],Pt=!1,Kt={state:Et,setOptions:function(Vt){var _e=typeof Vt=="function"?Vt(Et.options):Vt;Bt(),Et.options=Object.assign({},Y,Et.options,_e),Et.scrollParents={reference:Ie(st)?As(st):st.contextElement?As(st.contextElement):[],popper:As(ot)};var Se,Zt,he=function(Ft){var Tt=xl(Ft);return ao.reduce(function(Dt,Ht){return Dt.concat(Tt.filter(function(de){return de.phase===Ht}))},[])}((Se=[].concat(I,Et.options.modifiers),Zt=Se.reduce(function(Ft,Tt){var Dt=Ft[Tt.name];return Ft[Tt.name]=Dt?Object.assign({},Dt,Tt,{options:Object.assign({},Dt.options,Tt.options),data:Object.assign({},Dt.data,Tt.data)}):Tt,Ft},{}),Object.keys(Zt).map(function(Ft){return Zt[Ft]})));return Et.orderedModifiers=he.filter(function(Ft){return Ft.enabled}),Et.orderedModifiers.forEach(function(Ft){var Tt=Ft.name,Dt=Ft.options,Ht=Dt===void 0?{}:Dt,de=Ft.effect;if(typeof de=="function"){var Oe=de({state:Et,name:Tt,instance:Kt,options:Ht});Yt.push(Oe||function(){})}}),Kt.update()},forceUpdate:function(){if(!Pt){var Vt=Et.elements,_e=Vt.reference,Se=Vt.popper;if(Rl(_e,Se)){Et.rects={reference:Vu(_e,gi(Se),Et.options.strategy==="fixed"),popper:sa(Se)},Et.reset=!1,Et.placement=Et.options.placement,Et.orderedModifiers.forEach(function(de){return Et.modifiersData[de.name]=Object.assign({},de.data)});for(var Zt=0;Zt<Et.orderedModifiers.length;Zt++)if(Et.reset!==!0){var he=Et.orderedModifiers[Zt],Ft=he.fn,Tt=he.options,Dt=Tt===void 0?{}:Tt,Ht=he.name;typeof Ft=="function"&&(Et=Ft({state:Et,options:Dt,name:Ht,instance:Kt})||Et)}else Et.reset=!1,Zt=-1}}},update:(wt=function(){return new Promise(function(Vt){Kt.forceUpdate(),Vt(Et)})},function(){return Rt||(Rt=new Promise(function(Vt){Promise.resolve().then(function(){Rt=void 0,Vt(wt())})})),Rt}),destroy:function(){Bt(),Pt=!0}};if(!Rl(st,ot))return Kt;function Bt(){Yt.forEach(function(Vt){return Vt()}),Yt=[]}return Kt.setOptions(_t).then(function(Vt){!Pt&&_t.onFirstUpdate&&_t.onFirstUpdate(Vt)}),Kt}}var Cl=ha(),fa=ha({defaultModifiers:[oa,co,ws,vs]}),uo=ha({defaultModifiers:[oa,co,ws,vs,ca,vc,ua,Ri,lo]});const da=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Pn,afterRead:ea,afterWrite:ia,applyStyles:vs,arrow:Ri,auto:Ai,basePlacements:Ys,beforeMain:so,beforeRead:ys,beforeWrite:ro,bottom:wn,clippingParents:El,computeStyles:ws,createPopper:uo,createPopperBase:Cl,createPopperLite:fa,detectOverflow:xn,end:xi,eventListeners:oa,flip:vc,hide:lo,left:ke,main:na,modifierPhases:ao,offset:ca,placements:io,popper:Fn,popperGenerator:ha,popperOffsets:co,preventOverflow:ua,read:ta,reference:pn,right:gn,start:ms,top:ie,variationPlacements:Ks,viewport:_s,write:mc},Symbol.toStringTag,{value:"Module"})),Il="dropdown",Xi=".bs.dropdown",Zi=".data-api",bc="ArrowUp",Ol="ArrowDown",Ec=`hide${Xi}`,Tc=`hidden${Xi}`,ho=`show${Xi}`,$n=`shown${Xi}`,Dl=`click${Xi}${Zi}`,Ml=`keydown${Xi}${Zi}`,xs=`keyup${Xi}${Zi}`,d="show",v='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',w=`${v}.${d}`,O=".dropdown-menu",W=M()?"top-end":"top-start",it=M()?"top-start":"top-end",vt=M()?"bottom-end":"bottom-start",oe=M()?"bottom-start":"bottom-end",rn=M()?"left-start":"right-start",le=M()?"right-start":"left-start",_n={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},an={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class on extends It{constructor(m,T){super(m,T),this._popper=null,this._parent=this._element.parentNode,this._menu=bt.next(this._element,O)[0]||bt.prev(this._element,O)[0]||bt.findOne(O,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _n}static get DefaultType(){return an}static get NAME(){return Il}toggle(){return this._isShown()?this.hide():this.show()}show(){if(y(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!D.trigger(this._element,ho,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const T of[].concat(...document.body.children))D.on(T,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(d),this._element.classList.add(d),D.trigger(this._element,$n,m)}}hide(){if(y(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!D.trigger(this._element,Ec,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))D.off(T,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(d),this._element.classList.remove(d),this._element.setAttribute("aria-expanded","false"),St.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,Tc,m),this._element.focus()}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!h(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${Il.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(da===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let m=this._element;this._config.reference==="parent"?m=this._parent:h(this._config.reference)?m=f(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const T=this._getPopperConfig();this._popper=uo(m,this._menu,T)}_isShown(){return this._menu.classList.contains(d)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return rn;if(m.classList.contains("dropstart"))return le;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const T=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?T?it:W:T?oe:vt}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(T=>Number.parseInt(T,10)):typeof m=="function"?T=>m(T,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(St.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...G(this._config.popperConfig,[void 0,m])}}_selectMenuItem({key:m,target:T}){const I=bt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>g(q));I.length&&ct(I,T,m===Ol,!I.includes(T)).focus()}static jQueryInterface(m){return this.each(function(){const T=on.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const T=bt.find(w);for(const I of T){const q=on.getInstance(I);if(!q||q._config.autoClose===!1)continue;const Y=m.composedPath(),st=Y.includes(q._menu);if(Y.includes(q._element)||q._config.autoClose==="inside"&&!st||q._config.autoClose==="outside"&&st||q._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const ot={relatedTarget:q._element};m.type==="click"&&(ot.clickEvent=m),q._completeHide(ot)}}static dataApiKeydownHandler(m){const T=/input|textarea/i.test(m.target.tagName),I=m.key==="Escape",q=[bc,Ol].includes(m.key);if(!q&&!I||T&&!I)return;m.preventDefault();const Y=this.matches(v)?this:bt.prev(this,v)[0]||bt.next(this,v)[0]||bt.findOne(v,m.delegateTarget.parentNode),st=on.getOrCreateInstance(Y);if(q)return m.stopPropagation(),st.show(),void st._selectMenuItem(m);st._isShown()&&(m.stopPropagation(),st.hide(),Y.focus())}}D.on(document,Ml,v,on.dataApiKeydownHandler),D.on(document,Ml,O,on.dataApiKeydownHandler),D.on(document,Dl,on.clearMenus),D.on(document,xs,on.clearMenus),D.on(document,Dl,v,function(x){x.preventDefault(),on.getOrCreateInstance(this).toggle()}),L(on);const yn="backdrop",Ji="show",fo=`mousedown.bs.${yn}`,wc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Uu extends zt{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return wc}static get DefaultType(){return Xf}static get NAME(){return yn}show(m){if(!this._config.isVisible)return void G(m);this._append();const T=this._getElement();this._config.isAnimated&&A(T),T.classList.add(Ji),this._emulateAnimation(()=>{G(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(Ji),this._emulateAnimation(()=>{this.dispose(),G(m)})):G(m)}dispose(){this._isAppended&&(D.off(this._element,fo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=f(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),D.on(m,fo,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){et(m,this._getElement(),this._config.isAnimated)}}const go=".bs.focustrap",zu=`focusin${go}`,Zf=`keydown.tab${go}`,ju="backward",Jf={autofocus:!0,trapElement:null},Kp={autofocus:"boolean",trapElement:"element"};class td extends zt{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Jf}static get DefaultType(){return Kp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,go),D.on(document,zu,m=>this._handleFocusin(m)),D.on(document,Zf,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,go))}_handleFocusin(m){const{trapElement:T}=this._config;if(m.target===document||m.target===T||T.contains(m.target))return;const I=bt.focusableChildren(T);I.length===0?T.focus():this._lastTabNavDirection===ju?I[I.length-1].focus():I[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?ju:"forward")}}const ed=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nd=".sticky-top",Sc="padding-right",ni="margin-right";class ga{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Sc,T=>T+m),this._setElementAttributes(ed,Sc,T=>T+m),this._setElementAttributes(nd,ni,T=>T-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Sc),this._resetElementAttributes(ed,Sc),this._resetElementAttributes(nd,ni)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,T,I){const q=this.getWidth();this._applyManipulationCallback(m,Y=>{if(Y!==this._element&&window.innerWidth>Y.clientWidth+q)return;this._saveInitialAttribute(Y,T);const st=window.getComputedStyle(Y).getPropertyValue(T);Y.style.setProperty(T,`${I(Number.parseFloat(st))}px`)})}_saveInitialAttribute(m,T){const I=m.style.getPropertyValue(T);I&&St.setDataAttribute(m,T,I)}_resetElementAttributes(m,T){this._applyManipulationCallback(m,I=>{const q=St.getDataAttribute(I,T);q!==null?(St.removeDataAttribute(I,T),I.style.setProperty(T,q)):I.style.removeProperty(T)})}_applyManipulationCallback(m,T){if(h(m))T(m);else for(const I of bt.find(m,this._element))T(I)}}const mi=".bs.modal",id=`hide${mi}`,sd=`hidePrevented${mi}`,Bu=`hidden${mi}`,Ac=`show${mi}`,Wp=`shown${mi}`,po=`resize${mi}`,Fu=`click.dismiss${mi}`,kl=`mousedown.dismiss${mi}`,Hu=`keydown.dismiss${mi}`,rd=`click${mi}.data-api`,wr="modal-open",pa="show",Pl="modal-static",ad={backdrop:!0,focus:!0,keyboard:!0},ma={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Sr extends It{constructor(m,T){super(m,T),this._dialog=bt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ga,this._addEventListeners()}static get Default(){return ad}static get DefaultType(){return ma}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||D.trigger(this._element,Ac,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(D.trigger(this._element,id).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(pa),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){D.off(window,mi),D.off(this._dialog,mi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Uu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new td({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const T=bt.findOne(".modal-body",this._dialog);T&&(T.scrollTop=0),A(this._element),this._element.classList.add(pa),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,Wp,{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,Hu,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),D.on(window,po,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,kl,m=>{D.one(this._element,Fu,T=>{this._element===m.target&&this._element===T.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(wr),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,Bu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(D.trigger(this._element,sd).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,T=this._element.style.overflowY;T==="hidden"||this._element.classList.contains(Pl)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(Pl),this._queueCallback(()=>{this._element.classList.remove(Pl),this._queueCallback(()=>{this._element.style.overflowY=T},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),I=T>0;if(I&&!m){const q=M()?"paddingLeft":"paddingRight";this._element.style[q]=`${T}px`}if(!I&&m){const q=M()?"paddingRight":"paddingLeft";this._element.style[q]=`${T}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,T){return this.each(function(){const I=Sr.getOrCreateInstance(this,m);if(typeof m=="string"){if(I[m]===void 0)throw new TypeError(`No method named "${m}"`);I[m](T)}})}}D.on(document,rd,'[data-bs-toggle="modal"]',function(x){const m=bt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&x.preventDefault(),D.one(m,Ac,I=>{I.defaultPrevented||D.one(m,Bu,()=>{g(this)&&this.focus()})});const T=bt.findOne(".modal.show");T&&Sr.getInstance(T).hide(),Sr.getOrCreateInstance(m).toggle(this)}),fi(Sr),L(Sr);const Rs=".bs.offcanvas",qu=".data-api",Qp=`load${Rs}${qu}`,od="show",ld="showing",$u="hiding",Gu=".offcanvas.show",Yu=`show${Rs}`,ts=`shown${Rs}`,cd=`hide${Rs}`,_i=`hidePrevented${Rs}`,yi=`hidden${Rs}`,mo=`resize${Rs}`,Ku=`click${Rs}${qu}`,xc=`keydown.dismiss${Rs}`,Rc={backdrop:!0,keyboard:!0,scroll:!1},Wu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ii extends It{constructor(m,T){super(m,T),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Rc}static get DefaultType(){return Wu}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||D.trigger(this._element,Yu,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ga().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ld),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(od),this._element.classList.remove(ld),D.trigger(this._element,ts,{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(D.trigger(this._element,cd).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add($u),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(od,$u),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ga().reset(),D.trigger(this._element,yi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new Uu({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():D.trigger(this._element,_i)}:null})}_initializeFocusTrap(){return new td({trapElement:this._element})}_addEventListeners(){D.on(this._element,xc,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():D.trigger(this._element,_i))})}static jQueryInterface(m){return this.each(function(){const T=ii.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m](this)}})}}D.on(document,Ku,'[data-bs-toggle="offcanvas"]',function(x){const m=bt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),y(this))return;D.one(m,yi,()=>{g(this)&&this.focus()});const T=bt.findOne(Gu);T&&T!==m&&ii.getInstance(T).hide(),ii.getOrCreateInstance(m).toggle(this)}),D.on(window,Qp,()=>{for(const x of bt.find(Gu))ii.getOrCreateInstance(x).show()}),D.on(window,mo,()=>{for(const x of bt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(x).position!=="fixed"&&ii.getOrCreateInstance(x).hide()}),fi(ii),L(ii);const Qu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Cc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_o=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xp=(x,m)=>{const T=x.nodeName.toLowerCase();return m.includes(T)?!Cc.has(T)||!!_o.test(x.nodeValue):m.filter(I=>I instanceof RegExp).some(I=>I.test(T))},vi={allowList:Qu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Zs={entry:"(string|element|function|null)",selector:"(string|element)"};class ud extends zt{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return vi}static get DefaultType(){return Xu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[q,Y]of Object.entries(this._config.content))this._setContent(m,Y,q);const T=m.children[0],I=this._resolvePossibleFunction(this._config.extraClass);return I&&T.classList.add(...I.split(" ")),T}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[T,I]of Object.entries(m))super._typeCheckConfig({selector:T,entry:I},Zs)}_setContent(m,T,I){const q=bt.findOne(I,m);q&&((T=this._resolvePossibleFunction(T))?h(T)?this._putElementInTemplate(f(T),q):this._config.html?q.innerHTML=this._maybeSanitize(T):q.textContent=T:q.remove())}_maybeSanitize(m){return this._config.sanitize?function(T,I,q){if(!T.length)return T;if(q&&typeof q=="function")return q(T);const Y=new window.DOMParser().parseFromString(T,"text/html"),st=[].concat(...Y.body.querySelectorAll("*"));for(const ot of st){const _t=ot.nodeName.toLowerCase();if(!Object.keys(I).includes(_t)){ot.remove();continue}const wt=[].concat(...ot.attributes),Rt=[].concat(I["*"]||[],I[_t]||[]);for(const Et of wt)Xp(Et,Rt)||ot.removeAttribute(Et.nodeName)}return Y.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return G(m,[void 0,this])}_putElementInTemplate(m,T){if(this._config.html)return T.innerHTML="",void T.append(m);T.textContent=m.textContent}}const Ic=new Set(["sanitize","allowList","sanitizeFn"]),Js="fade",yo="show",Zu=".tooltip-inner",_a=".modal",ya="hide.bs.modal",Ar="hover",vo="focus",si="click",Ii={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},va={allowList:Qu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},tr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Gn extends It{constructor(m,T){if(da===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(m,T),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return va}static get DefaultType(){return tr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(_a),ya,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=D.trigger(this._element,this.constructor.eventName("show")),T=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!T)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(I),D.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(yo),"ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))D.on(Y,"mouseover",E);this._queueCallback(()=>{D.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!D.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(yo),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))D.off(m,"mouseover",E);this._activeTrigger[si]=!1,this._activeTrigger[vo]=!1,this._activeTrigger[Ar]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const T=this._getTemplateFactory(m).toHtml();if(!T)return null;T.classList.remove(Js,yo),T.classList.add(`bs-${this.constructor.NAME}-auto`);const I=(q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q})(this.constructor.NAME).toString();return T.setAttribute("id",I),this._isAnimated()&&T.classList.add(Js),T}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new ud({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Zu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Js)}_isShown(){return this.tip&&this.tip.classList.contains(yo)}_createPopper(m){const T=G(this._config.placement,[this,m,this._element]),I=Ii[T.toUpperCase()];return uo(this._element,m,this._getPopperConfig(I))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(T=>Number.parseInt(T,10)):typeof m=="function"?T=>m(T,this._element):m}_resolvePossibleFunction(m){return G(m,[this._element,this._element])}_getPopperConfig(m){const T={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:I=>{this._getTipElement().setAttribute("data-popper-placement",I.state.placement)}}]};return{...T,...G(this._config.popperConfig,[void 0,T])}}_setListeners(){const m=this._config.trigger.split(" ");for(const T of m)if(T==="click")D.on(this._element,this.constructor.eventName("click"),this._config.selector,I=>{const q=this._initializeOnDelegatedTarget(I);q._activeTrigger[si]=!(q._isShown()&&q._activeTrigger[si]),q.toggle()});else if(T!=="manual"){const I=T===Ar?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),q=T===Ar?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");D.on(this._element,I,this._config.selector,Y=>{const st=this._initializeOnDelegatedTarget(Y);st._activeTrigger[Y.type==="focusin"?vo:Ar]=!0,st._enter()}),D.on(this._element,q,this._config.selector,Y=>{const st=this._initializeOnDelegatedTarget(Y);st._activeTrigger[Y.type==="focusout"?vo:Ar]=st._element.contains(Y.relatedTarget),st._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(_a),ya,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,T){clearTimeout(this._timeout),this._timeout=setTimeout(m,T)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const T=St.getDataAttributes(this._element);for(const I of Object.keys(T))Ic.has(I)&&delete T[I];return m={...T,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:f(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[T,I]of Object.entries(this._config))this.constructor.Default[T]!==I&&(m[T]=I);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const T=Gn.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}}L(Gn);const ba=".popover-header",hd=".popover-body",Ju={...Gn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},th={...Gn.DefaultType,content:"(null|string|element|function)"};class vn extends Gn{static get Default(){return Ju}static get DefaultType(){return th}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ba]:this._getTitle(),[hd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const T=vn.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m]()}})}}L(vn);const Ve=".bs.scrollspy",me=`activate${Ve}`,xr=`click${Ve}`,Cs=`load${Ve}.data-api`,Rr="active",er="[href]",eh=".nav-link",fd=`${eh}, .nav-item > ${eh}, .list-group-item`,Nl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ll={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class bo extends It{constructor(m,T){super(m,T),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Nl}static get DefaultType(){return Ll}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=f(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(T=>Number.parseFloat(T))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,xr),D.on(this._config.target,xr,er,m=>{const T=this._observableSections.get(m.target.hash);if(T){m.preventDefault();const I=this._rootElement||window,q=T.offsetTop-this._element.offsetTop;if(I.scrollTo)return void I.scrollTo({top:q,behavior:"smooth"});I.scrollTop=q}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(T=>this._observerCallback(T),m)}_observerCallback(m){const T=st=>this._targetLinks.get(`#${st.target.id}`),I=st=>{this._previousScrollData.visibleEntryTop=st.target.offsetTop,this._process(T(st))},q=(this._rootElement||document.documentElement).scrollTop,Y=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const st of m){if(!st.isIntersecting){this._activeTarget=null,this._clearActiveClass(T(st));continue}const ot=st.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Y&&ot){if(I(st),!q)return}else Y||ot||I(st)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=bt.find(er,this._config.target);for(const T of m){if(!T.hash||y(T))continue;const I=bt.findOne(decodeURI(T.hash),this._element);g(I)&&(this._targetLinks.set(decodeURI(T.hash),T),this._observableSections.set(T.hash,I))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(Rr),this._activateParents(m),D.trigger(this._element,me,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))bt.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(Rr);else for(const T of bt.parents(m,".nav, .list-group"))for(const I of bt.prev(T,fd))I.classList.add(Rr)}_clearActiveClass(m){m.classList.remove(Rr);const T=bt.find(`${er}.${Rr}`,m);for(const I of T)I.classList.remove(Rr)}static jQueryInterface(m){return this.each(function(){const T=bo.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}})}}D.on(window,Cs,()=>{for(const x of bt.find('[data-bs-spy="scroll"]'))bo.getOrCreateInstance(x)}),L(bo);const es=".bs.tab",nh=`hide${es}`,Ea=`hidden${es}`,nr=`show${es}`,Cr=`shown${es}`,ir=`click${es}`,ih=`keydown${es}`,sh=`load${es}`,Vl="ArrowLeft",Ul="ArrowRight",Ta="ArrowUp",Rn="ArrowDown",Eo="Home",rh="End",wa="active",dd="fade",ah="show",Je=".dropdown-toggle",zl=`:not(${Je})`,To='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Sa=`.nav-link${zl}, .list-group-item${zl}, [role="tab"]${zl}, ${To}`,oh=`.${wa}[data-bs-toggle="tab"], .${wa}[data-bs-toggle="pill"], .${wa}[data-bs-toggle="list"]`;class Oi extends It{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,ih,T=>this._keydown(T)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const T=this._getActiveElem(),I=T?D.trigger(T,nh,{relatedTarget:m}):null;D.trigger(m,nr,{relatedTarget:T}).defaultPrevented||I&&I.defaultPrevented||(this._deactivate(T,m),this._activate(m,T))}_activate(m,T){m&&(m.classList.add(wa),this._activate(bt.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),D.trigger(m,Cr,{relatedTarget:T})):m.classList.add(ah)},m,m.classList.contains(dd)))}_deactivate(m,T){m&&(m.classList.remove(wa),m.blur(),this._deactivate(bt.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),D.trigger(m,Ea,{relatedTarget:T})):m.classList.remove(ah)},m,m.classList.contains(dd)))}_keydown(m){if(![Vl,Ul,Ta,Rn,Eo,rh].includes(m.key))return;m.stopPropagation(),m.preventDefault();const T=this._getChildren().filter(q=>!y(q));let I;if([Eo,rh].includes(m.key))I=T[m.key===Eo?0:T.length-1];else{const q=[Ul,Rn].includes(m.key);I=ct(T,m.target,q,!0)}I&&(I.focus({preventScroll:!0}),Oi.getOrCreateInstance(I).show())}_getChildren(){return bt.find(Sa,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,T){this._setAttributeIfNotExists(m,"role","tablist");for(const I of T)this._setInitialAttributesOnChild(I)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const T=this._elemIsActive(m),I=this._getOuterElement(m);m.setAttribute("aria-selected",T),I!==m&&this._setAttributeIfNotExists(I,"role","presentation"),T||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const T=bt.getElementFromSelector(m);T&&(this._setAttributeIfNotExists(T,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(T,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,T){const I=this._getOuterElement(m);if(!I.classList.contains("dropdown"))return;const q=(Y,st)=>{const ot=bt.findOne(Y,I);ot&&ot.classList.toggle(st,T)};q(Je,wa),q(".dropdown-menu",ah),I.setAttribute("aria-expanded",T)}_setAttributeIfNotExists(m,T,I){m.hasAttribute(T)||m.setAttribute(T,I)}_elemIsActive(m){return m.classList.contains(wa)}_getInnerElement(m){return m.matches(Sa)?m:bt.findOne(Sa,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const T=Oi.getOrCreateInstance(this);if(typeof m=="string"){if(T[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);T[m]()}})}}D.on(document,ir,To,function(x){["A","AREA"].includes(this.tagName)&&x.preventDefault(),y(this)||Oi.getOrCreateInstance(this).show()}),D.on(window,sh,()=>{for(const x of bt.find(oh))Oi.getOrCreateInstance(x)}),L(Oi);const bi=".bs.toast",Zp=`mouseover${bi}`,gd=`mouseout${bi}`,Jp=`focusin${bi}`,pd=`focusout${bi}`,Aa=`hide${bi}`,lh=`hidden${bi}`,Oc=`show${bi}`,md=`shown${bi}`,wo="hide",jl="show",xa="showing",ch={animation:"boolean",autohide:"boolean",delay:"number"},_d={animation:!0,autohide:!0,delay:5e3};class Ir extends It{constructor(m,T){super(m,T),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _d}static get DefaultType(){return ch}static get NAME(){return"toast"}show(){D.trigger(this._element,Oc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(wo),A(this._element),this._element.classList.add(jl,xa),this._queueCallback(()=>{this._element.classList.remove(xa),D.trigger(this._element,md),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(D.trigger(this._element,Aa).defaultPrevented||(this._element.classList.add(xa),this._queueCallback(()=>{this._element.classList.add(wo),this._element.classList.remove(xa,jl),D.trigger(this._element,lh)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(jl),super.dispose()}isShown(){return this._element.classList.contains(jl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,T){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=T;break;case"focusin":case"focusout":this._hasKeyboardInteraction=T}if(T)return void this._clearTimeout();const I=m.relatedTarget;this._element===I||this._element.contains(I)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,Zp,m=>this._onInteraction(m,!0)),D.on(this._element,gd,m=>this._onInteraction(m,!1)),D.on(this._element,Jp,m=>this._onInteraction(m,!0)),D.on(this._element,pd,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const T=Ir.getOrCreateInstance(this,m);if(typeof m=="string"){if(T[m]===void 0)throw new TypeError(`No method named "${m}"`);T[m](this)}})}}return fi(Ir),L(Ir),{Alert:Hi,Button:Bs,Carousel:$s,Collapse:Ze,Dropdown:on,Modal:Sr,Offcanvas:ii,Popover:vn,ScrollSpy:bo,Tab:Oi,Toast:Ir,Tooltip:Gn}})}(Ug)),Ug.exports}BN();const K1=Z.createContext(),FN=({children:n})=>{const[t,e]=Z.useState(null),[i,r]=Z.useState(0),[o,c]=Z.useState(0);return Z.useEffect(()=>{const h=rA(Kf,async f=>{if(f){const g=vu(tl,"users",f.uid),y=await $1(g);y.exists()&&e(y.data())}else e(null)});return()=>h()},[]),Z.useEffect(()=>{(async()=>{try{const f=hy(tl,"loans"),g=jT(f,BT("status","==","Ongoing")),y=await qT(g);r(y.size)}catch(f){console.log("Error Fetching Count :",f)}})()},[]),Z.useEffect(()=>{(async()=>{try{const f=hy(tl,"loans"),g=jT(f,BT("status","==","Finished")),y=await qT(g);c(y.size)}catch(f){console.log("Error Fetching Count : ",f)}})()},[]),$.jsx(K1.Provider,{value:{userData:t,ongoingCount:i,finishedCount:o},children:n})},Ev=()=>Z.useContext(K1),HN=()=>{const n=kf(),t=async()=>{try{await p2(Kf),n("/")}catch(i){console.error("Logout failed:",i.message)}},{userData:e}=Ev();return $.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-light",children:$.jsxs("div",{className:"container-fluid",children:[$.jsx(Br,{className:"navbar-brand  text-black ",to:"/",children:"Loan Tracker"}),$.jsx("button",{className:"navbar-toggler bg-black",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:$.jsx("span",{className:"navbar-toggler-icon "})}),$.jsx("div",{className:"collapse navbar-collapse ms-5",id:"navbarNav",children:$.jsxs("ul",{className:"navbar-nav ms-auto",children:[$.jsx("li",{className:"nav-item   ",children:$.jsx(Br,{className:"nav-link text-black",to:"/home",children:"Home"})}),$.jsxs("li",{className:"nav-item dropdown",children:[$.jsx(Br,{className:"nav-link text-black dropdown-toggle",to:"#",id:"dropdownNavbar",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Loans"}),$.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownNavbar",children:[$.jsx("li",{children:$.jsx(Br,{className:"dropdown-item",to:"/loan",children:"Current Loan"})}),$.jsx("li",{children:$.jsx(Br,{className:"dropdown-item",to:"/finishedloan",children:"Finished Loan"})})]})]}),$.jsx("li",{className:"nav-item   ",children:$.jsx(Br,{className:"nav-link text-black",to:"/InterestCalculator",children:"Calculator"})}),$.jsx("div",{className:"nav-item logout-div  ",onClick:t,children:e?.username.slice(0,1).toUpperCase()})]})})]})})},Qn=[];for(let n=0;n<256;++n)Qn.push((n+256).toString(16).slice(1));function qN(n,t=0){return(Qn[n[t+0]]+Qn[n[t+1]]+Qn[n[t+2]]+Qn[n[t+3]]+"-"+Qn[n[t+4]]+Qn[n[t+5]]+"-"+Qn[n[t+6]]+Qn[n[t+7]]+"-"+Qn[n[t+8]]+Qn[n[t+9]]+"-"+Qn[n[t+10]]+Qn[n[t+11]]+Qn[n[t+12]]+Qn[n[t+13]]+Qn[n[t+14]]+Qn[n[t+15]]).toLowerCase()}let S_;const $N=new Uint8Array(16);function GN(){if(!S_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");S_=crypto.getRandomValues.bind(crypto)}return S_($N)}const YN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YT={randomUUID:YN};function KN(n,t,e){if(YT.randomUUID&&!n)return YT.randomUUID();n=n||{};const i=n.random??n.rng?.()??GN();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,qN(i)}const WN=({addLoan:n,onclose:t,loan:e})=>{const[i,r]=Z.useState(""),[o,c]=Z.useState(""),[h,f]=Z.useState(""),[g,y]=Z.useState(""),b=(A,R,P)=>{const M=R/12/100;return(A*M*Math.pow(1+M,P)/(Math.pow(1+M,P)-1)+A*R*P/(100*P)).toFixed(2)},E=A=>{A.preventDefault();const R=i,P=parseFloat(o),M=parseFloat(h),L=parseInt(g),G=b(P,M,L),et=P*M*L/(100*L).toFixed(2),ct={id:KN(),loanName:R,amount:P,interest:M,duration:L,totalInterest:et,payment:G,monthsPaid:0,status:"Ongoing"};n(ct),r(""),c(""),f(""),y(""),alert("Your Form Submitted Successfully")};return $.jsxs("form",{onSubmit:E,className:"loan-form",children:[$.jsx("h1",{children:"Enter Your Loan Form to Track"}),$.jsx("div",{className:"loan-form-div",children:$.jsx("input",{type:"text",placeholder:"Loan Name",value:i,onChange:A=>r(A.target.value),required:!0})}),$.jsx("div",{className:"loan-form-div",children:$.jsx("input",{type:"number",placeholder:"Loan Amount",value:o,onChange:A=>c(A.target.value),required:!0})}),$.jsx("div",{className:"loan-form-div",children:$.jsx("input",{type:"number",placeholder:"Annual Interest Rate (%)",value:h,onChange:A=>f(A.target.value),required:!0})}),$.jsx("div",{className:"loan-form-div",children:$.jsx("input",{type:"number",placeholder:"Duration (Months)",value:g,onChange:A=>y(A.target.value),required:!0})}),$.jsx("button",{type:"submit",children:"Add Loan"}),$.jsx("button",{onClick:t,children:"Cancel"})]})},QN=()=>{const{ongoingCount:n,finishedCount:t}=Ev();return $.jsx($.Fragment,{children:$.jsxs("div",{className:"dashboard-div-container",children:[$.jsxs("div",{className:"dashboard-first-card",children:[$.jsx("h1",{children:"Current Loan"}),$.jsx("h1",{children:n})]}),$.jsxs("div",{className:"dashboard-second-card",children:[$.jsx("h1",{children:"Finished Loan"}),$.jsx("h1",{children:t})]})]})})},XN=({addLoan:n})=>{const[t,e]=Z.useState(!1),i=()=>{e(!0)},r=()=>{e(!1)},{userData:o}=Ev();return $.jsxs($.Fragment,{children:[o&&$.jsxs("span",{className:"home-username",children:["Welcome, ",$.jsx("strong",{children:o?.username.toUpperCase()})]}),$.jsx(QN,{}),$.jsx("button",{onClick:i,className:"home-add-btn",children:"Add"}),t&&$.jsx(WN,{addLoan:n,onclose:r})]})},ZN=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(""),[c,h]=Z.useState(0),[f,g]=Z.useState(0),[y,b]=Z.useState(0),[E,A]=Z.useState(0),[R,P]=Z.useState(0),M=U=>{t(U.target.value)},L=U=>{i(U.target.value)},G=U=>{o(U.target.value)},et=()=>{t(""),i(""),o(""),h(0),g(0),b(0),A(0),P(0)},ct=n,rt=e/100/12,pt=e,V=r,k=ct*pt*V/(100*V),N=k*V,z=()=>{const U=k;g(U.toFixed(2));const ne=ct*rt*Math.pow(1+rt,V)/(Math.pow(1+rt,V)-1);h(ne.toFixed(2));const Mt=U+ne;b(Mt.toFixed(2)),A(N.toFixed(2));const gt=Mt*V;P(gt.toFixed(2))},B=()=>{z()},F=()=>{et()};return $.jsx("section",{className:"calculator-section",children:$.jsxs("div",{className:"calculator-container",children:[$.jsx("h1",{children:"Interest Calculator"}),$.jsxs("div",{className:"input-fields",children:[$.jsx("label",{htmlFor:"emi-amount",children:"EMI Amount"}),$.jsx("input",{type:"number",id:"emi-amount",value:n,onChange:M}),$.jsx("label",{htmlFor:"interest",children:"Interest"}),$.jsx("input",{type:"number",id:"interest",value:e,onChange:L}),$.jsx("label",{htmlFor:"tenure",children:"Tenure(Month)"}),$.jsx("input",{type:"number",id:"tenure",value:r,onChange:G})]}),$.jsxs("div",{className:"buttons",children:[$.jsx("button",{onClick:B,children:"Calculate"}),$.jsx("button",{onClick:F,children:"Reset"})]}),$.jsx("div",{className:"details",children:$.jsxs("div",{className:"summary",children:[$.jsx("h1",{children:"Your EMI Details"}),$.jsxs("div",{className:"details-div",children:[$.jsxs("div",{className:"monthly-pay",children:[$.jsx("p",{children:"Monthly Payment"}),$.jsx("p",{children:c})]}),$.jsxs("div",{className:"monthly-pay",children:[$.jsx("p",{children:"Monthly Interest"}),$.jsx("p",{children:f})]}),$.jsxs("div",{className:"monthly-pay",children:[$.jsx("p",{children:"Monthly Payment with Interest"}),$.jsx("p",{children:y})]}),$.jsxs("div",{className:"monthly-pay",children:[$.jsx("p",{children:"Total Interest"}),$.jsx("p",{children:E})]}),$.jsxs("div",{className:"monthly-pay",children:[$.jsx("p",{children:"Total Payment"}),$.jsx("p",{children:R})]})]})]})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wf(n){return n+.5|0}const Go=(n,t,e)=>Math.max(Math.min(n,e),t);function af(n){return Go(Wf(n*2.55),0,255)}function el(n){return Go(Wf(n*255),0,255)}function Ua(n){return Go(Wf(n/2.55)/100,0,1)}function KT(n){return Go(Wf(n*100),0,100)}const ks={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dy=[..."0123456789ABCDEF"],JN=n=>dy[n&15],tL=n=>dy[(n&240)>>4]+dy[n&15],fg=n=>(n&240)>>4===(n&15),eL=n=>fg(n.r)&&fg(n.g)&&fg(n.b)&&fg(n.a);function nL(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ks[n[1]]*17,g:255&ks[n[2]]*17,b:255&ks[n[3]]*17,a:t===5?ks[n[4]]*17:255}:(t===7||t===9)&&(e={r:ks[n[1]]<<4|ks[n[2]],g:ks[n[3]]<<4|ks[n[4]],b:ks[n[5]]<<4|ks[n[6]],a:t===9?ks[n[7]]<<4|ks[n[8]]:255})),e}const iL=(n,t)=>n<255?t(n):"";function sL(n){var t=eL(n)?JN:tL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+iL(n.a,t):void 0}const rL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function W1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function aL(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function oL(n,t,e){const i=W1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function lL(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Tv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,g,y;return o!==c&&(y=o-c,g=h>.5?y/(2-o-c):y/(o+c),f=lL(e,i,r,y,o),f=f*60+.5),[f|0,g||0,h]}function wv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(el)}function Sv(n,t,e){return wv(W1,n,t,e)}function cL(n,t,e){return wv(oL,n,t,e)}function uL(n,t,e){return wv(aL,n,t,e)}function Q1(n){return(n%360+360)%360}function hL(n){const t=rL.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?af(+t[5]):el(+t[5]));const r=Q1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=cL(r,o,c):t[1]==="hsv"?i=uL(r,o,c):i=Sv(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function fL(n,t){var e=Tv(n);e[0]=Q1(e[0]+t),e=Sv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function dL(n){if(!n)return;const t=Tv(n),e=t[0],i=KT(t[1]),r=KT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ua(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const WT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},QT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function gL(){const n={},t=Object.keys(QT),e=Object.keys(WT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,WT[o]);o=parseInt(QT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let dg;function pL(n){dg||(dg=gL(),dg.transparent=[0,0,0,0]);const t=dg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const mL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _L(n){const t=mL.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?af(c):Go(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?af(i):Go(i,0,255)),r=255&(t[4]?af(r):Go(r,0,255)),o=255&(t[6]?af(o):Go(o,0,255)),{r:i,g:r,b:o,a:e}}}function yL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ua(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const A_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,tu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vL(n,t,e){const i=tu(Ua(n.r)),r=tu(Ua(n.g)),o=tu(Ua(n.b));return{r:el(A_(i+e*(tu(Ua(t.r))-i))),g:el(A_(r+e*(tu(Ua(t.g))-r))),b:el(A_(o+e*(tu(Ua(t.b))-o))),a:n.a+e*(t.a-n.a)}}function gg(n,t,e){if(n){let i=Tv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Sv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function X1(n,t){return n&&Object.assign(t||{},n)}function XT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=el(n[3]))):(t=X1(n,{r:0,g:0,b:0,a:1}),t.a=el(t.a)),t}function bL(n){return n.charAt(0)==="r"?_L(n):hL(n)}class Cf{constructor(t){if(t instanceof Cf)return t;const e=typeof t;let i;e==="object"?i=XT(t):e==="string"&&(i=nL(t)||pL(t)||bL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=X1(this._rgb);return t&&(t.a=Ua(t.a)),t}set rgb(t){this._rgb=XT(t)}rgbString(){return this._valid?yL(this._rgb):void 0}hexString(){return this._valid?sL(this._rgb):void 0}hslString(){return this._valid?dL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=vL(this._rgb,t._rgb,e)),this}clone(){return new Cf(this.rgb)}alpha(t){return this._rgb.a=el(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Wf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return gg(this._rgb,2,t),this}darken(t){return gg(this._rgb,2,-t),this}saturate(t){return gg(this._rgb,1,t),this}desaturate(t){return gg(this._rgb,1,-t),this}rotate(t){return fL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Na(){}const EL=(()=>{let n=0;return()=>n++})();function Ne(n){return n==null}function Bn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Us(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Lr(n,t){return Us(n)?n:t}function ve(n,t){return typeof n>"u"?t:n}const TL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Be(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ce(n,t,e,i){let r,o,c;if(Bn(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(be(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function up(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function hp(n){if(Bn(n))return n.map(hp);if(be(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=hp(n[e[r]]);return t}return n}function Z1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function wL(n,t,e,i){if(!Z1(n))return;const r=t[n],o=e[n];be(r)&&be(o)?If(r,o,i):t[n]=hp(o)}function If(n,t,e){const i=Bn(t)?t:[t],r=i.length;if(!be(n))return n;e=e||{};const o=e.merger||wL;let c;for(let h=0;h<r;++h){if(c=i[h],!be(c))continue;const f=Object.keys(c);for(let g=0,y=f.length;g<y;++g)o(f[g],n,c,e)}return n}function pf(n,t){return If(n,t,{merger:SL})}function SL(n,t,e){if(!Z1(n))return;const i=t[n],r=e[n];be(i)&&be(r)?pf(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=hp(r))}const ZT={"":n=>n,x:n=>n.x,y:n=>n.y};function AL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function xL(n){const t=AL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function bu(n,t){return(ZT[t]||(ZT[t]=xL(t)))(n)}function Av(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Of=n=>typeof n<"u",ul=n=>typeof n=="function",JT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function RL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,Ei=2*Ye,fp=Number.POSITIVE_INFINITY,CL=Ye/180,Jn=Ye/2,Gl=Ye/4,tw=Ye*2/3,J1=Math.log10,nl=Math.sign;function zg(n,t,e){return Math.abs(n-t)<e}function ew(n){const t=Math.round(n);n=zg(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(J1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function IL(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function OL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function dp(n){return!OL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function DL(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function ML(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Jl(n){return n*(Ye/180)}function kL(n){return n*(180/Ye)}function nw(n){if(!Us(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function tx(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ye&&(o+=Ei),{angle:o,distance:r}}function PL(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function jr(n){return(n%Ei+Ei)%Ei}function ex(n,t,e,i){const r=jr(n),o=jr(t),c=jr(e),h=jr(o-r),f=jr(c-r),g=jr(r-o),y=jr(r-c);return r===o||r===c||i&&o===c||h>f&&g<y}function ji(n,t,e){return Math.max(t,Math.min(e,n))}function NL(n){return ji(n,-32768,32767)}function tc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function xv(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const gy=(n,t,e,i)=>xv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),LL=(n,t,e)=>xv(n,e,i=>n[i][t]>=e);function VL(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const nx=["push","pop","shift","splice","unshift"];function UL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),nx.forEach(e=>{const i="_onData"+Av(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function iw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(nx.forEach(o=>{delete n[o]}),delete n._chartjs)}function ix(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const sx=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function rx(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,sx.call(window,()=>{i=!1,n.apply(t,e)}))}}function zL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const ax=n=>n==="start"?"left":n==="end"?"right":"center",ls=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,jL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,pg=n=>n===0||n===1,sw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ei/e)),rw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ei/e)+1,mf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Jn)+1,easeOutSine:n=>Math.sin(n*Jn),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>pg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>pg(n)?n:sw(n,.075,.3),easeOutElastic:n=>pg(n)?n:rw(n,.075,.3),easeInOutElastic(n){return pg(n)?n:n<.5?.5*sw(n*2,.1125,.45):.5+.5*rw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-mf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?mf.easeInBounce(n*2)*.5:mf.easeOutBounce(n*2-1)*.5+.5};function ox(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function aw(n){return ox(n)?n:new Cf(n)}function x_(n){return ox(n)?n:new Cf(n).saturate(.5).darken(.1).hexString()}const BL=["x","y","borderWidth","radius","tension"],FL=["color","borderColor","backgroundColor"];function HL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:FL},numbers:{type:"number",properties:BL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function qL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ow=new Map;function $L(n,t){t=t||{};const e=n+JSON.stringify(t);let i=ow.get(e);return i||(i=new Intl.NumberFormat(n,t),ow.set(e,i)),i}function lx(n,t,e){return $L(t,e).format(n)}const GL={values(n){return Bn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=YL(n,e)}const c=J1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),lx(n,i,f)}};function YL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var cx={formatters:GL};function KL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const uc=Object.create(null),py=Object.create(null);function _f(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function R_(n,t,e){return typeof t=="string"?If(_f(n,t),e):If(_f(n,""),t)}class WL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>x_(r.backgroundColor),this.hoverBorderColor=(i,r)=>x_(r.borderColor),this.hoverColor=(i,r)=>x_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return R_(this,t,e)}get(t){return _f(this,t)}describe(t,e){return R_(py,t,e)}override(t,e){return R_(uc,t,e)}route(t,e,i,r){const o=_f(this,t),c=_f(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return be(f)?Object.assign({},g,f):ve(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var dn=new WL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[HL,qL,KL]);function QL(n){return!n||Ne(n.size)||Ne(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function lw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Yl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function cw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function uw(n,t,e,i){ux(n,t,e,i,null)}function ux(n,t,e,i,r){let o,c,h,f,g,y,b,E;const A=t.pointStyle,R=t.rotation,P=t.radius;let M=(R||0)*CL;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(P)||P<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,P,0,0,Ei):n.arc(e,i,P,0,Ei),n.closePath();break;case"triangle":y=r?r/2:P,n.moveTo(e+Math.sin(M)*y,i-Math.cos(M)*P),M+=tw,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*P),M+=tw,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*P),n.closePath();break;case"rectRounded":g=P*.516,f=P-g,c=Math.cos(M+Gl)*f,b=Math.cos(M+Gl)*(r?r/2-g:f),h=Math.sin(M+Gl)*f,E=Math.sin(M+Gl)*(r?r/2-g:f),n.arc(e-b,i-h,g,M-Ye,M-Jn),n.arc(e+E,i-c,g,M-Jn,M),n.arc(e+b,i+h,g,M,M+Jn),n.arc(e-E,i+c,g,M+Jn,M+Ye),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*P,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}M+=Gl;case"rectRot":b=Math.cos(M)*(r?r/2:P),c=Math.cos(M)*P,h=Math.sin(M)*P,E=Math.sin(M)*(r?r/2:P),n.moveTo(e-b,i-h),n.lineTo(e+E,i-c),n.lineTo(e+b,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":M+=Gl;case"cross":b=Math.cos(M)*(r?r/2:P),c=Math.cos(M)*P,h=Math.sin(M)*P,E=Math.sin(M)*(r?r/2:P),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":b=Math.cos(M)*(r?r/2:P),c=Math.cos(M)*P,h=Math.sin(M)*P,E=Math.sin(M)*(r?r/2:P),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),M+=Gl,b=Math.cos(M)*(r?r/2:P),c=Math.cos(M)*P,h=Math.sin(M)*P,E=Math.sin(M)*(r?r/2:P),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(M)*P,h=Math.sin(M)*P,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:P),i+Math.sin(M)*P);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function hx(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Rv(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Cv(n){n.restore()}function XL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ne(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ZL(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function JL(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function gp(n,t,e,i,r,o={}){const c=Bn(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,XL(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&JL(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ne(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),ZL(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function pp(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ye,Ye,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ye,Jn,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Jn,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Jn,!0),n.lineTo(e+c.topLeft,i)}const tV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nV(n,t){const e=(""+n).match(tV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const iV=n=>+n||0;function Iv(n,t){const e={},i=be(t),r=i?Object.keys(t):t,o=be(n)?i?c=>ve(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=iV(o(c));return e}function fx(n){return Iv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function hu(n){return Iv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function cr(n){const t=fx(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Bi(n,t){n=n||{},t=t||dn.font;let e=ve(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ve(n.style,t.style);i&&!(""+i).match(eV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ve(n.family,t.family),lineHeight:nV(ve(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ve(n.weight,t.weight),string:""};return r.string=QL(r),r}function mg(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function sV(n,t,e){const{min:i,max:r}=n,o=TL(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Du(n,t){return Object.assign(Object.create(n),t)}function Ov(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=mx("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Ov([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return gx(h,f,()=>fV(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return fw(h).includes(f)},ownKeys(h){return fw(h)},set(h,f,g){const y=h._storage||(h._storage=r());return h[f]=y[f]=g,delete h._keys,!0}})}function Eu(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:dx(n,i),setContext:o=>Eu(n,o,e,i),override:o=>Eu(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return gx(o,c,()=>aV(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function dx(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ul(e)?e:()=>e,isIndexable:ul(i)?i:()=>i}}const rV=(n,t)=>n?n+Av(t):t,Dv=(n,t)=>be(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function gx(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function aV(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return ul(h)&&c.isScriptable(t)&&(h=oV(t,h,n,e)),Bn(h)&&h.length&&(h=lV(t,h,n,c.isIndexable)),Dv(t,h)&&(h=Eu(h,r,o&&o[t],c)),h}function oV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Dv(n,f)&&(f=Mv(r._scopes,r,n,f)),f}function lV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(be(t[0])){const f=t,g=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const b=Mv(g,r,n,y);t.push(Eu(b,o,c&&c[n],h))}}return t}function px(n,t,e){return ul(n)?n(t,e):n}const cV=(n,t)=>n===!0?t:typeof n=="string"?bu(t,n):void 0;function uV(n,t,e,i,r){for(const o of t){const c=cV(e,o);if(c){n.add(c);const h=px(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Mv(n,t,e,i){const r=t._rootScopes,o=px(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=hw(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=hw(h,c,o,f,i),f===null)?!1:Ov(Array.from(h),[""],r,o,()=>hV(t,e,i))}function hw(n,t,e,i,r){for(;e;)e=uV(n,t,e,i,r);return e}function hV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Bn(r)&&be(e)?e:r||{}}function fV(n,t,e,i){let r;for(const o of t)if(r=mx(rV(o,n),e),typeof r<"u")return Dv(n,r)?Mv(e,i,n,r):r}function mx(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function fw(n){let t=n._keys;return t||(t=n._keys=dV(n._scopes)),t}function dV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function kv(){return typeof window<"u"&&typeof document<"u"}function Pv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mp(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const $p=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function gV(n,t){return $p(n).getPropertyValue(t)}const pV=["top","right","bottom","left"];function ic(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=pV[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const mV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function _V(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(mV(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Xl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=$p(e),o=r.boxSizing==="border-box",c=ic(r,"padding"),h=ic(r,"border","width"),{x:f,y:g,box:y}=_V(n,e),b=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:A,height:R}=t;return o&&(A-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-b)/A*e.width/i),y:Math.round((g-E)/R*e.height/i)}}function yV(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Pv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=$p(o),f=ic(h,"border","width"),g=ic(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=mp(h.maxWidth,o,"clientWidth"),r=mp(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||fp,maxHeight:r||fp}}const _g=n=>Math.round(n*10)/10;function vV(n,t,e,i){const r=$p(n),o=ic(r,"margin"),c=mp(r.maxWidth,n,"clientWidth")||fp,h=mp(r.maxHeight,n,"clientHeight")||fp,f=yV(n,t,e);let{width:g,height:y}=f;if(r.boxSizing==="content-box"){const E=ic(r,"border","width"),A=ic(r,"padding");g-=A.width+E.width,y-=A.height+E.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=_g(Math.min(g,c,f.maxWidth)),y=_g(Math.min(y,h,f.maxHeight)),g&&!y&&(y=_g(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=_g(Math.floor(y*i))),{width:g,height:y}}function dw(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const bV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};kv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function gw(n,t){const e=gV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const EV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},TV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function fu(n,t,e){return n?EV(t,e):TV()}function _x(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function yx(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function yg(n,t,e){return n.options.clip?n[e]:t[e]}function wV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:yg(e,t,"left"),right:yg(e,t,"right"),top:yg(i,t,"top"),bottom:yg(i,t,"bottom")}:t}function SV(n,t){const e=t._clip;if(e.disabled)return!1;const i=wV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=sx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var La=new AV;const pw="transparent",xV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=aw(n||pw),r=i.valid&&aw(t||pw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class RV{constructor(t,e,i,r){const o=e[i];r=mg([t.to,r,o,t.from]);const c=mg([t.from,o,r]);this._active=!0,this._fn=t.fn||xV[t.type||typeof c],this._easing=mf[t.easing]||mf.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=mg([t.to,e,r,t.from]),this._from=mg([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class vx{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!be(t))return;const e=Object.keys(dn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!be(o))return;const c={};for(const h of e)c[h]=o[h];(Bn(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=IV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&CV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let b=o[g];const E=i.get(g);if(b)if(E&&b.active()){b.update(E,y,h);continue}else b.cancel();if(!E||!E.duration){t[g]=y;continue}o[g]=b=new RV(E,t,g,y),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return La.add(this._chart,i),!0}}function CV(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function IV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function mw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function OV(n,t,e){if(e===!1)return!1;const i=mw(n,e),r=mw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function DV(n){let t,e,i,r;return be(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function bx(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function _w(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}g=n.values[f],Us(g)&&(o||t===0||nl(t)===nl(g))&&(t+=g)}return!y&&!i.all?0:t}function MV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,y;for(f=0,g=c.length;f<g;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function C_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function kV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function PV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function NV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function yw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function vw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,y=kV(o,c,i),b=t.length;let E;for(let A=0;A<b;++A){const R=t[A],{[f]:P,[g]:M}=R,L=R._stacks||(R._stacks={});E=L[g]=NV(r,y,P),E[h]=M,E._top=yw(E,c,!0,i.type),E._bottom=yw(E,c,!1,i.type);const G=E._visualValues||(E._visualValues={});G[h]=M}}function I_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function LV(n,t){return Du(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function VV(n,t,e){return Du(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Kh(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const O_=n=>n==="reset"||n==="none",bw=(n,t)=>t?n:Object.assign({},n),UV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:bx(e,!0),values:null};class Ex{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=C_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Kh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,E,A,R)=>b==="x"?E:b==="r"?R:A,o=e.xAxisID=ve(i.xAxisID,I_(t,"x")),c=e.yAxisID=ve(i.yAxisID,I_(t,"y")),h=e.rAxisID=ve(i.rAxisID,I_(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&iw(this._data,this),t._stacked&&Kh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(be(e)){const r=this._cachedMeta;this._data=MV(e,r)}else if(i!==e){if(i){iw(i,this);const r=this._cachedMeta;Kh(r),r._parsed=[]}e&&Object.isExtensible(e)&&UL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=C_(e.vScale,e),e.stack!==i.stack&&(r=!0,Kh(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(vw(this,e._parsed),e._stacked=C_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,b,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{Bn(r[t])?E=this.parseArrayData(i,r,t,e):be(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const A=()=>b[h]===null||g&&b[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=b=E[y],f&&(A()&&(f=!1),g=b);i._sorted=f}c&&vw(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),y=o===c,b=new Array(r);let E,A,R;for(E=0,A=r;E<A;++E)R=E+i,b[E]={[h]:y||o.parse(g[R],R),[f]:c.parse(e[R],R)};return b}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,y,b;for(f=0,g=r;f<g;++f)y=f+i,b=e[y],h[f]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let y,b,E,A;for(y=0,b=r;y<b;++y)E=y+i,A=e[E],g[y]={x:o.parse(bu(A,h),E),y:c.parse(bu(A,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:bx(r,!0),values:e._stacks[t.axis]._visualValues};return _w(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=_w(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=UV(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=PV(h);let E,A;function R(){A=r[E];const P=A[h.axis];return!Us(A[t.axis])||y>P||b<P}for(E=0;E<c&&!(!R()&&(this.updateRangeFromParsed(g,t,A,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!R()){this.updateRangeFromParsed(g,t,A,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Us(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=DV(ve(this.options.clip,OV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const b=r[y];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=VV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=LV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Of(i);if(h)return bw(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),y),A=Object.keys(dn.elements[t]),R=()=>this.getContext(i,r,e),P=g.resolveNamedOptions(E,A,R,b);return P.$shared&&(P.$shared=f,o[c]=Object.freeze(bw(P,f))),P}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),b);f=y.createResolver(E,this.getContext(t,i,e))}const g=new vx(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||O_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){O_(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!O_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Kh(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=ix(i.sort((r,o)=>r-o))}return n._cache.$bar}function jV(n){const t=n.iScale,e=zV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Of(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function BV(n,t,e,i){const r=e.barThickness;let o,c;return Ne(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function FV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function HV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function Tx(n,t,e,i){return Bn(n)?HV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Ew(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let g,y,b,E;for(g=e,y=e+i;g<y;++g)E=t[g],b={},b[r.axis]=h||r.parse(c[g],g),f.push(Tx(E,b,o,g));return f}function D_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function qV(n,t,e){return n!==0?nl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function $V(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function GV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:y}=$V(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=y:(o[Tw(y,c,h,f)]=!0,r=g)),o[Tw(r,c,h,f)]=!0,n.borderSkipped=o}function Tw(n,t,e,i){return i?(n=YV(n,t,e),n=ww(n,e,t)):n=ww(n,t,e),n}function YV(n,t,e){return n===t?e:n===e?t:n}function ww(n,t,e){return n==="start"?t:n==="end"?e:n}function KV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class WV extends Ex{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Ew(t,e,i,r)}parseArrayData(t,e,i,r){return Ew(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,y=c.axis==="x"?h:f,b=[];let E,A,R,P;for(E=i,A=i+r;E<A;++E)P=e[E],R={},R[o.axis]=o.parse(bu(P,g),E),b.push(Tx(bu(P,y),R,c,E));return b}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=D_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),y=this._getRuler(),{sharedOptions:b,includeOptions:E}=this._getSharedOptions(e,r);for(let A=e;A<e+i;A++){const R=this.getParsed(A),P=o||Ne(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(A),M=this._calculateBarIndexPixels(A,y),L=(R._stacks||{})[h.axis],G={horizontal:g,base:P.base,enableBorderRadius:!L||D_(R._custom)||c===L._top||c===L._bottom,x:g?P.head:M.center,y:g?M.center:P.head,height:g?M.size:Math.abs(P.size),width:g?Math.abs(P.size):M.size};E&&(G.options=b||this.resolveDataElementOptions(A,t[A].active?"active":r));const et=G.options||t[A].options;GV(G,et,L,c),KV(G,et,y.ratio),this.updateElement(t[A],A,G,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=y=>{const b=y._parsed.find(A=>A[i.axis]===f),E=b&&b[y.vScale.axis];if(Ne(E)||isNaN(E))return!0};for(const y of r)if(!(e!==void 0&&g(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[ve(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||jV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,y=D_(g);let b=f[e.axis],E=0,A=i?this.applyStack(e,f,i):b,R,P;A!==b&&(E=A-b,A=b),y&&(b=g.barStart,A=g.barEnd-g.barStart,b!==0&&nl(b)!==nl(g.barEnd)&&(E=0),E+=b);const M=!Ne(o)&&!y?o:E;let L=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(E+A):R=L,P=R-L,Math.abs(P)<c){P=qV(P,e,h)*c,b===h&&(L-=P/2);const G=e.getPixelForDecimal(0),et=e.getPixelForDecimal(1),ct=Math.min(G,et),rt=Math.max(G,et);L=Math.max(Math.min(L,rt),ct),R=L+P,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const G=nl(P)*e.getLineWidthForValue(h)/2;L+=G,P-=G}return{size:P,base:L,head:R,center:R+P/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=ve(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,b=r.barThickness==="flex"?FV(t,e,r,y*g):BV(t,e,r,y*g),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,A=this._getAxis().indexOf(ve(E,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+A;h=b.start+b.chunk*R+b.chunk/2,f=Math.min(c,b.chunk*b.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function Kl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Nv{static override(t){Object.assign(Nv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Kl()}parse(){return Kl()}format(){return Kl()}add(){return Kl()}diff(){return Kl()}startOf(){return Kl()}endOf(){return Kl()}}var QV={_date:Nv};function XV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?LL:gy;if(i){if(r._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(t);if(b){const E=g(o,t,e-b),A=g(o,t,e+b);return{lo:E.lo,hi:A.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:b}=r._cachedMeta,{_parsed:E}=n,A=E.slice(0,y.lo+1).reverse().findIndex(P=>!Ne(P[b.axis]));y.lo-=Math.max(0,A);const R=E.slice(y.hi).findIndex(P=>!Ne(P[b.axis]));y.hi+=Math.max(0,R)}return y}}return{lo:0,hi:o.length-1}}function Gp(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:b,hi:E}=XV(o[h],t,c,r);for(let A=b;A<=E;++A){const R=y[A];R.skip||i(R,g,A)}}}function ZV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function M_(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Gp(n,e,t,function(h,f,g){!r&&!hx(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function JV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:b}=tx(c,{x:t.x,y:t.y});ex(b,g,y)&&r.push({element:c,datasetIndex:h,index:f})}return Gp(n,e,t,o),r}function t4(n,t,e,i,r,o){let c=[];const h=ZV(e);let f=Number.POSITIVE_INFINITY;function g(y,b,E){const A=y.inRange(t.x,t.y,r);if(i&&!A)return;const R=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!A)return;const M=h(t,R);M<f?(c=[{element:y,datasetIndex:b,index:E}],f=M):M===f&&c.push({element:y,datasetIndex:b,index:E})}return Gp(n,e,t,g),c}function k_(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?JV(n,t,e,r):t4(n,t,e,i,r,o)}function Sw(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Gp(n,e,t,(f,g,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var e4={modes:{index(n,t,e,i){const r=Xl(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?M_(n,r,o,i,c):k_(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,b=g.data[y];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Xl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?M_(n,r,o,i,c):k_(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Xl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return M_(n,r,o,i,c)},nearest(n,t,e,i){const r=Xl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return k_(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Xl(t,n);return Sw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Xl(t,n);return Sw(n,r,"y",e.intersect,i)}}};const wx=["left","top","right","bottom"];function Wh(n,t){return n.filter(e=>e.pos===t)}function Aw(n,t){return n.filter(e=>wx.indexOf(e.pos)===-1&&e.box.axis===t)}function Qh(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function n4(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function i4(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!wx.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function s4(n,t){const e=i4(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function r4(n){const t=n4(n),e=Qh(t.filter(g=>g.box.fullSize),!0),i=Qh(Wh(t,"left"),!0),r=Qh(Wh(t,"right")),o=Qh(Wh(t,"top"),!0),c=Qh(Wh(t,"bottom")),h=Aw(t,"x"),f=Aw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Wh(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function xw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Sx(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function a4(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!be(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[r]+=e.size}o.getPadding&&Sx(c,o.getPadding());const h=Math.max(0,t.outerWidth-xw(c,n,"left","right")),f=Math.max(0,t.outerHeight-xw(c,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function o4(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function l4(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function of(n,t,e,i){const r=[];let o,c,h,f,g,y;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,l4(h.horizontal,t));const{same:b,other:E}=a4(t,e,h,i);g|=b&&r.length,y=y||E,f.fullSize||r.push(h)}return g&&of(r,t,e,i)||y}function vg(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Rw(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*y,E=g.size||f.height;Of(g.start)&&(c=g.start),f.fullSize?vg(f,r.left,c,e.outerWidth-r.right-r.left,E):vg(f,t.left+g.placed,c,b,E),g.start=c,g.placed+=b,c=f.bottom}else{const b=t.h*y,E=g.size||f.width;Of(g.start)&&(o=g.start),f.fullSize?vg(f,o,r.top,E,e.outerHeight-r.bottom-r.top):vg(f,o,t.top+g.placed,E,b),g.start=o,g.placed+=b,o=f.right}}t.x=o,t.y=c}var Yo={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=cr(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=r4(n.boxes),f=h.vertical,g=h.horizontal;Ce(n.boxes,P=>{typeof P.beforeLayout=="function"&&P.beforeLayout()});const y=f.reduce((P,M)=>M.box.options&&M.box.options.display===!1?P:P+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},r);Sx(E,cr(i));const A=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),R=s4(f.concat(g),b);of(h.fullSize,A,b,R),of(f,A,b,R),of(g,A,b,R)&&of(f,A,b,R),o4(A),Rw(h.leftAndTop,A,b,R),A.x+=A.w,A.y+=A.h,Rw(h.rightAndBottom,A,b,R),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Ce(h.chartArea,P=>{const M=P.box;Object.assign(M,n.chartArea),M.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class Ax{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class c4 extends Ax{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const jg="$chartjs",u4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cw=n=>n===null||n==="";function h4(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[jg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Cw(r)){const o=gw(n,"width");o!==void 0&&(n.width=o)}if(Cw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=gw(n,"height");o!==void 0&&(n.height=o)}return n}const xx=bV?{passive:!0}:!1;function f4(n,t,e){n&&n.addEventListener(t,e,xx)}function d4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,xx)}function g4(n,t){const e=u4[n.type]||n.type,{x:i,y:r}=Xl(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function _p(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function p4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||_p(h.addedNodes,i),c=c&&!_p(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function m4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||_p(h.removedNodes,i),c=c&&!_p(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Df=new Map;let Iw=0;function Rx(){const n=window.devicePixelRatio;n!==Iw&&(Iw=n,Df.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function _4(n,t){Df.size||window.addEventListener("resize",Rx),Df.set(n,t)}function y4(n){Df.delete(n),Df.size||window.removeEventListener("resize",Rx)}function v4(n,t,e){const i=n.canvas,r=i&&Pv(i);if(!r)return;const o=rx((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return c.observe(r),_4(n,o),c}function P_(n,t,e){e&&e.disconnect(),t==="resize"&&y4(n)}function b4(n,t,e){const i=n.canvas,r=rx(o=>{n.ctx!==null&&e(g4(o,n))},n);return f4(i,t,r),r}class E4 extends Ax{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(h4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[jg])return!1;const i=e[jg].initial;["height","width"].forEach(o=>{const c=i[o];Ne(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[jg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:p4,detach:m4,resize:v4}[e]||b4;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:P_,detach:P_,resize:P_}[e]||d4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return vV(t,e,i,r)}isAttached(t){const e=t&&Pv(t);return!!(e&&e.isConnected)}}function T4(n){return!kv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?c4:E4}let Mu=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return dp(this.x)&&dp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function w4(n,t){const e=n.options.ticks,i=S4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?x4(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return R4(t,g,o,c/r),g;const y=A4(o,t,r);if(c>0){let b,E;const A=c>1?Math.round((f-h)/(c-1)):null;for(bg(t,g,y,Ne(A)?0:h-A,h),b=0,E=c-1;b<E;b++)bg(t,g,y,o[b],o[b+1]);return bg(t,g,y,f,Ne(A)?t.length:f+A),g}return bg(t,g,y),g}function S4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function A4(n,t,e){const i=C4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=IL(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function x4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function R4(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function bg(n,t,e,i,r){const o=ve(i,0),c=Math.min(ve(r,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function C4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const I4=n=>n==="left"?"right":n==="right"?"left":n,Ow=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Dw=(n,t)=>Math.min(t||n,n);function Mw(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function O4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function D4(n,t){Ce(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Xh(n){return n.drawTicks?n.tickLength:0}function kw(n,t){if(!n.display)return 0;const e=Bi(n.font,t),i=cr(n.padding);return(Bn(n.text)?n.text.length:1)*e.lineHeight+i.height}function M4(n,t){return Du(n,{scale:t,type:"scale"})}function k4(n,t,e){return Du(n,{tick:e,index:t,type:"tick"})}function P4(n,t,e){let i=ax(n);return(e&&t!=="right"||!e&&t==="right")&&(i=I4(i)),i}function N4(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let b=0,E,A,R;const P=c-r,M=h-o;if(n.isHorizontal()){if(A=ls(i,o,h),be(e)){const L=Object.keys(e)[0],G=e[L];R=y[L].getPixelForValue(G)+P-t}else e==="center"?R=(g.bottom+g.top)/2+P-t:R=Ow(n,e,t);E=h-o}else{if(be(e)){const L=Object.keys(e)[0],G=e[L];A=y[L].getPixelForValue(G)-M+t}else e==="center"?A=(g.left+g.right)/2-M+t:A=Ow(n,e,t);R=ls(i,c,r),b=e==="left"?-Jn:Jn}return{titleX:A,titleY:R,maxWidth:E,rotation:b}}class ku extends Mu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Lr(t,Number.POSITIVE_INFINITY),e=Lr(e,Number.NEGATIVE_INFINITY),i=Lr(i,Number.POSITIVE_INFINITY),r=Lr(r,Number.NEGATIVE_INFINITY),{min:Lr(t,i),max:Lr(e,r),minDefined:Us(t),maxDefined:Us(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Lr(e,Lr(i,e)),max:Lr(i,Lr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sV(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Mw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=w4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Be(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Dw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),b=y.widest.width,E=y.highest.height,A=ji(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),b+6>h&&(h=A/(i-(t.offset?.5:1)),f=this.maxHeight-Xh(t.grid)-e.padding-kw(t.title,this.chart.options.font),g=Math.sqrt(b*b+E*E),c=kL(Math.min(Math.asin(ji((y.highest.height+6)/h,-1,1)),Math.asin(ji(f/g,-1,1))-Math.asin(ji(E/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=kw(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Xh(o)+f):(t.height=this.maxHeight,t.width=Xh(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:E}=this._getLabelSizes(),A=i.padding*2,R=Jl(this.labelRotation),P=Math.cos(R),M=Math.sin(R);if(h){const L=i.mirror?0:M*b.width+P*E.height;t.height=Math.min(this.maxHeight,t.height+L+A)}else{const L=i.mirror?0:P*b.width+M*E.height;t.width=Math.min(this.maxWidth,t.width+L+A)}this._calculatePadding(g,y,M,P)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,A=0;f?g?(E=r*t.width,A=i*e.height):(E=i*t.height,A=r*e.width):o==="start"?A=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,A=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((A-b+c)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;o==="start"?(y=0,b=t.height):o==="end"&&(y=e.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ne(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Mw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Dw(e,i));let g=0,y=0,b,E,A,R,P,M,L,G,et,ct,rt;for(b=0;b<e;b+=f){if(R=t[b].label,P=this._resolveTickFontOptions(b),r.font=M=P.string,L=o[M]=o[M]||{data:{},gc:[]},G=P.lineHeight,et=ct=0,!Ne(R)&&!Bn(R))et=lw(r,L.data,L.gc,et,R),ct=G;else if(Bn(R))for(E=0,A=R.length;E<A;++E)rt=R[E],!Ne(rt)&&!Bn(rt)&&(et=lw(r,L.data,L.gc,et,rt),ct+=G);c.push(et),h.push(ct),g=Math.max(et,g),y=Math.max(ct,y)}D4(o,e);const pt=c.indexOf(g),V=h.indexOf(y),k=N=>({width:c[N]||0,height:h[N]||0});return{first:k(0),last:k(e-1),widest:k(pt),highest:k(V),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return NL(this._alignToPixels?Yl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=k4(this.getContext(),t,i))}return this.$context||(this.$context=M4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Jl(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),E=Xh(o),A=[],R=h.setContext(this.getContext()),P=R.display?R.width:0,M=P/2,L=function(tt){return Yl(i,tt,P)};let G,et,ct,rt,pt,V,k,N,z,B,F,U;if(c==="top")G=L(this.bottom),V=this.bottom-E,N=G-M,B=L(t.top)+M,U=t.bottom;else if(c==="bottom")G=L(this.top),B=t.top,U=L(t.bottom)-M,V=G+M,N=this.top+E;else if(c==="left")G=L(this.right),pt=this.right-E,k=G-M,z=L(t.left)+M,F=t.right;else if(c==="right")G=L(this.left),z=t.left,F=L(t.right)-M,pt=G+M,k=this.left+E;else if(e==="x"){if(c==="center")G=L((t.top+t.bottom)/2+.5);else if(be(c)){const tt=Object.keys(c)[0],gt=c[tt];G=L(this.chart.scales[tt].getPixelForValue(gt))}B=t.top,U=t.bottom,V=G+M,N=V+E}else if(e==="y"){if(c==="center")G=L((t.left+t.right)/2);else if(be(c)){const tt=Object.keys(c)[0],gt=c[tt];G=L(this.chart.scales[tt].getPixelForValue(gt))}pt=G-M,k=pt-E,z=t.left,F=t.right}const ne=ve(r.ticks.maxTicksLimit,b),Mt=Math.max(1,Math.ceil(b/ne));for(et=0;et<b;et+=Mt){const tt=this.getContext(et),gt=o.setContext(tt),xt=h.setContext(tt),Lt=gt.lineWidth,D=gt.color,ht=xt.dash||[],yt=xt.dashOffset,mt=gt.tickWidth,St=gt.tickColor,zt=gt.tickBorderDash||[],It=gt.tickBorderDashOffset;ct=O4(this,et,f),ct!==void 0&&(rt=Yl(i,ct,Lt),g?pt=k=z=F=rt:V=N=B=U=rt,A.push({tx1:pt,ty1:V,tx2:k,ty2:N,x1:z,y1:B,x2:F,y2:U,width:Lt,color:D,borderDash:ht,borderDashOffset:yt,tickWidth:mt,tickColor:St,tickBorderDash:zt,tickBorderDashOffset:It}))}return this._ticksLength=b,this._borderValue=G,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:b}=o,E=Xh(i.grid),A=E+y,R=b?-y:A,P=-Jl(this.labelRotation),M=[];let L,G,et,ct,rt,pt,V,k,N,z,B,F,U="middle";if(r==="top")pt=this.bottom-R,V=this._getXAxisLabelAlignment();else if(r==="bottom")pt=this.top+R,V=this._getXAxisLabelAlignment();else if(r==="left"){const Mt=this._getYAxisLabelAlignment(E);V=Mt.textAlign,rt=Mt.x}else if(r==="right"){const Mt=this._getYAxisLabelAlignment(E);V=Mt.textAlign,rt=Mt.x}else if(e==="x"){if(r==="center")pt=(t.top+t.bottom)/2+A;else if(be(r)){const Mt=Object.keys(r)[0],tt=r[Mt];pt=this.chart.scales[Mt].getPixelForValue(tt)+A}V=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")rt=(t.left+t.right)/2-A;else if(be(r)){const Mt=Object.keys(r)[0],tt=r[Mt];rt=this.chart.scales[Mt].getPixelForValue(tt)}V=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?U="top":f==="end"&&(U="bottom"));const ne=this._getLabelSizes();for(L=0,G=h.length;L<G;++L){et=h[L],ct=et.label;const Mt=o.setContext(this.getContext(L));k=this.getPixelForTick(L)+o.labelOffset,N=this._resolveTickFontOptions(L),z=N.lineHeight,B=Bn(ct)?ct.length:1;const tt=B/2,gt=Mt.color,xt=Mt.textStrokeColor,Lt=Mt.textStrokeWidth;let D=V;c?(rt=k,V==="inner"&&(L===G-1?D=this.options.reverse?"left":"right":L===0?D=this.options.reverse?"right":"left":D="center"),r==="top"?g==="near"||P!==0?F=-B*z+z/2:g==="center"?F=-ne.highest.height/2-tt*z+z:F=-ne.highest.height+z/2:g==="near"||P!==0?F=z/2:g==="center"?F=ne.highest.height/2-tt*z:F=ne.highest.height-B*z,b&&(F*=-1),P!==0&&!Mt.showLabelBackdrop&&(rt+=z/2*Math.sin(P))):(pt=k,F=(1-B)*z/2);let ht;if(Mt.showLabelBackdrop){const yt=cr(Mt.backdropPadding),mt=ne.heights[L],St=ne.widths[L];let zt=F-yt.top,It=0-yt.left;switch(U){case"middle":zt-=mt/2;break;case"bottom":zt-=mt;break}switch(V){case"center":It-=St/2;break;case"right":It-=St;break;case"inner":L===G-1?It-=St:L>0&&(It-=St/2);break}ht={left:It,top:zt,width:St+yt.width,height:mt+yt.height,color:Mt.backdropColor}}M.push({label:ct,font:N,textOffset:F,options:{rotation:P,color:gt,strokeColor:xt,strokeWidth:Lt,textAlign:D,textBaseline:U,translation:[rt,pt],backdrop:ht}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Jl(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,y;return e==="left"?r?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,b,E;this.isHorizontal()?(g=Yl(t,this.left,c)-c/2,y=Yl(t,this.right,h)+h/2,b=E=f):(b=Yl(t,this.top,c)-c/2,E=Yl(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Rv(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,y=c.textOffset;gp(i,g,0,y,f,h)}r&&Cv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Bi(i.font),c=cr(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||be(e)?(f+=c.bottom,Bn(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:y,maxWidth:b,rotation:E}=N4(this,f,e,h);gp(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:E,textAlign:P4(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ve(t.grid&&t.grid.z,-1),r=ve(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ku.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Bi(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Eg{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;U4(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,L4(t,c,i),this.override&&dn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in dn[r]&&(delete dn[r][i],this.override&&delete uc[i])}}function L4(n,t,e){const i=If(Object.create(null),[e?dn.get(e):{},dn.get(t),n.defaults]);dn.set(t,i),n.defaultRoutes&&V4(t,n.defaultRoutes),n.descriptors&&dn.describe(t,n.descriptors)}function V4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");dn.route(o,r,f,h)})}function U4(n){return"id"in n&&"defaults"in n}class z4{constructor(){this.controllers=new Eg(Ex,"datasets",!0),this.elements=new Eg(Mu,"elements"),this.plugins=new Eg(Object,"plugins"),this.scales=new Eg(ku,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Ce(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=Av(t);Be(i["before"+r],[],i),e[t](i),Be(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ur=new z4;class j4{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(Be(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=ve(i.options&&i.options.plugins,{}),o=B4(i);return r===!1&&!e?[]:H4(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function B4(n){const t={},e=[],i=Object.keys(Ur.plugins.items);for(let o=0;o<i.length;o++)e.push(Ur.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function F4(n,t){return!t&&n===!1?null:n===!0?{}:n}function H4(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=F4(i[f],r);g!==null&&o.push({plugin:h,options:q4(n.config,{plugin:h,local:e[f]},g,c)})}return o}function q4(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function my(n,t){const e=dn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function $4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function G4(n,t){return n===t?"_index_":"_value_"}function Pw(n){if(n==="x"||n==="y"||n==="r")return n}function Y4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function _y(n,...t){if(Pw(n))return n;for(const e of t){const i=e.axis||Y4(e.position)||n.length>1&&Pw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Nw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function K4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Nw(n,"x",e[0])||Nw(n,"y",e[0])}return{}}function W4(n,t){const e=uc[n.type]||{scales:{}},i=t.scales||{},r=my(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!be(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=_y(c,h,K4(c,n),dn.scales[h.type]),g=G4(f,r),y=e.scales||{};o[c]=pf(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||my(h,t),y=(uc[h]||{}).scales||{};Object.keys(y).forEach(b=>{const E=$4(b,f),A=c[E+"AxisID"]||E;o[A]=o[A]||Object.create(null),pf(o[A],[{axis:E},i[A],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];pf(h,[dn.scales[h.type],dn.scale])}),o}function Cx(n){const t=n.options||(n.options={});t.plugins=ve(t.plugins,{}),t.scales=W4(n,t)}function Ix(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Q4(n){return n=n||{},n.data=Ix(n.data),Cx(n),n}const Lw=new Map,Ox=new Set;function Tg(n,t){let e=Lw.get(n);return e||(e=t(),Lw.set(n,e),Ox.add(e)),e}const Zh=(n,t,e)=>{const i=bu(t,e);i!==void 0&&n.add(i)};class X4{constructor(t){this._config=Q4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ix(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Cx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Tg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Tg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Tg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Tg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(b=>Zh(f,t,b))),y.forEach(b=>Zh(f,r,b)),y.forEach(b=>Zh(f,uc[o]||{},b)),y.forEach(b=>Zh(f,dn,b)),y.forEach(b=>Zh(f,py,b))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),Ox.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,uc[e]||{},dn.datasets[e]||{},{type:e},dn,py]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Vw(this._resolverCache,t,r);let f=c;if(J4(c,e)){o.$shared=!1,i=ul(i)?i():i;const g=this.createResolver(t,i,h);f=Eu(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Vw(this._resolverCache,t,i);return be(e)?Eu(o,e,void 0,r):o}}function Vw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Ov(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const Z4=n=>be(n)&&Object.getOwnPropertyNames(n).some(t=>ul(n[t]));function J4(n,t){const{isScriptable:e,isIndexable:i}=dx(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(ul(h)||Z4(h))||c&&Bn(h))return!0}return!1}var t6="4.5.0";const e6=["top","bottom","left","right","chartArea"];function Uw(n,t){return n==="top"||n==="bottom"||e6.indexOf(n)===-1&&t==="x"}function zw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function jw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Be(e&&e.onComplete,[n],t)}function n6(n){const t=n.chart,e=t.options.animation;Be(e&&e.onProgress,[n],t)}function Dx(n){return kv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Bg={},Bw=n=>{const t=Dx(n);return Object.values(Bg).filter(e=>e.canvas===t).pop()};function i6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function s6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Qf=class{static defaults=dn;static instances=Bg;static overrides=uc;static registry=Ur;static version=t6;static getChart=Bw;static register(...t){Ur.add(...t),Fw()}static unregister(...t){Ur.remove(...t),Fw()}constructor(t,e){const i=this.config=new X4(e),r=Dx(t),o=Bw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||T4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=EL(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new j4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zL(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Bg[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}La.listen(this,"complete",jw),La.listen(this,"progress",n6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Ne(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ur}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cw(this.canvas,this.ctx),this}stop(){return La.stop(this),this}resize(t,e){La.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,dw(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Be(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ce(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=_y(c,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Ce(o,c=>{const h=c.options,f=h.id,g=_y(f,h),y=ve(h.type,c.dtype);(h.position===void 0||Uw(h.position,g)!==Uw(c.dposition))&&(h.position=c.dposition),r[f]=!0;let b=null;if(f in i&&i[f].type===y)b=i[f];else{const E=Ur.getScale(y);b=new E({id:f,type:y,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),Ce(r,(c,h)=>{c||delete i[h]}),Ce(i,c=>{Yo.configure(this,c,c.options),Yo.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(zw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||my(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Ur.getController(h),{datasetElementType:g,dataElementType:y}=dn.datasets[h];Object.assign(f,{dataElementType:Ur.getElement(y),datasetElementType:g&&Ur.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ce(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:b}=this.getDatasetMeta(g),E=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(E),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Ce(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(zw("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ce(this.scales,t=>{Yo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!JT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;i6(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!JT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yo.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ce(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ul(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(La.has(this)?this.attached&&!La.running(this)&&La.start(this):(this.draw(),jw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=SV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Rv(e,r),t.controller.draw(),r&&Cv(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return hx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=e4.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Du(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Of(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),La.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),cw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Bg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ce(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Ce(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ce(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!up(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=RL(t),g=s6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Be(o.onHover,[t,h,this],this),f&&Be(o.onClick,[t,h,this],this));const y=!up(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Fw(){return Ce(Qf.instances,n=>n._plugins.invalidate())}function r6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:y}=f,b=Math.min(g/c,jr(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+b/2,e-b/2),h>0){const E=Math.min(g/h,jr(i-e));n.arc(r,o,h+g/2,e-E/2,i+E/2,!0)}else{const E=Math.min(g/2,c*jr(i-e));if(y==="round")n.arc(r,o,E,e-Ye/2,i+Ye/2,!0);else if(y==="bevel"){const A=2*E*E,R=-A*Math.cos(e+Ye/2)+r,P=-A*Math.sin(e+Ye/2)+o,M=A*Math.cos(i+Ye/2)+r,L=A*Math.sin(i+Ye/2)+o;n.lineTo(R,P),n.lineTo(M,L)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function a6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>r?(g=r/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,r,e+Jn,i-Jn),n.closePath(),n.clip()}function o6(n){return Iv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function l6(n,t,e,i){const r=o6(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return ji(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:ji(r.innerStart,0,c),innerEnd:ji(r.innerEnd,0,c)}}function eu(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function yp(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:y}=t,b=Math.max(t.outerRadius+i+e-g,0),E=y>0?y+i+e+g:0;let A=0;const R=r-f;if(i){const Mt=y>0?y-i:0,tt=b>0?b-i:0,gt=(Mt+tt)/2,xt=gt!==0?R*gt/(gt+i):R;A=(R-xt)/2}const P=Math.max(.001,R*b-e/Ye)/b,M=(R-P)/2,L=f+M+A,G=r-M-A,{outerStart:et,outerEnd:ct,innerStart:rt,innerEnd:pt}=l6(t,E,b,G-L),V=b-et,k=b-ct,N=L+et/V,z=G-ct/k,B=E+rt,F=E+pt,U=L+rt/B,ne=G-pt/F;if(n.beginPath(),o){const Mt=(N+z)/2;if(n.arc(c,h,b,N,Mt),n.arc(c,h,b,Mt,z),ct>0){const Lt=eu(k,z,c,h);n.arc(Lt.x,Lt.y,ct,z,G+Jn)}const tt=eu(F,G,c,h);if(n.lineTo(tt.x,tt.y),pt>0){const Lt=eu(F,ne,c,h);n.arc(Lt.x,Lt.y,pt,G+Jn,ne+Math.PI)}const gt=(G-pt/E+(L+rt/E))/2;if(n.arc(c,h,E,G-pt/E,gt,!0),n.arc(c,h,E,gt,L+rt/E,!0),rt>0){const Lt=eu(B,U,c,h);n.arc(Lt.x,Lt.y,rt,U+Math.PI,L-Jn)}const xt=eu(V,L,c,h);if(n.lineTo(xt.x,xt.y),et>0){const Lt=eu(V,N,c,h);n.arc(Lt.x,Lt.y,et,L-Jn,N)}}else{n.moveTo(c,h);const Mt=Math.cos(N)*b+c,tt=Math.sin(N)*b+h;n.lineTo(Mt,tt);const gt=Math.cos(z)*b+c,xt=Math.sin(z)*b+h;n.lineTo(gt,xt)}n.closePath()}function c6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){yp(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%Ei||Ei))}return yp(n,t,e,i,f,r),n.fill(),f}function u6(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:y,borderDash:b,borderDashOffset:E,borderRadius:A}=f,R=f.borderAlign==="inner";if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=E,R?(n.lineWidth=g*2,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let P=t.endAngle;if(o){yp(n,t,e,i,P,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(P=c+(h%Ei||Ei))}R&&a6(n,t,P),f.selfJoin&&P-c>=Ye&&A===0&&y!=="miter"&&r6(n,t,P),o||(yp(n,t,e,i,P,r),n.stroke())}class h6 extends Mu{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=tx(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,A=ve(b,f-h),R=ex(o,h,f)&&h!==f,P=A>=Ei||R,M=tc(c,g+E,y+E);return P&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,y=(r+o)/2,b=(c+h+g+f)/2;return{x:e+Math.cos(y)*b,y:i+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Ei?Math.floor(i/Ei):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(Ye,i||0)),g=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,c6(t,this,g,o,c),u6(t,this,g,o,c),t.restore()}}function Mx(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,y,b;return n.horizontal?(b=c/2,h=Math.min(e,r),f=Math.max(e,r),g=i-b,y=i+b):(b=o/2,h=e-b,f=e+b,g=Math.min(i,r),y=Math.max(i,r)),{left:h,top:g,right:f,bottom:y}}function Ko(n,t,e,i){return n?0:ji(t,e,i)}function f6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=fx(i);return{t:Ko(r.top,o.top,0,e),r:Ko(r.right,o.right,0,t),b:Ko(r.bottom,o.bottom,0,e),l:Ko(r.left,o.left,0,t)}}function d6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=hu(r),c=Math.min(t,e),h=n.borderSkipped,f=i||be(r);return{topLeft:Ko(!f||h.top||h.left,o.topLeft,0,c),topRight:Ko(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Ko(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Ko(!f||h.bottom||h.right,o.bottomRight,0,c)}}function g6(n){const t=Mx(n),e=t.right-t.left,i=t.bottom-t.top,r=f6(n,e/2,i/2),o=d6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function N_(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&Mx(n,i);return h&&(r||tc(t,h.left,h.right))&&(o||tc(e,h.top,h.bottom))}function p6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function m6(n,t){n.rect(t.x,t.y,t.w,t.h)}function L_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class _6 extends Mu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=g6(this),h=p6(c.radius)?pp:m6;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,L_(c,e,o)),t.clip(),h(t,L_(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,L_(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return N_(this,t,e,i)}inXRange(t,e){return N_(this,t,null,e)}inYRange(t,e){return N_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Hw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},y6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class qw extends Mu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Be(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Bi(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Hw(i,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let E=-1,A=-y;return this.legendItems.forEach((R,P)=>{const M=i+e/2+o.measureText(R.text).width;(P===0||g[g.length-1]+M+2*h>c)&&(b+=y,g[g.length-(P>0?0:1)]=0,A+=y,E++),f[P]={left:0,top:A,row:E,width:M,height:r},g[g.length-1]+=M+h}),b}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let b=h,E=0,A=0,R=0,P=0;return this.legendItems.forEach((M,L)=>{const{itemWidth:G,itemHeight:et}=v6(i,e,o,M,r);L>0&&A+et+2*h>y&&(b+=E+h,g.push({width:E,height:A}),R+=E+h,P++,E=A=0),f[L]={left:R,top:A,col:P,width:G,height:et},E=Math.max(E,G),A+=et+h}),b+=E,g.push({width:E,height:A}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=fu(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=ls(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=ls(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=ls(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=ls(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Rv(t,this),this._draw(),Cv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=dn.color,f=fu(t.rtl,this.left,this.width),g=Bi(c.font),{padding:y}=c,b=g.size,E=b/2;let A;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:R,boxHeight:P,itemHeight:M}=Hw(c,b),L=function(pt,V,k){if(isNaN(R)||R<=0||isNaN(P)||P<0)return;r.save();const N=ve(k.lineWidth,1);if(r.fillStyle=ve(k.fillStyle,h),r.lineCap=ve(k.lineCap,"butt"),r.lineDashOffset=ve(k.lineDashOffset,0),r.lineJoin=ve(k.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=ve(k.strokeStyle,h),r.setLineDash(ve(k.lineDash,[])),c.usePointStyle){const z={radius:P*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:N},B=f.xPlus(pt,R/2),F=V+E;ux(r,z,B,F,c.pointStyleWidth&&R)}else{const z=V+Math.max((b-P)/2,0),B=f.leftForLtr(pt,R),F=hu(k.borderRadius);r.beginPath(),Object.values(F).some(U=>U!==0)?pp(r,{x:B,y:z,w:R,h:P,radius:F}):r.rect(B,z,R,P),r.fill(),N!==0&&r.stroke()}r.restore()},G=function(pt,V,k){gp(r,k.text,pt,V+M/2,g,{strikethrough:k.hidden,textAlign:f.textAlign(k.textAlign)})},et=this.isHorizontal(),ct=this._computeTitleHeight();et?A={x:ls(o,this.left+y,this.right-i[0]),y:this.top+y+ct,line:0}:A={x:this.left+y,y:ls(o,this.top+ct+y,this.bottom-e[0].height),line:0},_x(this.ctx,t.textDirection);const rt=M+y;this.legendItems.forEach((pt,V)=>{r.strokeStyle=pt.fontColor,r.fillStyle=pt.fontColor;const k=r.measureText(pt.text).width,N=f.textAlign(pt.textAlign||(pt.textAlign=c.textAlign)),z=R+E+k;let B=A.x,F=A.y;f.setWidth(this.width),et?V>0&&B+z+y>this.right&&(F=A.y+=rt,A.line++,B=A.x=ls(o,this.left+y,this.right-i[A.line])):V>0&&F+rt>this.bottom&&(B=A.x=B+e[A.line].width+y,A.line++,F=A.y=ls(o,this.top+ct+y,this.bottom-e[A.line].height));const U=f.x(B);if(L(U,F,pt),B=jL(N,B+R+E,et?B+z:this.right,t.rtl),G(f.x(B),F,pt),et)A.x+=z+y;else if(typeof pt.text!="string"){const ne=g.lineHeight;A.y+=kx(pt,ne)+y}else A.y+=rt}),yx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Bi(e.font),r=cr(e.padding);if(!e.display)return;const o=fu(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let y,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+g,b=ls(t.align,b,this.right-E);else{const R=this.columnSizes.reduce((P,M)=>Math.max(P,M.height),0);y=g+ls(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const A=ls(h,b,b+E);c.textAlign=o.textAlign(ax(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,gp(c,e.text,A,y,i)}_computeTitleHeight(){const t=this.options.title,e=Bi(t.font),i=cr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(tc(t,this.left,this.right)&&tc(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],tc(t,r.left,r.left+r.width)&&tc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!T6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=y6(r,i);r&&!o&&Be(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Be(e.onHover,[t,i,this],this)}else i&&Be(e.onClick,[t,i,this],this)}}function v6(n,t,e,i,r){const o=b6(i,n,t,e),c=E6(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function b6(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function E6(n,t,e){let i=n;return typeof t.text!="string"&&(i=kx(t,e)),i}function kx(n,t){const e=n.text?n.text.length:0;return t*e}function T6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Px={id:"legend",_element:qw,start(n,t,e){const i=n.legend=new qw({ctx:n.ctx,options:e,chart:n});Yo.configure(n,i,e),Yo.addBox(n,i)},stop(n){Yo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Yo.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=cr(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const lf={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=PL(t,g);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Vr(n,t){return t&&(Bn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Va(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function w6(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function $w(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=Bi(t.bodyFont),g=Bi(t.titleFont),y=Bi(t.footerFont),b=o.length,E=r.length,A=i.length,R=cr(t.padding);let P=R.height,M=0,L=i.reduce((ct,rt)=>ct+rt.before.length+rt.lines.length+rt.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,b&&(P+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),L){const ct=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;P+=A*ct+(L-A)*f.lineHeight+(L-1)*t.bodySpacing}E&&(P+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let G=0;const et=function(ct){M=Math.max(M,e.measureText(ct).width+G)};return e.save(),e.font=g.string,Ce(n.title,et),e.font=f.string,Ce(n.beforeBody.concat(n.afterBody),et),G=t.displayColors?c+2+t.boxPadding:0,Ce(i,ct=>{Ce(ct.before,et),Ce(ct.lines,et),Ce(ct.after,et)}),G=0,e.font=y.string,Ce(n.footer,et),e.restore(),M+=R.width,{width:M,height:P}}function S6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function A6(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function x6(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),A6(g,n,t,e)&&(g="center"),g}function Gw(n,t,e){const i=e.yAlign||t.yAlign||S6(n,e);return{xAlign:e.xAlign||t.xAlign||x6(n,t,e,i),yAlign:i}}function R6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function C6(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Yw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:y,topRight:b,bottomLeft:E,bottomRight:A}=hu(c);let R=R6(t,h);const P=C6(t,f,g);return f==="center"?h==="left"?R+=g:h==="right"&&(R-=g):h==="left"?R-=Math.max(y,E)+r:h==="right"&&(R+=Math.max(b,A)+r),{x:ji(R,0,i.width-t.width),y:ji(P,0,i.height-t.height)}}function wg(n,t,e){const i=cr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Kw(n){return Vr([],Va(n))}function I6(n,t,e){return Du(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Ww(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Nx={beforeTitle:Na,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Na,beforeBody:Na,beforeLabel:Na,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ne(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Na,afterBody:Na,beforeFooter:Na,footer:Na,afterFooter:Na};function Li(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Nx[t].call(e,i):r}class Qw extends Mu{static positioners=lf;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new vx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=I6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Li(i,"beforeTitle",this,t),o=Li(i,"title",this,t),c=Li(i,"afterTitle",this,t);let h=[];return h=Vr(h,Va(r)),h=Vr(h,Va(o)),h=Vr(h,Va(c)),h}getBeforeBody(t,e){return Kw(Li(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Ce(t,o=>{const c={before:[],lines:[],after:[]},h=Ww(i,o);Vr(c.before,Va(Li(h,"beforeLabel",this,o))),Vr(c.lines,Li(h,"label",this,o)),Vr(c.after,Va(Li(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return Kw(Li(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Li(i,"beforeFooter",this,t),o=Li(i,"footer",this,t),c=Li(i,"afterFooter",this,t);let h=[];return h=Vr(h,Va(r)),h=Vr(h,Va(o)),h=Vr(h,Va(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(w6(this.chart,e[f]));return t.filter&&(h=h.filter((y,b,E)=>t.filter(y,b,E,i))),t.itemSort&&(h=h.sort((y,b)=>t.itemSort(y,b,i))),Ce(h,y=>{const b=Ww(t.callbacks,y);r.push(Li(b,"labelColor",this,y)),o.push(Li(b,"labelPointStyle",this,y)),c.push(Li(b,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=lf[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=$w(this,i),g=Object.assign({},h,f),y=Gw(this.chart,i,g),b=Yw(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:b}=hu(h),{x:E,y:A}=t,{width:R,height:P}=e;let M,L,G,et,ct,rt;return o==="center"?(ct=A+P/2,r==="left"?(M=E,L=M-c,et=ct+c,rt=ct-c):(M=E+R,L=M+c,et=ct-c,rt=ct+c),G=M):(r==="left"?L=E+Math.max(f,y)+c:r==="right"?L=E+R-Math.max(g,b)-c:L=this.caretX,o==="top"?(et=A,ct=et-c,M=L-c,G=L+c):(et=A+P,ct=et+c,M=L+c,G=L-c),rt=et),{x1:M,x2:L,x3:G,y1:et,y2:ct,y3:rt}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const g=fu(i.rtl,this.x,this.width);for(t.x=wg(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=Bi(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=Bi(o.bodyFont),b=wg(this,"left",o),E=r.x(b),A=f<y.lineHeight?(y.lineHeight-f)/2:0,R=e.y+A;if(o.usePointStyle){const P={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(E,g)+g/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,uw(t,P,M,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,uw(t,P,M,L)}else{t.lineWidth=be(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const P=r.leftForLtr(E,g),M=r.leftForLtr(r.xPlus(E,1),g-2),L=hu(c.borderRadius);Object.values(L).some(G=>G!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,pp(t,{x:P,y:R,w:g,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),pp(t,{x:M,y:R+1,w:g-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(P,R,g,f),t.strokeRect(P,R,g,f),t.fillStyle=c.backgroundColor,t.fillRect(M,R+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,b=Bi(i.bodyFont);let E=b.lineHeight,A=0;const R=fu(i.rtl,this.x,this.width),P=function(k){e.fillText(k,R.x(t.x+A),t.y+E/2),t.y+=E+o},M=R.textAlign(c);let L,G,et,ct,rt,pt,V;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=wg(this,M,i),e.fillStyle=i.bodyColor,Ce(this.beforeBody,P),A=h&&M!=="right"?c==="center"?g/2+y:g+2+y:0,ct=0,pt=r.length;ct<pt;++ct){for(L=r[ct],G=this.labelTextColors[ct],e.fillStyle=G,Ce(L.before,P),et=L.lines,h&&et.length&&(this._drawColorBox(e,t,ct,R,i),E=Math.max(b.lineHeight,f)),rt=0,V=et.length;rt<V;++rt)P(et[rt]),E=b.lineHeight;Ce(L.after,P)}A=0,E=b.lineHeight,Ce(this.afterBody,P),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=fu(i.rtl,this.x,this.width);for(t.x=wg(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=Bi(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:b,topRight:E,bottomLeft:A,bottomRight:R}=hu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+b,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-E,f),e.quadraticCurveTo(h+g,f,h+g,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+y-R),e.quadraticCurveTo(h+g,f+y,h+g-R,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+A,f+y),e.quadraticCurveTo(h,f+y,h,f+y-A),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+b),e.quadraticCurveTo(h,f,h+b,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=lf[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=$w(this,t),f=Object.assign({},c,this._size),g=Gw(e,t,f),y=Yw(t,f,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=cr(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),_x(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),yx(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!up(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!up(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=lf[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Lx={id:"tooltip",_element:Qw,positioners:lf,afterInit(n,t,e){e&&(n.tooltip=new Qw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const O6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function D6(n,t,e,i){const r=n.indexOf(t);if(r===-1)return O6(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const M6=(n,t)=>n===null?null:ji(Math.round(n),0,t);function Xw(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class k6 extends ku{static id="category";static defaults={ticks:{callback:Xw}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ne(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:D6(i,t,ve(e,t),this._addedLabels),M6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return Xw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function P6(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:y,maxDigits:b,includeBounds:E}=n,A=o||1,R=y-1,{min:P,max:M}=t,L=!Ne(c),G=!Ne(h),et=!Ne(g),ct=(M-P)/(b+1);let rt=ew((M-P)/R/A)*A,pt,V,k,N;if(rt<1e-14&&!L&&!G)return[{value:P},{value:M}];N=Math.ceil(M/rt)-Math.floor(P/rt),N>R&&(rt=ew(N*rt/R/A)*A),Ne(f)||(pt=Math.pow(10,f),rt=Math.ceil(rt*pt)/pt),r==="ticks"?(V=Math.floor(P/rt)*rt,k=Math.ceil(M/rt)*rt):(V=P,k=M),L&&G&&o&&DL((h-c)/o,rt/1e3)?(N=Math.round(Math.min((h-c)/rt,y)),rt=(h-c)/N,V=c,k=h):et?(V=L?c:V,k=G?h:k,N=g-1,rt=(k-V)/N):(N=(k-V)/rt,zg(N,Math.round(N),rt/1e3)?N=Math.round(N):N=Math.ceil(N));const z=Math.max(nw(rt),nw(V));pt=Math.pow(10,Ne(f)?z:f),V=Math.round(V*pt)/pt,k=Math.round(k*pt)/pt;let B=0;for(L&&(E&&V!==c?(e.push({value:c}),V<c&&B++,zg(Math.round((V+B*rt)*pt)/pt,c,Zw(c,ct,n))&&B++):V<c&&B++);B<N;++B){const F=Math.round((V+B*rt)*pt)/pt;if(G&&F>h)break;e.push({value:F})}return G&&E&&k!==h?e.length&&zg(e[e.length-1].value,h,Zw(h,ct,n))?e[e.length-1].value=h:e.push({value:h}):(!G||k===h)&&e.push({value:k}),e}function Zw(n,t,{horizontal:e,minRotation:i}){const r=Jl(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class N6 extends ku{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ne(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=nl(r),g=nl(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=P6(r,o);return t.bounds==="ticks"&&ML(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return lx(t,this.chart.options.locale,this.options.ticks.format)}}class L6 extends N6{static id="linear";static defaults={ticks:{callback:cx.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Us(t)?t:0,this.max=Us(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Jl(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Yp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zi=Object.keys(Yp);function Jw(n,t){return n-t}function tS(n,t){if(Ne(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Us(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(dp(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function eS(n,t,e,i){const r=zi.length;for(let o=zi.indexOf(n);o<r-1;++o){const c=Yp[zi[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return zi[o]}return zi[r-1]}function V6(n,t,e,i,r){for(let o=zi.length-1;o>=zi.indexOf(e);o--){const c=zi[o];if(Yp[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return zi[e?zi.indexOf(e):0]}function U6(n){for(let t=zi.indexOf(n)+1,e=zi.length;t<e;++t)if(Yp[zi[t]].common)return zi[t]}function nS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=xv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function z6(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function iS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:z6(n,i,r,e)}class sS extends ku{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new QV._date(t.adapters.date);r.init(e),pf(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:tS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Us(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Us(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=VL(r,o,c);return this._unit=e.unit||(i.autoSkip?eS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):V6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:U6(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),iS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ji(e,0,c),i=ji(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||eS(o.minUnit,e,i,this._getLabelCapacity(e)),h=ve(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=dp(f)||f===!0,y={};let b=e,E,A;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(E=b,A=0;E<i;E=+t.add(E,h,c),A++)nS(y,E,R);return(E===i||r.bounds==="ticks"||A===1)&&nS(y,E,R),Object.keys(y).sort(Jw).map(P=>+P)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return Be(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],b=g&&h[g],E=i[e],A=g&&b&&E&&E.major;return this._adapter.format(t,r||(A?b:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Jl(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,iS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(tS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ix(t.sort(Jw))}}function Sg(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=gy(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=gy(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class i3 extends sS{static id="timeseries";static defaults=sS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Sg(e,this.min),this._tableRange=Sg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,g,y;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],g=r[c],Math.round((y+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Sg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Sg(this._table,i*this._tableRange+this._minPos,!0)}}const Vx="label";function rS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function j6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function Ux(n,t){n.labels=t}function zx(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vx;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function B6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vx;const e={labels:[],datasets:[]};return Ux(e,n.labels),zx(e,n.datasets,t),e}function F6(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:y,updateMode:b,...E}=n,A=Z.useRef(null),R=Z.useRef(null),P=()=>{A.current&&(R.current=new Qf(A.current,{type:c,data:B6(h,o),options:f&&{...f},plugins:g}),rS(t,R.current))},M=()=>{rS(t,null),R.current&&(R.current.destroy(),R.current=null)};return Z.useEffect(()=>{!r&&R.current&&f&&j6(R.current,f)},[r,f]),Z.useEffect(()=>{!r&&R.current&&Ux(R.current.config.data,h.labels)},[r,h.labels]),Z.useEffect(()=>{!r&&R.current&&h.datasets&&zx(R.current.config.data,h.datasets,o)},[r,h.datasets]),Z.useEffect(()=>{R.current&&(r?(M(),setTimeout(P)):R.current.update(b))},[r,f,h.labels,h.datasets,b]),Z.useEffect(()=>{R.current&&(M(),setTimeout(P))},[c]),Z.useEffect(()=>(P(),()=>M()),[]),aS.createElement("canvas",{ref:A,role:"img",height:e,width:i,...E},y)}const H6=Z.forwardRef(F6);function q6(n,t){return Qf.register(t),Z.forwardRef((e,i)=>aS.createElement(H6,{...e,ref:i,type:n}))}const $6=q6("bar",WV);Qf.register(h6,Lx,Px);Qf.register(k6,L6,_6,Lx,Px);const G6=({loan:n})=>{const t=(n.payment*n.monthsPaid).toFixed(2),e=n.payment*n.duration-Number(t).toFixed(2),i={labels:["Loan Progress"],datasets:[{label:"Paid (₹)",data:[t],backgroundColor:"#4caf50"},{label:"Remaining (₹)",data:[e],backgroundColor:"#f44336"}]},r={responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};return $.jsx("div",{style:{maxWidth:400,marginTop:10},children:$.jsx($6,{data:i,options:r})})},jx=({loan:n,removeLoan:t,payMonth:e})=>$.jsxs("div",{className:"loan-item",children:[$.jsxs("div",{className:"loan-item-details",children:[$.jsx("table",{children:$.jsxs("tbody",{children:[$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Loan Name"})}),$.jsx("td",{children:$.jsx("h5",{children:n.loanName})})]}),$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Loan Amount"})}),$.jsx("td",{children:$.jsxs("h5",{children:["₹ ",n.amount]})})]}),$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Interest Rate"})}),$.jsx("td",{children:$.jsxs("h5",{children:[n.interest,"%"]})})]}),$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Monthly Interest"})}),$.jsx("td",{children:$.jsxs("h5",{children:["₹ ",n.totalInterest]})})]}),$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Duration"})}),$.jsx("td",{children:$.jsxs("h5",{children:[n.duration," months"]})})]}),$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Monthly Pay"})}),$.jsx("td",{children:$.jsxs("h5",{children:["₹ ",n.payment]})})]}),$.jsxs("tr",{children:[$.jsx("td",{children:$.jsx("h5",{children:"Months Paid"})}),$.jsx("td",{children:$.jsxs("h5",{children:[n.monthsPaid," / ",n.duration]})})]})]})}),$.jsxs("div",{className:"loan-item-buttons",children:[$.jsx("button",{onClick:()=>e(n.id),disabled:n.monthsPaid===n.duration,children:"Pay Loan"}),$.jsx("button",{onClick:()=>t(n.id),style:{marginLeft:10},children:"Remove"})]})]}),$.jsx("div",{className:"loan-item-sub-div",children:$.jsx(G6,{loan:n})})]}),Y6=({loans:n,removeLoan:t,payMonth:e})=>{const i=n.filter(r=>r.status=="Ongoing");return console.log(i),i.length==0?$.jsx("p",{className:"all-finished",children:"All Loans Are Finished"}):$.jsx("div",{children:i.map(r=>$.jsx(jx,{loan:r,removeLoan:t,payMonth:e},r.id))})},K6=({loans:n=[],removeLoan:t,payMonth:e})=>$.jsx("div",{className:"home-sub-div",children:$.jsx(Y6,{loans:n,removeLoan:t,payMonth:e})}),W6=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(""),c=kf(),h=async f=>{f.preventDefault(),o("");try{const y=(await f2(Kf,n,e)).user,b=await $1(vu(tl,"users",y.uid));if(b.exists()){const E=b.data();console.log("Logged in as:",E.username)}c("/home")}catch(g){o(g.message)}};return $.jsxs($.Fragment,{children:[$.jsx("nav",{children:$.jsx("h2",{children:"Loan Tracker"})}),$.jsx("div",{className:"login-page-container",children:$.jsxs("div",{className:"login-sub-page",children:[$.jsx("h1",{children:"Log In"}),$.jsxs("form",{className:"login-form",onSubmit:h,children:[$.jsx("input",{type:"text",placeholder:"Enter Your Email",value:n,onChange:f=>t(f.target.value)}),$.jsx("input",{type:"password",placeholder:"Enter Your Password",value:e,onChange:f=>i(f.target.value)}),$.jsx("button",{children:"Log IN"}),$.jsxs("p",{children:["Don't have an account ",$.jsx("span",{children:$.jsx(Br,{to:"/signup",children:"Sign Up"})})]}),r&&$.jsx("p",{style:{color:"red"},children:r})]})]})})]})},Q6=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(""),[c,h]=Z.useState(""),f=kf(),g=async y=>{if(y.preventDefault(),h(""),!n||!e||!r){h("Please fill all fields");return}try{const E=(await h2(Kf,e,r)).user;await NN(vu(tl,"users",E.uid),{uid:E.uid,username:n,email:e,password:r,createdAt:new Date}),f("/home")}catch(b){h(b.message)}};return $.jsxs($.Fragment,{children:[$.jsx("nav",{children:$.jsx("h2",{children:"Loan Tracker"})}),$.jsx("div",{className:"Signup-page-container",children:$.jsxs("div",{className:"signup-sub-page",children:[$.jsx("h1",{children:"Sign Up"}),$.jsxs("form",{className:"signup-form",onSubmit:g,children:[$.jsx("input",{type:"text",placeholder:"Enter Your Email",value:e,onChange:y=>i(y.target.value)}),$.jsx("input",{type:"text",placeholder:"Create UserName",value:n,onChange:y=>t(y.target.value)}),$.jsx("input",{type:"password",placeholder:"Create Your Password",value:r,onChange:y=>o(y.target.value)}),$.jsx("button",{children:"Sign Up"}),$.jsxs("p",{children:["Already have an account ",$.jsx("span",{children:$.jsx(Br,{to:"/",children:"Log In"})})]}),c&&$.jsx("p",{style:{color:"red"},children:c})]})]})})]})};function Ag({children:n}){const[t,e]=Z.useState(void 0),[i,r]=Z.useState(!0);return Z.useEffect(()=>{const o=rA(Kf,c=>{e(c),r(!1)});return()=>o()},[]),i?$.jsx("div",{children:"Loading..."}):t?n:$.jsx(YC,{to:"/",replace:!0})}const X6=({loans:n,removeLoan:t,payMonth:e})=>{const i=n.filter(r=>r.status=="Finished");return i.length==0?$.jsx("p",{children:"There are no Finished Loans"}):i.map(r=>$.jsx(jx,{loan:r,removeLoan:t,payMonth:e},r.id))};function Z6({loans:n,addLoan:t,removeLoan:e,payMonth:i}){const r=Qa(),o=["/","/signup"];return $.jsxs($.Fragment,{children:[!o.includes(r.pathname)&&$.jsx(HN,{}),$.jsxs(WC,{children:[$.jsx(Wl,{path:"/",element:$.jsx(W6,{})}),$.jsx(Wl,{path:"/signup",element:$.jsx(Q6,{})}),$.jsx(Wl,{path:"/home",element:$.jsx(Ag,{children:$.jsx(XN,{addLoan:t})})}),$.jsx(Wl,{path:"/loan",element:$.jsx(Ag,{children:$.jsx(K6,{loans:n,removeLoan:e,payMonth:i})})}),$.jsx(Wl,{path:"/InterestCalculator",element:$.jsx(Ag,{children:$.jsx(ZN,{})})}),$.jsx(Wl,{path:"/finishedloan",element:$.jsx(Ag,{children:$.jsx(X6,{loans:n,removeLoan:e,payMonth:i})})})]})]})}function J6(){const[n,t]=Z.useState([]),e=hy(tl,"loans");Z.useEffect(()=>{const c=UN(e,h=>{const f=h.docs.map(g=>({...g.data(),id:g.id}));t(f)});return()=>c()},[]);const i=async c=>{await VN(e,c)},r=async c=>{const h=vu(tl,"loans",c);await LN(h)},o=async c=>{const h=n.find(y=>y.id===c);if(!h||h.monthsPaid>=h.duration)return;const f={...h,monthsPaid:h.monthsPaid+1},g=vu(tl,"loans",c);await $T(g,{monthsPaid:f.monthsPaid}),f.monthsPaid==h.duration&&await $T(g,{status:"Finished"})};return $.jsx($.Fragment,{children:$.jsx(vI,{children:$.jsx(Z6,{loans:n,addLoan:i,removeLoan:r,payMonth:o})})})}iC.createRoot(document.getElementById("root")).render($.jsx(Z.StrictMode,{children:$.jsx(FN,{children:$.jsx(J6,{})})}));
