(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function tI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function eI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),e}var Hm={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function nI(){if(TE)return Qu;TE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Qu.Fragment=t,Qu.jsx=e,Qu.jsxs=e,Qu}var wE;function iI(){return wE||(wE=1,Hm.exports=nI()),Hm.exports}var X=iI(),qm={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function sI(){if(SE)return zt;SE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function I(B,ut,gt){this.props=B,this.context=ut,this.refs=C,this.updater=gt||w}I.prototype.isReactComponent={},I.prototype.setState=function(B,ut){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ut,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=I.prototype;function H(B,ut,gt){this.props=B,this.context=ut,this.refs=C,this.updater=gt||w}var G=H.prototype=new k;G.constructor=H,x(G,I.prototype),G.isPureReactComponent=!0;var K=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function P(B,ut,gt,q,yt,Ct){return gt=Ct.ref,{$$typeof:n,type:B,key:ut,ref:gt!==void 0?gt:null,props:Ct}}function O(B,ut){return P(B.type,ut,void 0,void 0,void 0,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ut={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(gt){return ut[gt]})}var V=/\/+/g;function z(B,ut){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ut.toString(36)}function N(){}function Dt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(N,N):(B.status="pending",B.then(function(ut){B.status==="pending"&&(B.status="fulfilled",B.value=ut)},function(ut){B.status==="pending"&&(B.status="rejected",B.reason=ut)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Tt(B,ut,gt,q,yt){var Ct=typeof B;(Ct==="undefined"||Ct==="boolean")&&(B=null);var wt=!1;if(B===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(B.$$typeof){case n:case t:wt=!0;break;case m:return wt=B._init,Tt(wt(B._payload),ut,gt,q,yt)}}if(wt)return yt=yt(B),wt=q===""?"."+z(B,0):q,K(yt)?(gt="",wt!=null&&(gt=wt.replace(V,"$&/")+"/"),Tt(yt,ut,gt,"",function(_e){return _e})):yt!=null&&(M(yt)&&(yt=O(yt,gt+(yt.key==null||B&&B.key===yt.key?"":(""+yt.key).replace(V,"$&/")+"/")+wt)),ut.push(yt)),1;wt=0;var Jt=q===""?".":q+":";if(K(B))for(var jt=0;jt<B.length;jt++)q=B[jt],Ct=Jt+z(q,jt),wt+=Tt(q,ut,gt,Ct,yt);else if(jt=E(B),typeof jt=="function")for(B=jt.call(B),jt=0;!(q=B.next()).done;)q=q.value,Ct=Jt+z(q,jt++),wt+=Tt(q,ut,gt,Ct,yt);else if(Ct==="object"){if(typeof B.then=="function")return Tt(Dt(B),ut,gt,q,yt);throw ut=String(B),Error("Objects are not valid as a React child (found: "+(ut==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ut)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Z(B,ut,gt){if(B==null)return B;var q=[],yt=0;return Tt(B,q,"","",function(Ct){return ut.call(gt,Ct,yt++)}),q}function ct(B){if(B._status===-1){var ut=B._result;ut=ut(),ut.then(function(gt){(B._status===0||B._status===-1)&&(B._status=1,B._result=gt)},function(gt){(B._status===0||B._status===-1)&&(B._status=2,B._result=gt)}),B._status===-1&&(B._status=0,B._result=ut)}if(B._status===1)return B._result.default;throw B._result}var _t=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ut=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ut))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function xt(){}return zt.Children={map:Z,forEach:function(B,ut,gt){Z(B,function(){ut.apply(this,arguments)},gt)},count:function(B){var ut=0;return Z(B,function(){ut++}),ut},toArray:function(B){return Z(B,function(ut){return ut})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},zt.Component=I,zt.Fragment=e,zt.Profiler=r,zt.PureComponent=H,zt.StrictMode=i,zt.Suspense=f,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,zt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Y.H.useMemoCache(B)}},zt.cache=function(B){return function(){return B.apply(null,arguments)}},zt.cloneElement=function(B,ut,gt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var q=x({},B.props),yt=B.key,Ct=void 0;if(ut!=null)for(wt in ut.ref!==void 0&&(Ct=void 0),ut.key!==void 0&&(yt=""+ut.key),ut)!rt.call(ut,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&ut.ref===void 0||(q[wt]=ut[wt]);var wt=arguments.length-2;if(wt===1)q.children=gt;else if(1<wt){for(var Jt=Array(wt),jt=0;jt<wt;jt++)Jt[jt]=arguments[jt+2];q.children=Jt}return P(B.type,yt,void 0,void 0,Ct,q)},zt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},zt.createElement=function(B,ut,gt){var q,yt={},Ct=null;if(ut!=null)for(q in ut.key!==void 0&&(Ct=""+ut.key),ut)rt.call(ut,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(yt[q]=ut[q]);var wt=arguments.length-2;if(wt===1)yt.children=gt;else if(1<wt){for(var Jt=Array(wt),jt=0;jt<wt;jt++)Jt[jt]=arguments[jt+2];yt.children=Jt}if(B&&B.defaultProps)for(q in wt=B.defaultProps,wt)yt[q]===void 0&&(yt[q]=wt[q]);return P(B,Ct,void 0,void 0,null,yt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(B){return{$$typeof:u,render:B}},zt.isValidElement=M,zt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:ct}},zt.memo=function(B,ut){return{$$typeof:d,type:B,compare:ut===void 0?null:ut}},zt.startTransition=function(B){var ut=Y.T,gt={};Y.T=gt;try{var q=B(),yt=Y.S;yt!==null&&yt(gt,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(xt,_t)}catch(Ct){_t(Ct)}finally{Y.T=ut}},zt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},zt.use=function(B){return Y.H.use(B)},zt.useActionState=function(B,ut,gt){return Y.H.useActionState(B,ut,gt)},zt.useCallback=function(B,ut){return Y.H.useCallback(B,ut)},zt.useContext=function(B){return Y.H.useContext(B)},zt.useDebugValue=function(){},zt.useDeferredValue=function(B,ut){return Y.H.useDeferredValue(B,ut)},zt.useEffect=function(B,ut,gt){var q=Y.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(B,ut)},zt.useId=function(){return Y.H.useId()},zt.useImperativeHandle=function(B,ut,gt){return Y.H.useImperativeHandle(B,ut,gt)},zt.useInsertionEffect=function(B,ut){return Y.H.useInsertionEffect(B,ut)},zt.useLayoutEffect=function(B,ut){return Y.H.useLayoutEffect(B,ut)},zt.useMemo=function(B,ut){return Y.H.useMemo(B,ut)},zt.useOptimistic=function(B,ut){return Y.H.useOptimistic(B,ut)},zt.useReducer=function(B,ut,gt){return Y.H.useReducer(B,ut,gt)},zt.useRef=function(B){return Y.H.useRef(B)},zt.useState=function(B){return Y.H.useState(B)},zt.useSyncExternalStore=function(B,ut,gt){return Y.H.useSyncExternalStore(B,ut,gt)},zt.useTransition=function(){return Y.H.useTransition()},zt.version="19.1.0",zt}var AE;function ry(){return AE||(AE=1,qm.exports=sI()),qm.exports}var nt=ry();const PS=tI(nt);var $m={exports:{}},Zu={},Gm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function rI(){return xE||(xE=1,function(n){function t(Z,ct){var _t=Z.length;Z.push(ct);t:for(;0<_t;){var xt=_t-1>>>1,B=Z[xt];if(0<r(B,ct))Z[xt]=ct,Z[_t]=B,_t=xt;else break t}}function e(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ct=Z[0],_t=Z.pop();if(_t!==ct){Z[0]=_t;t:for(var xt=0,B=Z.length,ut=B>>>1;xt<ut;){var gt=2*(xt+1)-1,q=Z[gt],yt=gt+1,Ct=Z[yt];if(0>r(q,_t))yt<B&&0>r(Ct,q)?(Z[xt]=Ct,Z[yt]=_t,xt=yt):(Z[xt]=q,Z[gt]=_t,xt=gt);else if(yt<B&&0>r(Ct,_t))Z[xt]=Ct,Z[yt]=_t,xt=yt;else break t}}return ct}function r(Z,ct){var _t=Z.sortIndex-ct.sortIndex;return _t!==0?_t:Z.id-ct.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],d=[],m=1,v=null,E=3,w=!1,x=!1,C=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function K(Z){for(var ct=e(d);ct!==null;){if(ct.callback===null)i(d);else if(ct.startTime<=Z)i(d),ct.sortIndex=ct.expirationTime,t(f,ct);else break;ct=e(d)}}function Y(Z){if(C=!1,K(Z),!x)if(e(f)!==null)x=!0,rt||(rt=!0,z());else{var ct=e(d);ct!==null&&Tt(Y,ct.startTime-Z)}}var rt=!1,P=-1,O=5,M=-1;function L(){return I?!0:!(n.unstable_now()-M<O)}function V(){if(I=!1,rt){var Z=n.unstable_now();M=Z;var ct=!0;try{t:{x=!1,C&&(C=!1,H(P),P=-1),w=!0;var _t=E;try{e:{for(K(Z),v=e(f);v!==null&&!(v.expirationTime>Z&&L());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,E=v.priorityLevel;var B=xt(v.expirationTime<=Z);if(Z=n.unstable_now(),typeof B=="function"){v.callback=B,K(Z),ct=!0;break e}v===e(f)&&i(f),K(Z)}else i(f);v=e(f)}if(v!==null)ct=!0;else{var ut=e(d);ut!==null&&Tt(Y,ut.startTime-Z),ct=!1}}break t}finally{v=null,E=_t,w=!1}ct=void 0}}finally{ct?z():rt=!1}}}var z;if(typeof G=="function")z=function(){G(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Dt=N.port2;N.port1.onmessage=V,z=function(){Dt.postMessage(null)}}else z=function(){k(V,0)};function Tt(Z,ct){P=k(function(){Z(n.unstable_now())},ct)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ct=3;break;default:ct=E}var _t=E;E=ct;try{return Z()}finally{E=_t}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Z,ct){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var _t=E;E=Z;try{return ct()}finally{E=_t}},n.unstable_scheduleCallback=function(Z,ct,_t){var xt=n.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?xt+_t:xt):_t=xt,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=_t+B,Z={id:m++,callback:ct,priorityLevel:Z,startTime:_t,expirationTime:B,sortIndex:-1},_t>xt?(Z.sortIndex=_t,t(d,Z),e(f)===null&&Z===e(d)&&(C?(H(P),P=-1):C=!0,Tt(Y,_t-xt))):(Z.sortIndex=B,t(f,Z),x||w||(x=!0,rt||(rt=!0,z()))),Z},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(Z){var ct=E;return function(){var _t=E;E=ct;try{return Z.apply(this,arguments)}finally{E=_t}}}}(Ym)),Ym}var RE;function aI(){return RE||(RE=1,Gm.exports=rI()),Gm.exports}var Wm={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function oI(){if(CE)return Pn;CE=1;var n=ry();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,m)},Pn.flushSync=function(f){var d=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=m,i.d.f()}},Pn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Pn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,v=u(m,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):m==="script"&&i.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Pn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=u(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Pn.requestFormReset=function(f){i.d.r(f)},Pn.unstable_batchedUpdates=function(f,d){return f(d)},Pn.useFormState=function(f,d,m){return c.H.useFormState(f,d,m)},Pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pn.version="19.1.0",Pn}var IE;function lI(){if(IE)return Wm.exports;IE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wm.exports=oI(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function cI(){if(OE)return Zu;OE=1;var n=aI(),t=ry(),e=lI();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,h=a;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return u(p),s;if(_===h)return u(p),a;_=_.sibling}throw Error(i(188))}if(l.return!==h.return)l=p,h=_;else{for(var S=!1,R=p.child;R;){if(R===l){S=!0,l=p,h=_;break}if(R===h){S=!0,h=p,l=_;break}R=R.sibling}if(!S){for(R=_.child;R;){if(R===l){S=!0,l=_,h=p;break}if(R===h){S=!0,h=_,l=p;break}R=R.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case rt:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case G:return(s.displayName||"Context")+".Provider";case H:return(s._context.displayName||"Context")+".Consumer";case K:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case O:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var Tt=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},xt=[],B=-1;function ut(s){return{current:s}}function gt(s){0>B||(s.current=xt[B],xt[B]=null,B--)}function q(s,a){B++,xt[B]=s.current,s.current=a}var yt=ut(null),Ct=ut(null),wt=ut(null),Jt=ut(null);function jt(s,a){switch(q(wt,a),q(Ct,s),q(yt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?X0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=X0(a),s=Q0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}gt(yt),q(yt,s)}function _e(){gt(yt),gt(Ct),gt(wt)}function Xn(s){s.memoizedState!==null&&q(Jt,s);var a=yt.current,l=Q0(a,s.type);a!==l&&(q(Ct,s),q(yt,l))}function bt(s){Ct.current===s&&(gt(yt),gt(Ct)),Jt.current===s&&(gt(Jt),Gu._currentValue=_t)}var Qn=Object.prototype.hasOwnProperty,bi=n.unstable_scheduleCallback,us=n.unstable_cancelCallback,hr=n.unstable_shouldYield,Ei=n.unstable_requestPaint,un=n.unstable_now,hs=n.unstable_getCurrentPriorityLevel,Zn=n.unstable_ImmediatePriority,In=n.unstable_UserBlockingPriority,Jn=n.unstable_NormalPriority,aa=n.unstable_LowPriority,fs=n.unstable_IdlePriority,ds=n.log,fr=n.unstable_setDisableYieldValue,de=null,$t=null;function Ee(s){if(typeof ds=="function"&&fr(s),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(de,s)}catch{}}var tn=Math.clz32?Math.clz32:Ti,Cl=Math.log,tu=Math.LN2;function Ti(s){return s>>>=0,s===0?32:31-(Cl(s)/tu|0)|0}var ti=256,ei=4194304;function On(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oa(s,a,l){var h=s.pendingLanes;if(h===0)return 0;var p=0,_=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~_,h!==0?p=On(h):(S&=R,S!==0?p=On(S):l||(l=R&~s,l!==0&&(p=On(l))))):(R=h&~_,R!==0?p=On(R):S!==0?p=On(S):l||(l=h&~s,l!==0&&(p=On(l)))),p===0?0:a!==0&&a!==p&&(a&_)===0&&(_=p&-p,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:p}function gs(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function So(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var s=ti;return ti<<=1,(ti&4194048)===0&&(ti=256),s}function xo(){var s=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),s}function ps(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ms(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ro(s,a,l,h,p,_){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var R=s.entanglements,U=s.expirationTimes,tt=s.hiddenUpdates;for(l=S&~l;0<l;){var ot=31-tn(l),ht=1<<ot;R[ot]=0,U[ot]=-1;var et=tt[ot];if(et!==null)for(tt[ot]=null,ot=0;ot<et.length;ot++){var it=et[ot];it!==null&&(it.lane&=-536870913)}l&=~ht}h!==0&&wi(s,h,0),_!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=_&~(S&~a))}function wi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-tn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|l&4194090}function Ms(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var h=31-tn(l),p=1<<h;p&a|s[h]&a&&(s[h]|=a),l&=~p}}function _s(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function dr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ks(){var s=ct.p;return s!==0?s:(s=window.event,s===void 0?32:mE(s.type))}function Il(s,a){var l=ct.p;try{return ct.p=s,a()}finally{ct.p=l}}var ye=Math.random().toString(36).slice(2),Be="__reactFiber$"+ye,ge="__reactProps$"+ye,hn="__reactContainer$"+ye,Co="__reactEvents$"+ye,eu="__reactListeners$"+ye,Ps="__reactHandles$"+ye,Ol="__reactResources$"+ye,gr="__reactMarker$"+ye;function Bi(s){delete s[Be],delete s[ge],delete s[Co],delete s[eu],delete s[Ps]}function Dn(s){var a=s[Be];if(a)return a;for(var l=s.parentNode;l;){if(a=l[hn]||l[Be]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=eE(s);s!==null;){if(l=s[Be])return l;s=eE(s)}return a}s=l,l=s.parentNode}return null}function zn(s){if(s=s[Be]||s[hn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Fi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function en(s){var a=s[Ol];return a||(a=s[Ol]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function De(s){s[gr]=!0}var Io=new Set,Si={};function ni(s,a){vn(s,a),vn(s+"Capture",a)}function vn(s,a){for(Si[s]=a,s=0;s<a.length;s++)Io.add(a[s])}var la=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Ns={};function Ml(s){return Qn.call(Ns,s)?!0:Qn.call(Dl,s)?!1:la.test(s)?Ns[s]=!0:(Dl[s]=!0,!1)}function Ls(s,a,l){if(Ml(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Hi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function nn(s,a,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+h)}}var Vs,Oo;function ys(s){if(Vs===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Vs=a&&a[1]||"",Oo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+s+Oo}var Ai=!1;function ii(s,a){if(!s||Ai)return"";Ai=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(it){var et=it}Reflect.construct(s,[],ht)}else{try{ht.call()}catch(it){et=it}s.call(ht.prototype)}}else{try{throw Error()}catch(it){et=it}(ht=s())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),S=_[0],R=_[1];if(S&&R){var U=S.split(`
`),tt=R.split(`
`);for(p=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;p<tt.length&&!tt[p].includes("DetermineComponentFrameRoot");)p++;if(h===U.length||p===tt.length)for(h=U.length-1,p=tt.length-1;1<=h&&0<=p&&U[h]!==tt[p];)p--;for(;1<=h&&0<=p;h--,p--)if(U[h]!==tt[p]){if(h!==1||p!==1)do if(h--,p--,0>p||U[h]!==tt[p]){var ot=`
`+U[h].replace(" at new "," at ");return s.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",s.displayName)),ot}while(1<=h&&0<=p);break}}}finally{Ai=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ys(l):""}function Do(s){switch(s.tag){case 26:case 27:case 5:return ys(s.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 15:return ii(s.type,!1);case 11:return ii(s.type.render,!1);case 1:return ii(s.type,!0);case 31:return ys("Activity");default:return""}}function vs(s){try{var a="";do a+=Do(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Mo(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nu(s){var a=Mo(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,_=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ca(s){s._valueTracker||(s._valueTracker=nu(s))}function ko(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return s&&(h=Mo(s)?s.checked?"true":"false":s.value),s=h,s!==l?(a.setValue(s),!0):!1}function pr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var iu=/[\n"\\]/g;function Le(s){return s.replace(iu,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Te(s,a,l,h,p,_,S,R){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+bn(a)):s.value!==""+bn(a)&&(s.value=""+bn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?bs(s,S,bn(a)):l!=null?bs(s,S,bn(l)):h!=null&&s.removeAttribute("value"),p==null&&_!=null&&(s.defaultChecked=!!_),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+bn(R):s.removeAttribute("name")}function Us(s,a,l,h,p,_,S,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;l=l!=null?""+bn(l):"",a=a!=null?""+bn(a):l,R||a===s.value||(s.value=a),s.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function bs(s,a,l){a==="number"&&pr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function qi(s,a,l,h){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+bn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function re(s,a,l){if(a!=null&&(a=""+bn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+bn(l):""}function mr(s,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(i(92));if(Tt(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=bn(a),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h)}function jn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var $i=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(s,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,l):typeof l!="number"||l===0||$i.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Po(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&l[p]!==h&&kl(s,p,h)}else for(var _ in a)a.hasOwnProperty(_)&&kl(s,_,a[_])}function ua(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ru=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(s){return ru.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Gi=null;function Bn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var si=null,Yi=null;function yr(s){var a=zn(s);if(a&&(s=a.stateNode)){var l=s[ge]||null;t:switch(s=a.stateNode,a.type){case"input":if(Te(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Le(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==s&&h.form===s.form){var p=h[ge]||null;if(!p)throw Error(i(90));Te(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===s.form&&ko(h)}break t;case"textarea":re(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&qi(s,!!l.multiple,a,!1)}}}var Me=!1;function Pl(s,a,l){if(Me)return s(a,l);Me=!0;try{var h=s(a);return h}finally{if(Me=!1,(si!==null||Yi!==null)&&(qf(),si&&(a=si,s=Yi,Yi=si=null,yr(a),s)))for(a=0;a<s.length;a++)yr(s[a])}}function vr(s,a){var l=s.stateNode;if(l===null)return null;var h=l[ge]||null;if(h===null)return null;l=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ri)try{var br={};Object.defineProperty(br,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Fn=!1}var Wi=null,zs=null,Es=null;function No(){if(Es)return Es;var s,a=zs,l=a.length,h,p="value"in Wi?Wi.value:Wi.textContent,_=p.length;for(s=0;s<l&&a[s]===p[s];s++);var S=l-s;for(h=1;h<=S&&a[l-h]===p[_-h];h++);return Es=p.slice(s,1<h?1-h:void 0)}function Ki(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function xi(){return!0}function ha(){return!1}function Ve(s){function a(l,h,p,_,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xi:ha,this.isPropagationStopped=ha,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),a}var ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Ve(ne),Hn=m({},ne,{view:0,detail:0}),ai=Ve(Hn),Er,da,Ri,js=m({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ri&&(Ri&&s.type==="mousemove"?(Er=s.screenX-Ri.screenX,da=s.screenY-Ri.screenY):da=Er=0,Ri=s),Er)},movementY:function(s){return"movementY"in s?s.movementY:da}}),qn=Ve(js),Lo=m({},js,{dataTransfer:0}),au=Ve(Lo),Tr=m({},Hn,{relatedTarget:0}),ga=Ve(Tr),pa=m({},ne,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=Ve(pa),Nl=m({},ne,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ma=Ve(Nl),ou=m({},ne,{data:0}),Vo=Ve(ou),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Uo[s])?!!a[s]:!1}function Ar(){return zo}var Ll=m({},Hn,{key:function(s){if(s.key){var a=Sr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ki(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?oi[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(s){return s.type==="keypress"?Ki(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ki(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_a=Ve(Ll),Vl=m({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Ve(Vl),Ts=m({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),Ul=Ve(Ts),ya=m({},ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),xr=Ve(ya),zl=m({},js,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=Ve(zl),fn=m({},ne,{newState:0,oldState:0}),Bs=Ve(fn),va=[9,13,27,32],li=ri&&"CompositionEvent"in window,g=null;ri&&"documentMode"in document&&(g=document.documentMode);var b=ri&&"TextEvent"in window&&!g,T=ri&&(!li||g&&8<g&&11>=g),D=" ",Q=!1;function st(s,a){switch(s){case"keyup":return va.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wt=!1;function Re(s,a){switch(s){case"compositionend":return pt(a);case"keypress":return a.which!==32?null:(Q=!0,D);case"textInput":return s=a.data,s===D&&Q?null:s;default:return null}}function Ht(s,a){if(Wt)return s==="compositionend"||!li&&st(s,a)?(s=No(),Es=zs=Wi=null,Wt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var Ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ye[s.type]:a==="textarea"}function ws(s,a,l,h){si?Yi?Yi.push(h):Yi=[h]:si=h,a=Xf(a,"onChange"),0<a.length&&(l=new fa("onChange","change",null,l,h),s.push({event:l,listeners:a}))}var Ce=null,ci=null;function ba(s){$0(s,0)}function jl(s){var a=Fi(s);if(ko(a))return s}function rf(s,a){if(s==="change")return a}var af=!1;if(ri){var Cr;if(ri){var Ss="oninput"in document;if(!Ss){var of=document.createElement("div");of.setAttribute("oninput","return;"),Ss=typeof of.oninput=="function"}Cr=Ss}else Cr=!1;af=Cr&&(!document.documentMode||9<document.documentMode)}function lf(){Ce&&(Ce.detachEvent("onpropertychange",cf),ci=Ce=null)}function cf(s){if(s.propertyName==="value"&&jl(ci)){var a=[];ws(a,ci,s,Bn(s)),Pl(ba,a)}}function sp(s,a,l){s==="focusin"?(lf(),Ce=a,ci=l,Ce.attachEvent("onpropertychange",cf)):s==="focusout"&&lf()}function rp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return jl(ci)}function ap(s,a){if(s==="click")return jl(a)}function op(s,a){if(s==="input"||s==="change")return jl(a)}function lp(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Mn=typeof Object.is=="function"?Object.is:lp;function Bo(s,a){if(Mn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Qn.call(a,p)||!Mn(s[p],a[p]))return!1}return!0}function lu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bl(s,a){var l=lu(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=a&&h>=a)return{node:l,offset:a-s};s=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=lu(l)}}function cu(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?cu(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Fs(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=pr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=pr(s.document)}return a}function Fl(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var uu=ri&&"documentMode"in document&&11>=document.documentMode,Ir=null,Fo=null,Ea=null,Ho=!1;function uf(s,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ho||Ir==null||Ir!==pr(h)||(h=Ir,"selectionStart"in h&&Fl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ea&&Bo(Ea,h)||(Ea=h,h=Xf(Fo,"onSelect"),0<h.length&&(a=new fa("onSelect","select",null,a,l),s.push({event:a,listeners:h}),a.target=Ir)))}function $n(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Gn={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionrun:$n("Transition","TransitionRun"),transitionstart:$n("Transition","TransitionStart"),transitioncancel:$n("Transition","TransitionCancel"),transitionend:$n("Transition","TransitionEnd")},hu={},hf={};ri&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Or(s){if(hu[s])return hu[s];if(!Gn[s])return s;var a=Gn[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in hf)return hu[s]=a[l];return s}var ff=Or("animationend"),df=Or("animationiteration"),gf=Or("animationstart"),cp=Or("transitionrun"),up=Or("transitionstart"),pf=Or("transitioncancel"),qo=Or("transitionend"),$o=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function Ci(s,a){$o.set(s,a),ni(a,[s])}var Ta=new WeakMap;function j(s,a){if(typeof s=="object"&&s!==null){var l=Ta.get(s);return l!==void 0?l:(a={value:s,source:a,stack:vs(a)},Ta.set(s,a),a)}return{value:s,source:a,stack:vs(a)}}var y=[],A=0,F=0;function at(){for(var s=A,a=F=A=0;a<s;){var l=y[a];y[a++]=null;var h=y[a];y[a++]=null;var p=y[a];y[a++]=null;var _=y[a];if(y[a++]=null,h!==null&&p!==null){var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}_!==0&&ve(l,p,_)}}function mt(s,a,l,h){y[A++]=s,y[A++]=a,y[A++]=l,y[A++]=h,F|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Et(s,a,l,h){return mt(s,a,l,h),sn(s)}function Ut(s,a){return mt(s,null,null,a),sn(s)}function ve(s,a,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var p=!1,_=s.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(p=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,p&&a!==null&&(p=31-tn(l),s=_.hiddenUpdates,h=s[p],h===null?s[p]=[a]:h.push(a),a.lane=l|536870912),_):null}function sn(s){if(50<Uu)throw Uu=0,dm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var We={};function Ii(s,a,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(s,a,l,h){return new Ii(s,a,l,h)}function Oi(s){return s=s.prototype,!(!s||!s.isReactComponent)}function En(s,a){var l=s.alternate;return l===null?(l=ke(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ui(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Hs(s,a,l,h,p,_){var S=0;if(h=s,typeof s=="function")Oi(s)&&(S=1);else if(typeof s=="string")S=BC(s,l,yt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=ke(31,l,a,p),s.elementType=M,s.lanes=_,s;case x:return Xi(l.children,p,_,a);case C:S=8,p|=24;break;case I:return s=ke(12,l,a,p|2),s.elementType=I,s.lanes=_,s;case Y:return s=ke(13,l,a,p),s.elementType=Y,s.lanes=_,s;case rt:return s=ke(19,l,a,p),s.elementType=rt,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:case G:S=10;break t;case H:S=9;break t;case K:S=11;break t;case P:S=14;break t;case O:S=16,h=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=ke(S,l,a,p),a.elementType=s,a.type=h,a.lanes=_,a}function Xi(s,a,l,h){return s=ke(7,s,h,a),s.lanes=l,s}function du(s,a,l){return s=ke(6,s,null,a),s.lanes=l,s}function As(s,a,l){return a=ke(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var wa=[],Hl=0,mf=null,_f=0,Qi=[],Zi=0,Go=null,Dr=1,Mr="";function Yo(s,a){wa[Hl++]=_f,wa[Hl++]=mf,mf=s,_f=a}function Dv(s,a,l){Qi[Zi++]=Dr,Qi[Zi++]=Mr,Qi[Zi++]=Go,Go=s;var h=Dr;s=Mr;var p=32-tn(h)-1;h&=~(1<<p),l+=1;var _=32-tn(a)+p;if(30<_){var S=p-p%5;_=(h&(1<<S)-1).toString(32),h>>=S,p-=S,Dr=1<<32-tn(a)+p|l<<p|h,Mr=_+s}else Dr=1<<_|l<<p|h,Mr=s}function hp(s){s.return!==null&&(Yo(s,1),Dv(s,1,0))}function fp(s){for(;s===mf;)mf=wa[--Hl],wa[Hl]=null,_f=wa[--Hl],wa[Hl]=null;for(;s===Go;)Go=Qi[--Zi],Qi[Zi]=null,Mr=Qi[--Zi],Qi[Zi]=null,Dr=Qi[--Zi],Qi[Zi]=null}var Yn=null,ze=null,se=!1,Wo=null,qs=!1,dp=Error(i(519));function Ko(s){var a=Error(i(418,""));throw mu(j(a,s)),dp}function Mv(s){var a=s.stateNode,l=s.type,h=s.memoizedProps;switch(a[Be]=s,a[ge]=h,l){case"dialog":Yt("cancel",a),Yt("close",a);break;case"iframe":case"object":case"embed":Yt("load",a);break;case"video":case"audio":for(l=0;l<ju.length;l++)Yt(ju[l],a);break;case"source":Yt("error",a);break;case"img":case"image":case"link":Yt("error",a),Yt("load",a);break;case"details":Yt("toggle",a);break;case"input":Yt("invalid",a),Us(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ca(a);break;case"select":Yt("invalid",a);break;case"textarea":Yt("invalid",a),mr(a,h.value,h.defaultValue,h.children),ca(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||K0(a.textContent,l)?(h.popover!=null&&(Yt("beforetoggle",a),Yt("toggle",a)),h.onScroll!=null&&Yt("scroll",a),h.onScrollEnd!=null&&Yt("scrollend",a),h.onClick!=null&&(a.onclick=Qf),a=!0):a=!1,a||Ko(s)}function kv(s){for(Yn=s.return;Yn;)switch(Yn.tag){case 5:case 13:qs=!1;return;case 27:case 3:qs=!0;return;default:Yn=Yn.return}}function gu(s){if(s!==Yn)return!1;if(!se)return kv(s),se=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Im(s.type,s.memoizedProps)),l=!l),l&&ze&&Ko(s),kv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){ze=Rs(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}ze=null}}else a===27?(a=ze,za(s.type)?(s=km,km=null,ze=s):ze=a):ze=Yn?Rs(s.stateNode.nextSibling):null;return!0}function pu(){ze=Yn=null,se=!1}function Pv(){var s=Wo;return s!==null&&(di===null?di=s:di.push.apply(di,s),Wo=null),s}function mu(s){Wo===null?Wo=[s]:Wo.push(s)}var gp=ut(null),Xo=null,kr=null;function Sa(s,a,l){q(gp,a._currentValue),a._currentValue=l}function Pr(s){s._currentValue=gp.current,gt(gp)}function pp(s,a,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===l)break;s=s.return}}function mp(s,a,l,h){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var _=p.dependencies;if(_!==null){var S=p.child;_=_.firstContext;t:for(;_!==null;){var R=_;_=p;for(var U=0;U<a.length;U++)if(R.context===a[U]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),pp(_.return,l,s),h||(S=null);break t}_=R.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=l,_=S.alternate,_!==null&&(_.lanes|=l),pp(S,l,s),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===s){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function _u(s,a,l,h){s=null;for(var p=a,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var R=p.type;Mn(p.pendingProps.value,S.value)||(s!==null?s.push(R):s=[R])}}else if(p===Jt.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Gu):s=[Gu])}p=p.return}s!==null&&mp(a,s,l,h),a.flags|=262144}function yf(s){for(s=s.firstContext;s!==null;){if(!Mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Qo(s){Xo=s,kr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function kn(s){return Nv(Xo,s)}function vf(s,a){return Xo===null&&Qo(s),Nv(s,a)}function Nv(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},kr===null){if(s===null)throw Error(i(308));kr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else kr=kr.next=a;return l}var jR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},BR=n.unstable_scheduleCallback,FR=n.unstable_NormalPriority,rn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new jR,data:new Map,refCount:0}}function yu(s){s.refCount--,s.refCount===0&&BR(FR,function(){s.controller.abort()})}var vu=null,yp=0,ql=0,$l=null;function HR(s,a){if(vu===null){var l=vu=[];yp=0,ql=bm(),$l={status:"pending",value:void 0,then:function(h){l.push(h)}}}return yp++,a.then(Lv,Lv),a}function Lv(){if(--yp===0&&vu!==null){$l!==null&&($l.status="fulfilled");var s=vu;vu=null,ql=0,$l=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function qR(s,a){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var Vv=Z.S;Z.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&HR(s,a),Vv!==null&&Vv(s,a)};var Zo=ut(null);function vp(){var s=Zo.current;return s!==null?s:be.pooledCache}function bf(s,a){a===null?q(Zo,Zo.current):q(Zo,a.pool)}function Uv(){var s=vp();return s===null?null:{parent:rn._currentValue,pool:s}}var bu=Error(i(460)),zv=Error(i(474)),Ef=Error(i(542)),bp={then:function(){}};function jv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Tf(){}function Bv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Tf,Tf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Hv(s),s;default:if(typeof a.status=="string")a.then(Tf,Tf);else{if(s=be,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Hv(s),s}throw Eu=a,bu}}var Eu=null;function Fv(){if(Eu===null)throw Error(i(459));var s=Eu;return Eu=null,s}function Hv(s){if(s===bu||s===Ef)throw Error(i(483))}var Aa=!1;function Ep(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ra(s,a,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(oe&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=sn(s),ve(s,null,l),a}return mt(s,h,a,l),sn(s)}function Tu(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Ms(s,l)}}function wp(s,a){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=S:_=_.next=S,l=l.next}while(l!==null);_===null?p=_=a:_=_.next=a}else p=_=a;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Sp=!1;function wu(){if(Sp){var s=$l;if(s!==null)throw s}}function Su(s,a,l,h){Sp=!1;var p=s.updateQueue;Aa=!1;var _=p.firstBaseUpdate,S=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var U=R,tt=U.next;U.next=null,S===null?_=tt:S.next=tt,S=U;var ot=s.alternate;ot!==null&&(ot=ot.updateQueue,R=ot.lastBaseUpdate,R!==S&&(R===null?ot.firstBaseUpdate=tt:R.next=tt,ot.lastBaseUpdate=U))}if(_!==null){var ht=p.baseState;S=0,ot=tt=U=null,R=_;do{var et=R.lane&-536870913,it=et!==R.lane;if(it?(Qt&et)===et:(h&et)===et){et!==0&&et===ql&&(Sp=!0),ot!==null&&(ot=ot.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Nt=s,Ot=R;et=a;var fe=l;switch(Ot.tag){case 1:if(Nt=Ot.payload,typeof Nt=="function"){ht=Nt.call(fe,ht,et);break t}ht=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Ot.payload,et=typeof Nt=="function"?Nt.call(fe,ht,et):Nt,et==null)break t;ht=m({},ht,et);break t;case 2:Aa=!0}}et=R.callback,et!==null&&(s.flags|=64,it&&(s.flags|=8192),it=p.callbacks,it===null?p.callbacks=[et]:it.push(et))}else it={lane:et,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ot===null?(tt=ot=it,U=ht):ot=ot.next=it,S|=et;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;it=R,R=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);ot===null&&(U=ht),p.baseState=U,p.firstBaseUpdate=tt,p.lastBaseUpdate=ot,_===null&&(p.shared.lanes=0),Na|=S,s.lanes=S,s.memoizedState=ht}}function qv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function $v(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)qv(l[s],a)}var Gl=ut(null),wf=ut(0);function Gv(s,a){s=Br,q(wf,s),q(Gl,a),Br=s|a.baseLanes}function Ap(){q(wf,Br),q(Gl,Gl.current)}function xp(){Br=wf.current,gt(Gl),gt(wf)}var Ca=0,Bt=null,ue=null,Ke=null,Sf=!1,Yl=!1,Jo=!1,Af=0,Au=0,Wl=null,$R=0;function Fe(){throw Error(i(321))}function Rp(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Mn(s[l],a[l]))return!1;return!0}function Cp(s,a,l,h,p,_){return Ca=_,Bt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=s===null||s.memoizedState===null?Ib:Ob,Jo=!1,_=l(h,p),Jo=!1,Yl&&(_=Wv(a,l,h,p)),Yv(s),_}function Yv(s){Z.H=Df;var a=ue!==null&&ue.next!==null;if(Ca=0,Ke=ue=Bt=null,Sf=!1,Au=0,Wl=null,a)throw Error(i(300));s===null||dn||(s=s.dependencies,s!==null&&yf(s)&&(dn=!0))}function Wv(s,a,l,h){Bt=s;var p=0;do{if(Yl&&(Wl=null),Au=0,Yl=!1,25<=p)throw Error(i(301));if(p+=1,Ke=ue=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Z.H=ZR,_=a(l,h)}while(Yl);return _}function GR(){var s=Z.H,a=s.useState()[0];return a=typeof a.then=="function"?xu(a):a,s=s.useState()[0],(ue!==null?ue.memoizedState:null)!==s&&(Bt.flags|=1024),a}function Ip(){var s=Af!==0;return Af=0,s}function Op(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Dp(s){if(Sf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Sf=!1}Ca=0,Ke=ue=Bt=null,Yl=!1,Au=Af=0,Wl=null}function hi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Bt.memoizedState=Ke=s:Ke=Ke.next=s,Ke}function Xe(){if(ue===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=ue.next;var a=Ke===null?Bt.memoizedState:Ke.next;if(a!==null)Ke=a,ue=s;else{if(s===null)throw Bt.alternate===null?Error(i(467)):Error(i(310));ue=s,s={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Ke===null?Bt.memoizedState=Ke=s:Ke=Ke.next=s}return Ke}function Mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(s){var a=Au;return Au+=1,Wl===null&&(Wl=[]),s=Bv(Wl,s,a),a=Bt,(Ke===null?a.memoizedState:Ke.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?Ib:Ob),s}function xf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return xu(s);if(s.$$typeof===G)return kn(s)}throw Error(i(438,String(s)))}function kp(s){var a=null,l=Bt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Bt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Mp(),Bt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),h=0;h<s;h++)l[h]=L;return a.index++,l}function Nr(s,a){return typeof a=="function"?a(s):a}function Rf(s){var a=Xe();return Pp(a,ue,s)}function Pp(s,a,l){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var p=s.baseQueue,_=h.pending;if(_!==null){if(p!==null){var S=p.next;p.next=_.next,_.next=S}a.baseQueue=p=_,h.pending=null}if(_=s.baseState,p===null)s.memoizedState=_;else{a=p.next;var R=S=null,U=null,tt=a,ot=!1;do{var ht=tt.lane&-536870913;if(ht!==tt.lane?(Qt&ht)===ht:(Ca&ht)===ht){var et=tt.revertLane;if(et===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),ht===ql&&(ot=!0);else if((Ca&et)===et){tt=tt.next,et===ql&&(ot=!0);continue}else ht={lane:0,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},U===null?(R=U=ht,S=_):U=U.next=ht,Bt.lanes|=et,Na|=et;ht=tt.action,Jo&&l(_,ht),_=tt.hasEagerState?tt.eagerState:l(_,ht)}else et={lane:ht,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},U===null?(R=U=et,S=_):U=U.next=et,Bt.lanes|=ht,Na|=ht;tt=tt.next}while(tt!==null&&tt!==a);if(U===null?S=_:U.next=R,!Mn(_,s.memoizedState)&&(dn=!0,ot&&(l=$l,l!==null)))throw l;s.memoizedState=_,s.baseState=S,s.baseQueue=U,h.lastRenderedState=_}return p===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Np(s){var a=Xe(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,_=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do _=s(_,S.action),S=S.next;while(S!==p);Mn(_,a.memoizedState)||(dn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,h]}function Kv(s,a,l){var h=Bt,p=Xe(),_=se;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!Mn((ue||p).memoizedState,l);S&&(p.memoizedState=l,dn=!0),p=p.queue;var R=Zv.bind(null,h,p,s);if(Ru(2048,8,R,[s]),p.getSnapshot!==a||S||Ke!==null&&Ke.memoizedState.tag&1){if(h.flags|=2048,Kl(9,Cf(),Qv.bind(null,h,p,l,a),null),be===null)throw Error(i(349));_||(Ca&124)!==0||Xv(h,a,l)}return l}function Xv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Bt.updateQueue,a===null?(a=Mp(),Bt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Qv(s,a,l,h){a.value=l,a.getSnapshot=h,Jv(a)&&tb(s)}function Zv(s,a,l){return l(function(){Jv(a)&&tb(s)})}function Jv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Mn(s,l)}catch{return!0}}function tb(s){var a=Ut(s,2);a!==null&&Ni(a,s,2)}function Lp(s){var a=hi();if(typeof s=="function"){var l=s;if(s=l(),Jo){Ee(!0);try{l()}finally{Ee(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:s},a}function eb(s,a,l,h){return s.baseState=l,Pp(s,ue,typeof h=="function"?h:Nr)}function YR(s,a,l,h,p){if(Of(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};Z.T!==null?l(!0):_.isTransition=!1,h(_),l=a.pending,l===null?(_.next=a.pending=_,nb(a,_)):(_.next=l.next,a.pending=l.next=_)}}function nb(s,a){var l=a.action,h=a.payload,p=s.state;if(a.isTransition){var _=Z.T,S={};Z.T=S;try{var R=l(p,h),U=Z.S;U!==null&&U(S,R),ib(s,a,R)}catch(tt){Vp(s,a,tt)}finally{Z.T=_}}else try{_=l(p,h),ib(s,a,_)}catch(tt){Vp(s,a,tt)}}function ib(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){sb(s,a,h)},function(h){return Vp(s,a,h)}):sb(s,a,l)}function sb(s,a,l){a.status="fulfilled",a.value=l,rb(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,nb(s,l)))}function Vp(s,a,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,rb(a),a=a.next;while(a!==h)}s.action=null}function rb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ab(s,a){return a}function ob(s,a){if(se){var l=be.formState;if(l!==null){t:{var h=Bt;if(se){if(ze){e:{for(var p=ze,_=qs;p.nodeType!==8;){if(!_){p=null;break e}if(p=Rs(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){ze=Rs(p.nextSibling),h=p.data==="F!";break t}}Ko(h)}h=!1}h&&(a=l[0])}}return l=hi(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:a},l.queue=h,l=xb.bind(null,Bt,h),h.dispatch=l,h=Lp(!1),_=Fp.bind(null,Bt,!1,h.queue),h=hi(),p={state:a,dispatch:null,action:s,pending:null},h.queue=p,l=YR.bind(null,Bt,p,_,l),p.dispatch=l,h.memoizedState=s,[a,l,!1]}function lb(s){var a=Xe();return cb(a,ue,s)}function cb(s,a,l){if(a=Pp(s,a,ab)[0],s=Rf(Nr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=xu(a)}catch(S){throw S===bu?Ef:S}else h=a;a=Xe();var p=a.queue,_=p.dispatch;return l!==a.memoizedState&&(Bt.flags|=2048,Kl(9,Cf(),WR.bind(null,p,l),null)),[h,_,s]}function WR(s,a){s.action=a}function ub(s){var a=Xe(),l=ue;if(l!==null)return cb(a,l,s);Xe(),a=a.memoizedState,l=Xe();var h=l.queue.dispatch;return l.memoizedState=s,[a,h,!1]}function Kl(s,a,l,h){return s={tag:s,create:l,deps:h,inst:a,next:null},a=Bt.updateQueue,a===null&&(a=Mp(),Bt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,a.lastEffect=s),s}function Cf(){return{destroy:void 0,resource:void 0}}function hb(){return Xe().memoizedState}function If(s,a,l,h){var p=hi();h=h===void 0?null:h,Bt.flags|=s,p.memoizedState=Kl(1|a,Cf(),l,h)}function Ru(s,a,l,h){var p=Xe();h=h===void 0?null:h;var _=p.memoizedState.inst;ue!==null&&h!==null&&Rp(h,ue.memoizedState.deps)?p.memoizedState=Kl(a,_,l,h):(Bt.flags|=s,p.memoizedState=Kl(1|a,_,l,h))}function fb(s,a){If(8390656,8,s,a)}function db(s,a){Ru(2048,8,s,a)}function gb(s,a){return Ru(4,2,s,a)}function pb(s,a){return Ru(4,4,s,a)}function mb(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function _b(s,a,l){l=l!=null?l.concat([s]):null,Ru(4,4,mb.bind(null,a,s),l)}function Up(){}function yb(s,a){var l=Xe();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Rp(a,h[1])?h[0]:(l.memoizedState=[s,a],s)}function vb(s,a){var l=Xe();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Rp(a,h[1]))return h[0];if(h=s(),Jo){Ee(!0);try{s()}finally{Ee(!1)}}return l.memoizedState=[h,a],h}function zp(s,a,l){return l===void 0||(Ca&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=T0(),Bt.lanes|=s,Na|=s,l)}function bb(s,a,l,h){return Mn(l,a)?l:Gl.current!==null?(s=zp(s,l,h),Mn(s,a)||(dn=!0),s):(Ca&42)===0?(dn=!0,s.memoizedState=l):(s=T0(),Bt.lanes|=s,Na|=s,a)}function Eb(s,a,l,h,p){var _=ct.p;ct.p=_!==0&&8>_?_:8;var S=Z.T,R={};Z.T=R,Fp(s,!1,a,l);try{var U=p(),tt=Z.S;if(tt!==null&&tt(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ot=qR(U,h);Cu(s,a,ot,Pi(s))}else Cu(s,a,h,Pi(s))}catch(ht){Cu(s,a,{then:function(){},status:"rejected",reason:ht},Pi())}finally{ct.p=_,Z.T=S}}function KR(){}function jp(s,a,l,h){if(s.tag!==5)throw Error(i(476));var p=Tb(s).queue;Eb(s,p,a,_t,l===null?KR:function(){return wb(s),l(h)})}function Tb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:_t},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function wb(s){var a=Tb(s).next.queue;Cu(s,a,{},Pi())}function Bp(){return kn(Gu)}function Sb(){return Xe().memoizedState}function Ab(){return Xe().memoizedState}function XR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Pi();s=xa(l);var h=Ra(a,s,l);h!==null&&(Ni(h,a,l),Tu(h,a,l)),a={cache:_p()},s.payload=a;return}a=a.return}}function QR(s,a,l){var h=Pi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Of(s)?Rb(a,l):(l=Et(s,a,l,h),l!==null&&(Ni(l,s,h),Cb(l,a,h)))}function xb(s,a,l){var h=Pi();Cu(s,a,l,h)}function Cu(s,a,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Of(s))Rb(a,p);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,R=_(S,l);if(p.hasEagerState=!0,p.eagerState=R,Mn(R,S))return mt(s,a,p,0),be===null&&at(),!1}catch{}finally{}if(l=Et(s,a,p,h),l!==null)return Ni(l,s,h),Cb(l,a,h),!0}return!1}function Fp(s,a,l,h){if(h={lane:2,revertLane:bm(),action:h,hasEagerState:!1,eagerState:null,next:null},Of(s)){if(a)throw Error(i(479))}else a=Et(s,l,h,2),a!==null&&Ni(a,s,2)}function Of(s){var a=s.alternate;return s===Bt||a!==null&&a===Bt}function Rb(s,a){Yl=Sf=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Cb(s,a,l){if((l&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Ms(s,l)}}var Df={readContext:kn,use:xf,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},Ib={readContext:kn,use:xf,useCallback:function(s,a){return hi().memoizedState=[s,a===void 0?null:a],s},useContext:kn,useEffect:fb,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,If(4194308,4,mb.bind(null,a,s),l)},useLayoutEffect:function(s,a){return If(4194308,4,s,a)},useInsertionEffect:function(s,a){If(4,2,s,a)},useMemo:function(s,a){var l=hi();a=a===void 0?null:a;var h=s();if(Jo){Ee(!0);try{s()}finally{Ee(!1)}}return l.memoizedState=[h,a],h},useReducer:function(s,a,l){var h=hi();if(l!==void 0){var p=l(a);if(Jo){Ee(!0);try{l(a)}finally{Ee(!1)}}}else p=a;return h.memoizedState=h.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},h.queue=s,s=s.dispatch=QR.bind(null,Bt,s),[h.memoizedState,s]},useRef:function(s){var a=hi();return s={current:s},a.memoizedState=s},useState:function(s){s=Lp(s);var a=s.queue,l=xb.bind(null,Bt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Up,useDeferredValue:function(s,a){var l=hi();return zp(l,s,a)},useTransition:function(){var s=Lp(!1);return s=Eb.bind(null,Bt,s.queue,!0,!1),hi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var h=Bt,p=hi();if(se){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),be===null)throw Error(i(349));(Qt&124)!==0||Xv(h,a,l)}p.memoizedState=l;var _={value:l,getSnapshot:a};return p.queue=_,fb(Zv.bind(null,h,_,s),[s]),h.flags|=2048,Kl(9,Cf(),Qv.bind(null,h,_,l,a),null),l},useId:function(){var s=hi(),a=be.identifierPrefix;if(se){var l=Mr,h=Dr;l=(h&~(1<<32-tn(h)-1)).toString(32)+l,a=""+a+"R"+l,l=Af++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=$R++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Bp,useFormState:ob,useActionState:ob,useOptimistic:function(s){var a=hi();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Fp.bind(null,Bt,!0,l),l.dispatch=a,[s,a]},useMemoCache:kp,useCacheRefresh:function(){return hi().memoizedState=XR.bind(null,Bt)}},Ob={readContext:kn,use:xf,useCallback:yb,useContext:kn,useEffect:db,useImperativeHandle:_b,useInsertionEffect:gb,useLayoutEffect:pb,useMemo:vb,useReducer:Rf,useRef:hb,useState:function(){return Rf(Nr)},useDebugValue:Up,useDeferredValue:function(s,a){var l=Xe();return bb(l,ue.memoizedState,s,a)},useTransition:function(){var s=Rf(Nr)[0],a=Xe().memoizedState;return[typeof s=="boolean"?s:xu(s),a]},useSyncExternalStore:Kv,useId:Sb,useHostTransitionStatus:Bp,useFormState:lb,useActionState:lb,useOptimistic:function(s,a){var l=Xe();return eb(l,ue,s,a)},useMemoCache:kp,useCacheRefresh:Ab},ZR={readContext:kn,use:xf,useCallback:yb,useContext:kn,useEffect:db,useImperativeHandle:_b,useInsertionEffect:gb,useLayoutEffect:pb,useMemo:vb,useReducer:Np,useRef:hb,useState:function(){return Np(Nr)},useDebugValue:Up,useDeferredValue:function(s,a){var l=Xe();return ue===null?zp(l,s,a):bb(l,ue.memoizedState,s,a)},useTransition:function(){var s=Np(Nr)[0],a=Xe().memoizedState;return[typeof s=="boolean"?s:xu(s),a]},useSyncExternalStore:Kv,useId:Sb,useHostTransitionStatus:Bp,useFormState:ub,useActionState:ub,useOptimistic:function(s,a){var l=Xe();return ue!==null?eb(l,ue,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:kp,useCacheRefresh:Ab},Xl=null,Iu=0;function Mf(s){var a=Iu;return Iu+=1,Xl===null&&(Xl=[]),Bv(Xl,s,a)}function Ou(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function kf(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Db(s){var a=s._init;return a(s._payload)}function Mb(s){function a(W,$){if(s){var J=W.deletions;J===null?(W.deletions=[$],W.flags|=16):J.push($)}}function l(W,$){if(!s)return null;for(;$!==null;)a(W,$),$=$.sibling;return null}function h(W){for(var $=new Map;W!==null;)W.key!==null?$.set(W.key,W):$.set(W.index,W),W=W.sibling;return $}function p(W,$){return W=En(W,$),W.index=0,W.sibling=null,W}function _(W,$,J){return W.index=J,s?(J=W.alternate,J!==null?(J=J.index,J<$?(W.flags|=67108866,$):J):(W.flags|=67108866,$)):(W.flags|=1048576,$)}function S(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function R(W,$,J,lt){return $===null||$.tag!==6?($=du(J,W.mode,lt),$.return=W,$):($=p($,J),$.return=W,$)}function U(W,$,J,lt){var St=J.type;return St===x?ot(W,$,J.props.children,lt,J.key):$!==null&&($.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===O&&Db(St)===$.type)?($=p($,J.props),Ou($,J),$.return=W,$):($=Hs(J.type,J.key,J.props,null,W.mode,lt),Ou($,J),$.return=W,$)}function tt(W,$,J,lt){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=As(J,W.mode,lt),$.return=W,$):($=p($,J.children||[]),$.return=W,$)}function ot(W,$,J,lt,St){return $===null||$.tag!==7?($=Xi(J,W.mode,lt,St),$.return=W,$):($=p($,J),$.return=W,$)}function ht(W,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=du(""+$,W.mode,J),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return J=Hs($.type,$.key,$.props,null,W.mode,J),Ou(J,$),J.return=W,J;case w:return $=As($,W.mode,J),$.return=W,$;case O:var lt=$._init;return $=lt($._payload),ht(W,$,J)}if(Tt($)||z($))return $=Xi($,W.mode,J,null),$.return=W,$;if(typeof $.then=="function")return ht(W,Mf($),J);if($.$$typeof===G)return ht(W,vf(W,$),J);kf(W,$)}return null}function et(W,$,J,lt){var St=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return St!==null?null:R(W,$,""+J,lt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return J.key===St?U(W,$,J,lt):null;case w:return J.key===St?tt(W,$,J,lt):null;case O:return St=J._init,J=St(J._payload),et(W,$,J,lt)}if(Tt(J)||z(J))return St!==null?null:ot(W,$,J,lt,null);if(typeof J.then=="function")return et(W,$,Mf(J),lt);if(J.$$typeof===G)return et(W,$,vf(W,J),lt);kf(W,J)}return null}function it(W,$,J,lt,St){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return W=W.get(J)||null,R($,W,""+lt,St);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case E:return W=W.get(lt.key===null?J:lt.key)||null,U($,W,lt,St);case w:return W=W.get(lt.key===null?J:lt.key)||null,tt($,W,lt,St);case O:var qt=lt._init;return lt=qt(lt._payload),it(W,$,J,lt,St)}if(Tt(lt)||z(lt))return W=W.get(J)||null,ot($,W,lt,St,null);if(typeof lt.then=="function")return it(W,$,J,Mf(lt),St);if(lt.$$typeof===G)return it(W,$,J,vf($,lt),St);kf($,lt)}return null}function Nt(W,$,J,lt){for(var St=null,qt=null,Rt=$,Mt=$=0,pn=null;Rt!==null&&Mt<J.length;Mt++){Rt.index>Mt?(pn=Rt,Rt=null):pn=Rt.sibling;var ie=et(W,Rt,J[Mt],lt);if(ie===null){Rt===null&&(Rt=pn);break}s&&Rt&&ie.alternate===null&&a(W,Rt),$=_(ie,$,Mt),qt===null?St=ie:qt.sibling=ie,qt=ie,Rt=pn}if(Mt===J.length)return l(W,Rt),se&&Yo(W,Mt),St;if(Rt===null){for(;Mt<J.length;Mt++)Rt=ht(W,J[Mt],lt),Rt!==null&&($=_(Rt,$,Mt),qt===null?St=Rt:qt.sibling=Rt,qt=Rt);return se&&Yo(W,Mt),St}for(Rt=h(Rt);Mt<J.length;Mt++)pn=it(Rt,W,Mt,J[Mt],lt),pn!==null&&(s&&pn.alternate!==null&&Rt.delete(pn.key===null?Mt:pn.key),$=_(pn,$,Mt),qt===null?St=pn:qt.sibling=pn,qt=pn);return s&&Rt.forEach(function(qa){return a(W,qa)}),se&&Yo(W,Mt),St}function Ot(W,$,J,lt){if(J==null)throw Error(i(151));for(var St=null,qt=null,Rt=$,Mt=$=0,pn=null,ie=J.next();Rt!==null&&!ie.done;Mt++,ie=J.next()){Rt.index>Mt?(pn=Rt,Rt=null):pn=Rt.sibling;var qa=et(W,Rt,ie.value,lt);if(qa===null){Rt===null&&(Rt=pn);break}s&&Rt&&qa.alternate===null&&a(W,Rt),$=_(qa,$,Mt),qt===null?St=qa:qt.sibling=qa,qt=qa,Rt=pn}if(ie.done)return l(W,Rt),se&&Yo(W,Mt),St;if(Rt===null){for(;!ie.done;Mt++,ie=J.next())ie=ht(W,ie.value,lt),ie!==null&&($=_(ie,$,Mt),qt===null?St=ie:qt.sibling=ie,qt=ie);return se&&Yo(W,Mt),St}for(Rt=h(Rt);!ie.done;Mt++,ie=J.next())ie=it(Rt,W,Mt,ie.value,lt),ie!==null&&(s&&ie.alternate!==null&&Rt.delete(ie.key===null?Mt:ie.key),$=_(ie,$,Mt),qt===null?St=ie:qt.sibling=ie,qt=ie);return s&&Rt.forEach(function(JC){return a(W,JC)}),se&&Yo(W,Mt),St}function fe(W,$,J,lt){if(typeof J=="object"&&J!==null&&J.type===x&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case E:t:{for(var St=J.key;$!==null;){if($.key===St){if(St=J.type,St===x){if($.tag===7){l(W,$.sibling),lt=p($,J.props.children),lt.return=W,W=lt;break t}}else if($.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===O&&Db(St)===$.type){l(W,$.sibling),lt=p($,J.props),Ou(lt,J),lt.return=W,W=lt;break t}l(W,$);break}else a(W,$);$=$.sibling}J.type===x?(lt=Xi(J.props.children,W.mode,lt,J.key),lt.return=W,W=lt):(lt=Hs(J.type,J.key,J.props,null,W.mode,lt),Ou(lt,J),lt.return=W,W=lt)}return S(W);case w:t:{for(St=J.key;$!==null;){if($.key===St)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){l(W,$.sibling),lt=p($,J.children||[]),lt.return=W,W=lt;break t}else{l(W,$);break}else a(W,$);$=$.sibling}lt=As(J,W.mode,lt),lt.return=W,W=lt}return S(W);case O:return St=J._init,J=St(J._payload),fe(W,$,J,lt)}if(Tt(J))return Nt(W,$,J,lt);if(z(J)){if(St=z(J),typeof St!="function")throw Error(i(150));return J=St.call(J),Ot(W,$,J,lt)}if(typeof J.then=="function")return fe(W,$,Mf(J),lt);if(J.$$typeof===G)return fe(W,$,vf(W,J),lt);kf(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(l(W,$.sibling),lt=p($,J),lt.return=W,W=lt):(l(W,$),lt=du(J,W.mode,lt),lt.return=W,W=lt),S(W)):l(W,$)}return function(W,$,J,lt){try{Iu=0;var St=fe(W,$,J,lt);return Xl=null,St}catch(Rt){if(Rt===bu||Rt===Ef)throw Rt;var qt=ke(29,Rt,null,W.mode);return qt.lanes=lt,qt.return=W,qt}finally{}}}var Ql=Mb(!0),kb=Mb(!1),Ji=ut(null),$s=null;function Ia(s){var a=s.alternate;q(an,an.current&1),q(Ji,s),$s===null&&(a===null||Gl.current!==null||a.memoizedState!==null)&&($s=s)}function Pb(s){if(s.tag===22){if(q(an,an.current),q(Ji,s),$s===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&($s=s)}}else Oa()}function Oa(){q(an,an.current),q(Ji,Ji.current)}function Lr(s){gt(Ji),$s===s&&($s=null),gt(an)}var an=ut(0);function Pf(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Mm(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Hp(s,a,l,h){a=s.memoizedState,l=l(h,a),l=l==null?a:m({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var qp={enqueueSetState:function(s,a,l){s=s._reactInternals;var h=Pi(),p=xa(h);p.payload=a,l!=null&&(p.callback=l),a=Ra(s,p,h),a!==null&&(Ni(a,s,h),Tu(a,s,h))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var h=Pi(),p=xa(h);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ra(s,p,h),a!==null&&(Ni(a,s,h),Tu(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Pi(),h=xa(l);h.tag=2,a!=null&&(h.callback=a),a=Ra(s,h,l),a!==null&&(Ni(a,s,l),Tu(a,s,l))}};function Nb(s,a,l,h,p,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,S):a.prototype&&a.prototype.isPureReactComponent?!Bo(l,h)||!Bo(p,_):!0}function Lb(s,a,l,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==s&&qp.enqueueReplaceState(a,a.state,null)}function tl(s,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(s=s.defaultProps){l===a&&(l=m({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Nf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Vb(s){Nf(s)}function Ub(s){console.error(s)}function zb(s){Nf(s)}function Lf(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function jb(s,a,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function $p(s,a,l){return l=xa(l),l.tag=3,l.payload={element:null},l.callback=function(){Lf(s,a)},l}function Bb(s){return s=xa(s),s.tag=3,s}function Fb(s,a,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;s.payload=function(){return p(_)},s.callback=function(){jb(a,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){jb(a,l,h),typeof p!="function"&&(La===null?La=new Set([this]):La.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function JR(s,a,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&_u(a,l,p,!0),l=Ji.current,l!==null){switch(l.tag){case 13:return $s===null?pm():l.alternate===null&&je===0&&(je=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===bp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),_m(s,h,p)),!1;case 22:return l.flags|=65536,h===bp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),_m(s,h,p)),!1}throw Error(i(435,l.tag))}return _m(s,h,p),pm(),!1}if(se)return a=Ji.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==dp&&(s=Error(i(422),{cause:h}),mu(j(s,l)))):(h!==dp&&(a=Error(i(423),{cause:h}),mu(j(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,h=j(h,l),p=$p(s.stateNode,h,p),wp(s,p),je!==4&&(je=2)),!1;var _=Error(i(520),{cause:h});if(_=j(_,l),Vu===null?Vu=[_]:Vu.push(_),je!==4&&(je=2),a===null)return!0;h=j(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=$p(l.stateNode,h,s),wp(l,s),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(La===null||!La.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Bb(p),Fb(p,s,l,h),wp(l,p),!1}l=l.return}while(l!==null);return!1}var Hb=Error(i(461)),dn=!1;function Tn(s,a,l,h){a.child=s===null?kb(a,null,l,h):Ql(a,s.child,l,h)}function qb(s,a,l,h,p){l=l.render;var _=a.ref;if("ref"in h){var S={};for(var R in h)R!=="ref"&&(S[R]=h[R])}else S=h;return Qo(a),h=Cp(s,a,l,S,_,p),R=Ip(),s!==null&&!dn?(Op(s,a,p),Vr(s,a,p)):(se&&R&&hp(a),a.flags|=1,Tn(s,a,h,p),a.child)}function $b(s,a,l,h,p){if(s===null){var _=l.type;return typeof _=="function"&&!Oi(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,Gb(s,a,_,h,p)):(s=Hs(l.type,null,h,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!Jp(s,p)){var S=_.memoizedProps;if(l=l.compare,l=l!==null?l:Bo,l(S,h)&&s.ref===a.ref)return Vr(s,a,p)}return a.flags|=1,s=En(_,h),s.ref=a.ref,s.return=a,a.child=s}function Gb(s,a,l,h,p){if(s!==null){var _=s.memoizedProps;if(Bo(_,h)&&s.ref===a.ref)if(dn=!1,a.pendingProps=h=_,Jp(s,p))(s.flags&131072)!==0&&(dn=!0);else return a.lanes=s.lanes,Vr(s,a,p)}return Gp(s,a,l,h,p)}function Yb(s,a,l){var h=a.pendingProps,p=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,s!==null){for(p=a.child=s.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;a.childLanes=_&~h}else a.childLanes=0,a.child=null;return Wb(s,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&bf(a,_!==null?_.cachePool:null),_!==null?Gv(a,_):Ap(),Pb(a);else return a.lanes=a.childLanes=536870912,Wb(s,a,_!==null?_.baseLanes|l:l,l)}else _!==null?(bf(a,_.cachePool),Gv(a,_),Oa(),a.memoizedState=null):(s!==null&&bf(a,null),Ap(),Oa());return Tn(s,a,p,l),a.child}function Wb(s,a,l,h){var p=vp();return p=p===null?null:{parent:rn._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&bf(a,null),Ap(),Pb(a),s!==null&&_u(s,a,h,!0),null}function Vf(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Gp(s,a,l,h,p){return Qo(a),l=Cp(s,a,l,h,void 0,p),h=Ip(),s!==null&&!dn?(Op(s,a,p),Vr(s,a,p)):(se&&h&&hp(a),a.flags|=1,Tn(s,a,l,p),a.child)}function Kb(s,a,l,h,p,_){return Qo(a),a.updateQueue=null,l=Wv(a,h,l,p),Yv(s),h=Ip(),s!==null&&!dn?(Op(s,a,_),Vr(s,a,_)):(se&&h&&hp(a),a.flags|=1,Tn(s,a,l,_),a.child)}function Xb(s,a,l,h,p){if(Qo(a),a.stateNode===null){var _=We,S=l.contextType;typeof S=="object"&&S!==null&&(_=kn(S)),_=new l(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=qp,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},Ep(a),S=l.contextType,_.context=typeof S=="object"&&S!==null?kn(S):We,_.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Hp(a,l,S,h),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&qp.enqueueReplaceState(_,_.state,null),Su(a,h,_,p),wu(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){_=a.stateNode;var R=a.memoizedProps,U=tl(l,R);_.props=U;var tt=_.context,ot=l.contextType;S=We,typeof ot=="object"&&ot!==null&&(S=kn(ot));var ht=l.getDerivedStateFromProps;ot=typeof ht=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ot||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||tt!==S)&&Lb(a,_,h,S),Aa=!1;var et=a.memoizedState;_.state=et,Su(a,h,_,p),wu(),tt=a.memoizedState,R||et!==tt||Aa?(typeof ht=="function"&&(Hp(a,l,ht,h),tt=a.memoizedState),(U=Aa||Nb(a,l,U,h,et,tt,S))?(ot||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=tt),_.props=h,_.state=tt,_.context=S,h=U):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Tp(s,a),S=a.memoizedProps,ot=tl(l,S),_.props=ot,ht=a.pendingProps,et=_.context,tt=l.contextType,U=We,typeof tt=="object"&&tt!==null&&(U=kn(tt)),R=l.getDerivedStateFromProps,(tt=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==ht||et!==U)&&Lb(a,_,h,U),Aa=!1,et=a.memoizedState,_.state=et,Su(a,h,_,p),wu();var it=a.memoizedState;S!==ht||et!==it||Aa||s!==null&&s.dependencies!==null&&yf(s.dependencies)?(typeof R=="function"&&(Hp(a,l,R,h),it=a.memoizedState),(ot=Aa||Nb(a,l,ot,h,et,it,U)||s!==null&&s.dependencies!==null&&yf(s.dependencies))?(tt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,it,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,it,U)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&et===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&et===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=it),_.props=h,_.state=it,_.context=U,h=ot):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&et===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&et===s.memoizedState||(a.flags|=1024),h=!1)}return _=h,Vf(s,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&h?(a.child=Ql(a,s.child,null,p),a.child=Ql(a,null,l,p)):Tn(s,a,l,p),a.memoizedState=_.state,s=a.child):s=Vr(s,a,p),s}function Qb(s,a,l,h){return pu(),a.flags|=256,Tn(s,a,l,h),a.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(s){return{baseLanes:s,cachePool:Uv()}}function Kp(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=ts),s}function Zb(s,a,l){var h=a.pendingProps,p=!1,_=(a.flags&128)!==0,S;if((S=_)||(S=s!==null&&s.memoizedState===null?!1:(an.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(se){if(p?Ia(a):Oa(),se){var R=ze,U;if(U=R){t:{for(U=R,R=qs;U.nodeType!==8;){if(!R){R=null;break t}if(U=Rs(U.nextSibling),U===null){R=null;break t}}R=U}R!==null?(a.memoizedState={dehydrated:R,treeContext:Go!==null?{id:Dr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},U=ke(18,null,null,0),U.stateNode=R,U.return=a,a.child=U,Yn=a,ze=null,U=!0):U=!1}U||Ko(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Mm(R)?a.lanes=32:a.lanes=536870912,null;Lr(a)}return R=h.children,h=h.fallback,p?(Oa(),p=a.mode,R=Uf({mode:"hidden",children:R},p),h=Xi(h,p,l,null),R.return=a,h.return=a,R.sibling=h,a.child=R,p=a.child,p.memoizedState=Wp(l),p.childLanes=Kp(s,S,l),a.memoizedState=Yp,h):(Ia(a),Xp(a,R))}if(U=s.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(_)a.flags&256?(Ia(a),a.flags&=-257,a=Qp(s,a,l)):a.memoizedState!==null?(Oa(),a.child=s.child,a.flags|=128,a=null):(Oa(),p=h.fallback,R=a.mode,h=Uf({mode:"visible",children:h.children},R),p=Xi(p,R,l,null),p.flags|=2,h.return=a,p.return=a,h.sibling=p,a.child=h,Ql(a,s.child,null,l),h=a.child,h.memoizedState=Wp(l),h.childLanes=Kp(s,S,l),a.memoizedState=Yp,a=p);else if(Ia(a),Mm(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var tt=S.dgst;S=tt,h=Error(i(419)),h.stack="",h.digest=S,mu({value:h,source:null,stack:null}),a=Qp(s,a,l)}else if(dn||_u(s,a,l,!1),S=(l&s.childLanes)!==0,dn||S){if(S=be,S!==null&&(h=l&-l,h=(h&42)!==0?1:_s(h),h=(h&(S.suspendedLanes|l))!==0?0:h,h!==0&&h!==U.retryLane))throw U.retryLane=h,Ut(s,h),Ni(S,s,h),Hb;R.data==="$?"||pm(),a=Qp(s,a,l)}else R.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=U.treeContext,ze=Rs(R.nextSibling),Yn=a,se=!0,Wo=null,qs=!1,s!==null&&(Qi[Zi++]=Dr,Qi[Zi++]=Mr,Qi[Zi++]=Go,Dr=s.id,Mr=s.overflow,Go=a),a=Xp(a,h.children),a.flags|=4096);return a}return p?(Oa(),p=h.fallback,R=a.mode,U=s.child,tt=U.sibling,h=En(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&65011712,tt!==null?p=En(tt,p):(p=Xi(p,R,l,null),p.flags|=2),p.return=a,h.return=a,h.sibling=p,a.child=h,h=p,p=a.child,R=s.child.memoizedState,R===null?R=Wp(l):(U=R.cachePool,U!==null?(tt=rn._currentValue,U=U.parent!==tt?{parent:tt,pool:tt}:U):U=Uv(),R={baseLanes:R.baseLanes|l,cachePool:U}),p.memoizedState=R,p.childLanes=Kp(s,S,l),a.memoizedState=Yp,h):(Ia(a),l=s.child,s=l.sibling,l=En(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function Xp(s,a){return a=Uf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Uf(s,a){return s=ke(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Qp(s,a,l){return Ql(a,s.child,null,l),s=Xp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Jb(s,a,l){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),pp(s.return,a,l)}function Zp(s,a,l,h,p){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=p)}function t0(s,a,l){var h=a.pendingProps,p=h.revealOrder,_=h.tail;if(Tn(s,a,h.children,l),h=an.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Jb(s,l,a);else if(s.tag===19)Jb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(q(an,h),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Pf(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Zp(a,!1,p,l,_);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Pf(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Zp(a,!0,l,null,_);break;case"together":Zp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Vr(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Na|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(_u(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=En(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=En(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Jp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&yf(s)))}function tC(s,a,l){switch(a.tag){case 3:jt(a,a.stateNode.containerInfo),Sa(a,rn,s.memoizedState.cache),pu();break;case 27:case 5:Xn(a);break;case 4:jt(a,a.stateNode.containerInfo);break;case 10:Sa(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ia(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Zb(s,a,l):(Ia(a),s=Vr(s,a,l),s!==null?s.sibling:null);Ia(a);break;case 19:var p=(s.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(_u(s,a,l,!1),h=(l&a.childLanes)!==0),p){if(h)return t0(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),q(an,an.current),h)break;return null;case 22:case 23:return a.lanes=0,Yb(s,a,l);case 24:Sa(a,rn,s.memoizedState.cache)}return Vr(s,a,l)}function e0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)dn=!0;else{if(!Jp(s,l)&&(a.flags&128)===0)return dn=!1,tC(s,a,l);dn=(s.flags&131072)!==0}else dn=!1,se&&(a.flags&1048576)!==0&&Dv(a,_f,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var h=a.elementType,p=h._init;if(h=p(h._payload),a.type=h,typeof h=="function")Oi(h)?(s=tl(h,s),a.tag=1,a=Xb(null,a,h,s,l)):(a.tag=0,a=Gp(null,a,h,s,l));else{if(h!=null){if(p=h.$$typeof,p===K){a.tag=11,a=qb(null,a,h,s,l);break t}else if(p===P){a.tag=14,a=$b(null,a,h,s,l);break t}}throw a=Dt(h)||h,Error(i(306,a,""))}}return a;case 0:return Gp(s,a,a.type,a.pendingProps,l);case 1:return h=a.type,p=tl(h,a.pendingProps),Xb(s,a,h,p,l);case 3:t:{if(jt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;p=_.element,Tp(s,a),Su(a,h,null,l);var S=a.memoizedState;if(h=S.cache,Sa(a,rn,h),h!==_.cache&&mp(a,[rn],l,!0),wu(),h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Qb(s,a,h,l);break t}else if(h!==p){p=j(Error(i(424)),a),mu(p),a=Qb(s,a,h,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ze=Rs(s.firstChild),Yn=a,se=!0,Wo=null,qs=!0,l=kb(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pu(),h===p){a=Vr(s,a,l);break t}Tn(s,a,h,l)}a=a.child}return a;case 26:return Vf(s,a),s===null?(l=rE(a.type,null,a.pendingProps,null))?a.memoizedState=l:se||(l=a.type,s=a.pendingProps,h=Zf(wt.current).createElement(l),h[Be]=a,h[ge]=s,Sn(h,l,s),De(h),a.stateNode=h):a.memoizedState=rE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Xn(a),s===null&&se&&(h=a.stateNode=nE(a.type,a.pendingProps,wt.current),Yn=a,qs=!0,p=ze,za(a.type)?(km=p,ze=Rs(h.firstChild)):ze=p),Tn(s,a,a.pendingProps.children,l),Vf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&se&&((p=h=ze)&&(h=CC(h,a.type,a.pendingProps,qs),h!==null?(a.stateNode=h,Yn=a,ze=Rs(h.firstChild),qs=!1,p=!0):p=!1),p||Ko(a)),Xn(a),p=a.type,_=a.pendingProps,S=s!==null?s.memoizedProps:null,h=_.children,Im(p,_)?h=null:S!==null&&Im(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=Cp(s,a,GR,null,null,l),Gu._currentValue=p),Vf(s,a),Tn(s,a,h,l),a.child;case 6:return s===null&&se&&((s=l=ze)&&(l=IC(l,a.pendingProps,qs),l!==null?(a.stateNode=l,Yn=a,ze=null,s=!0):s=!1),s||Ko(a)),null;case 13:return Zb(s,a,l);case 4:return jt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Ql(a,null,h,l):Tn(s,a,h,l),a.child;case 11:return qb(s,a,a.type,a.pendingProps,l);case 7:return Tn(s,a,a.pendingProps,l),a.child;case 8:return Tn(s,a,a.pendingProps.children,l),a.child;case 12:return Tn(s,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Sa(a,a.type,h.value),Tn(s,a,h.children,l),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,Qo(a),p=kn(p),h=h(p),a.flags|=1,Tn(s,a,h,l),a.child;case 14:return $b(s,a,a.type,a.pendingProps,l);case 15:return Gb(s,a,a.type,a.pendingProps,l);case 19:return t0(s,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},s===null?(l=Uf(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=En(s.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Yb(s,a,l);case 24:return Qo(a),h=kn(rn),s===null?(p=vp(),p===null&&(p=be,_=_p(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),a.memoizedState={parent:h,cache:p},Ep(a),Sa(a,rn,p)):((s.lanes&l)!==0&&(Tp(s,a),Su(a,null,null,l),wu()),p=s.memoizedState,_=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Sa(a,rn,h)):(h=_.cache,Sa(a,rn,h),h!==p.cache&&mp(a,[rn],l,!0))),Tn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ur(s){s.flags|=4}function n0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uE(a)){if(a=Ji.current,a!==null&&((Qt&4194048)===Qt?$s!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||a!==$s))throw Eu=bp,zv;s.flags|=8192}}function zf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?xo():536870912,s.lanes|=a,ec|=a)}function Du(s,a){if(!se)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Pe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,a}function eC(s,a,l){var h=a.pendingProps;switch(fp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(a),null;case 1:return Pe(a),null;case 3:return l=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Pr(rn),_e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(gu(a)?Ur(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Pv())),Pe(a),null;case 26:return l=a.memoizedState,s===null?(Ur(a),l!==null?(Pe(a),n0(a,l)):(Pe(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Ur(a),Pe(a),n0(a,l)):(Pe(a),a.flags&=-16777217):(s.memoizedProps!==h&&Ur(a),Pe(a),a.flags&=-16777217),null;case 27:bt(a),l=wt.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ur(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}s=yt.current,gu(a)?Mv(a):(s=nE(p,h,l),a.stateNode=s,Ur(a))}return Pe(a),null;case 5:if(bt(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ur(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}if(s=yt.current,gu(a))Mv(a);else{switch(p=Zf(wt.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}s[Be]=a,s[ge]=h;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(Sn(s,l,h),l){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ur(a)}}return Pe(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ur(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=wt.current,gu(a)){if(s=a.stateNode,l=a.memoizedProps,h=null,p=Yn,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}s[Be]=a,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||K0(s.nodeValue,l)),s||Ko(a)}else s=Zf(s).createTextNode(h),s[Be]=a,a.stateNode=s}return Pe(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=gu(a),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Be]=a}else pu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),p=!1}else p=Pv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Lr(a),a):(Lr(a),null)}if(Lr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,s=s!==null&&s.memoizedState!==null,l){h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),zf(a,a.updateQueue),Pe(a),null;case 4:return _e(),s===null&&Sm(a.stateNode.containerInfo),Pe(a),null;case 10:return Pr(a.type),Pe(a),null;case 19:if(gt(an),p=a.memoizedState,p===null)return Pe(a),null;if(h=(a.flags&128)!==0,_=p.rendering,_===null)if(h)Du(p,!1);else{if(je!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Pf(s),_!==null){for(a.flags|=128,Du(p,!1),s=_.updateQueue,a.updateQueue=s,zf(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)ui(l,s),l=l.sibling;return q(an,an.current&1|2),a.child}s=s.sibling}p.tail!==null&&un()>Ff&&(a.flags|=128,h=!0,Du(p,!1),a.lanes=4194304)}else{if(!h)if(s=Pf(_),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,zf(a,s),Du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!se)return Pe(a),null}else 2*un()-p.renderingStartTime>Ff&&l!==536870912&&(a.flags|=128,h=!0,Du(p,!1),a.lanes=4194304);p.isBackwards?(_.sibling=a.child,a.child=_):(s=p.last,s!==null?s.sibling=_:a.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=un(),a.sibling=null,s=an.current,q(an,h?s&1|2:s&1),a):(Pe(a),null);case 22:case 23:return Lr(a),xp(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Pe(a),a.subtreeFlags&6&&(a.flags|=8192)):Pe(a),l=a.updateQueue,l!==null&&zf(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),s!==null&&gt(Zo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Pr(rn),Pe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function nC(s,a){switch(fp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Pr(rn),_e(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return bt(a),null;case 13:if(Lr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));pu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return gt(an),null;case 4:return _e(),null;case 10:return Pr(a.type),null;case 22:case 23:return Lr(a),xp(),s!==null&&gt(Zo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Pr(rn),null;case 25:return null;default:return null}}function i0(s,a){switch(fp(a),a.tag){case 3:Pr(rn),_e();break;case 26:case 27:case 5:bt(a);break;case 4:_e();break;case 13:Lr(a);break;case 19:gt(an);break;case 10:Pr(a.type);break;case 22:case 23:Lr(a),xp(),s!==null&&gt(Zo);break;case 24:Pr(rn)}}function Mu(s,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&s)===s){h=void 0;var _=l.create,S=l.inst;h=_(),S.destroy=h}l=l.next}while(l!==p)}}catch(R){pe(a,a.return,R)}}function Da(s,a,l){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&s)===s){var S=h.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,p=a;var U=l,tt=R;try{tt()}catch(ot){pe(p,U,ot)}}}h=h.next}while(h!==_)}}catch(ot){pe(a,a.return,ot)}}function s0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{$v(a,l)}catch(h){pe(s,s.return,h)}}}function r0(s,a,l){l.props=tl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){pe(s,a,h)}}function ku(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof l=="function"?s.refCleanup=l(h):l.current=h}}catch(p){pe(s,a,p)}}function Gs(s,a){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){pe(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){pe(s,a,p)}else l.current=null}function a0(s){var a=s.type,l=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){pe(s,s.return,p)}}function tm(s,a,l){try{var h=s.stateNode;wC(h,s.type,l,a),h[ge]=a}catch(p){pe(s,s.return,p)}}function o0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&za(s.type)||s.tag===4}function em(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||o0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&za(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nm(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Qf));else if(h!==4&&(h===27&&za(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(nm(s,a,l),s=s.sibling;s!==null;)nm(s,a,l),s=s.sibling}function jf(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(h!==4&&(h===27&&za(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(jf(s,a,l),s=s.sibling;s!==null;)jf(s,a,l),s=s.sibling}function l0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var h=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Sn(a,h,l),a[Be]=s,a[ge]=l}catch(_){pe(s,s.return,_)}}var zr=!1,He=!1,im=!1,c0=typeof WeakSet=="function"?WeakSet:Set,gn=null;function iC(s,a){if(s=s.containerInfo,Rm=sd,s=Fs(s),Fl(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var S=0,R=-1,U=-1,tt=0,ot=0,ht=s,et=null;e:for(;;){for(var it;ht!==l||p!==0&&ht.nodeType!==3||(R=S+p),ht!==_||h!==0&&ht.nodeType!==3||(U=S+h),ht.nodeType===3&&(S+=ht.nodeValue.length),(it=ht.firstChild)!==null;)et=ht,ht=it;for(;;){if(ht===s)break e;if(et===l&&++tt===p&&(R=S),et===_&&++ot===h&&(U=S),(it=ht.nextSibling)!==null)break;ht=et,et=ht.parentNode}ht=it}l=R===-1||U===-1?null:{start:R,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cm={focusedElem:s,selectionRange:l},sd=!1,gn=a;gn!==null;)if(a=gn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,gn=s;else for(;gn!==null;){switch(a=gn,_=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=a,p=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Nt=tl(l.type,p,l.elementType===l.type);s=h.getSnapshotBeforeUpdate(Nt,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(Ot){pe(l,l.return,Ot)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Dm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Dm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,gn=s;break}gn=a.return}}function u0(s,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ma(s,l),h&4&&Mu(5,l);break;case 1:if(Ma(s,l),h&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){pe(l,l.return,S)}else{var p=tl(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){pe(l,l.return,S)}}h&64&&s0(l),h&512&&ku(l,l.return);break;case 3:if(Ma(s,l),h&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{$v(s,a)}catch(S){pe(l,l.return,S)}}break;case 27:a===null&&h&4&&l0(l);case 26:case 5:Ma(s,l),a===null&&h&4&&a0(l),h&512&&ku(l,l.return);break;case 12:Ma(s,l);break;case 13:Ma(s,l),h&4&&d0(s,l),h&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=fC.bind(null,l),OC(s,l))));break;case 22:if(h=l.memoizedState!==null||zr,!h){a=a!==null&&a.memoizedState!==null||He,p=zr;var _=He;zr=h,(He=a)&&!_?ka(s,l,(l.subtreeFlags&8772)!==0):Ma(s,l),zr=p,He=_}break;case 30:break;default:Ma(s,l)}}function h0(s){var a=s.alternate;a!==null&&(s.alternate=null,h0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Bi(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ie=null,fi=!1;function jr(s,a,l){for(l=l.child;l!==null;)f0(s,a,l),l=l.sibling}function f0(s,a,l){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(de,l)}catch{}switch(l.tag){case 26:He||Gs(l,a),jr(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:He||Gs(l,a);var h=Ie,p=fi;za(l.type)&&(Ie=l.stateNode,fi=!1),jr(s,a,l),Fu(l.stateNode),Ie=h,fi=p;break;case 5:He||Gs(l,a);case 6:if(h=Ie,p=fi,Ie=null,jr(s,a,l),Ie=h,fi=p,Ie!==null)if(fi)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(l.stateNode)}catch(_){pe(l,a,_)}else try{Ie.removeChild(l.stateNode)}catch(_){pe(l,a,_)}break;case 18:Ie!==null&&(fi?(s=Ie,tE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Xu(s)):tE(Ie,l.stateNode));break;case 4:h=Ie,p=fi,Ie=l.stateNode.containerInfo,fi=!0,jr(s,a,l),Ie=h,fi=p;break;case 0:case 11:case 14:case 15:He||Da(2,l,a),He||Da(4,l,a),jr(s,a,l);break;case 1:He||(Gs(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&r0(l,a,h)),jr(s,a,l);break;case 21:jr(s,a,l);break;case 22:He=(h=He)||l.memoizedState!==null,jr(s,a,l),He=h;break;default:jr(s,a,l)}}function d0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xu(s)}catch(l){pe(a,a.return,l)}}function sC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new c0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new c0),a;default:throw Error(i(435,s.tag))}}function sm(s,a){var l=sC(s);a.forEach(function(h){var p=dC.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}function Di(s,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],_=s,S=a,R=S;t:for(;R!==null;){switch(R.tag){case 27:if(za(R.type)){Ie=R.stateNode,fi=!1;break t}break;case 5:Ie=R.stateNode,fi=!1;break t;case 3:case 4:Ie=R.stateNode.containerInfo,fi=!0;break t}R=R.return}if(Ie===null)throw Error(i(160));f0(_,S,p),Ie=null,fi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)g0(a,s),a=a.sibling}var xs=null;function g0(s,a){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Di(a,s),Mi(s),h&4&&(Da(3,s,s.return),Mu(3,s),Da(5,s,s.return));break;case 1:Di(a,s),Mi(s),h&512&&(He||l===null||Gs(l,l.return)),h&64&&zr&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=xs;if(Di(a,s),Mi(s),h&512&&(He||l===null||Gs(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){t:{h=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[gr]||_[Be]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),Sn(_,h,l),_[Be]=s,De(_),h=_;break t;case"link":var S=lE("link","href",p).get(h+(l.href||""));if(S){for(var R=0;R<S.length;R++)if(_=S[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(R,1);break e}}_=p.createElement(h),Sn(_,h,l),p.head.appendChild(_);break;case"meta":if(S=lE("meta","content",p).get(h+(l.content||""))){for(R=0;R<S.length;R++)if(_=S[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(R,1);break e}}_=p.createElement(h),Sn(_,h,l),p.head.appendChild(_);break;default:throw Error(i(468,h))}_[Be]=s,De(_),h=_}s.stateNode=h}else cE(p,s.type,s.stateNode);else s.stateNode=oE(p,h,s.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?cE(p,s.type,s.stateNode):oE(p,h,s.memoizedProps)):h===null&&s.stateNode!==null&&tm(s,s.memoizedProps,l.memoizedProps)}break;case 27:Di(a,s),Mi(s),h&512&&(He||l===null||Gs(l,l.return)),l!==null&&h&4&&tm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Di(a,s),Mi(s),h&512&&(He||l===null||Gs(l,l.return)),s.flags&32){p=s.stateNode;try{jn(p,"")}catch(it){pe(s,s.return,it)}}h&4&&s.stateNode!=null&&(p=s.memoizedProps,tm(s,p,l!==null?l.memoizedProps:p)),h&1024&&(im=!0);break;case 6:if(Di(a,s),Mi(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(it){pe(s,s.return,it)}}break;case 3:if(ed=null,p=xs,xs=Jf(a.containerInfo),Di(a,s),xs=p,Mi(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xu(a.containerInfo)}catch(it){pe(s,s.return,it)}im&&(im=!1,p0(s));break;case 4:h=xs,xs=Jf(s.stateNode.containerInfo),Di(a,s),Mi(s),xs=h;break;case 12:Di(a,s),Mi(s);break;case 13:Di(a,s),Mi(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(um=un()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,sm(s,h)));break;case 22:p=s.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,tt=zr,ot=He;if(zr=tt||p,He=ot||U,Di(a,s),He=ot,zr=tt,Mi(s),h&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||U||zr||He||el(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(_=U.stateNode,p)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=U.stateNode;var ht=U.memoizedProps.style,et=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;R.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(it){pe(U,U.return,it)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(it){pe(U,U.return,it)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,sm(s,l))));break;case 19:Di(a,s),Mi(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,sm(s,h)));break;case 30:break;case 21:break;default:Di(a,s),Mi(s)}}function Mi(s){var a=s.flags;if(a&2){try{for(var l,h=s.return;h!==null;){if(o0(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,_=em(s);jf(s,_,p);break;case 5:var S=l.stateNode;l.flags&32&&(jn(S,""),l.flags&=-33);var R=em(s);jf(s,R,S);break;case 3:case 4:var U=l.stateNode.containerInfo,tt=em(s);nm(s,tt,U);break;default:throw Error(i(161))}}catch(ot){pe(s,s.return,ot)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function p0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;p0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ma(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)u0(s,a.alternate,a),a=a.sibling}function el(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Da(4,a,a.return),el(a);break;case 1:Gs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&r0(a,a.return,l),el(a);break;case 27:Fu(a.stateNode);case 26:case 5:Gs(a,a.return),el(a);break;case 22:a.memoizedState===null&&el(a);break;case 30:el(a);break;default:el(a)}s=s.sibling}}function ka(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=s,_=a,S=_.flags;switch(_.tag){case 0:case 11:case 15:ka(p,_,l),Mu(4,_);break;case 1:if(ka(p,_,l),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(tt){pe(h,h.return,tt)}if(h=_,p=h.updateQueue,p!==null){var R=h.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)qv(U[p],R)}catch(tt){pe(h,h.return,tt)}}l&&S&64&&s0(_),ku(_,_.return);break;case 27:l0(_);case 26:case 5:ka(p,_,l),l&&h===null&&S&4&&a0(_),ku(_,_.return);break;case 12:ka(p,_,l);break;case 13:ka(p,_,l),l&&S&4&&d0(p,_);break;case 22:_.memoizedState===null&&ka(p,_,l),ku(_,_.return);break;case 30:break;default:ka(p,_,l)}a=a.sibling}}function rm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&yu(l))}function am(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&yu(s))}function Ys(s,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)m0(s,a,l,h),a=a.sibling}function m0(s,a,l,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ys(s,a,l,h),p&2048&&Mu(9,a);break;case 1:Ys(s,a,l,h);break;case 3:Ys(s,a,l,h),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&yu(s)));break;case 12:if(p&2048){Ys(s,a,l,h),s=a.stateNode;try{var _=a.memoizedProps,S=_.id,R=_.onPostCommit;typeof R=="function"&&R(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){pe(a,a.return,U)}}else Ys(s,a,l,h);break;case 13:Ys(s,a,l,h);break;case 23:break;case 22:_=a.stateNode,S=a.alternate,a.memoizedState!==null?_._visibility&2?Ys(s,a,l,h):Pu(s,a):_._visibility&2?Ys(s,a,l,h):(_._visibility|=2,Zl(s,a,l,h,(a.subtreeFlags&10256)!==0)),p&2048&&rm(S,a);break;case 24:Ys(s,a,l,h),p&2048&&am(a.alternate,a);break;default:Ys(s,a,l,h)}}function Zl(s,a,l,h,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=s,S=a,R=l,U=h,tt=S.flags;switch(S.tag){case 0:case 11:case 15:Zl(_,S,R,U,p),Mu(8,S);break;case 23:break;case 22:var ot=S.stateNode;S.memoizedState!==null?ot._visibility&2?Zl(_,S,R,U,p):Pu(_,S):(ot._visibility|=2,Zl(_,S,R,U,p)),p&&tt&2048&&rm(S.alternate,S);break;case 24:Zl(_,S,R,U,p),p&&tt&2048&&am(S.alternate,S);break;default:Zl(_,S,R,U,p)}a=a.sibling}}function Pu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,h=a,p=h.flags;switch(h.tag){case 22:Pu(l,h),p&2048&&rm(h.alternate,h);break;case 24:Pu(l,h),p&2048&&am(h.alternate,h);break;default:Pu(l,h)}a=a.sibling}}var Nu=8192;function Jl(s){if(s.subtreeFlags&Nu)for(s=s.child;s!==null;)_0(s),s=s.sibling}function _0(s){switch(s.tag){case 26:Jl(s),s.flags&Nu&&s.memoizedState!==null&&HC(xs,s.memoizedState,s.memoizedProps);break;case 5:Jl(s);break;case 3:case 4:var a=xs;xs=Jf(s.stateNode.containerInfo),Jl(s),xs=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Nu,Nu=16777216,Jl(s),Nu=a):Jl(s));break;default:Jl(s)}}function y0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Lu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];gn=h,b0(h,s)}y0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)v0(s),s=s.sibling}function v0(s){switch(s.tag){case 0:case 11:case 15:Lu(s),s.flags&2048&&Da(9,s,s.return);break;case 3:Lu(s);break;case 12:Lu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Bf(s)):Lu(s);break;default:Lu(s)}}function Bf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];gn=h,b0(h,s)}y0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Da(8,a,a.return),Bf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Bf(a));break;default:Bf(a)}s=s.sibling}}function b0(s,a){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:Da(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,gn=h;else t:for(l=s;gn!==null;){h=gn;var p=h.sibling,_=h.return;if(h0(h),h===l){gn=null;break t}if(p!==null){p.return=_,gn=p;break t}gn=_}}}var rC={getCacheForType:function(s){var a=kn(rn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},aC=typeof WeakMap=="function"?WeakMap:Map,oe=0,be=null,Gt=null,Qt=0,le=0,ki=null,Pa=!1,tc=!1,om=!1,Br=0,je=0,Na=0,nl=0,lm=0,ts=0,ec=0,Vu=null,di=null,cm=!1,um=0,Ff=1/0,Hf=null,La=null,wn=0,Va=null,nc=null,ic=0,hm=0,fm=null,E0=null,Uu=0,dm=null;function Pi(){if((oe&2)!==0&&Qt!==0)return Qt&-Qt;if(Z.T!==null){var s=ql;return s!==0?s:bm()}return ks()}function T0(){ts===0&&(ts=(Qt&536870912)===0||se?Ao():536870912);var s=Ji.current;return s!==null&&(s.flags|=32),ts}function Ni(s,a,l){(s===be&&(le===2||le===9)||s.cancelPendingCommit!==null)&&(sc(s,0),Ua(s,Qt,ts,!1)),ms(s,l),((oe&2)===0||s!==be)&&(s===be&&((oe&2)===0&&(nl|=l),je===4&&Ua(s,Qt,ts,!1)),Ws(s))}function w0(s,a,l){if((oe&6)!==0)throw Error(i(327));var h=!l&&(a&124)===0&&(a&s.expiredLanes)===0||gs(s,a),p=h?cC(s,a):mm(s,a,!0),_=h;do{if(p===0){tc&&!h&&Ua(s,a,0,!1);break}else{if(l=s.current.alternate,_&&!oC(l)){p=mm(s,a,!1),_=!1;continue}if(p===2){if(_=a,s.errorRecoveryDisabledLanes&_)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var R=s;p=Vu;var U=R.current.memoizedState.isDehydrated;if(U&&(sc(R,S).flags|=256),S=mm(R,S,!1),S!==2){if(om&&!U){R.errorRecoveryDisabledLanes|=_,nl|=_,p=4;break t}_=di,di=p,_!==null&&(di===null?di=_:di.push.apply(di,_))}p=S}if(_=!1,p!==2)continue}}if(p===1){sc(s,0),Ua(s,a,0,!0);break}t:{switch(h=s,_=p,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ua(h,a,ts,!Pa);break t;case 2:di=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=um+300-un(),10<p)){if(Ua(h,a,ts,!Pa),oa(h,0,!0)!==0)break t;h.timeoutHandle=Z0(S0.bind(null,h,l,di,Hf,cm,a,ts,nl,ec,Pa,_,2,-0,0),p);break t}S0(h,l,di,Hf,cm,a,ts,nl,ec,Pa,_,0,-0,0)}}break}while(!0);Ws(s)}function S0(s,a,l,h,p,_,S,R,U,tt,ot,ht,et,it){if(s.timeoutHandle=-1,ht=a.subtreeFlags,(ht&8192||(ht&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:FC},_0(a),ht=qC(),ht!==null)){s.cancelPendingCommit=ht(D0.bind(null,s,a,_,l,h,p,S,R,U,ot,1,et,it)),Ua(s,_,S,!tt);return}D0(s,a,_,l,h,p,S,R,U)}function oC(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],_=p.getSnapshot;p=p.value;try{if(!Mn(_(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ua(s,a,l,h){a&=~lm,a&=~nl,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var p=a;0<p;){var _=31-tn(p),S=1<<_;h[_]=-1,p&=~S}l!==0&&wi(s,l,a)}function qf(){return(oe&6)===0?(zu(0),!1):!0}function gm(){if(Gt!==null){if(le===0)var s=Gt.return;else s=Gt,kr=Xo=null,Dp(s),Xl=null,Iu=0,s=Gt;for(;s!==null;)i0(s.alternate,s),s=s.return;Gt=null}}function sc(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,AC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),gm(),be=s,Gt=l=En(s.current,null),Qt=a,le=0,ki=null,Pa=!1,tc=gs(s,a),om=!1,ec=ts=lm=nl=Na=je=0,di=Vu=null,cm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var p=31-tn(h),_=1<<p;a|=s[p],h&=~_}return Br=a,at(),l}function A0(s,a){Bt=null,Z.H=Df,a===bu||a===Ef?(a=Fv(),le=3):a===zv?(a=Fv(),le=4):le=a===Hb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ki=a,Gt===null&&(je=1,Lf(s,j(a,s.current)))}function x0(){var s=Z.H;return Z.H=Df,s===null?Df:s}function R0(){var s=Z.A;return Z.A=rC,s}function pm(){je=4,Pa||(Qt&4194048)!==Qt&&Ji.current!==null||(tc=!0),(Na&134217727)===0&&(nl&134217727)===0||be===null||Ua(be,Qt,ts,!1)}function mm(s,a,l){var h=oe;oe|=2;var p=x0(),_=R0();(be!==s||Qt!==a)&&(Hf=null,sc(s,a)),a=!1;var S=je;t:do try{if(le!==0&&Gt!==null){var R=Gt,U=ki;switch(le){case 8:gm(),S=6;break t;case 3:case 2:case 9:case 6:Ji.current===null&&(a=!0);var tt=le;if(le=0,ki=null,rc(s,R,U,tt),l&&tc){S=0;break t}break;default:tt=le,le=0,ki=null,rc(s,R,U,tt)}}lC(),S=je;break}catch(ot){A0(s,ot)}while(!0);return a&&s.shellSuspendCounter++,kr=Xo=null,oe=h,Z.H=p,Z.A=_,Gt===null&&(be=null,Qt=0,at()),S}function lC(){for(;Gt!==null;)C0(Gt)}function cC(s,a){var l=oe;oe|=2;var h=x0(),p=R0();be!==s||Qt!==a?(Hf=null,Ff=un()+500,sc(s,a)):tc=gs(s,a);t:do try{if(le!==0&&Gt!==null){a=Gt;var _=ki;e:switch(le){case 1:le=0,ki=null,rc(s,a,_,1);break;case 2:case 9:if(jv(_)){le=0,ki=null,I0(a);break}a=function(){le!==2&&le!==9||be!==s||(le=7),Ws(s)},_.then(a,a);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:jv(_)?(le=0,ki=null,I0(a)):(le=0,ki=null,rc(s,a,_,7));break;case 5:var S=null;switch(Gt.tag){case 26:S=Gt.memoizedState;case 5:case 27:var R=Gt;if(!S||uE(S)){le=0,ki=null;var U=R.sibling;if(U!==null)Gt=U;else{var tt=R.return;tt!==null?(Gt=tt,$f(tt)):Gt=null}break e}}le=0,ki=null,rc(s,a,_,5);break;case 6:le=0,ki=null,rc(s,a,_,6);break;case 8:gm(),je=6;break t;default:throw Error(i(462))}}uC();break}catch(ot){A0(s,ot)}while(!0);return kr=Xo=null,Z.H=h,Z.A=p,oe=l,Gt!==null?0:(be=null,Qt=0,at(),je)}function uC(){for(;Gt!==null&&!hr();)C0(Gt)}function C0(s){var a=e0(s.alternate,s,Br);s.memoizedProps=s.pendingProps,a===null?$f(s):Gt=a}function I0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Kb(l,a,a.pendingProps,a.type,void 0,Qt);break;case 11:a=Kb(l,a,a.pendingProps,a.type.render,a.ref,Qt);break;case 5:Dp(a);default:i0(l,a),a=Gt=ui(a,Br),a=e0(l,a,Br)}s.memoizedProps=s.pendingProps,a===null?$f(s):Gt=a}function rc(s,a,l,h){kr=Xo=null,Dp(a),Xl=null,Iu=0;var p=a.return;try{if(JR(s,p,a,l,Qt)){je=1,Lf(s,j(l,s.current)),Gt=null;return}}catch(_){if(p!==null)throw Gt=p,_;je=1,Lf(s,j(l,s.current)),Gt=null;return}a.flags&32768?(se||h===1?s=!0:tc||(Qt&536870912)!==0?s=!1:(Pa=s=!0,(h===2||h===9||h===3||h===6)&&(h=Ji.current,h!==null&&h.tag===13&&(h.flags|=16384))),O0(a,s)):$f(a)}function $f(s){var a=s;do{if((a.flags&32768)!==0){O0(a,Pa);return}s=a.return;var l=eC(a.alternate,a,Br);if(l!==null){Gt=l;return}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=s}while(a!==null);je===0&&(je=5)}function O0(s,a){do{var l=nC(s.alternate,s);if(l!==null){l.flags&=32767,Gt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Gt=s;return}Gt=s=l}while(s!==null);je=6,Gt=null}function D0(s,a,l,h,p,_,S,R,U){s.cancelPendingCommit=null;do Gf();while(wn!==0);if((oe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=F,Ro(s,l,_,S,R,U),s===be&&(Gt=be=null,Qt=0),nc=a,Va=s,ic=l,hm=_,fm=p,E0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gC(Jn,function(){return L0(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Z.T,Z.T=null,p=ct.p,ct.p=2,S=oe,oe|=4;try{iC(s,a,l)}finally{oe=S,ct.p=p,Z.T=h}}wn=1,M0(),k0(),P0()}}function M0(){if(wn===1){wn=0;var s=Va,a=nc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var h=ct.p;ct.p=2;var p=oe;oe|=4;try{g0(a,s);var _=Cm,S=Fs(s.containerInfo),R=_.focusedElem,U=_.selectionRange;if(S!==R&&R&&R.ownerDocument&&cu(R.ownerDocument.documentElement,R)){if(U!==null&&Fl(R)){var tt=U.start,ot=U.end;if(ot===void 0&&(ot=tt),"selectionStart"in R)R.selectionStart=tt,R.selectionEnd=Math.min(ot,R.value.length);else{var ht=R.ownerDocument||document,et=ht&&ht.defaultView||window;if(et.getSelection){var it=et.getSelection(),Nt=R.textContent.length,Ot=Math.min(U.start,Nt),fe=U.end===void 0?Ot:Math.min(U.end,Nt);!it.extend&&Ot>fe&&(S=fe,fe=Ot,Ot=S);var W=Bl(R,Ot),$=Bl(R,fe);if(W&&$&&(it.rangeCount!==1||it.anchorNode!==W.node||it.anchorOffset!==W.offset||it.focusNode!==$.node||it.focusOffset!==$.offset)){var J=ht.createRange();J.setStart(W.node,W.offset),it.removeAllRanges(),Ot>fe?(it.addRange(J),it.extend($.node,$.offset)):(J.setEnd($.node,$.offset),it.addRange(J))}}}}for(ht=[],it=R;it=it.parentNode;)it.nodeType===1&&ht.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ht.length;R++){var lt=ht[R];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}sd=!!Rm,Cm=Rm=null}finally{oe=p,ct.p=h,Z.T=l}}s.current=a,wn=2}}function k0(){if(wn===2){wn=0;var s=Va,a=nc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var h=ct.p;ct.p=2;var p=oe;oe|=4;try{u0(s,a.alternate,a)}finally{oe=p,ct.p=h,Z.T=l}}wn=3}}function P0(){if(wn===4||wn===3){wn=0,Ei();var s=Va,a=nc,l=ic,h=E0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?wn=5:(wn=0,nc=Va=null,N0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(La=null),dr(l),a=a.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(de,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Z.T,p=ct.p,ct.p=2,Z.T=null;try{for(var _=s.onRecoverableError,S=0;S<h.length;S++){var R=h[S];_(R.value,{componentStack:R.stack})}}finally{Z.T=a,ct.p=p}}(ic&3)!==0&&Gf(),Ws(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===dm?Uu++:(Uu=0,dm=s):Uu=0,zu(0)}}function N0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,yu(a)))}function Gf(s){return M0(),k0(),P0(),L0()}function L0(){if(wn!==5)return!1;var s=Va,a=hm;hm=0;var l=dr(ic),h=Z.T,p=ct.p;try{ct.p=32>l?32:l,Z.T=null,l=fm,fm=null;var _=Va,S=ic;if(wn=0,nc=Va=null,ic=0,(oe&6)!==0)throw Error(i(331));var R=oe;if(oe|=4,v0(_.current),m0(_,_.current,S,l),oe=R,zu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(de,_)}catch{}return!0}finally{ct.p=p,Z.T=h,N0(s,a)}}function V0(s,a,l){a=j(l,a),a=$p(s.stateNode,a,2),s=Ra(s,a,2),s!==null&&(ms(s,2),Ws(s))}function pe(s,a,l){if(s.tag===3)V0(s,s,l);else for(;a!==null;){if(a.tag===3){V0(a,s,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(La===null||!La.has(h))){s=j(l,s),l=Bb(2),h=Ra(a,l,2),h!==null&&(Fb(l,h,a,s),ms(h,2),Ws(h));break}}a=a.return}}function _m(s,a,l){var h=s.pingCache;if(h===null){h=s.pingCache=new aC;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(l)||(om=!0,p.add(l),s=hC.bind(null,s,a,l),a.then(s,s))}function hC(s,a,l){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,be===s&&(Qt&l)===l&&(je===4||je===3&&(Qt&62914560)===Qt&&300>un()-um?(oe&2)===0&&sc(s,0):lm|=l,ec===Qt&&(ec=0)),Ws(s)}function U0(s,a){a===0&&(a=xo()),s=Ut(s,a),s!==null&&(ms(s,a),Ws(s))}function fC(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),U0(s,l)}function dC(s,a){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),U0(s,l)}function gC(s,a){return bi(s,a)}var Yf=null,ac=null,ym=!1,Wf=!1,vm=!1,il=0;function Ws(s){s!==ac&&s.next===null&&(ac===null?Yf=ac=s:ac=ac.next=s),Wf=!0,ym||(ym=!0,mC())}function zu(s,a){if(!vm&&Wf){vm=!0;do for(var l=!1,h=Yf;h!==null;){if(s!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var S=h.suspendedLanes,R=h.pingedLanes;_=(1<<31-tn(42|s)+1)-1,_&=p&~(S&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,F0(h,_))}else _=Qt,_=oa(h,h===be?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||gs(h,_)||(l=!0,F0(h,_));h=h.next}while(l);vm=!1}}function pC(){z0()}function z0(){Wf=ym=!1;var s=0;il!==0&&(SC()&&(s=il),il=0);for(var a=un(),l=null,h=Yf;h!==null;){var p=h.next,_=j0(h,a);_===0?(h.next=null,l===null?Yf=p:l.next=p,p===null&&(ac=l)):(l=h,(s!==0||(_&3)!==0)&&(Wf=!0)),h=p}zu(s)}function j0(s,a){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var S=31-tn(_),R=1<<S,U=p[S];U===-1?((R&l)===0||(R&h)!==0)&&(p[S]=So(R,a)):U<=a&&(s.expiredLanes|=R),_&=~R}if(a=be,l=Qt,l=oa(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,l===0||s===a&&(le===2||le===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&us(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||gs(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(h!==null&&us(h),dr(l)){case 2:case 8:l=In;break;case 32:l=Jn;break;case 268435456:l=fs;break;default:l=Jn}return h=B0.bind(null,s),l=bi(l,h),s.callbackPriority=a,s.callbackNode=l,a}return h!==null&&h!==null&&us(h),s.callbackPriority=2,s.callbackNode=null,2}function B0(s,a){if(wn!==0&&wn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Gf()&&s.callbackNode!==l)return null;var h=Qt;return h=oa(s,s===be?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(w0(s,h,a),j0(s,un()),s.callbackNode!=null&&s.callbackNode===l?B0.bind(null,s):null)}function F0(s,a){if(Gf())return null;w0(s,a,!0)}function mC(){xC(function(){(oe&6)!==0?bi(Zn,pC):z0()})}function bm(){return il===0&&(il=Ao()),il}function H0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_r(""+s)}function q0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function _C(s,a,l,h,p){if(a==="submit"&&l&&l.stateNode===p){var _=H0((p[ge]||null).action),S=h.submitter;S&&(a=(a=S[ge]||null)?H0(a.formAction):S.getAttribute("formAction"),a!==null&&(_=a,S=null));var R=new fa("action","action",null,h,p);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(il!==0){var U=S?q0(p,S):new FormData(p);jp(l,{pending:!0,data:U,method:p.method,action:_},null,U)}}else typeof _=="function"&&(R.preventDefault(),U=S?q0(p,S):new FormData(p),jp(l,{pending:!0,data:U,method:p.method,action:_},_,U))},currentTarget:p}]})}}for(var Em=0;Em<fu.length;Em++){var Tm=fu[Em],yC=Tm.toLowerCase(),vC=Tm[0].toUpperCase()+Tm.slice(1);Ci(yC,"on"+vC)}Ci(ff,"onAnimationEnd"),Ci(df,"onAnimationIteration"),Ci(gf,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(cp,"onTransitionRun"),Ci(up,"onTransitionStart"),Ci(pf,"onTransitionCancel"),Ci(qo,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function $0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;t:{var _=void 0;if(a)for(var S=h.length-1;0<=S;S--){var R=h[S],U=R.instance,tt=R.currentTarget;if(R=R.listener,U!==_&&p.isPropagationStopped())break t;_=R,p.currentTarget=tt;try{_(p)}catch(ot){Nf(ot)}p.currentTarget=null,_=U}else for(S=0;S<h.length;S++){if(R=h[S],U=R.instance,tt=R.currentTarget,R=R.listener,U!==_&&p.isPropagationStopped())break t;_=R,p.currentTarget=tt;try{_(p)}catch(ot){Nf(ot)}p.currentTarget=null,_=U}}}}function Yt(s,a){var l=a[Co];l===void 0&&(l=a[Co]=new Set);var h=s+"__bubble";l.has(h)||(G0(a,s,2,!1),l.add(h))}function wm(s,a,l){var h=0;a&&(h|=4),G0(l,s,h,a)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Sm(s){if(!s[Kf]){s[Kf]=!0,Io.forEach(function(l){l!=="selectionchange"&&(bC.has(l)||wm(l,!1,s),wm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Kf]||(a[Kf]=!0,wm("selectionchange",!1,a))}}function G0(s,a,l,h){switch(mE(a)){case 2:var p=YC;break;case 8:p=WC;break;default:p=Um}l=p.bind(null,a,l,s),p=void 0,!Fn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Am(s,a,l,h,p){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var R=h.stateNode.containerInfo;if(R===p)break;if(S===4)for(S=h.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;R!==null;){if(S=Dn(R),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){h=_=S;continue t}R=R.parentNode}}h=h.return}Pl(function(){var tt=_,ot=Bn(l),ht=[];t:{var et=$o.get(s);if(et!==void 0){var it=fa,Nt=s;switch(s){case"keypress":if(Ki(l)===0)break t;case"keydown":case"keyup":it=_a;break;case"focusin":Nt="focus",it=ga;break;case"focusout":Nt="blur",it=ga;break;case"beforeblur":case"afterblur":it=ga;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Ul;break;case ff:case df:case gf:it=wr;break;case qo:it=xr;break;case"scroll":case"scrollend":it=ai;break;case"wheel":it=Rr;break;case"copy":case"cut":case"paste":it=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=jo;break;case"toggle":case"beforetoggle":it=Bs}var Ot=(a&4)!==0,fe=!Ot&&(s==="scroll"||s==="scrollend"),W=Ot?et!==null?et+"Capture":null:et;Ot=[];for(var $=tt,J;$!==null;){var lt=$;if(J=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||J===null||W===null||(lt=vr($,W),lt!=null&&Ot.push(Bu($,lt,J))),fe)break;$=$.return}0<Ot.length&&(et=new it(et,Nt,null,l,ot),ht.push({event:et,listeners:Ot}))}}if((a&7)===0){t:{if(et=s==="mouseover"||s==="pointerover",it=s==="mouseout"||s==="pointerout",et&&l!==Gi&&(Nt=l.relatedTarget||l.fromElement)&&(Dn(Nt)||Nt[hn]))break t;if((it||et)&&(et=ot.window===ot?ot:(et=ot.ownerDocument)?et.defaultView||et.parentWindow:window,it?(Nt=l.relatedTarget||l.toElement,it=tt,Nt=Nt?Dn(Nt):null,Nt!==null&&(fe=o(Nt),Ot=Nt.tag,Nt!==fe||Ot!==5&&Ot!==27&&Ot!==6)&&(Nt=null)):(it=null,Nt=tt),it!==Nt)){if(Ot=qn,lt="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ot=jo,lt="onPointerLeave",W="onPointerEnter",$="pointer"),fe=it==null?et:Fi(it),J=Nt==null?et:Fi(Nt),et=new Ot(lt,$+"leave",it,l,ot),et.target=fe,et.relatedTarget=J,lt=null,Dn(ot)===tt&&(Ot=new Ot(W,$+"enter",Nt,l,ot),Ot.target=J,Ot.relatedTarget=fe,lt=Ot),fe=lt,it&&Nt)e:{for(Ot=it,W=Nt,$=0,J=Ot;J;J=oc(J))$++;for(J=0,lt=W;lt;lt=oc(lt))J++;for(;0<$-J;)Ot=oc(Ot),$--;for(;0<J-$;)W=oc(W),J--;for(;$--;){if(Ot===W||W!==null&&Ot===W.alternate)break e;Ot=oc(Ot),W=oc(W)}Ot=null}else Ot=null;it!==null&&Y0(ht,et,it,Ot,!1),Nt!==null&&fe!==null&&Y0(ht,fe,Nt,Ot,!0)}}t:{if(et=tt?Fi(tt):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var St=rf;else if(Ue(et))if(af)St=op;else{St=rp;var qt=sp}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?tt&&ua(tt.elementType)&&(St=rf):St=ap;if(St&&(St=St(s,tt))){ws(ht,St,l,ot);break t}qt&&qt(s,et,tt),s==="focusout"&&tt&&et.type==="number"&&tt.memoizedProps.value!=null&&bs(et,"number",et.value)}switch(qt=tt?Fi(tt):window,s){case"focusin":(Ue(qt)||qt.contentEditable==="true")&&(Ir=qt,Fo=tt,Ea=null);break;case"focusout":Ea=Fo=Ir=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,uf(ht,l,ot);break;case"selectionchange":if(uu)break;case"keydown":case"keyup":uf(ht,l,ot)}var Rt;if(li)t:{switch(s){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Wt?st(s,l)&&(Mt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Mt="onCompositionStart");Mt&&(T&&l.locale!=="ko"&&(Wt||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Wt&&(Rt=No()):(Wi=ot,zs="value"in Wi?Wi.value:Wi.textContent,Wt=!0)),qt=Xf(tt,Mt),0<qt.length&&(Mt=new Vo(Mt,s,null,l,ot),ht.push({event:Mt,listeners:qt}),Rt?Mt.data=Rt:(Rt=pt(l),Rt!==null&&(Mt.data=Rt)))),(Rt=b?Re(s,l):Ht(s,l))&&(Mt=Xf(tt,"onBeforeInput"),0<Mt.length&&(qt=new Vo("onBeforeInput","beforeinput",null,l,ot),ht.push({event:qt,listeners:Mt}),qt.data=Rt)),_C(ht,s,tt,l,ot)}$0(ht,a)})}function Bu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Xf(s,a){for(var l=a+"Capture",h=[];s!==null;){var p=s,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=vr(s,l),p!=null&&h.unshift(Bu(s,p,_)),p=vr(s,a),p!=null&&h.push(Bu(s,p,_))),s.tag===3)return h;s=s.return}return[]}function oc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y0(s,a,l,h,p){for(var _=a._reactName,S=[];l!==null&&l!==h;){var R=l,U=R.alternate,tt=R.stateNode;if(R=R.tag,U!==null&&U===h)break;R!==5&&R!==26&&R!==27||tt===null||(U=tt,p?(tt=vr(l,_),tt!=null&&S.unshift(Bu(l,tt,U))):p||(tt=vr(l,_),tt!=null&&S.push(Bu(l,tt,U)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var EC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function W0(s){return(typeof s=="string"?s:""+s).replace(EC,`
`).replace(TC,"")}function K0(s,a){return a=W0(a),W0(s)===a}function Qf(){}function he(s,a,l,h,p,_){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||jn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&jn(s,""+h);break;case"className":Hi(s,"class",h);break;case"tabIndex":Hi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(s,l,h);break;case"style":Po(s,h,_);break;case"data":if(a!=="object"){Hi(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=_r(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&he(s,a,"name",p.name,p,null),he(s,a,"formEncType",p.formEncType,p,null),he(s,a,"formMethod",p.formMethod,p,null),he(s,a,"formTarget",p.formTarget,p,null)):(he(s,a,"encType",p.encType,p,null),he(s,a,"method",p.method,p,null),he(s,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=_r(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=Qf);break;case"onScroll":h!=null&&Yt("scroll",s);break;case"onScrollEnd":h!=null&&Yt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=_r(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":Yt("beforetoggle",s),Yt("toggle",s),Ls(s,"popover",h);break;case"xlinkActuate":nn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":nn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":nn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":nn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":nn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":nn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":nn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":nn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":nn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ls(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=su.get(l)||l,Ls(s,l,h))}}function xm(s,a,l,h,p,_){switch(l){case"style":Po(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof h=="string"?jn(s,h):(typeof h=="number"||typeof h=="bigint")&&jn(s,""+h);break;case"onScroll":h!=null&&Yt("scroll",s);break;case"onScrollEnd":h!=null&&Yt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Si.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),_=s[ge]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(a,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,h,p);break t}l in s?s[l]=h:h===!0?s.setAttribute(l,""):Ls(s,l,h)}}}function Sn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",s),Yt("load",s);var h=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var S=l[_];if(S!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:he(s,a,_,S,l,null)}}p&&he(s,a,"srcSet",l.srcSet,l,null),h&&he(s,a,"src",l.src,l,null);return;case"input":Yt("invalid",s);var R=_=S=p=null,U=null,tt=null;for(h in l)if(l.hasOwnProperty(h)){var ot=l[h];if(ot!=null)switch(h){case"name":p=ot;break;case"type":S=ot;break;case"checked":U=ot;break;case"defaultChecked":tt=ot;break;case"value":_=ot;break;case"defaultValue":R=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,a));break;default:he(s,a,h,ot,l,null)}}Us(s,_,R,U,tt,S,p,!1),ca(s);return;case"select":Yt("invalid",s),h=S=_=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":_=R;break;case"defaultValue":S=R;break;case"multiple":h=R;default:he(s,a,p,R,l,null)}a=_,l=S,s.multiple=!!h,a!=null?qi(s,!!h,a,!1):l!=null&&qi(s,!!h,l,!0);return;case"textarea":Yt("invalid",s),_=p=h=null;for(S in l)if(l.hasOwnProperty(S)&&(R=l[S],R!=null))switch(S){case"value":h=R;break;case"defaultValue":p=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:he(s,a,S,R,l,null)}mr(s,h,p,_),ca(s);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(h=l[U],h!=null))switch(U){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:he(s,a,U,h,l,null)}return;case"dialog":Yt("beforetoggle",s),Yt("toggle",s),Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":Yt("load",s);break;case"video":case"audio":for(h=0;h<ju.length;h++)Yt(ju[h],s);break;case"image":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"embed":case"source":case"link":Yt("error",s),Yt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in l)if(l.hasOwnProperty(tt)&&(h=l[tt],h!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:he(s,a,tt,h,l,null)}return;default:if(ua(a)){for(ot in l)l.hasOwnProperty(ot)&&(h=l[ot],h!==void 0&&xm(s,a,ot,h,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(h=l[R],h!=null&&he(s,a,R,h,l,null))}function wC(s,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,S=null,R=null,U=null,tt=null,ot=null;for(it in l){var ht=l[it];if(l.hasOwnProperty(it)&&ht!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":U=ht;default:h.hasOwnProperty(it)||he(s,a,it,null,h,ht)}}for(var et in h){var it=h[et];if(ht=l[et],h.hasOwnProperty(et)&&(it!=null||ht!=null))switch(et){case"type":_=it;break;case"name":p=it;break;case"checked":tt=it;break;case"defaultChecked":ot=it;break;case"value":S=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:it!==ht&&he(s,a,et,it,h,ht)}}Te(s,S,R,U,tt,ot,_,p);return;case"select":it=S=R=et=null;for(_ in l)if(U=l[_],l.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":it=U;default:h.hasOwnProperty(_)||he(s,a,_,null,h,U)}for(p in h)if(_=h[p],U=l[p],h.hasOwnProperty(p)&&(_!=null||U!=null))switch(p){case"value":et=_;break;case"defaultValue":R=_;break;case"multiple":S=_;default:_!==U&&he(s,a,p,_,h,U)}a=R,l=S,h=it,et!=null?qi(s,!!l,et,!1):!!h!=!!l&&(a!=null?qi(s,!!l,a,!0):qi(s,!!l,l?[]:"",!1));return;case"textarea":it=et=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:he(s,a,R,null,h,p)}for(S in h)if(p=h[S],_=l[S],h.hasOwnProperty(S)&&(p!=null||_!=null))switch(S){case"value":et=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==_&&he(s,a,S,p,h,_)}re(s,et,it);return;case"option":for(var Nt in l)if(et=l[Nt],l.hasOwnProperty(Nt)&&et!=null&&!h.hasOwnProperty(Nt))switch(Nt){case"selected":s.selected=!1;break;default:he(s,a,Nt,null,h,et)}for(U in h)if(et=h[U],it=l[U],h.hasOwnProperty(U)&&et!==it&&(et!=null||it!=null))switch(U){case"selected":s.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:he(s,a,U,et,h,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in l)et=l[Ot],l.hasOwnProperty(Ot)&&et!=null&&!h.hasOwnProperty(Ot)&&he(s,a,Ot,null,h,et);for(tt in h)if(et=h[tt],it=l[tt],h.hasOwnProperty(tt)&&et!==it&&(et!=null||it!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:he(s,a,tt,et,h,it)}return;default:if(ua(a)){for(var fe in l)et=l[fe],l.hasOwnProperty(fe)&&et!==void 0&&!h.hasOwnProperty(fe)&&xm(s,a,fe,void 0,h,et);for(ot in h)et=h[ot],it=l[ot],!h.hasOwnProperty(ot)||et===it||et===void 0&&it===void 0||xm(s,a,ot,et,h,it);return}}for(var W in l)et=l[W],l.hasOwnProperty(W)&&et!=null&&!h.hasOwnProperty(W)&&he(s,a,W,null,h,et);for(ht in h)et=h[ht],it=l[ht],!h.hasOwnProperty(ht)||et===it||et==null&&it==null||he(s,a,ht,et,h,it)}var Rm=null,Cm=null;function Zf(s){return s.nodeType===9?s:s.ownerDocument}function X0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Im(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Om=null;function SC(){var s=window.event;return s&&s.type==="popstate"?s===Om?!1:(Om=s,!0):(Om=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,AC=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,xC=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(s){return J0.resolve(null).then(s).catch(RC)}:Z0;function RC(s){setTimeout(function(){throw s})}function za(s){return s==="head"}function tE(s,a){var l=a,h=0,p=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var S=s.ownerDocument;if(l&1&&Fu(S.documentElement),l&2&&Fu(S.body),l&4)for(l=S.head,Fu(l),S=l.firstChild;S;){var R=S.nextSibling,U=S.nodeName;S[gr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=R}}if(p===0){s.removeChild(_),Xu(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);Xu(a)}function Dm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dm(l),Bi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function CC(s,a,l,h){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[gr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Rs(s.nextSibling),s===null)break}return null}function IC(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Rs(s.nextSibling),s===null))return null;return s}function Mm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function OC(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Rs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var km=null;function eE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function nE(s,a,l){switch(a=Zf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Fu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Bi(s)}var es=new Map,iE=new Set;function Jf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fr=ct.d;ct.d={f:DC,r:MC,D:kC,C:PC,L:NC,m:LC,X:UC,S:VC,M:zC};function DC(){var s=Fr.f(),a=qf();return s||a}function MC(s){var a=zn(s);a!==null&&a.tag===5&&a.type==="form"?wb(a):Fr.r(s)}var lc=typeof document>"u"?null:document;function sE(s,a,l){var h=lc;if(h&&typeof a=="string"&&a){var p=Le(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),iE.has(p)||(iE.add(p),s={rel:s,crossOrigin:l,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),Sn(a,"link",s),De(a),h.head.appendChild(a)))}}function kC(s){Fr.D(s),sE("dns-prefetch",s,null)}function PC(s,a){Fr.C(s,a),sE("preconnect",s,a)}function NC(s,a,l){Fr.L(s,a,l);var h=lc;if(h&&s&&a){var p='link[rel="preload"][as="'+Le(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Le(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Le(l.imageSizes)+'"]')):p+='[href="'+Le(s)+'"]';var _=p;switch(a){case"style":_=cc(s);break;case"script":_=uc(s)}es.has(_)||(s=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),es.set(_,s),h.querySelector(p)!==null||a==="style"&&h.querySelector(Hu(_))||a==="script"&&h.querySelector(qu(_))||(a=h.createElement("link"),Sn(a,"link",s),De(a),h.head.appendChild(a)))}}function LC(s,a){Fr.m(s,a);var l=lc;if(l&&s){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Le(h)+'"][href="'+Le(s)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=uc(s)}if(!es.has(_)&&(s=m({rel:"modulepreload",href:s},a),es.set(_,s),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qu(_)))return}h=l.createElement("link"),Sn(h,"link",s),De(h),l.head.appendChild(h)}}}function VC(s,a,l){Fr.S(s,a,l);var h=lc;if(h&&s){var p=en(h).hoistableStyles,_=cc(s);a=a||"default";var S=p.get(_);if(!S){var R={loading:0,preload:null};if(S=h.querySelector(Hu(_)))R.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":a},l),(l=es.get(_))&&Pm(s,l);var U=S=h.createElement("link");De(U),Sn(U,"link",s),U._p=new Promise(function(tt,ot){U.onload=tt,U.onerror=ot}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,td(S,a,h)}S={type:"stylesheet",instance:S,count:1,state:R},p.set(_,S)}}}function UC(s,a){Fr.X(s,a);var l=lc;if(l&&s){var h=en(l).hoistableScripts,p=uc(s),_=h.get(p);_||(_=l.querySelector(qu(p)),_||(s=m({src:s,async:!0},a),(a=es.get(p))&&Nm(s,a),_=l.createElement("script"),De(_),Sn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function zC(s,a){Fr.M(s,a);var l=lc;if(l&&s){var h=en(l).hoistableScripts,p=uc(s),_=h.get(p);_||(_=l.querySelector(qu(p)),_||(s=m({src:s,async:!0,type:"module"},a),(a=es.get(p))&&Nm(s,a),_=l.createElement("script"),De(_),Sn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function rE(s,a,l,h){var p=(p=wt.current)?Jf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=cc(l.href),l=en(p).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=cc(l.href);var _=en(p).hoistableStyles,S=_.get(s);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,S),(_=p.querySelector(Hu(s)))&&!_._p&&(S.instance=_,S.state.loading=5),es.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},es.set(s,l),_||jC(p,s,l,S.state))),a&&h===null)throw Error(i(528,""));return S}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=uc(l),l=en(p).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function cc(s){return'href="'+Le(s)+'"'}function Hu(s){return'link[rel="stylesheet"]['+s+"]"}function aE(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function jC(s,a,l,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Sn(a,"link",l),De(a),s.head.appendChild(a))}function uc(s){return'[src="'+Le(s)+'"]'}function qu(s){return"script[async]"+s}function oE(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Le(l.href)+'"]');if(h)return a.instance=h,De(h),h;var p=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),De(h),Sn(h,"style",p),td(h,l.precedence,s),a.instance=h;case"stylesheet":p=cc(l.href);var _=s.querySelector(Hu(p));if(_)return a.state.loading|=4,a.instance=_,De(_),_;h=aE(l),(p=es.get(p))&&Pm(h,p),_=(s.ownerDocument||s).createElement("link"),De(_);var S=_;return S._p=new Promise(function(R,U){S.onload=R,S.onerror=U}),Sn(_,"link",h),a.state.loading|=4,td(_,l.precedence,s),a.instance=_;case"script":return _=uc(l.src),(p=s.querySelector(qu(_)))?(a.instance=p,De(p),p):(h=l,(p=es.get(_))&&(h=m({},l),Nm(h,p)),s=s.ownerDocument||s,p=s.createElement("script"),De(p),Sn(p,"link",h),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,td(h,l.precedence,s));return a.instance}function td(s,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,S=0;S<h.length;S++){var R=h[S];if(R.dataset.precedence===a)_=R;else if(_!==p)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Pm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Nm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ed=null;function lE(s,a,l){if(ed===null){var h=new Map,p=ed=new Map;p.set(l,h)}else p=ed,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var _=l[p];if(!(_[gr]||_[Be]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(a)||"";S=s+S;var R=h.get(S);R?R.push(_):h.set(S,[_])}}return h}function cE(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function BC(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var $u=null;function FC(){}function HC(s,a,l){if($u===null)throw Error(i(475));var h=$u;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=cc(l.href),_=s.querySelector(Hu(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=nd.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=_,De(_);return}_=s.ownerDocument||s,l=aE(l),(p=es.get(p))&&Pm(l,p),_=_.createElement("link"),De(_);var S=_;S._p=new Promise(function(R,U){S.onload=R,S.onerror=U}),Sn(_,"link",l),a.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=nd.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function qC(){if($u===null)throw Error(i(475));var s=$u;return s.stylesheets&&s.count===0&&Lm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Lm(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function nd(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var id=null;function Lm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,id=new Map,a.forEach($C,s),id=null,nd.call(s))}function $C(s,a){if(!(a.state.loading&4)){var l=id.get(s);if(l)var h=l.get(null);else{l=new Map,id.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var S=p[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}p=a.instance,S=p.getAttribute("data-precedence"),_=l.get(S)||h,_===h&&l.set(null,p),l.set(S,p),this.count++,h=nd.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Gu={$$typeof:G,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function GC(s,a,l,h,p,_,S,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.hiddenUpdates=ps(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function hE(s,a,l,h,p,_,S,R,U,tt,ot,ht){return s=new GC(s,a,l,S,R,U,tt,ht),a=1,_===!0&&(a|=24),_=ke(3,null,null,a),s.current=_,_.stateNode=s,a=_p(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:a},Ep(_),s}function fE(s){return s?(s=We,s):We}function dE(s,a,l,h,p,_){p=fE(p),h.context===null?h.context=p:h.pendingContext=p,h=xa(a),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Ra(s,h,a),l!==null&&(Ni(l,s,a),Tu(l,s,a))}function gE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Vm(s,a){gE(s,a),(s=s.alternate)&&gE(s,a)}function pE(s){if(s.tag===13){var a=Ut(s,67108864);a!==null&&Ni(a,s,67108864),Vm(s,67108864)}}var sd=!0;function YC(s,a,l,h){var p=Z.T;Z.T=null;var _=ct.p;try{ct.p=2,Um(s,a,l,h)}finally{ct.p=_,Z.T=p}}function WC(s,a,l,h){var p=Z.T;Z.T=null;var _=ct.p;try{ct.p=8,Um(s,a,l,h)}finally{ct.p=_,Z.T=p}}function Um(s,a,l,h){if(sd){var p=zm(h);if(p===null)Am(s,a,h,rd,l),_E(s,h);else if(XC(p,s,a,l,h))h.stopPropagation();else if(_E(s,h),a&4&&-1<KC.indexOf(s)){for(;p!==null;){var _=zn(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=On(_.pendingLanes);if(S!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var U=1<<31-tn(S);R.entanglements[1]|=U,S&=~U}Ws(_),(oe&6)===0&&(Ff=un()+500,zu(0))}}break;case 13:R=Ut(_,2),R!==null&&Ni(R,_,2),qf(),Vm(_,2)}if(_=zm(h),_===null&&Am(s,a,h,rd,l),_===p)break;p=_}p!==null&&h.stopPropagation()}else Am(s,a,h,null,l)}}function zm(s){return s=Bn(s),jm(s)}var rd=null;function jm(s){if(rd=null,s=Dn(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return rd=s,null}function mE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case Zn:return 2;case In:return 8;case Jn:case aa:return 32;case fs:return 268435456;default:return 32}default:return 32}}var Bm=!1,ja=null,Ba=null,Fa=null,Yu=new Map,Wu=new Map,Ha=[],KC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _E(s,a){switch(s){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Yu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(a.pointerId)}}function Ku(s,a,l,h,p,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},a!==null&&(a=zn(a),a!==null&&pE(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function XC(s,a,l,h,p){switch(a){case"focusin":return ja=Ku(ja,s,a,l,h,p),!0;case"dragenter":return Ba=Ku(Ba,s,a,l,h,p),!0;case"mouseover":return Fa=Ku(Fa,s,a,l,h,p),!0;case"pointerover":var _=p.pointerId;return Yu.set(_,Ku(Yu.get(_)||null,s,a,l,h,p)),!0;case"gotpointercapture":return _=p.pointerId,Wu.set(_,Ku(Wu.get(_)||null,s,a,l,h,p)),!0}return!1}function yE(s){var a=Dn(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Il(s.priority,function(){if(l.tag===13){var h=Pi();h=_s(h);var p=Ut(l,h);p!==null&&Ni(p,l,h),Vm(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ad(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=zm(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);Gi=h,l.target.dispatchEvent(h),Gi=null}else return a=zn(l),a!==null&&pE(a),s.blockedOn=l,!1;a.shift()}return!0}function vE(s,a,l){ad(s)&&l.delete(a)}function QC(){Bm=!1,ja!==null&&ad(ja)&&(ja=null),Ba!==null&&ad(Ba)&&(Ba=null),Fa!==null&&ad(Fa)&&(Fa=null),Yu.forEach(vE),Wu.forEach(vE)}function od(s,a){s.blockedOn===a&&(s.blockedOn=null,Bm||(Bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QC)))}var ld=null;function bE(s){ld!==s&&(ld=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ld===s&&(ld=null);for(var a=0;a<s.length;a+=3){var l=s[a],h=s[a+1],p=s[a+2];if(typeof h!="function"){if(jm(h||l)===null)continue;break}var _=zn(l);_!==null&&(s.splice(a,3),a-=3,jp(_,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Xu(s){function a(U){return od(U,s)}ja!==null&&od(ja,s),Ba!==null&&od(Ba,s),Fa!==null&&od(Fa,s),Yu.forEach(a),Wu.forEach(a);for(var l=0;l<Ha.length;l++){var h=Ha[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Ha.length&&(l=Ha[0],l.blockedOn===null);)yE(l),l.blockedOn===null&&Ha.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],_=l[h+1],S=p[ge]||null;if(typeof _=="function")S||bE(l);else if(S){var R=null;if(_&&_.hasAttribute("formAction")){if(p=_,S=_[ge]||null)R=S.formAction;else if(jm(p)!==null)continue}else R=S.action;typeof R=="function"?l[h+1]=R:(l.splice(h,3),h-=3),bE(l)}}}function Fm(s){this._internalRoot=s}cd.prototype.render=Fm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,h=Pi();dE(l,h,s,a,null,null)},cd.prototype.unmount=Fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;dE(s.current,2,null,s,null,null),qf(),a[hn]=null}};function cd(s){this._internalRoot=s}cd.prototype.unstable_scheduleHydration=function(s){if(s){var a=ks();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ha.length&&a!==0&&a<Ha[l].priority;l++);Ha.splice(l,0,s),l===0&&yE(s)}};var EE=t.version;if(EE!=="19.1.0")throw Error(i(527,EE,"19.1.0"));ct.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var ZC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{de=ud.inject(ZC),$t=ud}catch{}}return Zu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,h="",p=Vb,_=Ub,S=zb,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=hE(s,1,!1,null,null,l,h,p,_,S,R,null),s[hn]=a.current,Sm(s),new Fm(a)},Zu.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var h=!1,p="",_=Vb,S=Ub,R=zb,U=null,tt=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(tt=l.formState)),a=hE(s,1,!0,a,l??null,h,p,_,S,R,U,tt),a.context=fE(null),l=a.current,h=Pi(),h=_s(h),p=xa(h),p.callback=null,Ra(l,p,h),l=h,a.current.lanes=l,ms(a,l),Ws(a),s[hn]=a.current,Sm(s),new cd(a)},Zu.version="19.1.0",Zu}var DE;function uI(){if(DE)return $m.exports;DE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$m.exports=cI(),$m.exports}var hI=uI(),Ju={},ME;function fI(){if(ME)return Ju;ME=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=c,Ju.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,w){const x=new o,C=E.length;if(C<2)return x;const I=w?.decode||m;let k=0;do{const H=E.indexOf("=",k);if(H===-1)break;const G=E.indexOf(";",k),K=G===-1?C:G;if(H>K){k=E.lastIndexOf(";",H-1)+1;continue}const Y=u(E,k,H),rt=f(E,H,Y),P=E.slice(Y,rt);if(x[P]===void 0){let O=u(E,H+1,K),M=f(E,K,O);const L=I(E.slice(O,M));x[P]=L}k=K+1}while(k<C);return x}function u(E,w,x){do{const C=E.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<x);return x}function f(E,w,x){for(;w>x;){const C=E.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return x}function d(E,w,x){const C=x?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=C(w);if(!t.test(I))throw new TypeError(`argument val is invalid: ${w}`);let k=E+"="+I;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function m(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return r.call(E)==="[object Date]"}return Ju}fI();var kE="popstate";function dI(n={}){function t(r,o){let{pathname:c="/",search:u="",hash:f=""}=Sl(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),T_("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof o=="string"?o:xh(o))}function i(r,o){ls(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return pI(t,e,i,n)}function Oe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ls(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gI(){return Math.random().toString(36).substring(2,10)}function PE(n,t){return{usr:n.state,key:n.key,idx:t}}function T_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:e,key:t&&t.key||i||gI()}}function xh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Sl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function pI(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,u="POP",f=null,d=m();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function m(){return(c.state||{idx:null}).idx}function v(){u="POP";let I=m(),k=I==null?null:I-d;d=I,f&&f({action:u,location:C.location,delta:k})}function E(I,k){u="PUSH";let H=T_(C.location,I,k);e&&e(H,I),d=m()+1;let G=PE(H,d),K=C.createHref(H);try{c.pushState(G,"",K)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(K)}o&&f&&f({action:u,location:C.location,delta:1})}function w(I,k){u="REPLACE";let H=T_(C.location,I,k);e&&e(H,I),d=m();let G=PE(H,d),K=C.createHref(H);c.replaceState(G,"",K),o&&f&&f({action:u,location:C.location,delta:0})}function x(I){return mI(I)}let C={get action(){return u},get location(){return n(r,c)},listen(I){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(kE,v),f=I,()=>{r.removeEventListener(kE,v),f=null}},createHref(I){return t(r,I)},createURL:x,encodeLocation(I){let k=x(I);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:w,go(I){return c.go(I)}};return C}function mI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:xh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function NS(n,t,e="/"){return _I(n,t,e,!1)}function _I(n,t,e,i){let r=typeof t=="string"?Sl(t):t,o=Zr(r.pathname||"/",e);if(o==null)return null;let c=LS(n);yI(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let d=II(o);u=RI(c[f],d,i)}return u}function LS(n,t=[],e=[],i=""){let r=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Oe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=Xr([i,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(Oe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),LS(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:AI(d,o.index),routesMeta:m})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let u of VS(o.path))r(o,c,u)}),t}function VS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=VS(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...c),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function yI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:xI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var vI=/^:[\w-]+$/,bI=3,EI=2,TI=1,wI=10,SI=-2,NE=n=>n==="*";function AI(n,t){let e=n.split("/"),i=e.length;return e.some(NE)&&(i+=SI),t&&(i+=EI),e.filter(r=>!NE(r)).reduce((r,o)=>r+(vI.test(o)?bI:o===""?TI:wI),i)}function xI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function RI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",v=Kd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),E=f.route;if(!v&&d&&e&&!i[i.length-1].route.index&&(v=Kd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(r,v.params),c.push({params:r,pathname:Xr([o,v.pathname]),pathnameBase:kI(Xr([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Xr([o,v.pathnameBase]))}return c}function Kd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=CI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:v},E)=>{if(m==="*"){let x=u[E]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=u[E];return v&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function CI(n,t=!1,e=!0){ls(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function II(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ls(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Zr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function OI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Sl(n):n;return{pathname:e?e.startsWith("/")?e:DI(e,t):t,search:PI(i),hash:NI(r)}}function DI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Km(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ay(n){let t=MI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function oy(n,t,e,i=!1){let r;typeof n=="string"?r=Sl(n):(r={...n},Oe(!r.pathname||!r.pathname.includes("?"),Km("?","pathname","search",r)),Oe(!r.pathname||!r.pathname.includes("#"),Km("#","pathname","hash",r)),Oe(!r.search||!r.search.includes("#"),Km("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=e;else{let v=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;r.pathname=E.join("/")}u=v>=0?t[v]:"/"}let f=OI(r,u),d=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var Xr=n=>n.join("/").replace(/\/\/+/g,"/"),kI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var US=["POST","PUT","PATCH","DELETE"];new Set(US);var VI=["GET",...US];new Set(VI);var Bc=nt.createContext(null);Bc.displayName="DataRouter";var Rg=nt.createContext(null);Rg.displayName="DataRouterState";var zS=nt.createContext({isTransitioning:!1});zS.displayName="ViewTransition";var UI=nt.createContext(new Map);UI.displayName="Fetchers";var zI=nt.createContext(null);zI.displayName="Await";var Ds=nt.createContext(null);Ds.displayName="Navigation";var jh=nt.createContext(null);jh.displayName="Location";var ur=nt.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var ly=nt.createContext(null);ly.displayName="RouteError";function jI(n,{relative:t}={}){Oe(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=nt.useContext(Ds),{hash:r,pathname:o,search:c}=Fh(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Xr([e,o])),i.createHref({pathname:u,search:c,hash:r})}function Fc(){return nt.useContext(jh)!=null}function sa(){return Oe(Fc(),"useLocation() may be used only in the context of a <Router> component."),nt.useContext(jh).location}var jS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BS(n){nt.useContext(Ds).static||nt.useLayoutEffect(n)}function Bh(){let{isDataRoute:n}=nt.useContext(ur);return n?JI():BI()}function BI(){Oe(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let n=nt.useContext(Bc),{basename:t,navigator:e}=nt.useContext(Ds),{matches:i}=nt.useContext(ur),{pathname:r}=sa(),o=JSON.stringify(ay(i)),c=nt.useRef(!1);return BS(()=>{c.current=!0}),nt.useCallback((f,d={})=>{if(ls(c.current,jS),!c.current)return;if(typeof f=="number"){e.go(f);return}let m=oy(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Xr([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,o,r,n])}nt.createContext(null);function Fh(n,{relative:t}={}){let{matches:e}=nt.useContext(ur),{pathname:i}=sa(),r=JSON.stringify(ay(e));return nt.useMemo(()=>oy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function FI(n,t){return FS(n,t)}function FS(n,t,e,i){Oe(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=nt.useContext(Ds),{matches:o}=nt.useContext(ur),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",d=c?c.pathnameBase:"/",m=c&&c.route;{let k=m&&m.path||"";HS(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=sa(),E;if(t){let k=typeof t=="string"?Sl(t):t;Oe(d==="/"||k.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=v;let w=E.pathname||"/",x=w;if(d!=="/"){let k=d.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=NS(n,{pathname:x});ls(m||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ls(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=YI(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Xr([d,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Xr([d,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,e,i);return t&&I?nt.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},I):I}function HI(){let n=ZI(),t=LI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=nt.createElement(nt.Fragment,null,nt.createElement("p",null," Hey developer "),nt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",nt.createElement("code",{style:o},"ErrorBoundary")," or"," ",nt.createElement("code",{style:o},"errorElement")," prop on your route.")),nt.createElement(nt.Fragment,null,nt.createElement("h2",null,"Unexpected Application Error!"),nt.createElement("h3",{style:{fontStyle:"italic"}},t),e?nt.createElement("pre",{style:r},e):null,c)}var qI=nt.createElement(HI,null),$I=class extends nt.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?nt.createElement(ur.Provider,{value:this.props.routeContext},nt.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GI({routeContext:n,match:t,children:e}){let i=nt.useContext(Bc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),nt.createElement(ur.Provider,{value:n},e)}function YI(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let f=r.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);Oe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,u=-1;if(e)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:v}=e,E=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||E){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((f,d,m)=>{let v,E=!1,w=null,x=null;e&&(v=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||qI,c&&(u<0&&m===0?(HS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):u===m&&(E=!0,x=d.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,m+1)),I=()=>{let k;return v?k=w:E?k=x:d.route.Component?k=nt.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=f,nt.createElement(GI,{match:d,routeContext:{outlet:f,matches:C,isDataRoute:e!=null},children:k})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?nt.createElement($I,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function cy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WI(n){let t=nt.useContext(Bc);return Oe(t,cy(n)),t}function KI(n){let t=nt.useContext(Rg);return Oe(t,cy(n)),t}function XI(n){let t=nt.useContext(ur);return Oe(t,cy(n)),t}function uy(n){let t=XI(n),e=t.matches[t.matches.length-1];return Oe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function QI(){return uy("useRouteId")}function ZI(){let n=nt.useContext(ly),t=KI("useRouteError"),e=uy("useRouteError");return n!==void 0?n:t.errors?.[e]}function JI(){let{router:n}=WI("useNavigate"),t=uy("useNavigate"),e=nt.useRef(!1);return BS(()=>{e.current=!0}),nt.useCallback(async(r,o={})=>{ls(e.current,jS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var LE={};function HS(n,t,e){!t&&!LE[n]&&(LE[n]=!0,ls(!1,e))}nt.memo(tO);function tO({routes:n,future:t,state:e}){return FS(n,void 0,e,t)}function eO({to:n,replace:t,state:e,relative:i}){Oe(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=nt.useContext(Ds);ls(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=nt.useContext(ur),{pathname:c}=sa(),u=Bh(),f=oy(n,ay(o),c,i==="path"),d=JSON.stringify(f);return nt.useEffect(()=>{u(JSON.parse(d),{replace:t,state:e,relative:i})},[u,d,i,t,e]),null}function dc(n){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nO({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Oe(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=nt.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=Sl(e));let{pathname:f="/",search:d="",hash:m="",state:v=null,key:E="default"}=e,w=nt.useMemo(()=>{let x=Zr(f,c);return x==null?null:{location:{pathname:x,search:d,hash:m,state:v,key:E},navigationType:i}},[c,f,d,m,v,E,i]);return ls(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:nt.createElement(Ds.Provider,{value:u},nt.createElement(jh.Provider,{children:t,value:w}))}function iO({children:n,location:t}){return FI(w_(n),t)}function w_(n,t=[]){let e=[];return nt.Children.forEach(n,(i,r)=>{if(!nt.isValidElement(i))return;let o=[...t,r];if(i.type===nt.Fragment){e.push.apply(e,w_(i.props.children,o));return}Oe(i.type===dc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=w_(i.props.children,o)),e.push(c)}),e}var Md="get",kd="application/x-www-form-urlencoded";function Cg(n){return n!=null&&typeof n.tagName=="string"}function sO(n){return Cg(n)&&n.tagName.toLowerCase()==="button"}function rO(n){return Cg(n)&&n.tagName.toLowerCase()==="form"}function aO(n){return Cg(n)&&n.tagName.toLowerCase()==="input"}function oO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lO(n,t){return n.button===0&&(!t||t==="_self")&&!oO(n)}var hd=null;function cO(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var uO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(n){return n!=null&&!uO.has(n)?(ls(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):n}function hO(n,t){let e,i,r,o,c;if(rO(n)){let u=n.getAttribute("action");i=u?Zr(u,t):null,e=n.getAttribute("method")||Md,r=Xm(n.getAttribute("enctype"))||kd,o=new FormData(n)}else if(sO(n)||aO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Zr(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Md,r=Xm(n.getAttribute("formenctype"))||Xm(u.getAttribute("enctype"))||kd,o=new FormData(u,n),!cO()){let{name:d,type:m,value:v}=n;if(m==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,v)}}else{if(Cg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Md,i=null,r=kd,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function hy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function fO(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gO(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await fO(o,e);return c.links?c.links():[]}return[]}));return yO(i.flat(1).filter(dO).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function VE(n,t,e,i,r,o){let c=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>c(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function pO(n,t,{includeHydrateFallback:e}={}){return mO(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function mO(n){return[...new Set(n)]}function _O(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function yO(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(_O(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vO=new Set([100,101,204,205]);function bO(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Zr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qS(){let n=nt.useContext(Bc);return hy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EO(){let n=nt.useContext(Rg);return hy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fy=nt.createContext(void 0);fy.displayName="FrameworkContext";function $S(){let n=nt.useContext(fy);return hy(n,"You must render this element inside a <HydratedRouter> element"),n}function TO(n,t){let e=nt.useContext(fy),[i,r]=nt.useState(!1),[o,c]=nt.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:v}=t,E=nt.useRef(null);nt.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=k=>{k.forEach(H=>{c(H.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),nt.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let w=()=>{r(!0)},x=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:th(u,w),onBlur:th(f,x),onMouseEnter:th(d,w),onMouseLeave:th(m,x),onTouchStart:th(v,w)}]:[!1,E,{}]}function th(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function wO({page:n,...t}){let{router:e}=qS(),i=nt.useMemo(()=>NS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?nt.createElement(AO,{page:n,matches:i,...t}):null}function SO(n){let{manifest:t,routeModules:e}=$S(),[i,r]=nt.useState([]);return nt.useEffect(()=>{let o=!1;return gO(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function AO({page:n,matches:t,...e}){let i=sa(),{manifest:r,routeModules:o}=$S(),{basename:c}=qS(),{loaderData:u,matches:f}=EO(),d=nt.useMemo(()=>VE(n,t,f,r,i,"data"),[n,t,f,r,i]),m=nt.useMemo(()=>VE(n,t,f,r,i,"assets"),[n,t,f,r,i]),v=nt.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,C=!1;if(t.forEach(k=>{let H=r.routes[k.route.id];!H||!H.hasLoader||(!d.some(G=>G.route.id===k.route.id)&&k.route.id in u&&o[k.route.id]?.shouldRevalidate||H.hasClientLoader?C=!0:x.add(k.route.id))}),x.size===0)return[];let I=bO(n,c);return C&&x.size>0&&I.searchParams.set("_routes",t.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[I.pathname+I.search]},[c,u,i,r,d,t,n,o]),E=nt.useMemo(()=>pO(m,r),[m,r]),w=SO(m);return nt.createElement(nt.Fragment,null,v.map(x=>nt.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),E.map(x=>nt.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),w.map(({key:x,link:C})=>nt.createElement("link",{key:x,...C})))}function xO(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.6.3")}catch{}function RO({basename:n,children:t,window:e}){let i=nt.useRef();i.current==null&&(i.current=dI({window:e,v5Compat:!0}));let r=i.current,[o,c]=nt.useState({action:r.action,location:r.location}),u=nt.useCallback(f=>{nt.startTransition(()=>c(f))},[c]);return nt.useLayoutEffect(()=>r.listen(u),[r,u]),nt.createElement(nO,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xa=nt.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:u,target:f,to:d,preventScrollReset:m,viewTransition:v,...E},w){let{basename:x}=nt.useContext(Ds),C=typeof d=="string"&&YS.test(d),I,k=!1;if(typeof d=="string"&&C&&(I=d,GS))try{let M=new URL(window.location.href),L=d.startsWith("//")?new URL(M.protocol+d):new URL(d),V=Zr(L.pathname,x);L.origin===M.origin&&V!=null?d=V+L.search+L.hash:k=!0}catch{ls(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=jI(d,{relative:r}),[G,K,Y]=TO(i,E),rt=DO(d,{replace:c,state:u,target:f,preventScrollReset:m,relative:r,viewTransition:v});function P(M){t&&t(M),M.defaultPrevented||rt(M)}let O=nt.createElement("a",{...E,...Y,href:I||H,onClick:k||o?t:P,ref:xO(w,K),target:f,"data-discover":!C&&e==="render"?"true":void 0});return G&&!C?nt.createElement(nt.Fragment,null,O,nt.createElement(wO,{page:H})):O});Xa.displayName="Link";var CO=nt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:u,children:f,...d},m){let v=Fh(c,{relative:d.relative}),E=sa(),w=nt.useContext(Rg),{navigator:x,basename:C}=nt.useContext(Ds),I=w!=null&&LO(v)&&u===!0,k=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,H=E.pathname,G=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(H=H.toLowerCase(),G=G?G.toLowerCase():null,k=k.toLowerCase()),G&&C&&(G=Zr(G,C)||G);const K=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Y=H===k||!r&&H.startsWith(k)&&H.charAt(K)==="/",rt=G!=null&&(G===k||!r&&G.startsWith(k)&&G.charAt(k.length)==="/"),P={isActive:Y,isPending:rt,isTransitioning:I},O=Y?t:void 0,M;typeof i=="function"?M=i(P):M=[i,Y?"active":null,rt?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(P):o;return nt.createElement(Xa,{...d,"aria-current":O,className:M,ref:m,style:L,to:c,viewTransition:u},typeof f=="function"?f(P):f)});CO.displayName="NavLink";var IO=nt.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Md,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:v,...E},w)=>{let x=PO(),C=NO(u,{relative:d}),I=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&YS.test(u),H=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let K=G.nativeEvent.submitter,Y=K?.getAttribute("formmethod")||c;x(K||G.currentTarget,{fetcherKey:t,method:Y,navigate:e,replace:r,state:o,relative:d,preventScrollReset:m,viewTransition:v})};return nt.createElement("form",{ref:w,method:I,action:C,onSubmit:i?f:H,...E,"data-discover":!k&&n==="render"?"true":void 0})});IO.displayName="Form";function OO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(n){let t=nt.useContext(Bc);return Oe(t,OO(n)),t}function DO(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let u=Bh(),f=sa(),d=Fh(n,{relative:o});return nt.useCallback(m=>{if(lO(m,t)){m.preventDefault();let v=e!==void 0?e:xh(f)===xh(d);u(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,u,d,e,i,t,n,r,o,c])}var MO=0,kO=()=>`__${String(++MO)}__`;function PO(){let{router:n}=WS("useSubmit"),{basename:t}=nt.useContext(Ds),e=QI();return nt.useCallback(async(i,r={})=>{let{action:o,method:c,encType:u,formData:f,body:d}=hO(i,t);if(r.navigate===!1){let m=r.fetcherKey||kO();await n.fetch(m,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function NO(n,{relative:t}={}){let{basename:e}=nt.useContext(Ds),i=nt.useContext(ur);Oe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Fh(n||".",{relative:t})},c=sa();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Xr([e,o.pathname])),xh(o)}function LO(n,t={}){let e=nt.useContext(zS);Oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=WS("useViewTransitionState"),r=Fh(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Zr(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Zr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Kd(r.pathname,c)!=null||Kd(r.pathname,o)!=null}[...vO];var Pd={exports:{}},Wn="top",Ui="bottom",zi="right",Kn="left",Ig="auto",Hc=[Wn,Ui,zi,Kn],gl="start",Cc="end",KS="clippingParents",dy="viewport",gc="popper",XS="reference",S_=Hc.reduce(function(n,t){return n.concat([t+"-"+gl,t+"-"+Cc])},[]),gy=[].concat(Hc,[Ig]).reduce(function(n,t){return n.concat([t,t+"-"+gl,t+"-"+Cc])},[]),QS="beforeRead",ZS="read",JS="afterRead",tA="beforeMain",eA="main",nA="afterMain",iA="beforeWrite",sA="write",rA="afterWrite",aA=[QS,ZS,JS,tA,eA,nA,iA,sA,rA];function or(n){return n?(n.nodeName||"").toLowerCase():null}function ji(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function pl(n){var t=ji(n).Element;return n instanceof t||n instanceof Element}function rs(n){var t=ji(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function py(n){if(typeof ShadowRoot>"u")return!1;var t=ji(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function VO(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!rs(o)||!or(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(c){var u=r[c];u===!1?o.removeAttribute(c):o.setAttribute(c,u===!0?"":u)}))})}function UO(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},c=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),u=c.reduce(function(f,d){return f[d]="",f},{});!rs(r)||!or(r)||(Object.assign(r.style,u),Object.keys(o).forEach(function(f){r.removeAttribute(f)}))})}}const my={name:"applyStyles",enabled:!0,phase:"write",fn:VO,effect:UO,requires:["computeStyles"]};function tr(n){return n.split("-")[0]}var hl=Math.max,Xd=Math.min,Ic=Math.round;function A_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function oA(){return!/^((?!chrome|android).)*safari/i.test(A_())}function Oc(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),r=1,o=1;t&&rs(n)&&(r=n.offsetWidth>0&&Ic(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Ic(i.height)/n.offsetHeight||1);var c=pl(n)?ji(n):window,u=c.visualViewport,f=!oA()&&e,d=(i.left+(f&&u?u.offsetLeft:0))/r,m=(i.top+(f&&u?u.offsetTop:0))/o,v=i.width/r,E=i.height/o;return{width:v,height:E,top:m,right:d+v,bottom:m+E,left:d,x:d,y:m}}function _y(n){var t=Oc(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function lA(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&py(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Jr(n){return ji(n).getComputedStyle(n)}function zO(n){return["table","td","th"].indexOf(or(n))>=0}function vo(n){return((pl(n)?n.ownerDocument:n.document)||window.document).documentElement}function Og(n){return or(n)==="html"?n:n.assignedSlot||n.parentNode||(py(n)?n.host:null)||vo(n)}function UE(n){return!rs(n)||Jr(n).position==="fixed"?null:n.offsetParent}function jO(n){var t=/firefox/i.test(A_()),e=/Trident/i.test(A_());if(e&&rs(n)){var i=Jr(n);if(i.position==="fixed")return null}var r=Og(n);for(py(r)&&(r=r.host);rs(r)&&["html","body"].indexOf(or(r))<0;){var o=Jr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Hh(n){for(var t=ji(n),e=UE(n);e&&zO(e)&&Jr(e).position==="static";)e=UE(e);return e&&(or(e)==="html"||or(e)==="body"&&Jr(e).position==="static")?t:e||jO(n)||t}function yy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ph(n,t,e){return hl(n,Xd(t,e))}function BO(n,t,e){var i=ph(n,t,e);return i>e?e:i}function cA(){return{top:0,right:0,bottom:0,left:0}}function uA(n){return Object.assign({},cA(),n)}function hA(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var FO=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,uA(typeof t!="number"?t:hA(t,Hc))};function HO(n){var t,e=n.state,i=n.name,r=n.options,o=e.elements.arrow,c=e.modifiersData.popperOffsets,u=tr(e.placement),f=yy(u),d=[Kn,zi].indexOf(u)>=0,m=d?"height":"width";if(!(!o||!c)){var v=FO(r.padding,e),E=_y(o),w=f==="y"?Wn:Kn,x=f==="y"?Ui:zi,C=e.rects.reference[m]+e.rects.reference[f]-c[f]-e.rects.popper[m],I=c[f]-e.rects.reference[f],k=Hh(o),H=k?f==="y"?k.clientHeight||0:k.clientWidth||0:0,G=C/2-I/2,K=v[w],Y=H-E[m]-v[x],rt=H/2-E[m]/2+G,P=ph(K,rt,Y),O=f;e.modifiersData[i]=(t={},t[O]=P,t.centerOffset=P-rt,t)}}function qO(n){var t=n.state,e=n.options,i=e.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||lA(t.elements.popper,r)&&(t.elements.arrow=r))}const fA={name:"arrow",enabled:!0,phase:"main",fn:HO,effect:qO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dc(n){return n.split("-")[1]}var $O={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GO(n,t){var e=n.x,i=n.y,r=t.devicePixelRatio||1;return{x:Ic(e*r)/r||0,y:Ic(i*r)/r||0}}function zE(n){var t,e=n.popper,i=n.popperRect,r=n.placement,o=n.variation,c=n.offsets,u=n.position,f=n.gpuAcceleration,d=n.adaptive,m=n.roundOffsets,v=n.isFixed,E=c.x,w=E===void 0?0:E,x=c.y,C=x===void 0?0:x,I=typeof m=="function"?m({x:w,y:C}):{x:w,y:C};w=I.x,C=I.y;var k=c.hasOwnProperty("x"),H=c.hasOwnProperty("y"),G=Kn,K=Wn,Y=window;if(d){var rt=Hh(e),P="clientHeight",O="clientWidth";if(rt===ji(e)&&(rt=vo(e),Jr(rt).position!=="static"&&u==="absolute"&&(P="scrollHeight",O="scrollWidth")),rt=rt,r===Wn||(r===Kn||r===zi)&&o===Cc){K=Ui;var M=v&&rt===Y&&Y.visualViewport?Y.visualViewport.height:rt[P];C-=M-i.height,C*=f?1:-1}if(r===Kn||(r===Wn||r===Ui)&&o===Cc){G=zi;var L=v&&rt===Y&&Y.visualViewport?Y.visualViewport.width:rt[O];w-=L-i.width,w*=f?1:-1}}var V=Object.assign({position:u},d&&$O),z=m===!0?GO({x:w,y:C},ji(e)):{x:w,y:C};if(w=z.x,C=z.y,f){var N;return Object.assign({},V,(N={},N[K]=H?"0":"",N[G]=k?"0":"",N.transform=(Y.devicePixelRatio||1)<=1?"translate("+w+"px, "+C+"px)":"translate3d("+w+"px, "+C+"px, 0)",N))}return Object.assign({},V,(t={},t[K]=H?C+"px":"",t[G]=k?w+"px":"",t.transform="",t))}function YO(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=i===void 0?!0:i,o=e.adaptive,c=o===void 0?!0:o,u=e.roundOffsets,f=u===void 0?!0:u,d={placement:tr(t.placement),variation:Dc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,zE(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,zE(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const vy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YO,data:{}};var fd={passive:!0};function WO(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,c=i.resize,u=c===void 0?!0:c,f=ji(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&d.forEach(function(m){m.addEventListener("scroll",e.update,fd)}),u&&f.addEventListener("resize",e.update,fd),function(){o&&d.forEach(function(m){m.removeEventListener("scroll",e.update,fd)}),u&&f.removeEventListener("resize",e.update,fd)}}const by={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:WO,data:{}};var KO={left:"right",right:"left",bottom:"top",top:"bottom"};function Nd(n){return n.replace(/left|right|bottom|top/g,function(t){return KO[t]})}var XO={start:"end",end:"start"};function jE(n){return n.replace(/start|end/g,function(t){return XO[t]})}function Ey(n){var t=ji(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function Ty(n){return Oc(vo(n)).left+Ey(n).scrollLeft}function QO(n,t){var e=ji(n),i=vo(n),r=e.visualViewport,o=i.clientWidth,c=i.clientHeight,u=0,f=0;if(r){o=r.width,c=r.height;var d=oA();(d||!d&&t==="fixed")&&(u=r.offsetLeft,f=r.offsetTop)}return{width:o,height:c,x:u+Ty(n),y:f}}function ZO(n){var t,e=vo(n),i=Ey(n),r=(t=n.ownerDocument)==null?void 0:t.body,o=hl(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=hl(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),u=-i.scrollLeft+Ty(n),f=-i.scrollTop;return Jr(r||e).direction==="rtl"&&(u+=hl(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:c,x:u,y:f}}function wy(n){var t=Jr(n),e=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+i)}function dA(n){return["html","body","#document"].indexOf(or(n))>=0?n.ownerDocument.body:rs(n)&&wy(n)?n:dA(Og(n))}function mh(n,t){var e;t===void 0&&(t=[]);var i=dA(n),r=i===((e=n.ownerDocument)==null?void 0:e.body),o=ji(i),c=r?[o].concat(o.visualViewport||[],wy(i)?i:[]):i,u=t.concat(c);return r?u:u.concat(mh(Og(c)))}function x_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function JO(n,t){var e=Oc(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function BE(n,t,e){return t===dy?x_(QO(n,e)):pl(t)?JO(t,e):x_(ZO(vo(n)))}function tD(n){var t=mh(Og(n)),e=["absolute","fixed"].indexOf(Jr(n).position)>=0,i=e&&rs(n)?Hh(n):n;return pl(i)?t.filter(function(r){return pl(r)&&lA(r,i)&&or(r)!=="body"}):[]}function eD(n,t,e,i){var r=t==="clippingParents"?tD(n):[].concat(t),o=[].concat(r,[e]),c=o[0],u=o.reduce(function(f,d){var m=BE(n,d,i);return f.top=hl(m.top,f.top),f.right=Xd(m.right,f.right),f.bottom=Xd(m.bottom,f.bottom),f.left=hl(m.left,f.left),f},BE(n,c,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function gA(n){var t=n.reference,e=n.element,i=n.placement,r=i?tr(i):null,o=i?Dc(i):null,c=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,f;switch(r){case Wn:f={x:c,y:t.y-e.height};break;case Ui:f={x:c,y:t.y+t.height};break;case zi:f={x:t.x+t.width,y:u};break;case Kn:f={x:t.x-e.width,y:u};break;default:f={x:t.x,y:t.y}}var d=r?yy(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(o){case gl:f[d]=f[d]-(t[m]/2-e[m]/2);break;case Cc:f[d]=f[d]+(t[m]/2-e[m]/2);break}}return f}function Mc(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=i===void 0?n.placement:i,o=e.strategy,c=o===void 0?n.strategy:o,u=e.boundary,f=u===void 0?KS:u,d=e.rootBoundary,m=d===void 0?dy:d,v=e.elementContext,E=v===void 0?gc:v,w=e.altBoundary,x=w===void 0?!1:w,C=e.padding,I=C===void 0?0:C,k=uA(typeof I!="number"?I:hA(I,Hc)),H=E===gc?XS:gc,G=n.rects.popper,K=n.elements[x?H:E],Y=eD(pl(K)?K:K.contextElement||vo(n.elements.popper),f,m,c),rt=Oc(n.elements.reference),P=gA({reference:rt,element:G,placement:r}),O=x_(Object.assign({},G,P)),M=E===gc?O:rt,L={top:Y.top-M.top+k.top,bottom:M.bottom-Y.bottom+k.bottom,left:Y.left-M.left+k.left,right:M.right-Y.right+k.right},V=n.modifiersData.offset;if(E===gc&&V){var z=V[r];Object.keys(L).forEach(function(N){var Dt=[zi,Ui].indexOf(N)>=0?1:-1,Tt=[Wn,Ui].indexOf(N)>=0?"y":"x";L[N]+=z[Tt]*Dt})}return L}function nD(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=e.boundary,o=e.rootBoundary,c=e.padding,u=e.flipVariations,f=e.allowedAutoPlacements,d=f===void 0?gy:f,m=Dc(i),v=m?u?S_:S_.filter(function(x){return Dc(x)===m}):Hc,E=v.filter(function(x){return d.indexOf(x)>=0});E.length===0&&(E=v);var w=E.reduce(function(x,C){return x[C]=Mc(n,{placement:C,boundary:r,rootBoundary:o,padding:c})[tr(C)],x},{});return Object.keys(w).sort(function(x,C){return w[x]-w[C]})}function iD(n){if(tr(n)===Ig)return[];var t=Nd(n);return[jE(n),t,jE(t)]}function sD(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,o=r===void 0?!0:r,c=e.altAxis,u=c===void 0?!0:c,f=e.fallbackPlacements,d=e.padding,m=e.boundary,v=e.rootBoundary,E=e.altBoundary,w=e.flipVariations,x=w===void 0?!0:w,C=e.allowedAutoPlacements,I=t.options.placement,k=tr(I),H=k===I,G=f||(H||!x?[Nd(I)]:iD(I)),K=[I].concat(G).reduce(function(yt,Ct){return yt.concat(tr(Ct)===Ig?nD(t,{placement:Ct,boundary:m,rootBoundary:v,padding:d,flipVariations:x,allowedAutoPlacements:C}):Ct)},[]),Y=t.rects.reference,rt=t.rects.popper,P=new Map,O=!0,M=K[0],L=0;L<K.length;L++){var V=K[L],z=tr(V),N=Dc(V)===gl,Dt=[Wn,Ui].indexOf(z)>=0,Tt=Dt?"width":"height",Z=Mc(t,{placement:V,boundary:m,rootBoundary:v,altBoundary:E,padding:d}),ct=Dt?N?zi:Kn:N?Ui:Wn;Y[Tt]>rt[Tt]&&(ct=Nd(ct));var _t=Nd(ct),xt=[];if(o&&xt.push(Z[z]<=0),u&&xt.push(Z[ct]<=0,Z[_t]<=0),xt.every(function(yt){return yt})){M=V,O=!1;break}P.set(V,xt)}if(O)for(var B=x?3:1,ut=function(Ct){var wt=K.find(function(Jt){var jt=P.get(Jt);if(jt)return jt.slice(0,Ct).every(function(_e){return _e})});if(wt)return M=wt,"break"},gt=B;gt>0;gt--){var q=ut(gt);if(q==="break")break}t.placement!==M&&(t.modifiersData[i]._skip=!0,t.placement=M,t.reset=!0)}}const pA={name:"flip",enabled:!0,phase:"main",fn:sD,requiresIfExists:["offset"],data:{_skip:!1}};function FE(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function HE(n){return[Wn,zi,Ui,Kn].some(function(t){return n[t]>=0})}function rD(n){var t=n.state,e=n.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,c=Mc(t,{elementContext:"reference"}),u=Mc(t,{altBoundary:!0}),f=FE(c,i),d=FE(u,r,o),m=HE(f),v=HE(d);t.modifiersData[e]={referenceClippingOffsets:f,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const mA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rD};function aD(n,t,e){var i=tr(n),r=[Kn,Wn].indexOf(i)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,c=o[0],u=o[1];return c=c||0,u=(u||0)*r,[Kn,zi].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}function oD(n){var t=n.state,e=n.options,i=n.name,r=e.offset,o=r===void 0?[0,0]:r,c=gy.reduce(function(m,v){return m[v]=aD(v,t.rects,o),m},{}),u=c[t.placement],f=u.x,d=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=c}const _A={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oD};function lD(n){var t=n.state,e=n.name;t.modifiersData[e]=gA({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Sy={name:"popperOffsets",enabled:!0,phase:"read",fn:lD,data:{}};function cD(n){return n==="x"?"y":"x"}function uD(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,o=r===void 0?!0:r,c=e.altAxis,u=c===void 0?!1:c,f=e.boundary,d=e.rootBoundary,m=e.altBoundary,v=e.padding,E=e.tether,w=E===void 0?!0:E,x=e.tetherOffset,C=x===void 0?0:x,I=Mc(t,{boundary:f,rootBoundary:d,padding:v,altBoundary:m}),k=tr(t.placement),H=Dc(t.placement),G=!H,K=yy(k),Y=cD(K),rt=t.modifiersData.popperOffsets,P=t.rects.reference,O=t.rects.popper,M=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,L=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(rt){if(o){var N,Dt=K==="y"?Wn:Kn,Tt=K==="y"?Ui:zi,Z=K==="y"?"height":"width",ct=rt[K],_t=ct+I[Dt],xt=ct-I[Tt],B=w?-O[Z]/2:0,ut=H===gl?P[Z]:O[Z],gt=H===gl?-O[Z]:-P[Z],q=t.elements.arrow,yt=w&&q?_y(q):{width:0,height:0},Ct=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:cA(),wt=Ct[Dt],Jt=Ct[Tt],jt=ph(0,P[Z],yt[Z]),_e=G?P[Z]/2-B-jt-wt-L.mainAxis:ut-jt-wt-L.mainAxis,Xn=G?-P[Z]/2+B+jt+Jt+L.mainAxis:gt+jt+Jt+L.mainAxis,bt=t.elements.arrow&&Hh(t.elements.arrow),Qn=bt?K==="y"?bt.clientTop||0:bt.clientLeft||0:0,bi=(N=V?.[K])!=null?N:0,us=ct+_e-bi-Qn,hr=ct+Xn-bi,Ei=ph(w?Xd(_t,us):_t,ct,w?hl(xt,hr):xt);rt[K]=Ei,z[K]=Ei-ct}if(u){var un,hs=K==="x"?Wn:Kn,Zn=K==="x"?Ui:zi,In=rt[Y],Jn=Y==="y"?"height":"width",aa=In+I[hs],fs=In-I[Zn],ds=[Wn,Kn].indexOf(k)!==-1,fr=(un=V?.[Y])!=null?un:0,de=ds?aa:In-P[Jn]-O[Jn]-fr+L.altAxis,$t=ds?In+P[Jn]+O[Jn]-fr-L.altAxis:fs,Ee=w&&ds?BO(de,In,$t):ph(w?de:aa,In,w?$t:fs);rt[Y]=Ee,z[Y]=Ee-In}t.modifiersData[i]=z}}const yA={name:"preventOverflow",enabled:!0,phase:"main",fn:uD,requiresIfExists:["offset"]};function hD(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function fD(n){return n===ji(n)||!rs(n)?Ey(n):hD(n)}function dD(n){var t=n.getBoundingClientRect(),e=Ic(t.width)/n.offsetWidth||1,i=Ic(t.height)/n.offsetHeight||1;return e!==1||i!==1}function gD(n,t,e){e===void 0&&(e=!1);var i=rs(t),r=rs(t)&&dD(t),o=vo(t),c=Oc(n,r,e),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!e)&&((or(t)!=="body"||wy(o))&&(u=fD(t)),rs(t)?(f=Oc(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=Ty(o))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function pD(n){var t=new Map,e=new Set,i=[];n.forEach(function(o){t.set(o.name,o)});function r(o){e.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(u){if(!e.has(u)){var f=t.get(u);f&&r(f)}}),i.push(o)}return n.forEach(function(o){e.has(o.name)||r(o)}),i}function mD(n){var t=pD(n);return aA.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}function _D(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function yD(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var qE={placement:"bottom",modifiers:[],strategy:"absolute"};function $E(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Dg(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,r=t.defaultOptions,o=r===void 0?qE:r;return function(u,f,d){d===void 0&&(d=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},qE,o),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},v=[],E=!1,w={state:m,setOptions:function(k){var H=typeof k=="function"?k(m.options):k;C(),m.options=Object.assign({},o,m.options,H),m.scrollParents={reference:pl(u)?mh(u):u.contextElement?mh(u.contextElement):[],popper:mh(f)};var G=mD(yD([].concat(i,m.options.modifiers)));return m.orderedModifiers=G.filter(function(K){return K.enabled}),x(),w.update()},forceUpdate:function(){if(!E){var k=m.elements,H=k.reference,G=k.popper;if($E(H,G)){m.rects={reference:gD(H,Hh(G),m.options.strategy==="fixed"),popper:_y(G)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(L){return m.modifiersData[L.name]=Object.assign({},L.data)});for(var K=0;K<m.orderedModifiers.length;K++){if(m.reset===!0){m.reset=!1,K=-1;continue}var Y=m.orderedModifiers[K],rt=Y.fn,P=Y.options,O=P===void 0?{}:P,M=Y.name;typeof rt=="function"&&(m=rt({state:m,options:O,name:M,instance:w})||m)}}}},update:_D(function(){return new Promise(function(I){w.forceUpdate(),I(m)})}),destroy:function(){C(),E=!0}};if(!$E(u,f))return w;w.setOptions(d).then(function(I){!E&&d.onFirstUpdate&&d.onFirstUpdate(I)});function x(){m.orderedModifiers.forEach(function(I){var k=I.name,H=I.options,G=H===void 0?{}:H,K=I.effect;if(typeof K=="function"){var Y=K({state:m,name:k,instance:w,options:G}),rt=function(){};v.push(Y||rt)}})}function C(){v.forEach(function(I){return I()}),v=[]}return w}}var vD=Dg(),bD=[by,Sy,vy,my],ED=Dg({defaultModifiers:bD}),TD=[by,Sy,vy,my,_A,pA,yA,fA,mA],wD=Dg({defaultModifiers:TD});const SD=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nA,afterRead:JS,afterWrite:rA,applyStyles:my,arrow:fA,auto:Ig,basePlacements:Hc,beforeMain:tA,beforeRead:QS,beforeWrite:iA,bottom:Ui,clippingParents:KS,computeStyles:vy,createPopper:wD,createPopperBase:vD,createPopperLite:ED,detectOverflow:Mc,end:Cc,eventListeners:by,flip:pA,hide:mA,left:Kn,main:eA,modifierPhases:aA,offset:_A,placements:gy,popper:gc,popperGenerator:Dg,popperOffsets:Sy,preventOverflow:yA,read:ZS,reference:XS,right:zi,start:gl,top:Wn,variationPlacements:S_,viewport:dy,write:sA},Symbol.toStringTag,{value:"Module"})),AD=eI(SD);/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xD=Pd.exports,GE;function RD(){return GE||(GE=1,function(n,t){(function(e,i){n.exports=i(AD)})(xD,function(e){function i(j){const y=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(j){for(const A in j)if(A!=="default"){const F=Object.getOwnPropertyDescriptor(j,A);Object.defineProperty(y,A,F.get?F:{enumerable:!0,get:()=>j[A]})}}return y.default=j,Object.freeze(y)}const r=i(e),o=new Map,c={set(j,y,A){o.has(j)||o.set(j,new Map);const F=o.get(j);F.has(y)||F.size===0?F.set(y,A):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(F.keys())[0]}.`)},get:(j,y)=>o.has(j)&&o.get(j).get(y)||null,remove(j,y){if(!o.has(j))return;const A=o.get(j);A.delete(y),A.size===0&&o.delete(j)}},u="transitionend",f=j=>(j&&window.CSS&&window.CSS.escape&&(j=j.replace(/#([^\s"#']+)/g,(y,A)=>`#${CSS.escape(A)}`)),j),d=j=>{j.dispatchEvent(new Event(u))},m=j=>!(!j||typeof j!="object")&&(j.jquery!==void 0&&(j=j[0]),j.nodeType!==void 0),v=j=>m(j)?j.jquery?j[0]:j:typeof j=="string"&&j.length>0?document.querySelector(f(j)):null,E=j=>{if(!m(j)||j.getClientRects().length===0)return!1;const y=getComputedStyle(j).getPropertyValue("visibility")==="visible",A=j.closest("details:not([open])");if(!A)return y;if(A!==j){const F=j.closest("summary");if(F&&F.parentNode!==A||F===null)return!1}return y},w=j=>!j||j.nodeType!==Node.ELEMENT_NODE||!!j.classList.contains("disabled")||(j.disabled!==void 0?j.disabled:j.hasAttribute("disabled")&&j.getAttribute("disabled")!=="false"),x=j=>{if(!document.documentElement.attachShadow)return null;if(typeof j.getRootNode=="function"){const y=j.getRootNode();return y instanceof ShadowRoot?y:null}return j instanceof ShadowRoot?j:j.parentNode?x(j.parentNode):null},C=()=>{},I=j=>{j.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],G=()=>document.documentElement.dir==="rtl",K=j=>{var y;y=()=>{const A=k();if(A){const F=j.NAME,at=A.fn[F];A.fn[F]=j.jQueryInterface,A.fn[F].Constructor=j,A.fn[F].noConflict=()=>(A.fn[F]=at,j.jQueryInterface)}},document.readyState==="loading"?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const A of H)A()}),H.push(y)):y()},Y=(j,y=[],A=j)=>typeof j=="function"?j.call(...y):A,rt=(j,y,A=!0)=>{if(!A)return void Y(j);const F=(Et=>{if(!Et)return 0;let{transitionDuration:Ut,transitionDelay:ve}=window.getComputedStyle(Et);const sn=Number.parseFloat(Ut),We=Number.parseFloat(ve);return sn||We?(Ut=Ut.split(",")[0],ve=ve.split(",")[0],1e3*(Number.parseFloat(Ut)+Number.parseFloat(ve))):0})(y)+5;let at=!1;const mt=({target:Et})=>{Et===y&&(at=!0,y.removeEventListener(u,mt),Y(j))};y.addEventListener(u,mt),setTimeout(()=>{at||d(y)},F)},P=(j,y,A,F)=>{const at=j.length;let mt=j.indexOf(y);return mt===-1?!A&&F?j[at-1]:j[0]:(mt+=A?1:-1,F&&(mt=(mt+at)%at),j[Math.max(0,Math.min(mt,at-1))])},O=/[^.]*(?=\..*)\.|.*/,M=/\..*/,L=/::\d+$/,V={};let z=1;const N={mouseenter:"mouseover",mouseleave:"mouseout"},Dt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Tt(j,y){return y&&`${y}::${z++}`||j.uidEvent||z++}function Z(j){const y=Tt(j);return j.uidEvent=y,V[y]=V[y]||{},V[y]}function ct(j,y,A=null){return Object.values(j).find(F=>F.callable===y&&F.delegationSelector===A)}function _t(j,y,A){const F=typeof y=="string",at=F?A:y||A;let mt=gt(j);return Dt.has(mt)||(mt=j),[F,at,mt]}function xt(j,y,A,F,at){if(typeof y!="string"||!j)return;let[mt,Et,Ut]=_t(y,A,F);y in N&&(Et=(En=>function(ui){if(!ui.relatedTarget||ui.relatedTarget!==ui.delegateTarget&&!ui.delegateTarget.contains(ui.relatedTarget))return En.call(this,ui)})(Et));const ve=Z(j),sn=ve[Ut]||(ve[Ut]={}),We=ct(sn,Et,mt?A:null);if(We)return void(We.oneOff=We.oneOff&&at);const Ii=Tt(Et,y.replace(O,"")),ke=mt?function(Oi,En,ui){return function Hs(Xi){const du=Oi.querySelectorAll(En);for(let{target:As}=Xi;As&&As!==this;As=As.parentNode)for(const wa of du)if(wa===As)return yt(Xi,{delegateTarget:As}),Hs.oneOff&&q.off(Oi,Xi.type,En,ui),ui.apply(As,[Xi])}}(j,A,Et):function(Oi,En){return function ui(Hs){return yt(Hs,{delegateTarget:Oi}),ui.oneOff&&q.off(Oi,Hs.type,En),En.apply(Oi,[Hs])}}(j,Et);ke.delegationSelector=mt?A:null,ke.callable=Et,ke.oneOff=at,ke.uidEvent=Ii,sn[Ii]=ke,j.addEventListener(Ut,ke,mt)}function B(j,y,A,F,at){const mt=ct(y[A],F,at);mt&&(j.removeEventListener(A,mt,!!at),delete y[A][mt.uidEvent])}function ut(j,y,A,F){const at=y[A]||{};for(const[mt,Et]of Object.entries(at))mt.includes(F)&&B(j,y,A,Et.callable,Et.delegationSelector)}function gt(j){return j=j.replace(M,""),N[j]||j}const q={on(j,y,A,F){xt(j,y,A,F,!1)},one(j,y,A,F){xt(j,y,A,F,!0)},off(j,y,A,F){if(typeof y!="string"||!j)return;const[at,mt,Et]=_t(y,A,F),Ut=Et!==y,ve=Z(j),sn=ve[Et]||{},We=y.startsWith(".");if(mt===void 0){if(We)for(const Ii of Object.keys(ve))ut(j,ve,Ii,y.slice(1));for(const[Ii,ke]of Object.entries(sn)){const Oi=Ii.replace(L,"");Ut&&!y.includes(Oi)||B(j,ve,Et,ke.callable,ke.delegationSelector)}}else{if(!Object.keys(sn).length)return;B(j,ve,Et,mt,at?A:null)}},trigger(j,y,A){if(typeof y!="string"||!j)return null;const F=k();let at=null,mt=!0,Et=!0,Ut=!1;y!==gt(y)&&F&&(at=F.Event(y,A),F(j).trigger(at),mt=!at.isPropagationStopped(),Et=!at.isImmediatePropagationStopped(),Ut=at.isDefaultPrevented());const ve=yt(new Event(y,{bubbles:mt,cancelable:!0}),A);return Ut&&ve.preventDefault(),Et&&j.dispatchEvent(ve),ve.defaultPrevented&&at&&at.preventDefault(),ve}};function yt(j,y={}){for(const[A,F]of Object.entries(y))try{j[A]=F}catch{Object.defineProperty(j,A,{configurable:!0,get:()=>F})}return j}function Ct(j){if(j==="true")return!0;if(j==="false")return!1;if(j===Number(j).toString())return Number(j);if(j===""||j==="null")return null;if(typeof j!="string")return j;try{return JSON.parse(decodeURIComponent(j))}catch{return j}}function wt(j){return j.replace(/[A-Z]/g,y=>`-${y.toLowerCase()}`)}const Jt={setDataAttribute(j,y,A){j.setAttribute(`data-bs-${wt(y)}`,A)},removeDataAttribute(j,y){j.removeAttribute(`data-bs-${wt(y)}`)},getDataAttributes(j){if(!j)return{};const y={},A=Object.keys(j.dataset).filter(F=>F.startsWith("bs")&&!F.startsWith("bsConfig"));for(const F of A){let at=F.replace(/^bs/,"");at=at.charAt(0).toLowerCase()+at.slice(1),y[at]=Ct(j.dataset[F])}return y},getDataAttribute:(j,y)=>Ct(j.getAttribute(`data-bs-${wt(y)}`))};class jt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(y){return y=this._mergeConfigObj(y),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}_configAfterMerge(y){return y}_mergeConfigObj(y,A){const F=m(A)?Jt.getDataAttribute(A,"config"):{};return{...this.constructor.Default,...typeof F=="object"?F:{},...m(A)?Jt.getDataAttributes(A):{},...typeof y=="object"?y:{}}}_typeCheckConfig(y,A=this.constructor.DefaultType){for(const[at,mt]of Object.entries(A)){const Et=y[at],Ut=m(Et)?"element":(F=Et)==null?`${F}`:Object.prototype.toString.call(F).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(mt).test(Ut))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${at}" provided type "${Ut}" but expected type "${mt}".`)}var F}}class _e extends jt{constructor(y,A){super(),(y=v(y))&&(this._element=y,this._config=this._getConfig(A),c.set(this._element,this.constructor.DATA_KEY,this))}dispose(){c.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const y of Object.getOwnPropertyNames(this))this[y]=null}_queueCallback(y,A,F=!0){rt(y,A,F)}_getConfig(y){return y=this._mergeConfigObj(y,this._element),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}static getInstance(y){return c.get(v(y),this.DATA_KEY)}static getOrCreateInstance(y,A={}){return this.getInstance(y)||new this(y,typeof A=="object"?A:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(y){return`${y}${this.EVENT_KEY}`}}const Xn=j=>{let y=j.getAttribute("data-bs-target");if(!y||y==="#"){let A=j.getAttribute("href");if(!A||!A.includes("#")&&!A.startsWith("."))return null;A.includes("#")&&!A.startsWith("#")&&(A=`#${A.split("#")[1]}`),y=A&&A!=="#"?A.trim():null}return y?y.split(",").map(A=>f(A)).join(","):null},bt={find:(j,y=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(y,j)),findOne:(j,y=document.documentElement)=>Element.prototype.querySelector.call(y,j),children:(j,y)=>[].concat(...j.children).filter(A=>A.matches(y)),parents(j,y){const A=[];let F=j.parentNode.closest(y);for(;F;)A.push(F),F=F.parentNode.closest(y);return A},prev(j,y){let A=j.previousElementSibling;for(;A;){if(A.matches(y))return[A];A=A.previousElementSibling}return[]},next(j,y){let A=j.nextElementSibling;for(;A;){if(A.matches(y))return[A];A=A.nextElementSibling}return[]},focusableChildren(j){const y=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(A=>`${A}:not([tabindex^="-"])`).join(",");return this.find(y,j).filter(A=>!w(A)&&E(A))},getSelectorFromElement(j){const y=Xn(j);return y&&bt.findOne(y)?y:null},getElementFromSelector(j){const y=Xn(j);return y?bt.findOne(y):null},getMultipleElementsFromSelector(j){const y=Xn(j);return y?bt.find(y):[]}},Qn=(j,y="hide")=>{const A=`click.dismiss${j.EVENT_KEY}`,F=j.NAME;q.on(document,A,`[data-bs-dismiss="${F}"]`,function(at){if(["A","AREA"].includes(this.tagName)&&at.preventDefault(),w(this))return;const mt=bt.getElementFromSelector(this)||this.closest(`.${F}`);j.getOrCreateInstance(mt)[y]()})},bi=".bs.alert",us=`close${bi}`,hr=`closed${bi}`;class Ei extends _e{static get NAME(){return"alert"}close(){if(q.trigger(this._element,us).defaultPrevented)return;this._element.classList.remove("show");const y=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,y)}_destroyElement(){this._element.remove(),q.trigger(this._element,hr),this.dispose()}static jQueryInterface(y){return this.each(function(){const A=Ei.getOrCreateInstance(this);if(typeof y=="string"){if(A[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);A[y](this)}})}}Qn(Ei,"close"),K(Ei);const un='[data-bs-toggle="button"]';class hs extends _e{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(y){return this.each(function(){const A=hs.getOrCreateInstance(this);y==="toggle"&&A[y]()})}}q.on(document,"click.bs.button.data-api",un,j=>{j.preventDefault();const y=j.target.closest(un);hs.getOrCreateInstance(y).toggle()}),K(hs);const Zn=".bs.swipe",In=`touchstart${Zn}`,Jn=`touchmove${Zn}`,aa=`touchend${Zn}`,fs=`pointerdown${Zn}`,ds=`pointerup${Zn}`,fr={endCallback:null,leftCallback:null,rightCallback:null},de={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $t extends jt{constructor(y,A){super(),this._element=y,y&&$t.isSupported()&&(this._config=this._getConfig(A),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return fr}static get DefaultType(){return de}static get NAME(){return"swipe"}dispose(){q.off(this._element,Zn)}_start(y){this._supportPointerEvents?this._eventIsPointerPenTouch(y)&&(this._deltaX=y.clientX):this._deltaX=y.touches[0].clientX}_end(y){this._eventIsPointerPenTouch(y)&&(this._deltaX=y.clientX-this._deltaX),this._handleSwipe(),Y(this._config.endCallback)}_move(y){this._deltaX=y.touches&&y.touches.length>1?0:y.touches[0].clientX-this._deltaX}_handleSwipe(){const y=Math.abs(this._deltaX);if(y<=40)return;const A=y/this._deltaX;this._deltaX=0,A&&Y(A>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,fs,y=>this._start(y)),q.on(this._element,ds,y=>this._end(y)),this._element.classList.add("pointer-event")):(q.on(this._element,In,y=>this._start(y)),q.on(this._element,Jn,y=>this._move(y)),q.on(this._element,aa,y=>this._end(y)))}_eventIsPointerPenTouch(y){return this._supportPointerEvents&&(y.pointerType==="pen"||y.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ee=".bs.carousel",tn=".data-api",Cl="ArrowLeft",tu="ArrowRight",Ti="next",ti="prev",ei="left",On="right",oa=`slide${Ee}`,gs=`slid${Ee}`,So=`keydown${Ee}`,Ao=`mouseenter${Ee}`,xo=`mouseleave${Ee}`,ps=`dragstart${Ee}`,ms=`load${Ee}${tn}`,Ro=`click${Ee}${tn}`,wi="carousel",Ms="active",_s=".active",dr=".carousel-item",ks=_s+dr,Il={[Cl]:On,[tu]:ei},ye={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Be={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ge extends _e{constructor(y,A){super(y,A),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=bt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===wi&&this.cycle()}static get Default(){return ye}static get DefaultType(){return Be}static get NAME(){return"carousel"}next(){this._slide(Ti)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(ti)}pause(){this._isSliding&&d(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?q.one(this._element,gs,()=>this.cycle()):this.cycle())}to(y){const A=this._getItems();if(y>A.length-1||y<0)return;if(this._isSliding)return void q.one(this._element,gs,()=>this.to(y));const F=this._getItemIndex(this._getActive());if(F===y)return;const at=y>F?Ti:ti;this._slide(at,A[y])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(y){return y.defaultInterval=y.interval,y}_addEventListeners(){this._config.keyboard&&q.on(this._element,So,y=>this._keydown(y)),this._config.pause==="hover"&&(q.on(this._element,Ao,()=>this.pause()),q.on(this._element,xo,()=>this._maybeEnableCycle())),this._config.touch&&$t.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const A of bt.find(".carousel-item img",this._element))q.on(A,ps,F=>F.preventDefault());const y={leftCallback:()=>this._slide(this._directionToOrder(ei)),rightCallback:()=>this._slide(this._directionToOrder(On)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new $t(this._element,y)}_keydown(y){if(/input|textarea/i.test(y.target.tagName))return;const A=Il[y.key];A&&(y.preventDefault(),this._slide(this._directionToOrder(A)))}_getItemIndex(y){return this._getItems().indexOf(y)}_setActiveIndicatorElement(y){if(!this._indicatorsElement)return;const A=bt.findOne(_s,this._indicatorsElement);A.classList.remove(Ms),A.removeAttribute("aria-current");const F=bt.findOne(`[data-bs-slide-to="${y}"]`,this._indicatorsElement);F&&(F.classList.add(Ms),F.setAttribute("aria-current","true"))}_updateInterval(){const y=this._activeElement||this._getActive();if(!y)return;const A=Number.parseInt(y.getAttribute("data-bs-interval"),10);this._config.interval=A||this._config.defaultInterval}_slide(y,A=null){if(this._isSliding)return;const F=this._getActive(),at=y===Ti,mt=A||P(this._getItems(),F,at,this._config.wrap);if(mt===F)return;const Et=this._getItemIndex(mt),Ut=Ii=>q.trigger(this._element,Ii,{relatedTarget:mt,direction:this._orderToDirection(y),from:this._getItemIndex(F),to:Et});if(Ut(oa).defaultPrevented||!F||!mt)return;const ve=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Et),this._activeElement=mt;const sn=at?"carousel-item-start":"carousel-item-end",We=at?"carousel-item-next":"carousel-item-prev";mt.classList.add(We),I(mt),F.classList.add(sn),mt.classList.add(sn),this._queueCallback(()=>{mt.classList.remove(sn,We),mt.classList.add(Ms),F.classList.remove(Ms,We,sn),this._isSliding=!1,Ut(gs)},F,this._isAnimated()),ve&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return bt.findOne(ks,this._element)}_getItems(){return bt.find(dr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(y){return G()?y===ei?ti:Ti:y===ei?Ti:ti}_orderToDirection(y){return G()?y===ti?ei:On:y===ti?On:ei}static jQueryInterface(y){return this.each(function(){const A=ge.getOrCreateInstance(this,y);if(typeof y!="number"){if(typeof y=="string"){if(A[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);A[y]()}}else A.to(y)})}}q.on(document,Ro,"[data-bs-slide], [data-bs-slide-to]",function(j){const y=bt.getElementFromSelector(this);if(!y||!y.classList.contains(wi))return;j.preventDefault();const A=ge.getOrCreateInstance(y),F=this.getAttribute("data-bs-slide-to");return F?(A.to(F),void A._maybeEnableCycle()):Jt.getDataAttribute(this,"slide")==="next"?(A.next(),void A._maybeEnableCycle()):(A.prev(),void A._maybeEnableCycle())}),q.on(window,ms,()=>{const j=bt.find('[data-bs-ride="carousel"]');for(const y of j)ge.getOrCreateInstance(y)}),K(ge);const hn=".bs.collapse",Co=`show${hn}`,eu=`shown${hn}`,Ps=`hide${hn}`,Ol=`hidden${hn}`,gr=`click${hn}.data-api`,Bi="show",Dn="collapse",zn="collapsing",Fi=`:scope .${Dn} .${Dn}`,en='[data-bs-toggle="collapse"]',De={parent:null,toggle:!0},Io={parent:"(null|element)",toggle:"boolean"};class Si extends _e{constructor(y,A){super(y,A),this._isTransitioning=!1,this._triggerArray=[];const F=bt.find(en);for(const at of F){const mt=bt.getSelectorFromElement(at),Et=bt.find(mt).filter(Ut=>Ut===this._element);mt!==null&&Et.length&&this._triggerArray.push(at)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return De}static get DefaultType(){return Io}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let y=[];if(this._config.parent&&(y=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(at=>at!==this._element).map(at=>Si.getOrCreateInstance(at,{toggle:!1}))),y.length&&y[0]._isTransitioning||q.trigger(this._element,Co).defaultPrevented)return;for(const at of y)at.hide();const A=this._getDimension();this._element.classList.remove(Dn),this._element.classList.add(zn),this._element.style[A]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const F=`scroll${A[0].toUpperCase()+A.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zn),this._element.classList.add(Dn,Bi),this._element.style[A]="",q.trigger(this._element,eu)},this._element,!0),this._element.style[A]=`${this._element[F]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,Ps).defaultPrevented)return;const y=this._getDimension();this._element.style[y]=`${this._element.getBoundingClientRect()[y]}px`,I(this._element),this._element.classList.add(zn),this._element.classList.remove(Dn,Bi);for(const A of this._triggerArray){const F=bt.getElementFromSelector(A);F&&!this._isShown(F)&&this._addAriaAndCollapsedClass([A],!1)}this._isTransitioning=!0,this._element.style[y]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zn),this._element.classList.add(Dn),q.trigger(this._element,Ol)},this._element,!0)}_isShown(y=this._element){return y.classList.contains(Bi)}_configAfterMerge(y){return y.toggle=!!y.toggle,y.parent=v(y.parent),y}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const y=this._getFirstLevelChildren(en);for(const A of y){const F=bt.getElementFromSelector(A);F&&this._addAriaAndCollapsedClass([A],this._isShown(F))}}_getFirstLevelChildren(y){const A=bt.find(Fi,this._config.parent);return bt.find(y,this._config.parent).filter(F=>!A.includes(F))}_addAriaAndCollapsedClass(y,A){if(y.length)for(const F of y)F.classList.toggle("collapsed",!A),F.setAttribute("aria-expanded",A)}static jQueryInterface(y){const A={};return typeof y=="string"&&/show|hide/.test(y)&&(A.toggle=!1),this.each(function(){const F=Si.getOrCreateInstance(this,A);if(typeof y=="string"){if(F[y]===void 0)throw new TypeError(`No method named "${y}"`);F[y]()}})}}q.on(document,gr,en,function(j){(j.target.tagName==="A"||j.delegateTarget&&j.delegateTarget.tagName==="A")&&j.preventDefault();for(const y of bt.getMultipleElementsFromSelector(this))Si.getOrCreateInstance(y,{toggle:!1}).toggle()}),K(Si);const ni="dropdown",vn=".bs.dropdown",la=".data-api",Dl="ArrowUp",Ns="ArrowDown",Ml=`hide${vn}`,Ls=`hidden${vn}`,Hi=`show${vn}`,nn=`shown${vn}`,Vs=`click${vn}${la}`,Oo=`keydown${vn}${la}`,ys=`keyup${vn}${la}`,Ai="show",ii='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Do=`${ii}.${Ai}`,vs=".dropdown-menu",bn=G()?"top-end":"top-start",Mo=G()?"top-start":"top-end",nu=G()?"bottom-end":"bottom-start",ca=G()?"bottom-start":"bottom-end",ko=G()?"left-start":"right-start",pr=G()?"right-start":"left-start",iu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Le={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Te extends _e{constructor(y,A){super(y,A),this._popper=null,this._parent=this._element.parentNode,this._menu=bt.next(this._element,vs)[0]||bt.prev(this._element,vs)[0]||bt.findOne(vs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return iu}static get DefaultType(){return Le}static get NAME(){return ni}toggle(){return this._isShown()?this.hide():this.show()}show(){if(w(this._element)||this._isShown())return;const y={relatedTarget:this._element};if(!q.trigger(this._element,Hi,y).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const A of[].concat(...document.body.children))q.on(A,"mouseover",C);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ai),this._element.classList.add(Ai),q.trigger(this._element,nn,y)}}hide(){if(w(this._element)||!this._isShown())return;const y={relatedTarget:this._element};this._completeHide(y)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(y){if(!q.trigger(this._element,Ml,y).defaultPrevented){if("ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))q.off(A,"mouseover",C);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ai),this._element.classList.remove(Ai),this._element.setAttribute("aria-expanded","false"),Jt.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,Ls,y),this._element.focus()}}_getConfig(y){if(typeof(y=super._getConfig(y)).reference=="object"&&!m(y.reference)&&typeof y.reference.getBoundingClientRect!="function")throw new TypeError(`${ni.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return y}_createPopper(){if(r===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let y=this._element;this._config.reference==="parent"?y=this._parent:m(this._config.reference)?y=v(this._config.reference):typeof this._config.reference=="object"&&(y=this._config.reference);const A=this._getPopperConfig();this._popper=r.createPopper(y,this._menu,A)}_isShown(){return this._menu.classList.contains(Ai)}_getPlacement(){const y=this._parent;if(y.classList.contains("dropend"))return ko;if(y.classList.contains("dropstart"))return pr;if(y.classList.contains("dropup-center"))return"top";if(y.classList.contains("dropdown-center"))return"bottom";const A=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return y.classList.contains("dropup")?A?Mo:bn:A?ca:nu}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:y}=this._config;return typeof y=="string"?y.split(",").map(A=>Number.parseInt(A,10)):typeof y=="function"?A=>y(A,this._element):y}_getPopperConfig(){const y={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Jt.setDataAttribute(this._menu,"popper","static"),y.modifiers=[{name:"applyStyles",enabled:!1}]),{...y,...Y(this._config.popperConfig,[void 0,y])}}_selectMenuItem({key:y,target:A}){const F=bt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(at=>E(at));F.length&&P(F,A,y===Ns,!F.includes(A)).focus()}static jQueryInterface(y){return this.each(function(){const A=Te.getOrCreateInstance(this,y);if(typeof y=="string"){if(A[y]===void 0)throw new TypeError(`No method named "${y}"`);A[y]()}})}static clearMenus(y){if(y.button===2||y.type==="keyup"&&y.key!=="Tab")return;const A=bt.find(Do);for(const F of A){const at=Te.getInstance(F);if(!at||at._config.autoClose===!1)continue;const mt=y.composedPath(),Et=mt.includes(at._menu);if(mt.includes(at._element)||at._config.autoClose==="inside"&&!Et||at._config.autoClose==="outside"&&Et||at._menu.contains(y.target)&&(y.type==="keyup"&&y.key==="Tab"||/input|select|option|textarea|form/i.test(y.target.tagName)))continue;const Ut={relatedTarget:at._element};y.type==="click"&&(Ut.clickEvent=y),at._completeHide(Ut)}}static dataApiKeydownHandler(y){const A=/input|textarea/i.test(y.target.tagName),F=y.key==="Escape",at=[Dl,Ns].includes(y.key);if(!at&&!F||A&&!F)return;y.preventDefault();const mt=this.matches(ii)?this:bt.prev(this,ii)[0]||bt.next(this,ii)[0]||bt.findOne(ii,y.delegateTarget.parentNode),Et=Te.getOrCreateInstance(mt);if(at)return y.stopPropagation(),Et.show(),void Et._selectMenuItem(y);Et._isShown()&&(y.stopPropagation(),Et.hide(),mt.focus())}}q.on(document,Oo,ii,Te.dataApiKeydownHandler),q.on(document,Oo,vs,Te.dataApiKeydownHandler),q.on(document,Vs,Te.clearMenus),q.on(document,ys,Te.clearMenus),q.on(document,Vs,ii,function(j){j.preventDefault(),Te.getOrCreateInstance(this).toggle()}),K(Te);const Us="backdrop",bs="show",qi=`mousedown.bs.${Us}`,re={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jn extends jt{constructor(y){super(),this._config=this._getConfig(y),this._isAppended=!1,this._element=null}static get Default(){return re}static get DefaultType(){return mr}static get NAME(){return Us}show(y){if(!this._config.isVisible)return void Y(y);this._append();const A=this._getElement();this._config.isAnimated&&I(A),A.classList.add(bs),this._emulateAnimation(()=>{Y(y)})}hide(y){this._config.isVisible?(this._getElement().classList.remove(bs),this._emulateAnimation(()=>{this.dispose(),Y(y)})):Y(y)}dispose(){this._isAppended&&(q.off(this._element,qi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const y=document.createElement("div");y.className=this._config.className,this._config.isAnimated&&y.classList.add("fade"),this._element=y}return this._element}_configAfterMerge(y){return y.rootElement=v(y.rootElement),y}_append(){if(this._isAppended)return;const y=this._getElement();this._config.rootElement.append(y),q.on(y,qi,()=>{Y(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(y){rt(y,this._getElement(),this._config.isAnimated)}}const $i=".bs.focustrap",kl=`focusin${$i}`,Po=`keydown.tab${$i}`,ua="backward",su={autofocus:!0,trapElement:null},ru={autofocus:"boolean",trapElement:"element"};class _r extends jt{constructor(y){super(),this._config=this._getConfig(y),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return su}static get DefaultType(){return ru}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,$i),q.on(document,kl,y=>this._handleFocusin(y)),q.on(document,Po,y=>this._handleKeydown(y)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,$i))}_handleFocusin(y){const{trapElement:A}=this._config;if(y.target===document||y.target===A||A.contains(y.target))return;const F=bt.focusableChildren(A);F.length===0?A.focus():this._lastTabNavDirection===ua?F[F.length-1].focus():F[0].focus()}_handleKeydown(y){y.key==="Tab"&&(this._lastTabNavDirection=y.shiftKey?ua:"forward")}}const Gi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bn=".sticky-top",si="padding-right",Yi="margin-right";class yr{constructor(){this._element=document.body}getWidth(){const y=document.documentElement.clientWidth;return Math.abs(window.innerWidth-y)}hide(){const y=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,si,A=>A+y),this._setElementAttributes(Gi,si,A=>A+y),this._setElementAttributes(Bn,Yi,A=>A-y)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,si),this._resetElementAttributes(Gi,si),this._resetElementAttributes(Bn,Yi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(y,A,F){const at=this.getWidth();this._applyManipulationCallback(y,mt=>{if(mt!==this._element&&window.innerWidth>mt.clientWidth+at)return;this._saveInitialAttribute(mt,A);const Et=window.getComputedStyle(mt).getPropertyValue(A);mt.style.setProperty(A,`${F(Number.parseFloat(Et))}px`)})}_saveInitialAttribute(y,A){const F=y.style.getPropertyValue(A);F&&Jt.setDataAttribute(y,A,F)}_resetElementAttributes(y,A){this._applyManipulationCallback(y,F=>{const at=Jt.getDataAttribute(F,A);at!==null?(Jt.removeDataAttribute(F,A),F.style.setProperty(A,at)):F.style.removeProperty(A)})}_applyManipulationCallback(y,A){if(m(y))A(y);else for(const F of bt.find(y,this._element))A(F)}}const Me=".bs.modal",Pl=`hide${Me}`,vr=`hidePrevented${Me}`,ri=`hidden${Me}`,Fn=`show${Me}`,br=`shown${Me}`,Wi=`resize${Me}`,zs=`click.dismiss${Me}`,Es=`mousedown.dismiss${Me}`,No=`keydown.dismiss${Me}`,Ki=`click${Me}.data-api`,xi="modal-open",ha="show",Ve="modal-static",ne={backdrop:!0,focus:!0,keyboard:!0},fa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hn extends _e{constructor(y,A){super(y,A),this._dialog=bt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yr,this._addEventListeners()}static get Default(){return ne}static get DefaultType(){return fa}static get NAME(){return"modal"}toggle(y){return this._isShown?this.hide():this.show(y)}show(y){this._isShown||this._isTransitioning||q.trigger(this._element,Fn,{relatedTarget:y}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(y)))}hide(){this._isShown&&!this._isTransitioning&&(q.trigger(this._element,Pl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ha),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){q.off(window,Me),q.off(this._dialog,Me),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new _r({trapElement:this._element})}_showElement(y){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const A=bt.findOne(".modal-body",this._dialog);A&&(A.scrollTop=0),I(this._element),this._element.classList.add(ha),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,br,{relatedTarget:y})},this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,No,y=>{y.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),q.on(window,Wi,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),q.on(this._element,Es,y=>{q.one(this._element,zs,A=>{this._element===y.target&&this._element===A.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xi),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,ri)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(q.trigger(this._element,vr).defaultPrevented)return;const y=this._element.scrollHeight>document.documentElement.clientHeight,A=this._element.style.overflowY;A==="hidden"||this._element.classList.contains(Ve)||(y||(this._element.style.overflowY="hidden"),this._element.classList.add(Ve),this._queueCallback(()=>{this._element.classList.remove(Ve),this._queueCallback(()=>{this._element.style.overflowY=A},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const y=this._element.scrollHeight>document.documentElement.clientHeight,A=this._scrollBar.getWidth(),F=A>0;if(F&&!y){const at=G()?"paddingLeft":"paddingRight";this._element.style[at]=`${A}px`}if(!F&&y){const at=G()?"paddingRight":"paddingLeft";this._element.style[at]=`${A}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(y,A){return this.each(function(){const F=Hn.getOrCreateInstance(this,y);if(typeof y=="string"){if(F[y]===void 0)throw new TypeError(`No method named "${y}"`);F[y](A)}})}}q.on(document,Ki,'[data-bs-toggle="modal"]',function(j){const y=bt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&j.preventDefault(),q.one(y,Fn,F=>{F.defaultPrevented||q.one(y,ri,()=>{E(this)&&this.focus()})});const A=bt.findOne(".modal.show");A&&Hn.getInstance(A).hide(),Hn.getOrCreateInstance(y).toggle(this)}),Qn(Hn),K(Hn);const ai=".bs.offcanvas",Er=".data-api",da=`load${ai}${Er}`,Ri="show",js="showing",qn="hiding",Lo=".offcanvas.show",au=`show${ai}`,Tr=`shown${ai}`,ga=`hide${ai}`,pa=`hidePrevented${ai}`,wr=`hidden${ai}`,Nl=`resize${ai}`,ma=`click${ai}${Er}`,ou=`keydown.dismiss${ai}`,Vo={backdrop:!0,keyboard:!0,scroll:!1},Sr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class oi extends _e{constructor(y,A){super(y,A),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vo}static get DefaultType(){return Sr}static get NAME(){return"offcanvas"}toggle(y){return this._isShown?this.hide():this.show(y)}show(y){this._isShown||q.trigger(this._element,au,{relatedTarget:y}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new yr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(js),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ri),this._element.classList.remove(js),q.trigger(this._element,Tr,{relatedTarget:y})},this._element,!0))}hide(){this._isShown&&(q.trigger(this._element,ga).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(qn),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ri,qn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yr().reset(),q.trigger(this._element,wr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const y=!!this._config.backdrop;return new jn({className:"offcanvas-backdrop",isVisible:y,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:y?()=>{this._config.backdrop!=="static"?this.hide():q.trigger(this._element,pa)}:null})}_initializeFocusTrap(){return new _r({trapElement:this._element})}_addEventListeners(){q.on(this._element,ou,y=>{y.key==="Escape"&&(this._config.keyboard?this.hide():q.trigger(this._element,pa))})}static jQueryInterface(y){return this.each(function(){const A=oi.getOrCreateInstance(this,y);if(typeof y=="string"){if(A[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);A[y](this)}})}}q.on(document,ma,'[data-bs-toggle="offcanvas"]',function(j){const y=bt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&j.preventDefault(),w(this))return;q.one(y,wr,()=>{E(this)&&this.focus()});const A=bt.findOne(Lo);A&&A!==y&&oi.getInstance(A).hide(),oi.getOrCreateInstance(y).toggle(this)}),q.on(window,da,()=>{for(const j of bt.find(Lo))oi.getOrCreateInstance(j).show()}),q.on(window,Nl,()=>{for(const j of bt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(j).position!=="fixed"&&oi.getOrCreateInstance(j).hide()}),Qn(oi),K(oi);const Uo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ar=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ll=(j,y)=>{const A=j.nodeName.toLowerCase();return y.includes(A)?!zo.has(A)||!!Ar.test(j.nodeValue):y.filter(F=>F instanceof RegExp).some(F=>F.test(A))},_a={allowList:Uo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},jo={entry:"(string|element|function|null)",selector:"(string|element)"};class Ts extends jt{constructor(y){super(),this._config=this._getConfig(y)}static get Default(){return _a}static get DefaultType(){return Vl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(y=>this._resolvePossibleFunction(y)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(y){return this._checkContent(y),this._config.content={...this._config.content,...y},this}toHtml(){const y=document.createElement("div");y.innerHTML=this._maybeSanitize(this._config.template);for(const[at,mt]of Object.entries(this._config.content))this._setContent(y,mt,at);const A=y.children[0],F=this._resolvePossibleFunction(this._config.extraClass);return F&&A.classList.add(...F.split(" ")),A}_typeCheckConfig(y){super._typeCheckConfig(y),this._checkContent(y.content)}_checkContent(y){for(const[A,F]of Object.entries(y))super._typeCheckConfig({selector:A,entry:F},jo)}_setContent(y,A,F){const at=bt.findOne(F,y);at&&((A=this._resolvePossibleFunction(A))?m(A)?this._putElementInTemplate(v(A),at):this._config.html?at.innerHTML=this._maybeSanitize(A):at.textContent=A:at.remove())}_maybeSanitize(y){return this._config.sanitize?function(A,F,at){if(!A.length)return A;if(at&&typeof at=="function")return at(A);const mt=new window.DOMParser().parseFromString(A,"text/html"),Et=[].concat(...mt.body.querySelectorAll("*"));for(const Ut of Et){const ve=Ut.nodeName.toLowerCase();if(!Object.keys(F).includes(ve)){Ut.remove();continue}const sn=[].concat(...Ut.attributes),We=[].concat(F["*"]||[],F[ve]||[]);for(const Ii of sn)Ll(Ii,We)||Ut.removeAttribute(Ii.nodeName)}return mt.body.innerHTML}(y,this._config.allowList,this._config.sanitizeFn):y}_resolvePossibleFunction(y){return Y(y,[void 0,this])}_putElementInTemplate(y,A){if(this._config.html)return A.innerHTML="",void A.append(y);A.textContent=y.textContent}}const Ul=new Set(["sanitize","allowList","sanitizeFn"]),ya="fade",xr="show",zl=".tooltip-inner",Rr=".modal",fn="hide.bs.modal",Bs="hover",va="focus",li="click",g={AUTO:"auto",TOP:"top",RIGHT:G()?"left":"right",BOTTOM:"bottom",LEFT:G()?"right":"left"},b={allowList:Uo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},T={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class D extends _e{constructor(y,A){if(r===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(y,A),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return b}static get DefaultType(){return T}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(Rr),fn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const y=q.trigger(this._element,this.constructor.eventName("show")),A=(x(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(y.defaultPrevented||!A)return;this._disposePopper();const F=this._getTipElement();this._element.setAttribute("aria-describedby",F.getAttribute("id"));const{container:at}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(at.append(F),q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(F),F.classList.add(xr),"ontouchstart"in document.documentElement)for(const mt of[].concat(...document.body.children))q.on(mt,"mouseover",C);this._queueCallback(()=>{q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(xr),"ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))q.off(y,"mouseover",C);this._activeTrigger[li]=!1,this._activeTrigger[va]=!1,this._activeTrigger[Bs]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(y){const A=this._getTemplateFactory(y).toHtml();if(!A)return null;A.classList.remove(ya,xr),A.classList.add(`bs-${this.constructor.NAME}-auto`);const F=(at=>{do at+=Math.floor(1e6*Math.random());while(document.getElementById(at));return at})(this.constructor.NAME).toString();return A.setAttribute("id",F),this._isAnimated()&&A.classList.add(ya),A}setContent(y){this._newContent=y,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(y){return this._templateFactory?this._templateFactory.changeContent(y):this._templateFactory=new Ts({...this._config,content:y,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(y){return this.constructor.getOrCreateInstance(y.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ya)}_isShown(){return this.tip&&this.tip.classList.contains(xr)}_createPopper(y){const A=Y(this._config.placement,[this,y,this._element]),F=g[A.toUpperCase()];return r.createPopper(this._element,y,this._getPopperConfig(F))}_getOffset(){const{offset:y}=this._config;return typeof y=="string"?y.split(",").map(A=>Number.parseInt(A,10)):typeof y=="function"?A=>y(A,this._element):y}_resolvePossibleFunction(y){return Y(y,[this._element,this._element])}_getPopperConfig(y){const A={placement:y,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:F=>{this._getTipElement().setAttribute("data-popper-placement",F.state.placement)}}]};return{...A,...Y(this._config.popperConfig,[void 0,A])}}_setListeners(){const y=this._config.trigger.split(" ");for(const A of y)if(A==="click")q.on(this._element,this.constructor.eventName("click"),this._config.selector,F=>{const at=this._initializeOnDelegatedTarget(F);at._activeTrigger[li]=!(at._isShown()&&at._activeTrigger[li]),at.toggle()});else if(A!=="manual"){const F=A===Bs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),at=A===Bs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");q.on(this._element,F,this._config.selector,mt=>{const Et=this._initializeOnDelegatedTarget(mt);Et._activeTrigger[mt.type==="focusin"?va:Bs]=!0,Et._enter()}),q.on(this._element,at,this._config.selector,mt=>{const Et=this._initializeOnDelegatedTarget(mt);Et._activeTrigger[mt.type==="focusout"?va:Bs]=Et._element.contains(mt.relatedTarget),Et._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(Rr),fn,this._hideModalHandler)}_fixTitle(){const y=this._element.getAttribute("title");y&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",y),this._element.setAttribute("data-bs-original-title",y),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(y,A){clearTimeout(this._timeout),this._timeout=setTimeout(y,A)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(y){const A=Jt.getDataAttributes(this._element);for(const F of Object.keys(A))Ul.has(F)&&delete A[F];return y={...A,...typeof y=="object"&&y?y:{}},y=this._mergeConfigObj(y),y=this._configAfterMerge(y),this._typeCheckConfig(y),y}_configAfterMerge(y){return y.container=y.container===!1?document.body:v(y.container),typeof y.delay=="number"&&(y.delay={show:y.delay,hide:y.delay}),typeof y.title=="number"&&(y.title=y.title.toString()),typeof y.content=="number"&&(y.content=y.content.toString()),y}_getDelegateConfig(){const y={};for(const[A,F]of Object.entries(this._config))this.constructor.Default[A]!==F&&(y[A]=F);return y.selector=!1,y.trigger="manual",y}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(y){return this.each(function(){const A=D.getOrCreateInstance(this,y);if(typeof y=="string"){if(A[y]===void 0)throw new TypeError(`No method named "${y}"`);A[y]()}})}}K(D);const Q=".popover-header",st=".popover-body",pt={...D.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Wt={...D.DefaultType,content:"(null|string|element|function)"};class Re extends D{static get Default(){return pt}static get DefaultType(){return Wt}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Q]:this._getTitle(),[st]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(y){return this.each(function(){const A=Re.getOrCreateInstance(this,y);if(typeof y=="string"){if(A[y]===void 0)throw new TypeError(`No method named "${y}"`);A[y]()}})}}K(Re);const Ht=".bs.scrollspy",Ye=`activate${Ht}`,Ue=`click${Ht}`,ws=`load${Ht}.data-api`,Ce="active",ci="[href]",ba=".nav-link",jl=`${ba}, .nav-item > ${ba}, .list-group-item`,rf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},af={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Cr extends _e{constructor(y,A){super(y,A),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rf}static get DefaultType(){return af}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const y of this._observableSections.values())this._observer.observe(y)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(y){return y.target=v(y.target)||document.body,y.rootMargin=y.offset?`${y.offset}px 0px -30%`:y.rootMargin,typeof y.threshold=="string"&&(y.threshold=y.threshold.split(",").map(A=>Number.parseFloat(A))),y}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,Ue),q.on(this._config.target,Ue,ci,y=>{const A=this._observableSections.get(y.target.hash);if(A){y.preventDefault();const F=this._rootElement||window,at=A.offsetTop-this._element.offsetTop;if(F.scrollTo)return void F.scrollTo({top:at,behavior:"smooth"});F.scrollTop=at}}))}_getNewObserver(){const y={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(A=>this._observerCallback(A),y)}_observerCallback(y){const A=Et=>this._targetLinks.get(`#${Et.target.id}`),F=Et=>{this._previousScrollData.visibleEntryTop=Et.target.offsetTop,this._process(A(Et))},at=(this._rootElement||document.documentElement).scrollTop,mt=at>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=at;for(const Et of y){if(!Et.isIntersecting){this._activeTarget=null,this._clearActiveClass(A(Et));continue}const Ut=Et.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(mt&&Ut){if(F(Et),!at)return}else mt||Ut||F(Et)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const y=bt.find(ci,this._config.target);for(const A of y){if(!A.hash||w(A))continue;const F=bt.findOne(decodeURI(A.hash),this._element);E(F)&&(this._targetLinks.set(decodeURI(A.hash),A),this._observableSections.set(A.hash,F))}}_process(y){this._activeTarget!==y&&(this._clearActiveClass(this._config.target),this._activeTarget=y,y.classList.add(Ce),this._activateParents(y),q.trigger(this._element,Ye,{relatedTarget:y}))}_activateParents(y){if(y.classList.contains("dropdown-item"))bt.findOne(".dropdown-toggle",y.closest(".dropdown")).classList.add(Ce);else for(const A of bt.parents(y,".nav, .list-group"))for(const F of bt.prev(A,jl))F.classList.add(Ce)}_clearActiveClass(y){y.classList.remove(Ce);const A=bt.find(`${ci}.${Ce}`,y);for(const F of A)F.classList.remove(Ce)}static jQueryInterface(y){return this.each(function(){const A=Cr.getOrCreateInstance(this,y);if(typeof y=="string"){if(A[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);A[y]()}})}}q.on(window,ws,()=>{for(const j of bt.find('[data-bs-spy="scroll"]'))Cr.getOrCreateInstance(j)}),K(Cr);const Ss=".bs.tab",of=`hide${Ss}`,lf=`hidden${Ss}`,cf=`show${Ss}`,sp=`shown${Ss}`,rp=`click${Ss}`,ap=`keydown${Ss}`,op=`load${Ss}`,lp="ArrowLeft",Mn="ArrowRight",Bo="ArrowUp",lu="ArrowDown",Bl="Home",cu="End",Fs="active",Fl="fade",uu="show",Ir=".dropdown-toggle",Fo=`:not(${Ir})`,Ea='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ho=`.nav-link${Fo}, .list-group-item${Fo}, [role="tab"]${Fo}, ${Ea}`,uf=`.${Fs}[data-bs-toggle="tab"], .${Fs}[data-bs-toggle="pill"], .${Fs}[data-bs-toggle="list"]`;class $n extends _e{constructor(y){super(y),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,ap,A=>this._keydown(A)))}static get NAME(){return"tab"}show(){const y=this._element;if(this._elemIsActive(y))return;const A=this._getActiveElem(),F=A?q.trigger(A,of,{relatedTarget:y}):null;q.trigger(y,cf,{relatedTarget:A}).defaultPrevented||F&&F.defaultPrevented||(this._deactivate(A,y),this._activate(y,A))}_activate(y,A){y&&(y.classList.add(Fs),this._activate(bt.getElementFromSelector(y)),this._queueCallback(()=>{y.getAttribute("role")==="tab"?(y.removeAttribute("tabindex"),y.setAttribute("aria-selected",!0),this._toggleDropDown(y,!0),q.trigger(y,sp,{relatedTarget:A})):y.classList.add(uu)},y,y.classList.contains(Fl)))}_deactivate(y,A){y&&(y.classList.remove(Fs),y.blur(),this._deactivate(bt.getElementFromSelector(y)),this._queueCallback(()=>{y.getAttribute("role")==="tab"?(y.setAttribute("aria-selected",!1),y.setAttribute("tabindex","-1"),this._toggleDropDown(y,!1),q.trigger(y,lf,{relatedTarget:A})):y.classList.remove(uu)},y,y.classList.contains(Fl)))}_keydown(y){if(![lp,Mn,Bo,lu,Bl,cu].includes(y.key))return;y.stopPropagation(),y.preventDefault();const A=this._getChildren().filter(at=>!w(at));let F;if([Bl,cu].includes(y.key))F=A[y.key===Bl?0:A.length-1];else{const at=[Mn,lu].includes(y.key);F=P(A,y.target,at,!0)}F&&(F.focus({preventScroll:!0}),$n.getOrCreateInstance(F).show())}_getChildren(){return bt.find(Ho,this._parent)}_getActiveElem(){return this._getChildren().find(y=>this._elemIsActive(y))||null}_setInitialAttributes(y,A){this._setAttributeIfNotExists(y,"role","tablist");for(const F of A)this._setInitialAttributesOnChild(F)}_setInitialAttributesOnChild(y){y=this._getInnerElement(y);const A=this._elemIsActive(y),F=this._getOuterElement(y);y.setAttribute("aria-selected",A),F!==y&&this._setAttributeIfNotExists(F,"role","presentation"),A||y.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(y,"role","tab"),this._setInitialAttributesOnTargetPanel(y)}_setInitialAttributesOnTargetPanel(y){const A=bt.getElementFromSelector(y);A&&(this._setAttributeIfNotExists(A,"role","tabpanel"),y.id&&this._setAttributeIfNotExists(A,"aria-labelledby",`${y.id}`))}_toggleDropDown(y,A){const F=this._getOuterElement(y);if(!F.classList.contains("dropdown"))return;const at=(mt,Et)=>{const Ut=bt.findOne(mt,F);Ut&&Ut.classList.toggle(Et,A)};at(Ir,Fs),at(".dropdown-menu",uu),F.setAttribute("aria-expanded",A)}_setAttributeIfNotExists(y,A,F){y.hasAttribute(A)||y.setAttribute(A,F)}_elemIsActive(y){return y.classList.contains(Fs)}_getInnerElement(y){return y.matches(Ho)?y:bt.findOne(Ho,y)}_getOuterElement(y){return y.closest(".nav-item, .list-group-item")||y}static jQueryInterface(y){return this.each(function(){const A=$n.getOrCreateInstance(this);if(typeof y=="string"){if(A[y]===void 0||y.startsWith("_")||y==="constructor")throw new TypeError(`No method named "${y}"`);A[y]()}})}}q.on(document,rp,Ea,function(j){["A","AREA"].includes(this.tagName)&&j.preventDefault(),w(this)||$n.getOrCreateInstance(this).show()}),q.on(window,op,()=>{for(const j of bt.find(uf))$n.getOrCreateInstance(j)}),K($n);const Gn=".bs.toast",hu=`mouseover${Gn}`,hf=`mouseout${Gn}`,Or=`focusin${Gn}`,ff=`focusout${Gn}`,df=`hide${Gn}`,gf=`hidden${Gn}`,cp=`show${Gn}`,up=`shown${Gn}`,pf="hide",qo="show",$o="showing",fu={animation:"boolean",autohide:"boolean",delay:"number"},Ci={animation:!0,autohide:!0,delay:5e3};class Ta extends _e{constructor(y,A){super(y,A),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ci}static get DefaultType(){return fu}static get NAME(){return"toast"}show(){q.trigger(this._element,cp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(pf),I(this._element),this._element.classList.add(qo,$o),this._queueCallback(()=>{this._element.classList.remove($o),q.trigger(this._element,up),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(q.trigger(this._element,df).defaultPrevented||(this._element.classList.add($o),this._queueCallback(()=>{this._element.classList.add(pf),this._element.classList.remove($o,qo),q.trigger(this._element,gf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qo),super.dispose()}isShown(){return this._element.classList.contains(qo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(y,A){switch(y.type){case"mouseover":case"mouseout":this._hasMouseInteraction=A;break;case"focusin":case"focusout":this._hasKeyboardInteraction=A}if(A)return void this._clearTimeout();const F=y.relatedTarget;this._element===F||this._element.contains(F)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,hu,y=>this._onInteraction(y,!0)),q.on(this._element,hf,y=>this._onInteraction(y,!1)),q.on(this._element,Or,y=>this._onInteraction(y,!0)),q.on(this._element,ff,y=>this._onInteraction(y,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(y){return this.each(function(){const A=Ta.getOrCreateInstance(this,y);if(typeof y=="string"){if(A[y]===void 0)throw new TypeError(`No method named "${y}"`);A[y](this)}})}}return Qn(Ta),K(Ta),{Alert:Ei,Button:hs,Carousel:ge,Collapse:Si,Dropdown:Te,Modal:Hn,Offcanvas:oi,Popover:Re,ScrollSpy:Cr,Tab:$n,Toast:Ta,Tooltip:D}})}(Pd)),Pd.exports}RD();const CD=()=>{};var YE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ID=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,u=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let E=(u&15)<<2|d>>6,w=d&63;f||(w=64,c||(E=64)),i.push(e[m],e[v],e[E],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(vA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ID(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||v==null)throw new OD;const E=o<<2|u>>4;if(i.push(E),d!==64){const w=u<<4&240|d>>2;if(i.push(w),v!==64){const x=d<<6&192|v;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DD=function(n){const t=vA(n);return bA.encodeByteArray(t,!0)},Qd=function(n){return DD(n).replace(/\./g,"")},EA=function(n){try{return bA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=()=>MD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof YE>"u")return;const n=YE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ND=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&EA(n[1]);return t&&JSON.parse(t)},Mg=()=>{try{return CD()||kD()||PD()||ND()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TA=n=>{var t,e;return(e=(t=Mg())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},LD=n=>{const t=TA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},wA=()=>{var n;return(n=Mg())===null||n===void 0?void 0:n.config},SA=n=>{var t;return(t=Mg())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qd(JSON.stringify(e)),Qd(JSON.stringify(c)),""].join(".")}const _h={};function zD(){const n={prod:[],emulator:[]};for(const t of Object.keys(_h))_h[t]?n.emulator.push(t):n.prod.push(t);return n}function jD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let WE=!1;function xA(n,t){if(typeof window>"u"||typeof document>"u"||!qc(window.location.host)||_h[n]===t||_h[n]||WE)return;_h[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=zD().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{WE=!0,c()},E}function m(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=jD(i),w=e("text"),x=document.getElementById(w)||document.createElement("span"),C=e("learnmore"),I=document.getElementById(C)||document.createElement("a"),k=e("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;u(G),m(I,C);const K=d();f(H,k),G.append(H,x,I,K),document.body.appendChild(G)}o?(x.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function FD(){var n;const t=(n=Mg())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GD(){const n=Un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YD(){return!FD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WD(){try{return typeof indexedDB=="object"}catch{return!1}}function KD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="FirebaseError";class ra extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=XD,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qh.prototype.create)}}class qh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?QD(o,i):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new ra(r,u,i)}}function QD(n,t){return n.replace(ZD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const ZD=/\{\$([^}]+)}/g;function JD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ml(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(KE(o)&&KE(c)){if(!ml(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function KE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ah(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function oh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function tM(n,t){const e=new eM(n,t);return e.subscribe.bind(e)}class eM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");nM(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Qm),r.error===void 0&&(r.error=Qm),r.complete===void 0&&(r.complete=Qm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n){return n&&n._delegate?n._delegate:n}class _l{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new VD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rM(t))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ol){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ol){return this.instances.has(t)}getOptions(t=ol){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ol){return this.component?this.component.multipleInstances?t:ol:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sM(n){return n===ol?void 0:n}function rM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new iM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Kt||(Kt={}));const oM={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},lM=Kt.INFO,cM={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},uM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=cM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ay{constructor(t){this.name=t,this._logLevel=lM,this._logHandler=uM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...t),this._logHandler(this,Kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...t),this._logHandler(this,Kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...t),this._logHandler(this,Kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...t),this._logHandler(this,Kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...t),this._logHandler(this,Kt.ERROR,...t)}}const hM=(n,t)=>t.some(e=>n instanceof e);let XE,QE;function fM(){return XE||(XE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dM(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RA=new WeakMap,R_=new WeakMap,CA=new WeakMap,Zm=new WeakMap,xy=new WeakMap;function gM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(eo(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&RA.set(e,n)}).catch(()=>{}),xy.set(t,n),t}function pM(n){if(R_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});R_.set(n,t)}let C_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return R_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||CA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return eo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function mM(n){C_=n(C_)}function _M(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Jm(this),t,...e);return CA.set(i,t.sort?t.sort():[t]),eo(i)}:dM().includes(n)?function(...t){return n.apply(Jm(this),t),eo(RA.get(this))}:function(...t){return eo(n.apply(Jm(this),t))}}function yM(n){return typeof n=="function"?_M(n):(n instanceof IDBTransaction&&pM(n),hM(n,fM())?new Proxy(n,C_):n)}function eo(n){if(n instanceof IDBRequest)return gM(n);if(Zm.has(n))return Zm.get(n);const t=yM(n);return t!==n&&(Zm.set(n,t),xy.set(t,n)),t}const Jm=n=>xy.get(n);function vM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),u=eo(c);return i&&c.addEventListener("upgradeneeded",f=>{i(eo(c.result),f.oldVersion,f.newVersion,eo(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const bM=["get","getKey","getAll","getAllKeys","count"],EM=["put","add","delete","clear"],t_=new Map;function ZE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(t_.get(t))return t_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=EM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bM.includes(e)))return;const o=async function(c,...u){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return t_.set(t,o),o}mM(n=>({...n,get:(t,e,i)=>ZE(t,e)||n.get(t,e,i),has:(t,e)=>!!ZE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(wM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function wM(n){const t=n.getComponent();return t?.type==="VERSION"}const I_="@firebase/app",JE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Ay("@firebase/app"),SM="@firebase/app-compat",AM="@firebase/analytics-compat",xM="@firebase/analytics",RM="@firebase/app-check-compat",CM="@firebase/app-check",IM="@firebase/auth",OM="@firebase/auth-compat",DM="@firebase/database",MM="@firebase/data-connect",kM="@firebase/database-compat",PM="@firebase/functions",NM="@firebase/functions-compat",LM="@firebase/installations",VM="@firebase/installations-compat",UM="@firebase/messaging",zM="@firebase/messaging-compat",jM="@firebase/performance",BM="@firebase/performance-compat",FM="@firebase/remote-config",HM="@firebase/remote-config-compat",qM="@firebase/storage",$M="@firebase/storage-compat",GM="@firebase/firestore",YM="@firebase/ai",WM="@firebase/firestore-compat",KM="firebase",XM="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="[DEFAULT]",QM={[I_]:"fire-core",[SM]:"fire-core-compat",[xM]:"fire-analytics",[AM]:"fire-analytics-compat",[CM]:"fire-app-check",[RM]:"fire-app-check-compat",[IM]:"fire-auth",[OM]:"fire-auth-compat",[DM]:"fire-rtdb",[MM]:"fire-data-connect",[kM]:"fire-rtdb-compat",[PM]:"fire-fn",[NM]:"fire-fn-compat",[LM]:"fire-iid",[VM]:"fire-iid-compat",[UM]:"fire-fcm",[zM]:"fire-fcm-compat",[jM]:"fire-perf",[BM]:"fire-perf-compat",[FM]:"fire-rc",[HM]:"fire-rc-compat",[qM]:"fire-gcs",[$M]:"fire-gcs-compat",[GM]:"fire-fst",[WM]:"fire-fst-compat",[YM]:"fire-vertex","fire-js":"fire-js",[KM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,ZM=new Map,D_=new Map;function tT(n,t){try{n.container.addComponent(t)}catch(e){ta.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kc(n){const t=n.name;if(D_.has(t))return ta.debug(`There were multiple attempts to register component ${t}.`),!1;D_.set(t,n);for(const e of Zd.values())tT(e,n);for(const e of ZM.values())tT(e,n);return!0}function Ry(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function is(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new qh("app","Firebase",JM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=XM;function IA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:O_,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw no.create("bad-app-name",{appName:String(r)});if(e||(e=wA()),!e)throw no.create("no-options");const o=Zd.get(r);if(o){if(ml(e,o.options)&&ml(i,o.config))return o;throw no.create("duplicate-app",{appName:r})}const c=new aM(r);for(const f of D_.values())c.addComponent(f);const u=new t2(e,i,c);return Zd.set(r,u),u}function OA(n=O_){const t=Zd.get(n);if(!t&&n===O_&&wA())return IA();if(!t)throw no.create("no-app",{appName:n});return t}function io(n,t,e){var i;let r=(i=QM[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${t}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ta.warn(u.join(" "));return}kc(new _l(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firebase-heartbeat-database",n2=1,Rh="firebase-heartbeat-store";let e_=null;function DA(){return e_||(e_=vM(e2,n2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Rh)}catch(e){console.warn(e)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),e_}async function i2(n){try{const e=(await DA()).transaction(Rh),i=await e.objectStore(Rh).get(MA(n));return await e.done,i}catch(t){if(t instanceof ra)ta.warn(t.message);else{const e=no.create("idb-get",{originalErrorMessage:t?.message});ta.warn(e.message)}}}async function eT(n,t){try{const i=(await DA()).transaction(Rh,"readwrite");await i.objectStore(Rh).put(t,MA(n)),await i.done}catch(e){if(e instanceof ra)ta.warn(e.message);else{const i=no.create("idb-set",{originalErrorMessage:e?.message});ta.warn(i.message)}}}function MA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1024,r2=30;class a2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new l2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>r2){const c=c2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ta.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nT(),{heartbeatsToSend:i,unsentEntries:r}=o2(this._heartbeatsCache.heartbeats),o=Qd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ta.warn(e),""}}}function nT(){return new Date().toISOString().substring(0,10)}function o2(n,t=s2){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),iT(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),iT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class l2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WD()?KD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await i2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return eT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return eT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function iT(n){return Qd(JSON.stringify({version:2,heartbeats:n})).length}function c2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n){kc(new _l("platform-logger",t=>new TM(t),"PRIVATE")),kc(new _l("heartbeat",t=>new a2(t),"PRIVATE")),io(I_,JE,n),io(I_,JE,"esm2017"),io("fire-js","")}u2("");function Cy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function kA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=kA,PA=new qh("auth","Firebase",kA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Ay("@firebase/auth");function f2(n,...t){Jd.logLevel<=Kt.WARN&&Jd.warn(`Auth (${$c}): ${n}`,...t)}function Ld(n,...t){Jd.logLevel<=Kt.ERROR&&Jd.error(`Auth (${$c}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,...t){throw Iy(n,...t)}function er(n,...t){return Iy(n,...t)}function NA(n,t,e){const i=Object.assign(Object.assign({},h2()),{[t]:e});return new qh("auth","Firebase",i).create(t,{appName:n.name})}function Qr(n){return NA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return PA.create(n,...t)}function kt(n,t,...e){if(!n)throw Iy(t,...e)}function Yr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ld(t),new Error(t)}function ea(n,t){n||Yr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function d2(){return sT()==="http:"||sT()==="https:"}function sT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d2()||qD()||"connection"in navigator)?navigator.onLine:!0}function p2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,e){this.shortDelay=t,this.longDelay=e,ea(e>t,"Short delay should be less than long delay!"),this.isMobile=BD()||$D()}get(){return g2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,t){ea(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y2=new Gh(3e4,6e4);function bo(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Eo(n,t,e,i,r={}){return VA(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const u=$h(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:t,headers:f},o);return HD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&qc(n.emulatorConfig.host)&&(d.credentials="include"),LA.fetch()(await UA(n,n.config.apiHost,e,u),d)})}async function VA(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},m2),t);try{const r=new b2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw dd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw dd(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw dd(n,"user-disabled",c);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw NA(n,m,d);Is(n,m)}}catch(r){if(r instanceof ra)throw r;Is(n,"network-request-failed",{message:String(r)})}}async function Yh(n,t,e,i,r={}){const o=await Eo(n,t,e,i,r);return"mfaPendingCredential"in o&&Is(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function UA(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Oy(n.config,r):`${n.config.apiScheme}://${r}`;return _2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function v2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),y2.get())})}}function dd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=er(n,t,i);return r.customData._tokenResponse=e,r}function rT(n){return n!==void 0&&n.enterprise!==void 0}class E2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return v2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T2(n,t){return Eo(n,"GET","/v2/recaptchaConfig",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,t){return Eo(n,"POST","/v1/accounts:delete",t)}async function tg(n,t){return Eo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function S2(n,t=!1){const e=yn(n),i=await e.getIdToken(t),r=Dy(i);kt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:yh(n_(r.auth_time)),issuedAtTime:yh(n_(r.iat)),expirationTime:yh(n_(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function n_(n){return Number(n)*1e3}function Dy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const r=EA(e);return r?JSON.parse(r):(Ld("Failed to decode base64 JWT payload"),null)}catch(r){return Ld("Caught error parsing JWT payload as JSON",r?.toString()),null}}function aT(n){const t=Dy(n);return kt(t,"internal-error"),kt(typeof t.exp<"u","internal-error"),kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ra&&A2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function A2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Ch(n,tg(e,{idToken:i}));kt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?zA(o.providerUserInfo):[],u=C2(n.providerData,c),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!u?.length,m=f?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new k_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function R2(n){const t=yn(n);await eg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function C2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function zA(n){return n.map(t=>{var{providerId:e}=t,i=Cy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,t){const e=await VA(n,{},async()=>{const i=$h({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await UA(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&qc(n.emulatorConfig.host)&&(f.credentials="include"),LA.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function O2(n,t){return Eo(n,"POST","/v2/accounts:revokeToken",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){kt(t.idToken,"internal-error"),kt(typeof t.idToken<"u","internal-error"),kt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){kt(t.length!==0,"internal-error");const e=aT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await I2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new bc;return i&&(kt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(kt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(kt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(n,t){kt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Cs{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Cy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new k_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Ch(this,this.stsTokenManager.getToken(this.auth,t));return kt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return S2(this,t)}reload(){return R2(this)}_assign(t){this!==t&&(kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Cs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await eg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(is(this.auth.app))return Promise.reject(Qr(this.auth));const t=await this.getIdToken();return await Ch(this,w2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,u,f,d,m;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,E=(r=e.email)!==null&&r!==void 0?r:void 0,w=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,x=(c=e.photoURL)!==null&&c!==void 0?c:void 0,C=(u=e.tenantId)!==null&&u!==void 0?u:void 0,I=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,k=(d=e.createdAt)!==null&&d!==void 0?d:void 0,H=(m=e.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:G,emailVerified:K,isAnonymous:Y,providerData:rt,stsTokenManager:P}=e;kt(G&&P,t,"internal-error");const O=bc.fromJSON(this.name,P);kt(typeof G=="string",t,"internal-error"),$a(v,t.name),$a(E,t.name),kt(typeof K=="boolean",t,"internal-error"),kt(typeof Y=="boolean",t,"internal-error"),$a(w,t.name),$a(x,t.name),$a(C,t.name),$a(I,t.name),$a(k,t.name),$a(H,t.name);const M=new Cs({uid:G,auth:t,email:E,emailVerified:K,displayName:v,isAnonymous:Y,photoURL:x,phoneNumber:w,tenantId:C,stsTokenManager:O,createdAt:k,lastLoginAt:H});return rt&&Array.isArray(rt)&&(M.providerData=rt.map(L=>Object.assign({},L))),I&&(M._redirectEventId=I),M}static async _fromIdTokenResponse(t,e,i=!1){const r=new bc;r.updateFromServerResponse(e);const o=new Cs({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await eg(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];kt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?zA(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,u=new bc;u.updateFromIdToken(i);const f=new Cs({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new k_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;function Wr(n){ea(n instanceof Function,"Expected a class definition");let t=oT.get(n);return t?(ea(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,oT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jA.type="NONE";const lT=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n,t,e){return`firebase:${n}:${t}:${e}`}class Ec{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Vd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Vd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await tg(this.auth,{idToken:t}).catch(()=>{});return e?Cs._fromGetAccountInfoResponse(this.auth,e,t):null}return Cs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ec(Wr(lT),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Wr(lT);const c=Vd(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const m=await d._get(c);if(m){let v;if(typeof m=="string"){const E=await tg(t,{idToken:m}).catch(()=>{});if(!E)break;v=await Cs._fromGetAccountInfoResponse(t,E,m)}else v=Cs._fromJSON(t,m);d!==o&&(u=v),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ec(o,t,i):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Ec(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GA(t))return"Blackberry";if(YA(t))return"Webos";if(FA(t))return"Safari";if((t.includes("chrome/")||HA(t))&&!t.includes("edge/"))return"Chrome";if($A(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function BA(n=Un()){return/firefox\//i.test(n)}function FA(n=Un()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function HA(n=Un()){return/crios\//i.test(n)}function qA(n=Un()){return/iemobile/i.test(n)}function $A(n=Un()){return/android/i.test(n)}function GA(n=Un()){return/blackberry/i.test(n)}function YA(n=Un()){return/webos/i.test(n)}function My(n=Un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function D2(n=Un()){var t;return My(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function M2(){return GD()&&document.documentMode===10}function WA(n=Un()){return My(n)||$A(n)||YA(n)||GA(n)||/windows phone/i.test(n)||qA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,t=[]){let e;switch(n){case"Browser":e=cT(Un());break;case"Worker":e=`${cT(Un())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${$c}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,u)=>{try{const f=t(o);c(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(n,t={}){return Eo(n,"GET","/v2/passwordPolicy",bo(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=6;class L2{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:N2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new k2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Wr(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await tg(this,{idToken:t}),i=await Cs._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(is(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===u)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await eg(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(is(this.app))return Promise.reject(Qr(this));const e=t?yn(t):null;return e&&kt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return is(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return is(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await P2(this),e=new L2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await O2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Wr(t)||this._popupRedirectResolver;kt(e,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[Wr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&f2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Al(n){return yn(n)}class uT{constructor(t){this.auth=t,this.observer=null,this.addObserver=tM(e=>this.observer=e)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U2(n){kg=n}function XA(n){return kg.loadJS(n)}function z2(){return kg.recaptchaEnterpriseScript}function j2(){return kg.gapiScript}function B2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class F2{constructor(){this.enterprise=new H2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class H2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const q2="recaptcha-enterprise",QA="NO_RECAPTCHA";class $2{constructor(t){this.type=q2,this.auth=Al(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{T2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new E2(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,c,u){const f=window.grecaptcha;rT(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(QA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F2().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(u=>{if(!e&&rT(window.grecaptcha))r(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=z2();f.length!==0&&(f+=u),XA(f).then(()=>{r(u,o,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})}}async function hT(n,t,e,i=!1,r=!1){const o=new $2(n);let c;if(r)c=QA;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const u=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function P_(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hT(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await hT(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n,t){const e=Ry(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(ml(o,t??{}))return r;Is(r,"already-initialized")}return e.initialize({options:t})}function Y2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Wr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function W2(n,t,e){const i=Al(n);kt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=ZA(t),{host:c,port:u}=K2(t),f=u===null?"":`:${u}`,d={url:`${o}//${c}${f}/`},m=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){kt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),kt(ml(d,i.config.emulator)&&ml(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,qc(c)?(AA(`${o}//${c}${f}`),xA("Auth",!0)):X2()}function ZA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function K2(n){const t=ZA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:fT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:fT(c)}}}function fT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function X2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Yr("not implemented")}_getIdTokenResponse(t){return Yr("not implemented")}_linkToIdToken(t,e){return Yr("not implemented")}_getReauthenticationResolver(t){return Yr("not implemented")}}async function Q2(n,t){return Eo(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(n,t){return Yh(n,"POST","/v1/accounts:signInWithPassword",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,t){return Yh(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,t))}async function tk(n,t){return Yh(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends ky{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Ih(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Ih(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P_(t,e,"signInWithPassword",Z2);case"emailLink":return J2(t,{email:this._email,oobCode:this._password});default:Is(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P_(t,i,"signUpPassword",Q2);case"emailLink":return tk(t,{idToken:e,email:this._email,oobCode:this._password});default:Is(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n,t){return Yh(n,"POST","/v1/accounts:signInWithIdp",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="http://localhost";class yl extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new yl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Is("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Cy(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new yl(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Tc(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Tc(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Tc(t,e)}buildRequest(){const t={requestUri:ek,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=$h(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ik(n){const t=ah(oh(n)).link,e=t?ah(oh(t)).deep_link_id:null,i=ah(oh(n)).deep_link_id;return(i?ah(oh(i)).link:null)||i||e||t||n}class Py{constructor(t){var e,i,r,o,c,u;const f=ah(oh(t)),d=(e=f.apiKey)!==null&&e!==void 0?e:null,m=(i=f.oobCode)!==null&&i!==void 0?i:null,v=nk((r=f.mode)!==null&&r!==void 0?r:null);kt(d&&m&&v,"argument-error"),this.apiKey=d,this.operation=v,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=ik(t);try{return new Py(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.providerId=Gc.PROVIDER_ID}static credential(t,e){return Ih._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Py.parseLink(e);return kt(i,"argument-error"),Ih._fromEmailAndCode(t,i.code,i.tenantId)}}Gc.PROVIDER_ID="password";Gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends JA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Wh{constructor(){super("facebook.com")}static credential(t){return yl._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ga.credentialFromTaggedObject(t)}static credentialFromError(t){return Ga.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ga.credential(t.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return yl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ya.credential(e,i)}catch{return null}}}Ya.GOOGLE_SIGN_IN_METHOD="google.com";Ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Wh{constructor(){super("github.com")}static credential(t){return yl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wa.credential(t.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Wh{constructor(){super("twitter.com")}static credential(t,e){return yl._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ka.credentialFromTaggedObject(t)}static credentialFromError(t){return Ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ka.credential(e,i)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(n,t){return Yh(n,"POST","/v1/accounts:signUp",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Cs._fromIdTokenResponse(t,i,r),c=dT(i);return new vl({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=dT(i);return new vl({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function dT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends ra{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ng.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new ng(t,e,i,r)}}function t1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ng._fromErrorAndOperation(n,o,t,i):o})}async function rk(n,t,e=!1){const i=await Ch(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return vl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,t,e=!1){const{auth:i}=n;if(is(i.app))return Promise.reject(Qr(i));const r="reauthenticate";try{const o=await Ch(n,t1(i,r,t,n),e);kt(o.idToken,i,"internal-error");const c=Dy(o.idToken);kt(c,i,"internal-error");const{sub:u}=c;return kt(n.uid===u,i,"user-mismatch"),vl._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Is(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(n,t,e=!1){if(is(n.app))return Promise.reject(Qr(n));const i="signIn",r=await t1(n,i,t),o=await vl._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function ok(n,t){return e1(Al(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n){const t=Al(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function lk(n,t,e){if(is(n.app))return Promise.reject(Qr(n));const i=Al(n),c=await P_(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&n1(n),f}),u=await vl._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(u.user),u}function ck(n,t,e){return is(n.app)?Promise.reject(Qr(n)):ok(yn(n),Gc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&n1(n),i})}function uk(n,t,e,i){return yn(n).onIdTokenChanged(t,e,i)}function hk(n,t,e){return yn(n).beforeAuthStateChanged(t,e)}function i1(n,t,e,i){return yn(n).onAuthStateChanged(t,e,i)}function fk(n){return yn(n).signOut()}const ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1e3,gk=10;class r1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);M2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,gk):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}r1.type="LOCAL";const pk=r1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}a1.type="SESSION";const o1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Pg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(c).map(async d=>d(e.origin,o)),f=await mk(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const d=Ny("",20);r.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(v){const E=v;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(E.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function yk(n){nr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function vk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ek(){return l1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",Tk=1,sg="firebaseLocalStorage",u1="fbase_key";class Kh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ng(n,t){return n.transaction([sg],t?"readwrite":"readonly").objectStore(sg)}function wk(){const n=indexedDB.deleteDatabase(c1);return new Kh(n).toPromise()}function N_(){const n=indexedDB.open(c1,Tk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sg,{keyPath:u1})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sg)?t(i):(i.close(),await wk(),t(await N_()))})})}async function gT(n,t,e){const i=Ng(n,!0).put({[u1]:t,value:e});return new Kh(i).toPromise()}async function Sk(n,t){const e=Ng(n,!1).get(t),i=await new Kh(e).toPromise();return i===void 0?null:i.value}function pT(n,t){const e=Ng(n,!0).delete(t);return new Kh(e).toPromise()}const Ak=800,xk=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>xk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pg._getInstance(Ek()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await vk(),!this.activeServiceWorker)return;this.sender=new _k(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await N_();return await gT(t,ig,"1"),await pT(t,ig),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>gT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Sk(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Ng(r,!1).getAll();return new Kh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const Rk=h1;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n,t){return t?Wr(t):(kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends ky{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Tc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Tc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Tc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Ik(n){return e1(n.auth,new Ly(n),n.bypassAuthState)}function Ok(n){const{auth:t,user:e}=n;return kt(e,t,"internal-error"),ak(e,new Ly(n),n.bypassAuthState)}async function Dk(n){const{auth:t,user:e}=n;return kt(e,t,"internal-error"),rk(e,new Ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:u}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ik;case"linkViaPopup":case"linkViaRedirect":return Dk;case"reauthViaPopup":case"reauthViaRedirect":return Ok;default:Is(this.auth,"internal-error")}}resolve(t){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new Gh(2e3,1e4);class vc extends f1{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return kt(t,this.auth,"internal-error"),t}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const t=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Mk.get())};t()}}vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="pendingRedirect",Ud=new Map;class Pk extends f1{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Ud.get(this.auth._key());if(!t){try{const i=await Nk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Ud.set(this.auth._key(),t)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nk(n,t){const e=Uk(t),i=Vk(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function Lk(n,t){Ud.set(n._key(),t)}function Vk(n){return Wr(n._redirectPersistence)}function Uk(n){return Vd(kk,n.config.apiKey,n.name)}async function zk(n,t,e=!1){if(is(n.app))return Promise.reject(Qr(n));const i=Al(n),r=Ck(i,t),c=await new Pk(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=10*60*1e3;class Bk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Fk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!d1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(er(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(t))}saveEventToCache(t){this.cachedEventUids.add(mT(t)),this.lastProcessedEventTime=Date.now()}}function mT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function d1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Fk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,t={}){return Eo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$k=/^https?/;async function Gk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Hk(n);for(const e of t)try{if(Yk(e))return}catch{}Is(n,"unauthorized-domain")}function Yk(n){const t=M_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!$k.test(e))return!1;if(qk.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new Gh(3e4,6e4);function _T(){const n=nr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Kk(n){return new Promise((t,e)=>{var i,r,o;function c(){_T(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_T(),e(er(n,"network-request-failed"))},timeout:Wk.get()})}if(!((r=(i=nr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=nr().gapi)===null||o===void 0)&&o.load)c();else{const u=B2("iframefcb");return nr()[u]=()=>{gapi.load?c():e(er(n,"network-request-failed"))},XA(`${j2()}?onload=${u}`).catch(f=>e(f))}}).catch(t=>{throw zd=null,t})}let zd=null;function Xk(n){return zd=zd||Kk(n),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Gh(5e3,15e3),Zk="__/auth/iframe",Jk="emulator/auth/iframe",tP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nP(n){const t=n.config;kt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Oy(t,Jk):`https://${n.config.authDomain}/${Zk}`,i={apiKey:t.apiKey,appName:n.name,v:$c},r=eP.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${$h(i).slice(1)}`}async function iP(n){const t=await Xk(n),e=nr().gapi;return kt(e,n,"internal-error"),t.open({where:document.body,url:nP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tP,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=er(n,"network-request-failed"),u=nr().setTimeout(()=>{o(c)},Qk.get());function f(){nr().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rP=500,aP=600,oP="_blank",lP="http://localhost";class yT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cP(n,t,e,i=rP,r=aP){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f=Object.assign(Object.assign({},sP),{width:i.toString(),height:r.toString(),top:o,left:c}),d=Un().toLowerCase();e&&(u=HA(d)?oP:e),BA(d)&&(t=t||lP,f.scrollbars="yes");const m=Object.entries(f).reduce((E,[w,x])=>`${E}${w}=${x},`,"");if(D2(d)&&u!=="_self")return uP(t||"",u),new yT(null);const v=window.open(t||"",u,m);kt(v,n,"popup-blocked");try{v.focus()}catch{}return new yT(v)}function uP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="__/auth/handler",fP="emulator/auth/handler",dP=encodeURIComponent("fac");async function vT(n,t,e,i,r,o){kt(n.config.authDomain,n,"auth-domain-config-required"),kt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:$c,eventId:r};if(t instanceof JA){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",JD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,v]of Object.entries({}))c[m]=v}if(t instanceof Wh){const m=t.getScopes().filter(v=>v!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),d=f?`#${dP}=${encodeURIComponent(f)}`:"";return`${gP(n)}?${$h(u).slice(1)}${d}`}function gP({config:n}){return n.emulator?Oy(n,fP):`https://${n.authDomain}/${hP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=zk,this._overrideRedirectResult=Lk}async _openPopup(t,e,i,r){var o;ea((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await vT(t,e,i,M_(),r);return cP(t,c,Ny())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await vT(t,e,i,M_(),r);return yk(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ea(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await iP(t),i=new Bk(t);return e.register("authEvent",r=>(kt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(i_,{type:i_},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[i_];c!==void 0&&e(!!c),Is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Gk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return WA()||FA()||My()}}const mP=pP;var bT="@firebase/auth",ET="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vP(n){kc(new _l("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=i.options;kt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(n)},d=new V2(i,r,o,f);return Y2(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),kc(new _l("auth-internal",t=>{const e=Al(t.getProvider("auth").getImmediate());return(i=>new _P(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(bT,ET,yP(n)),io(bT,ET,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=5*60,EP=SA("authIdTokenMaxAge")||bP;let TT=null;const TP=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>EP)return;const r=e?.token;TT!==r&&(TT=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function wP(n=OA()){const t=Ry(n,"auth");if(t.isInitialized())return t.getImmediate();const e=G2(n,{popupRedirectResolver:mP,persistence:[Rk,pk,o1]}),i=SA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=TP(o.toString());hk(e,c,()=>c(e.currentUser)),uk(e,u=>c(u))}}const r=TA("auth");return r&&W2(e,`http://${r}`),e}function SP(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}U2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=er("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",SP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vP("Browser");var AP="firebase",xP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(AP,xP,"app");var wT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,g1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,O){function M(){}M.prototype=O.prototype,P.D=O.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(L,V,z){for(var N=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)N[Dt-2]=arguments[Dt];return O.prototype[V].apply(L,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,O,M){M||(M=0);var L=Array(16);if(typeof O=="string")for(var V=0;16>V;++V)L[V]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(V=0;16>V;++V)L[V]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=P.g[0],M=P.g[1],V=P.g[2];var z=P.g[3],N=O+(z^M&(V^z))+L[0]+3614090360&4294967295;O=M+(N<<7&4294967295|N>>>25),N=z+(V^O&(M^V))+L[1]+3905402710&4294967295,z=O+(N<<12&4294967295|N>>>20),N=V+(M^z&(O^M))+L[2]+606105819&4294967295,V=z+(N<<17&4294967295|N>>>15),N=M+(O^V&(z^O))+L[3]+3250441966&4294967295,M=V+(N<<22&4294967295|N>>>10),N=O+(z^M&(V^z))+L[4]+4118548399&4294967295,O=M+(N<<7&4294967295|N>>>25),N=z+(V^O&(M^V))+L[5]+1200080426&4294967295,z=O+(N<<12&4294967295|N>>>20),N=V+(M^z&(O^M))+L[6]+2821735955&4294967295,V=z+(N<<17&4294967295|N>>>15),N=M+(O^V&(z^O))+L[7]+4249261313&4294967295,M=V+(N<<22&4294967295|N>>>10),N=O+(z^M&(V^z))+L[8]+1770035416&4294967295,O=M+(N<<7&4294967295|N>>>25),N=z+(V^O&(M^V))+L[9]+2336552879&4294967295,z=O+(N<<12&4294967295|N>>>20),N=V+(M^z&(O^M))+L[10]+4294925233&4294967295,V=z+(N<<17&4294967295|N>>>15),N=M+(O^V&(z^O))+L[11]+2304563134&4294967295,M=V+(N<<22&4294967295|N>>>10),N=O+(z^M&(V^z))+L[12]+1804603682&4294967295,O=M+(N<<7&4294967295|N>>>25),N=z+(V^O&(M^V))+L[13]+4254626195&4294967295,z=O+(N<<12&4294967295|N>>>20),N=V+(M^z&(O^M))+L[14]+2792965006&4294967295,V=z+(N<<17&4294967295|N>>>15),N=M+(O^V&(z^O))+L[15]+1236535329&4294967295,M=V+(N<<22&4294967295|N>>>10),N=O+(V^z&(M^V))+L[1]+4129170786&4294967295,O=M+(N<<5&4294967295|N>>>27),N=z+(M^V&(O^M))+L[6]+3225465664&4294967295,z=O+(N<<9&4294967295|N>>>23),N=V+(O^M&(z^O))+L[11]+643717713&4294967295,V=z+(N<<14&4294967295|N>>>18),N=M+(z^O&(V^z))+L[0]+3921069994&4294967295,M=V+(N<<20&4294967295|N>>>12),N=O+(V^z&(M^V))+L[5]+3593408605&4294967295,O=M+(N<<5&4294967295|N>>>27),N=z+(M^V&(O^M))+L[10]+38016083&4294967295,z=O+(N<<9&4294967295|N>>>23),N=V+(O^M&(z^O))+L[15]+3634488961&4294967295,V=z+(N<<14&4294967295|N>>>18),N=M+(z^O&(V^z))+L[4]+3889429448&4294967295,M=V+(N<<20&4294967295|N>>>12),N=O+(V^z&(M^V))+L[9]+568446438&4294967295,O=M+(N<<5&4294967295|N>>>27),N=z+(M^V&(O^M))+L[14]+3275163606&4294967295,z=O+(N<<9&4294967295|N>>>23),N=V+(O^M&(z^O))+L[3]+4107603335&4294967295,V=z+(N<<14&4294967295|N>>>18),N=M+(z^O&(V^z))+L[8]+1163531501&4294967295,M=V+(N<<20&4294967295|N>>>12),N=O+(V^z&(M^V))+L[13]+2850285829&4294967295,O=M+(N<<5&4294967295|N>>>27),N=z+(M^V&(O^M))+L[2]+4243563512&4294967295,z=O+(N<<9&4294967295|N>>>23),N=V+(O^M&(z^O))+L[7]+1735328473&4294967295,V=z+(N<<14&4294967295|N>>>18),N=M+(z^O&(V^z))+L[12]+2368359562&4294967295,M=V+(N<<20&4294967295|N>>>12),N=O+(M^V^z)+L[5]+4294588738&4294967295,O=M+(N<<4&4294967295|N>>>28),N=z+(O^M^V)+L[8]+2272392833&4294967295,z=O+(N<<11&4294967295|N>>>21),N=V+(z^O^M)+L[11]+1839030562&4294967295,V=z+(N<<16&4294967295|N>>>16),N=M+(V^z^O)+L[14]+4259657740&4294967295,M=V+(N<<23&4294967295|N>>>9),N=O+(M^V^z)+L[1]+2763975236&4294967295,O=M+(N<<4&4294967295|N>>>28),N=z+(O^M^V)+L[4]+1272893353&4294967295,z=O+(N<<11&4294967295|N>>>21),N=V+(z^O^M)+L[7]+4139469664&4294967295,V=z+(N<<16&4294967295|N>>>16),N=M+(V^z^O)+L[10]+3200236656&4294967295,M=V+(N<<23&4294967295|N>>>9),N=O+(M^V^z)+L[13]+681279174&4294967295,O=M+(N<<4&4294967295|N>>>28),N=z+(O^M^V)+L[0]+3936430074&4294967295,z=O+(N<<11&4294967295|N>>>21),N=V+(z^O^M)+L[3]+3572445317&4294967295,V=z+(N<<16&4294967295|N>>>16),N=M+(V^z^O)+L[6]+76029189&4294967295,M=V+(N<<23&4294967295|N>>>9),N=O+(M^V^z)+L[9]+3654602809&4294967295,O=M+(N<<4&4294967295|N>>>28),N=z+(O^M^V)+L[12]+3873151461&4294967295,z=O+(N<<11&4294967295|N>>>21),N=V+(z^O^M)+L[15]+530742520&4294967295,V=z+(N<<16&4294967295|N>>>16),N=M+(V^z^O)+L[2]+3299628645&4294967295,M=V+(N<<23&4294967295|N>>>9),N=O+(V^(M|~z))+L[0]+4096336452&4294967295,O=M+(N<<6&4294967295|N>>>26),N=z+(M^(O|~V))+L[7]+1126891415&4294967295,z=O+(N<<10&4294967295|N>>>22),N=V+(O^(z|~M))+L[14]+2878612391&4294967295,V=z+(N<<15&4294967295|N>>>17),N=M+(z^(V|~O))+L[5]+4237533241&4294967295,M=V+(N<<21&4294967295|N>>>11),N=O+(V^(M|~z))+L[12]+1700485571&4294967295,O=M+(N<<6&4294967295|N>>>26),N=z+(M^(O|~V))+L[3]+2399980690&4294967295,z=O+(N<<10&4294967295|N>>>22),N=V+(O^(z|~M))+L[10]+4293915773&4294967295,V=z+(N<<15&4294967295|N>>>17),N=M+(z^(V|~O))+L[1]+2240044497&4294967295,M=V+(N<<21&4294967295|N>>>11),N=O+(V^(M|~z))+L[8]+1873313359&4294967295,O=M+(N<<6&4294967295|N>>>26),N=z+(M^(O|~V))+L[15]+4264355552&4294967295,z=O+(N<<10&4294967295|N>>>22),N=V+(O^(z|~M))+L[6]+2734768916&4294967295,V=z+(N<<15&4294967295|N>>>17),N=M+(z^(V|~O))+L[13]+1309151649&4294967295,M=V+(N<<21&4294967295|N>>>11),N=O+(V^(M|~z))+L[4]+4149444226&4294967295,O=M+(N<<6&4294967295|N>>>26),N=z+(M^(O|~V))+L[11]+3174756917&4294967295,z=O+(N<<10&4294967295|N>>>22),N=V+(O^(z|~M))+L[2]+718787259&4294967295,V=z+(N<<15&4294967295|N>>>17),N=M+(z^(V|~O))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+z&4294967295}i.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var M=O-this.blockSize,L=this.B,V=this.h,z=0;z<O;){if(V==0)for(;z<=M;)r(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<O;)if(L[V++]=P.charCodeAt(z++),V==this.blockSize){r(this,L),V=0;break}}else for(;z<O;)if(L[V++]=P[z++],V==this.blockSize){r(this,L),V=0;break}}this.h=V,this.o+=O},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var M=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=M&255,M/=256;for(this.u(P),P=Array(16),O=M=0;4>O;++O)for(var L=0;32>L;L+=8)P[M++]=this.g[O]>>>L&255;return P};function o(P,O){var M=u;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=O(P)}function c(P,O){this.h=O;for(var M=[],L=!0,V=P.length-1;0<=V;V--){var z=P[V]|0;L&&z==O||(M[V]=z,L=!1)}this.g=M}var u={};function f(P){return-128<=P&&128>P?o(P,function(O){return new c([O|0],0>O?-1:0)}):new c([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return I(d(-P));for(var O=[],M=1,L=0;P>=M;L++)O[L]=P/M|0,M*=4294967296;return new c(O,0)}function m(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return I(m(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(O,8)),L=v,V=0;V<P.length;V+=8){var z=Math.min(8,P.length-V),N=parseInt(P.substring(V,V+z),O);8>z?(z=d(Math.pow(O,z)),L=L.j(z).add(d(N))):(L=L.j(M),L=L.add(d(N)))}return L}var v=f(0),E=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-I(this).m();for(var P=0,O=1,M=0;M<this.g.length;M++){var L=this.i(M);P+=(0<=L?L:4294967296+L)*O,O*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(C(this))return"-"+I(this).toString(P);for(var O=d(Math.pow(P,6)),M=this,L="";;){var V=K(M,O).g;M=k(M,V.j(O));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=V,x(M))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function C(P){return P.h==-1}n.l=function(P){return P=k(this,P),C(P)?-1:x(P)?0:1};function I(P){for(var O=P.g.length,M=[],L=0;L<O;L++)M[L]=~P.g[L];return new c(M,~P.h).add(E)}n.abs=function(){return C(this)?I(this):this},n.add=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0,V=0;V<=O;V++){var z=L+(this.i(V)&65535)+(P.i(V)&65535),N=(z>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);L=N>>>16,z&=65535,N&=65535,M[V]=N<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function k(P,O){return P.add(I(O))}n.j=function(P){if(x(this)||x(P))return v;if(C(this))return C(P)?I(this).j(I(P)):I(I(this).j(P));if(C(P))return I(this.j(I(P)));if(0>this.l(w)&&0>P.l(w))return d(this.m()*P.m());for(var O=this.g.length+P.g.length,M=[],L=0;L<2*O;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<P.g.length;V++){var z=this.i(L)>>>16,N=this.i(L)&65535,Dt=P.i(V)>>>16,Tt=P.i(V)&65535;M[2*L+2*V]+=N*Tt,H(M,2*L+2*V),M[2*L+2*V+1]+=z*Tt,H(M,2*L+2*V+1),M[2*L+2*V+1]+=N*Dt,H(M,2*L+2*V+1),M[2*L+2*V+2]+=z*Dt,H(M,2*L+2*V+2)}for(L=0;L<O;L++)M[L]=M[2*L+1]<<16|M[2*L];for(L=O;L<2*O;L++)M[L]=0;return new c(M,0)};function H(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function G(P,O){this.g=P,this.h=O}function K(P,O){if(x(O))throw Error("division by zero");if(x(P))return new G(v,v);if(C(P))return O=K(I(P),O),new G(I(O.g),I(O.h));if(C(O))return O=K(P,I(O)),new G(I(O.g),O.h);if(30<P.g.length){if(C(P)||C(O))throw Error("slowDivide_ only works with positive integers.");for(var M=E,L=O;0>=L.l(P);)M=Y(M),L=Y(L);var V=rt(M,1),z=rt(L,1);for(L=rt(L,2),M=rt(M,2);!x(L);){var N=z.add(L);0>=N.l(P)&&(V=V.add(M),z=N),L=rt(L,1),M=rt(M,1)}return O=k(P,V.j(O)),new G(V,O)}for(V=v;0<=P.l(O);){for(M=Math.max(1,Math.floor(P.m()/O.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=d(M),N=z.j(O);C(N)||0<N.l(P);)M-=L,z=d(M),N=z.j(O);x(z)&&(z=E),V=V.add(z),P=k(P,N)}return new G(V,P)}n.A=function(P){return K(this,P).h},n.and=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0;L<O;L++)M[L]=this.i(L)&P.i(L);return new c(M,this.h&P.h)},n.or=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0;L<O;L++)M[L]=this.i(L)|P.i(L);return new c(M,this.h|P.h)},n.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0;L<O;L++)M[L]=this.i(L)^P.i(L);return new c(M,this.h^P.h)};function Y(P){for(var O=P.g.length+1,M=[],L=0;L<O;L++)M[L]=P.i(L)<<1|P.i(L-1)>>>31;return new c(M,P.h)}function rt(P,O){var M=O>>5;O%=32;for(var L=P.g.length-M,V=[],z=0;z<L;z++)V[z]=0<O?P.i(z+M)>>>O|P.i(z+M+1)<<32-O:P.i(z+M);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,g1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=m,so=c}).apply(typeof wT<"u"?wT:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p1,lh,m1,jd,L_,_1,y1,v1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,b,T){return g==Array.prototype||g==Object.prototype||(g[b]=T.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var b=0;b<g.length;++b){var T=g[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(g,b){if(b)t:{var T=i;g=g.split(".");for(var D=0;D<g.length-1;D++){var Q=g[D];if(!(Q in T))break t;T=T[Q]}g=g[g.length-1],D=T[g],b=b(D),b!=D&&b!=null&&t(T,g,{configurable:!0,writable:!0,value:b})}}function o(g,b){g instanceof String&&(g+="");var T=0,D=!1,Q={next:function(){if(!D&&T<g.length){var st=T++;return{value:b(st,g[st]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}r("Array.prototype.values",function(g){return g||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function f(g){var b=typeof g;return b=b!="object"?b:g?Array.isArray(g)?"array":b:"null",b=="array"||b=="object"&&typeof g.length=="number"}function d(g){var b=typeof g;return b=="object"&&g!=null||b=="function"}function m(g,b,T){return g.call.apply(g.bind,arguments)}function v(g,b,T){if(!g)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),g.apply(b,Q)}}return function(){return g.apply(b,arguments)}}function E(g,b,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function w(g,b){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),g.apply(this,D)}}function x(g,b){function T(){}T.prototype=b.prototype,g.aa=b.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(D,Q,st){for(var pt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)pt[Wt-2]=arguments[Wt];return b.prototype[Q].apply(D,pt)}}function C(g){const b=g.length;if(0<b){const T=Array(b);for(let D=0;D<b;D++)T[D]=g[D];return T}return[]}function I(g,b){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(f(D)){const Q=g.length||0,st=D.length||0;g.length=Q+st;for(let pt=0;pt<st;pt++)g[Q+pt]=D[pt]}else g.push(D)}}class k{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function H(g){return/^[\s\xa0]*$/.test(g)}function G(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function K(g){return K[" "](g),g}K[" "]=function(){};var Y=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function rt(g,b,T){for(const D in g)b.call(T,g[D],D,g)}function P(g,b){for(const T in g)b.call(void 0,g[T],T,g)}function O(g){const b={};for(const T in g)b[T]=g[T];return b}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(g,b){let T,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(T in D)g[T]=D[T];for(let st=0;st<M.length;st++)T=M[st],Object.prototype.hasOwnProperty.call(D,T)&&(g[T]=D[T])}}function V(g){var b=1;g=g.split(":");const T=[];for(;0<b&&g.length;)T.push(g.shift()),b--;return g.length&&T.push(g.join(":")),T}function z(g){u.setTimeout(()=>{throw g},0)}function N(){var g=xt;let b=null;return g.g&&(b=g.g,g.g=g.g.next,g.g||(g.h=null),b.next=null),b}class Dt{constructor(){this.h=this.g=null}add(b,T){const D=Tt.get();D.set(b,T),this.h?this.h.next=D:this.g=D,this.h=D}}var Tt=new k(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,_t=!1,xt=new Dt,B=()=>{const g=u.Promise.resolve(void 0);ct=()=>{g.then(ut)}};var ut=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(T){z(T)}var b=Tt;b.j(g),100>b.h&&(b.h++,g.next=b.g,b.g=g)}_t=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(g,b){this.type=g,this.g=this.target=b,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,b=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return g}();function Ct(g,b){if(q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,D=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=b,b=g.relatedTarget){if(Y){t:{try{K(b.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(b=null)}}else T=="mouseover"?b=g.fromElement:T=="mouseout"&&(b=g.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:wt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ct.aa.h.call(this)}}x(Ct,q);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),jt=0;function _e(g,b,T,D,Q){this.listener=g,this.proxy=null,this.src=b,this.type=T,this.capture=!!D,this.ha=Q,this.key=++jt,this.da=this.fa=!1}function Xn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function bt(g){this.src=g,this.g={},this.h=0}bt.prototype.add=function(g,b,T,D,Q){var st=g.toString();g=this.g[st],g||(g=this.g[st]=[],this.h++);var pt=bi(g,b,D,Q);return-1<pt?(b=g[pt],T||(b.fa=!1)):(b=new _e(b,this.src,st,!!D,Q),b.fa=T,g.push(b)),b};function Qn(g,b){var T=b.type;if(T in g.g){var D=g.g[T],Q=Array.prototype.indexOf.call(D,b,void 0),st;(st=0<=Q)&&Array.prototype.splice.call(D,Q,1),st&&(Xn(b),g.g[T].length==0&&(delete g.g[T],g.h--))}}function bi(g,b,T,D){for(var Q=0;Q<g.length;++Q){var st=g[Q];if(!st.da&&st.listener==b&&st.capture==!!T&&st.ha==D)return Q}return-1}var us="closure_lm_"+(1e6*Math.random()|0),hr={};function Ei(g,b,T,D,Q){if(Array.isArray(b)){for(var st=0;st<b.length;st++)Ei(g,b[st],T,D,Q);return null}return T=fr(T),g&&g[Jt]?g.K(b,T,d(D)?!!D.capture:!1,Q):un(g,b,T,!1,D,Q)}function un(g,b,T,D,Q,st){if(!b)throw Error("Invalid event type");var pt=d(Q)?!!Q.capture:!!Q,Wt=fs(g);if(Wt||(g[us]=Wt=new bt(g)),T=Wt.add(b,T,D,pt,st),T.proxy)return T;if(D=hs(),T.proxy=D,D.src=g,D.listener=T,g.addEventListener)yt||(Q=pt),Q===void 0&&(Q=!1),g.addEventListener(b.toString(),D,Q);else if(g.attachEvent)g.attachEvent(Jn(b.toString()),D);else if(g.addListener&&g.removeListener)g.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function hs(){function g(T){return b.call(g.src,g.listener,T)}const b=aa;return g}function Zn(g,b,T,D,Q){if(Array.isArray(b))for(var st=0;st<b.length;st++)Zn(g,b[st],T,D,Q);else D=d(D)?!!D.capture:!!D,T=fr(T),g&&g[Jt]?(g=g.i,b=String(b).toString(),b in g.g&&(st=g.g[b],T=bi(st,T,D,Q),-1<T&&(Xn(st[T]),Array.prototype.splice.call(st,T,1),st.length==0&&(delete g.g[b],g.h--)))):g&&(g=fs(g))&&(b=g.g[b.toString()],g=-1,b&&(g=bi(b,T,D,Q)),(T=-1<g?b[g]:null)&&In(T))}function In(g){if(typeof g!="number"&&g&&!g.da){var b=g.src;if(b&&b[Jt])Qn(b.i,g);else{var T=g.type,D=g.proxy;b.removeEventListener?b.removeEventListener(T,D,g.capture):b.detachEvent?b.detachEvent(Jn(T),D):b.addListener&&b.removeListener&&b.removeListener(D),(T=fs(b))?(Qn(T,g),T.h==0&&(T.src=null,b[us]=null)):Xn(g)}}}function Jn(g){return g in hr?hr[g]:hr[g]="on"+g}function aa(g,b){if(g.da)g=!0;else{b=new Ct(b,this);var T=g.listener,D=g.ha||g.src;g.fa&&In(g),g=T.call(D,b)}return g}function fs(g){return g=g[us],g instanceof bt?g:null}var ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(g){return typeof g=="function"?g:(g[ds]||(g[ds]=function(b){return g.handleEvent(b)}),g[ds])}function de(){gt.call(this),this.i=new bt(this),this.M=this,this.F=null}x(de,gt),de.prototype[Jt]=!0,de.prototype.removeEventListener=function(g,b,T,D){Zn(this,g,b,T,D)};function $t(g,b){var T,D=g.F;if(D)for(T=[];D;D=D.F)T.push(D);if(g=g.M,D=b.type||b,typeof b=="string")b=new q(b,g);else if(b instanceof q)b.target=b.target||g;else{var Q=b;b=new q(D,g),L(b,Q)}if(Q=!0,T)for(var st=T.length-1;0<=st;st--){var pt=b.g=T[st];Q=Ee(pt,D,!0,b)&&Q}if(pt=b.g=g,Q=Ee(pt,D,!0,b)&&Q,Q=Ee(pt,D,!1,b)&&Q,T)for(st=0;st<T.length;st++)pt=b.g=T[st],Q=Ee(pt,D,!1,b)&&Q}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var g=this.i,b;for(b in g.g){for(var T=g.g[b],D=0;D<T.length;D++)Xn(T[D]);delete g.g[b],g.h--}}this.F=null},de.prototype.K=function(g,b,T,D){return this.i.add(String(g),b,!1,T,D)},de.prototype.L=function(g,b,T,D){return this.i.add(String(g),b,!0,T,D)};function Ee(g,b,T,D){if(b=g.i.g[String(b)],!b)return!0;b=b.concat();for(var Q=!0,st=0;st<b.length;++st){var pt=b[st];if(pt&&!pt.da&&pt.capture==T){var Wt=pt.listener,Re=pt.ha||pt.src;pt.fa&&Qn(g.i,pt),Q=Wt.call(Re,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function tn(g,b,T){if(typeof g=="function")T&&(g=E(g,T));else if(g&&typeof g.handleEvent=="function")g=E(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(g,b||0)}function Cl(g){g.g=tn(()=>{g.g=null,g.i&&(g.i=!1,Cl(g))},g.l);const b=g.h;g.h=null,g.m.apply(null,b)}class tu extends gt{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Cl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(g){gt.call(this),this.h=g,this.g={}}x(Ti,gt);var ti=[];function ei(g){rt(g.g,function(b,T){this.g.hasOwnProperty(T)&&In(b)},g),g.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),ei(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=u.JSON.stringify,oa=u.JSON.parse,gs=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function So(){}So.prototype.h=null;function Ao(g){return g.h||(g.h=g.i())}function xo(){}var ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ms(){q.call(this,"d")}x(ms,q);function Ro(){q.call(this,"c")}x(Ro,q);var wi={},Ms=null;function _s(){return Ms=Ms||new de}wi.La="serverreachability";function dr(g){q.call(this,wi.La,g)}x(dr,q);function ks(g){const b=_s();$t(b,new dr(b))}wi.STAT_EVENT="statevent";function Il(g,b){q.call(this,wi.STAT_EVENT,g),this.stat=b}x(Il,q);function ye(g){const b=_s();$t(b,new Il(b,g))}wi.Ma="timingevent";function Be(g,b){q.call(this,wi.Ma,g),this.size=b}x(Be,q);function ge(g,b){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},b)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Co(g,b,T,D,Q,st){g.info(function(){if(g.g)if(st)for(var pt="",Wt=st.split("&"),Re=0;Re<Wt.length;Re++){var Ht=Wt[Re].split("=");if(1<Ht.length){var Ye=Ht[0];Ht=Ht[1];var Ue=Ye.split("_");pt=2<=Ue.length&&Ue[1]=="type"?pt+(Ye+"="+Ht+"&"):pt+(Ye+"=redacted&")}}else pt=null;else pt=st;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+b+`
`+T+`
`+pt})}function eu(g,b,T,D,Q,st,pt){g.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+b+`
`+T+`
`+st+" "+pt})}function Ps(g,b,T,D){g.info(function(){return"XMLHTTP TEXT ("+b+"): "+gr(g,T)+(D?" "+D:"")})}function Ol(g,b){g.info(function(){return"TIMEOUT: "+b})}hn.prototype.info=function(){};function gr(g,b){if(!g.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var D=T[g];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var st=Q[0];if(st!="noop"&&st!="stop"&&st!="close")for(var pt=1;pt<Q.length;pt++)Q[pt]=""}}}}return On(T)}catch{return b}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Fi(){}x(Fi,So),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},zn=new Fi;function en(g,b,T,D){this.j=g,this.i=b,this.l=T,this.R=D||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Io={},Si={};function ni(g,b,T){g.L=1,g.v=mr(Te(b)),g.m=T,g.P=!0,vn(g,null)}function vn(g,b){g.F=Date.now(),Ns(g),g.A=Te(g.v);var T=g.A,D=g.R;Array.isArray(D)||(D=[String(D)]),yr(T.i,"t",D),g.C=0,T=g.j.J,g.h=new De,g.g=xr(g.j,T?b:null,!g.m),0<g.O&&(g.M=new tu(E(g.Y,g,g.g),g.O)),b=g.U,T=g.g,D=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ti[0]=Q.toString()),Q=ti);for(var st=0;st<Q.length;st++){var pt=Ei(T,Q[st],D||b.handleEvent,!1,b.h||b);if(!pt)break;b.g[pt.key]=pt}b=g.H?O(g.H):{},g.m?(g.u||(g.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,b)):(g.u="GET",g.g.ea(g.A,g.u,null,b)),ks(),Co(g.i,g.u,g.A,g.l,g.R,g.m)}en.prototype.ca=function(g){g=g.target;const b=this.M;b&&qn(g)==3?b.j():this.Y(g)},en.prototype.Y=function(g){try{if(g==this.g)t:{const Ue=qn(this.g);var b=this.g.Ba();const ws=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||Ue!=4||b==7||(b==8||0>=ws?ks(3):ks(2)),Ls(this);var T=this.g.Z();this.X=T;e:if(la(this)){var D=Lo(this.g);g="";var Q=D.length,st=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),Hi(this);var pt="";break e}this.h.i=new u.TextDecoder}for(b=0;b<Q;b++)this.h.h=!0,g+=this.h.i.decode(D[b],{stream:!(st&&b==Q-1)});D.length=0,this.h.g+=g,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=T==200,eu(this.i,this.u,this.A,this.l,this.R,Ue,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,Re=this.g;if((Wt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Wt)){var Ht=Wt;break e}}Ht=null}if(T=Ht)Ps(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vs(this,T);else{this.o=!1,this.s=3,ye(12),nn(this),Hi(this);break t}}if(this.P){T=!0;let Ce;for(;!this.J&&this.C<pt.length;)if(Ce=Dl(this,pt),Ce==Si){Ue==4&&(this.s=4,ye(14),T=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==Io){this.s=4,ye(15),Ps(this.i,this.l,pt,"[Invalid Chunk]"),T=!1;break}else Ps(this.i,this.l,Ce,null),Vs(this,Ce);if(la(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||pt.length!=0||this.h.h||(this.s=1,ye(16),T=!1),this.o=this.o&&T,!T)Ps(this.i,this.l,pt,"[Invalid Chunked Response]"),nn(this),Hi(this);else if(0<pt.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),Ar(Ye),Ye.M=!0,ye(11))}}else Ps(this.i,this.l,pt,null),Vs(this,pt);Ue==4&&nn(this),this.o&&!this.J&&(Ue==4?Vl(this.j,this):(this.o=!1,Ns(this)))}else au(this.g),T==400&&0<pt.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),nn(this),Hi(this)}}}catch{}finally{}};function la(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Dl(g,b){var T=g.C,D=b.indexOf(`
`,T);return D==-1?Si:(T=Number(b.substring(T,D)),isNaN(T)?Io:(D+=1,D+T>b.length?Si:(b=b.slice(D,D+T),g.C=D+T,b)))}en.prototype.cancel=function(){this.J=!0,nn(this)};function Ns(g){g.S=Date.now()+g.I,Ml(g,g.I)}function Ml(g,b){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ge(E(g.ba,g),b)}function Ls(g){g.B&&(u.clearTimeout(g.B),g.B=null)}en.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ol(this.i,this.A),this.L!=2&&(ks(),ye(17)),nn(this),this.s=2,Hi(this)):Ml(this,this.S-g)};function Hi(g){g.j.G==0||g.J||Vl(g.j,g)}function nn(g){Ls(g);var b=g.M;b&&typeof b.ma=="function"&&b.ma(),g.M=null,ei(g.U),g.g&&(b=g.g,g.g=null,b.abort(),b.ma())}function Vs(g,b){try{var T=g.j;if(T.G!=0&&(T.g==g||Do(T.h,g))){if(!g.K&&Do(T.h,g)&&T.G==3){try{var D=T.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)_a(T),wr(T);else break t;zo(T),ye(18)}}else T.za=Q[1],0<T.za-T.T&&37500>Q[2]&&T.F&&T.v==0&&!T.C&&(T.C=ge(E(T.Za,T),6e3));if(1>=ii(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ts(T,11)}else if((g.K||T.g==g)&&_a(T),!H(b))for(Q=T.Da.g.parse(b),b=0;b<Q.length;b++){let Ht=Q[b];if(T.T=Ht[0],Ht=Ht[1],T.G==2)if(Ht[0]=="c"){T.K=Ht[1],T.ia=Ht[2];const Ye=Ht[3];Ye!=null&&(T.la=Ye,T.j.info("VER="+T.la));const Ue=Ht[4];Ue!=null&&(T.Aa=Ue,T.j.info("SVER="+T.Aa));const ws=Ht[5];ws!=null&&typeof ws=="number"&&0<ws&&(D=1.5*ws,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Ce=g.g;if(Ce){const ci=Ce.g?Ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var st=D.h;st.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(vs(st,st.h),st.h=null))}if(D.D){const ba=Ce.g?Ce.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(D.ya=ba,re(D.I,D.D,ba))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var pt=g;if(D.qa=ya(D,D.J?D.ia:null,D.W),pt.K){bn(D.h,pt);var Wt=pt,Re=D.L;Re&&(Wt.I=Re),Wt.B&&(Ls(Wt),Ns(Wt)),D.g=pt}else Uo(D);0<T.i.length&&ma(T)}else Ht[0]!="stop"&&Ht[0]!="close"||Ts(T,7);else T.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ts(T,7):pa(T):Ht[0]!="noop"&&T.l&&T.l.ta(Ht),T.v=0)}}ks(4)}catch{}}var Oo=class{constructor(g,b){this.g=g,this.map=b}};function ys(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ai(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ii(g){return g.h?1:g.g?g.g.size:0}function Do(g,b){return g.h?g.h==b:g.g?g.g.has(b):!1}function vs(g,b){g.g?g.g.add(b):g.h=b}function bn(g,b){g.h&&g.h==b?g.h=null:g.g&&g.g.has(b)&&g.g.delete(b)}ys.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Mo(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let b=g.i;for(const T of g.g.values())b=b.concat(T.D);return b}return C(g.i)}function nu(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var b=[],T=g.length,D=0;D<T;D++)b.push(g[D]);return b}b=[],T=0;for(D in g)b[T++]=g[D];return b}function ca(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var b=[];g=g.length;for(var T=0;T<g;T++)b.push(T);return b}b=[],T=0;for(const D in g)b[T++]=D;return b}}}function ko(g,b){if(g.forEach&&typeof g.forEach=="function")g.forEach(b,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,b,void 0);else for(var T=ca(g),D=nu(g),Q=D.length,st=0;st<Q;st++)b.call(void 0,D[st],T&&T[st],g)}var pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iu(g,b){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var D=g[T].indexOf("="),Q=null;if(0<=D){var st=g[T].substring(0,D);Q=g[T].substring(D+1)}else st=g[T];b(st,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Le(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Le){this.h=g.h,Us(this,g.j),this.o=g.o,this.g=g.g,bs(this,g.s),this.l=g.l;var b=g.i,T=new Gi;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),qi(this,T),this.m=g.m}else g&&(b=String(g).match(pr))?(this.h=!1,Us(this,b[1]||"",!0),this.o=jn(b[2]||""),this.g=jn(b[3]||"",!0),bs(this,b[4]),this.l=jn(b[5]||"",!0),qi(this,b[6]||"",!0),this.m=jn(b[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Le.prototype.toString=function(){var g=[],b=this.j;b&&g.push($i(b,Po,!0),":");var T=this.g;return(T||b=="file")&&(g.push("//"),(b=this.o)&&g.push($i(b,Po,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push($i(T,T.charAt(0)=="/"?su:ua,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",$i(T,_r)),g.join("")};function Te(g){return new Le(g)}function Us(g,b,T){g.j=T?jn(b,!0):b,g.j&&(g.j=g.j.replace(/:$/,""))}function bs(g,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);g.s=b}else g.s=null}function qi(g,b,T){b instanceof Gi?(g.i=b,Pl(g.i,g.h)):(T||(b=$i(b,ru)),g.i=new Gi(b,g.h))}function re(g,b,T){g.i.set(b,T)}function mr(g){return re(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function jn(g,b){return g?b?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function $i(g,b,T){return typeof g=="string"?(g=encodeURI(g).replace(b,kl),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function kl(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Po=/[#\/\?@]/g,ua=/[#\?:]/g,su=/[#\?]/g,ru=/[#\?@]/g,_r=/#/g;function Gi(g,b){this.h=this.g=null,this.i=g||null,this.j=!!b}function Bn(g){g.g||(g.g=new Map,g.h=0,g.i&&iu(g.i,function(b,T){g.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=Gi.prototype,n.add=function(g,b){Bn(this),this.i=null,g=Me(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(b),this.h+=1,this};function si(g,b){Bn(g),b=Me(g,b),g.g.has(b)&&(g.i=null,g.h-=g.g.get(b).length,g.g.delete(b))}function Yi(g,b){return Bn(g),b=Me(g,b),g.g.has(b)}n.forEach=function(g,b){Bn(this),this.g.forEach(function(T,D){T.forEach(function(Q){g.call(b,Q,D,this)},this)},this)},n.na=function(){Bn(this);const g=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let D=0;D<b.length;D++){const Q=g[D];for(let st=0;st<Q.length;st++)T.push(b[D])}return T},n.V=function(g){Bn(this);let b=[];if(typeof g=="string")Yi(this,g)&&(b=b.concat(this.g.get(Me(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)b=b.concat(g[T])}return b},n.set=function(g,b){return Bn(this),this.i=null,g=Me(this,g),Yi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[b]),this.h+=1,this},n.get=function(g,b){return g?(g=this.V(g),0<g.length?String(g[0]):b):b};function yr(g,b,T){si(g,b),0<T.length&&(g.i=null,g.g.set(Me(g,b),C(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var D=b[T];const st=encodeURIComponent(String(D)),pt=this.V(D);for(D=0;D<pt.length;D++){var Q=st;pt[D]!==""&&(Q+="="+encodeURIComponent(String(pt[D]))),g.push(Q)}}return this.i=g.join("&")};function Me(g,b){return b=String(b),g.j&&(b=b.toLowerCase()),b}function Pl(g,b){b&&!g.j&&(Bn(g),g.i=null,g.g.forEach(function(T,D){var Q=D.toLowerCase();D!=Q&&(si(this,D),yr(this,Q,T))},g)),g.j=b}function vr(g,b){const T=new hn;if(u.Image){const D=new Image;D.onload=w(Fn,T,"TestLoadImage: loaded",!0,b,D),D.onerror=w(Fn,T,"TestLoadImage: error",!1,b,D),D.onabort=w(Fn,T,"TestLoadImage: abort",!1,b,D),D.ontimeout=w(Fn,T,"TestLoadImage: timeout",!1,b,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=g}else b(!1)}function ri(g,b){const T=new hn,D=new AbortController,Q=setTimeout(()=>{D.abort(),Fn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(g,{signal:D.signal}).then(st=>{clearTimeout(Q),st.ok?Fn(T,"TestPingServer: ok",!0,b):Fn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Fn(T,"TestPingServer: error",!1,b)})}function Fn(g,b,T,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(T)}catch{}}function br(){this.g=new gs}function Wi(g,b,T){const D=T||"";try{ko(g,function(Q,st){let pt=Q;d(Q)&&(pt=On(Q)),b.push(D+st+"="+encodeURIComponent(pt))})}catch(Q){throw b.push(D+"type="+encodeURIComponent("_badmap")),Q}}function zs(g){this.l=g.Ub||null,this.j=g.eb||!1}x(zs,So),zs.prototype.g=function(){return new Es(this.l,this.j)},zs.prototype.i=function(g){return function(){return g}}({});function Es(g,b){de.call(this),this.D=g,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Es,de),n=Es.prototype,n.open=function(g,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=b,this.readyState=1,xi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(b.body=g),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var b=g.value?g.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!g.done}))&&(this.response=this.responseText+=b)}g.done?Ki(this):xi(this),this.readyState==3&&No(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ki(this))},n.Qa=function(g){this.g&&(this.response=g,Ki(this))},n.ga=function(){this.g&&Ki(this)};function Ki(g){g.readyState=4,g.l=null,g.j=null,g.v=null,xi(g)}n.setRequestHeader=function(g,b){this.u.append(g,b)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=b.next();return g.join(`\r
`)};function xi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ha(g){let b="";return rt(g,function(T,D){b+=D,b+=":",b+=T,b+=`\r
`}),b}function Ve(g,b,T){t:{for(D in T){var D=!1;break t}D=!0}D||(T=ha(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):re(g,b,T))}function ne(g){de.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ne,de);var fa=/^https?$/i,Hn=["POST","PUT"];n=ne.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,b,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);b=b?b.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ao(this.o):Ao(zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(b,String(g),!0),this.B=!1}catch(st){ai(this,st);return}if(g=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)T.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const st of D.keys())T.set(st,D.get(st));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(st=>st.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Hn,b,void 0))||D||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,pt]of T)this.g.setRequestHeader(st,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(g),this.u=!1}catch(st){ai(this,st)}};function ai(g,b){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=b,g.m=5,Er(g),Ri(g)}function Er(g){g.A||(g.A=!0,$t(g,"complete"),$t(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,$t(this,"complete"),$t(this,"abort"),Ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},n.bb=function(){da(this)};function da(g){if(g.h&&typeof c<"u"&&(!g.v[1]||qn(g)!=4||g.Z()!=2)){if(g.u&&qn(g)==4)tn(g.Ea,0,g);else if($t(g,"readystatechange"),qn(g)==4){g.h=!1;try{const pt=g.Z();t:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var D;if(D=pt===0){var Q=String(g.D).match(pr)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),D=!fa.test(Q?Q.toLowerCase():"")}T=D}if(T)$t(g,"complete"),$t(g,"success");else{g.m=6;try{var st=2<qn(g)?g.g.statusText:""}catch{st=""}g.l=st+" ["+g.Z()+"]",Er(g)}}finally{Ri(g)}}}}function Ri(g,b){if(g.g){js(g);const T=g.g,D=g.v[0]?()=>{}:null;g.g=null,g.v=null,b||$t(g,"ready");try{T.onreadystatechange=D}catch{}}}function js(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function qn(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var b=this.g.responseText;return g&&b.indexOf(g)==0&&(b=b.substring(g.length)),oa(b)}};function Lo(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function au(g){const b={};g=(g.g&&2<=qn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<g.length;D++){if(H(g[D]))continue;var T=V(g[D]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const st=b[Q]||[];b[Q]=st,st.push(T)}P(b,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(g,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||b}function ga(g){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,g),this.cb=Tr("retryDelaySeedMs",1e4,g),this.Wa=Tr("forwardChannelMaxRetries",2,g),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(g&&g.concurrentRequestLimit),this.Da=new br,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ga.prototype,n.la=8,n.G=1,n.connect=function(g,b,T,D){ye(0),this.W=g,this.H=b||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=ya(this,null,this.W),ma(this)};function pa(g){if(Nl(g),g.G==3){var b=g.U++,T=Te(g.I);if(re(T,"SID",g.K),re(T,"RID",b),re(T,"TYPE","terminate"),Sr(g,T),b=new en(g,g.j,b),b.L=2,b.v=mr(Te(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.v,T=!0),T||(b.g=xr(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ns(b)}Ul(g)}function wr(g){g.g&&(Ar(g),g.g.cancel(),g.g=null)}function Nl(g){wr(g),g.u&&(u.clearTimeout(g.u),g.u=null),_a(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function ma(g){if(!Ai(g.h)&&!g.s){g.s=!0;var b=g.Ga;ct||B(),_t||(ct(),_t=!0),xt.add(b,g),g.B=0}}function ou(g,b){return ii(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=b.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ge(E(g.Ga,g,b),jo(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new en(this,this.j,g);let st=this.o;if(this.S&&(st?(st=O(st),L(st,this.S)):st=this.S),this.m!==null||this.O||(Q.H=st,st=null),this.P)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=oi(this,Q,b),T=Te(this.I),re(T,"RID",g),re(T,"CVER",22),this.D&&re(T,"X-HTTP-Session-Id",this.D),Sr(this,T),st&&(this.O?b="headers="+encodeURIComponent(String(ha(st)))+"&"+b:this.m&&Ve(T,this.m,st)),vs(this.h,Q),this.Ua&&re(T,"TYPE","init"),this.P?(re(T,"$req",b),re(T,"SID","null"),Q.T=!0,ni(Q,T,null)):ni(Q,T,b),this.G=2}}else this.G==3&&(g?Vo(this,g):this.i.length==0||Ai(this.h)||Vo(this))};function Vo(g,b){var T;b?T=b.l:T=g.U++;const D=Te(g.I);re(D,"SID",g.K),re(D,"RID",T),re(D,"AID",g.T),Sr(g,D),g.m&&g.o&&Ve(D,g.m,g.o),T=new en(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),b&&(g.i=b.D.concat(g.i)),b=oi(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),vs(g.h,T),ni(T,D,b)}function Sr(g,b){g.H&&rt(g.H,function(T,D){re(b,D,T)}),g.l&&ko({},function(T,D){re(b,D,T)})}function oi(g,b,T){T=Math.min(g.i.length,T);var D=g.l?E(g.l.Na,g.l,g):null;t:{var Q=g.i;let st=-1;for(;;){const pt=["count="+T];st==-1?0<T?(st=Q[0].g,pt.push("ofs="+st)):st=0:pt.push("ofs="+st);let Wt=!0;for(let Re=0;Re<T;Re++){let Ht=Q[Re].g;const Ye=Q[Re].map;if(Ht-=st,0>Ht)st=Math.max(0,Q[Re].g-100),Wt=!1;else try{Wi(Ye,pt,"req"+Ht+"_")}catch{D&&D(Ye)}}if(Wt){D=pt.join("&");break t}}}return g=g.i.splice(0,T),b.D=g,D}function Uo(g){if(!g.g&&!g.u){g.Y=1;var b=g.Fa;ct||B(),_t||(ct(),_t=!0),xt.add(b,g),g.v=0}}function zo(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ge(E(g.Fa,g),jo(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ge(E(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),wr(this),Ll(this))};function Ar(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Ll(g){g.g=new en(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var b=Te(g.qa);re(b,"RID","rpc"),re(b,"SID",g.K),re(b,"AID",g.T),re(b,"CI",g.F?"0":"1"),!g.F&&g.ja&&re(b,"TO",g.ja),re(b,"TYPE","xmlhttp"),Sr(g,b),g.m&&g.o&&Ve(b,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=mr(Te(b)),T.m=null,T.P=!0,vn(T,g)}n.Za=function(){this.C!=null&&(this.C=null,wr(this),zo(this),ye(19))};function _a(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Vl(g,b){var T=null;if(g.g==b){_a(g),Ar(g),g.g=null;var D=2}else if(Do(g.h,b))T=b.D,bn(g.h,b),D=1;else return;if(g.G!=0){if(b.o)if(D==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var Q=g.B;D=_s(),$t(D,new Be(D,T)),ma(g)}else Uo(g);else if(Q=b.s,Q==3||Q==0&&0<b.X||!(D==1&&ou(g,b)||D==2&&zo(g)))switch(T&&0<T.length&&(b=g.h,b.i=b.i.concat(T)),Q){case 1:Ts(g,5);break;case 4:Ts(g,10);break;case 3:Ts(g,6);break;default:Ts(g,2)}}}function jo(g,b){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*b}function Ts(g,b){if(g.j.info("Error code "+b),b==2){var T=E(g.fb,g),D=g.Xa;const Q=!D;D=new Le(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Us(D,"https"),mr(D),Q?vr(D.toString(),T):ri(D.toString(),T)}else ye(2);g.G=0,g.l&&g.l.sa(b),Ul(g),Nl(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Ul(g){if(g.G=0,g.ka=[],g.l){const b=Mo(g.h);(b.length!=0||g.i.length!=0)&&(I(g.ka,b),I(g.ka,g.i),g.h.i.length=0,C(g.i),g.i.length=0),g.l.ra()}}function ya(g,b,T){var D=T instanceof Le?Te(T):new Le(T);if(D.g!="")b&&(D.g=b+"."+D.g),bs(D,D.s);else{var Q=u.location;D=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;var st=new Le(null);D&&Us(st,D),b&&(st.g=b),Q&&bs(st,Q),T&&(st.l=T),D=st}return T=g.D,b=g.ya,T&&b&&re(D,T,b),re(D,"VER",g.la),Sr(g,D),D}function xr(g,b,T){if(b&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=g.Ca&&!g.pa?new ne(new zs({eb:T})):new ne(g.pa),b.Ha(g.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zl(){}n=zl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Rr(){}Rr.prototype.g=function(g,b){return new fn(g,b)};function fn(g,b){de.call(this),this.g=new ga(b),this.l=g,this.h=b&&b.messageUrlParams||null,g=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(g?g["X-WebChannel-Content-Type"]=b.messageContentType:g={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(g?g["X-WebChannel-Client-Profile"]=b.va:g={"X-WebChannel-Client-Profile":b.va}),this.g.S=g,(g=b&&b.Sb)&&!H(g)&&(this.g.m=g),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!H(b)&&(this.g.D=b,g=this.h,g!==null&&b in g&&(g=this.h,b in g&&delete g[b])),this.j=new li(this)}x(fn,de),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){pa(this.g)},fn.prototype.o=function(g){var b=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=On(g),g=T);b.i.push(new Oo(b.Ya++,g)),b.G==3&&ma(b)},fn.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,fn.aa.N.call(this)};function Bs(g){ms.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var b=g.__sm__;if(b){t:{for(const T in b){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,b=b!==null&&g in b?b[g]:void 0),this.data=b}else this.data=g}x(Bs,ms);function va(){Ro.call(this),this.status=1}x(va,Ro);function li(g){this.g=g}x(li,zl),li.prototype.ua=function(){$t(this.g,"a")},li.prototype.ta=function(g){$t(this.g,new Bs(g))},li.prototype.sa=function(g){$t(this.g,new va)},li.prototype.ra=function(){$t(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,v1=function(){return new Rr},y1=function(){return _s()},_1=wi,L_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,jd=Bi,Dn.COMPLETE="complete",m1=Dn,xo.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",de.prototype.listen=de.prototype.K,lh=xo,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,p1=ne}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore",AT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Ay("@firebase/firestore");function pc(){return bl.logLevel}function vt(n,...t){if(bl.logLevel<=Kt.DEBUG){const e=t.map(Vy);bl.debug(`Firestore (${Yc}): ${n}`,...e)}}function na(n,...t){if(bl.logLevel<=Kt.ERROR){const e=t.map(Vy);bl.error(`Firestore (${Yc}): ${n}`,...e)}}function co(n,...t){if(bl.logLevel<=Kt.WARN){const e=t.map(Vy);bl.warn(`Firestore (${Yc}): ${n}`,...e)}}function Vy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,b1(n,i,e)}function b1(n,t,e){let i=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw na(i),new Error(i)}function ae(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||b1(t,r,i)}function Vt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends ra{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ln.UNAUTHENTICATED))}shutdown(){}}class CP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class IP{constructor(t){this.t=t,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ae(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ro,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},u=f=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ro)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ae(typeof i.accessToken=="string",31837,{l:i}),new E1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new Ln(t)}}class OP{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DP{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new OP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,is(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ae(this.o===void 0,3512);const i=o=>{o.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,vt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ae(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new xT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=kP(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ft(n,t){return n<t?-1:n>t?1:0}function V_(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ft(i,r);{const o=T1(),c=PP(o.encode(RT(n,e)),o.encode(RT(t,e)));return c!==0?c:Ft(i,r)}}e+=i>65535?2:1}return Ft(n.length,t.length)}function RT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function PP(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ft(n[e],t[e]);return Ft(n.length,t.length)}function Pc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__name__";class Zs{constructor(t,e,i){e===void 0?e=0:e>t.length&&Pt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Pt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Zs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Zs?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Zs.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ft(t.length,e.length)}static compareSegments(t,e){const i=Zs.isNumericId(t),r=Zs.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Zs.extractNumericId(t).compare(Zs.extractNumericId(e)):V_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return so.fromString(t.substring(4,t.length-2))}}class Se extends Zs{construct(t,e,i){return new Se(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new At(dt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Se(e)}static emptyPath(){return new Se([])}}const NP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Zs{construct(t,e,i){return new Rn(t,e,i)}static isValidIdentifier(t){return NP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CT}static keyField(){return new Rn([CT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new At(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new At(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new At(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(c=!c,r++):u!=="."||c?(i+=u,r++):(o(),r++)}if(o(),c)throw new At(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rn(e)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.path=t}static fromPath(t){return new It(Se.fromString(t))}static fromName(t){return new It(Se.fromString(t).popFirst(5))}static empty(){return new It(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n,t,e){if(!e)throw new At(dt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function LP(n,t,e,i){if(t===!0&&i===!0)throw new At(dt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function IT(n){if(!It.isDocumentKey(n))throw new At(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OT(n){if(It.isDocumentKey(n))throw new At(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function S1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function zy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Pt(12329,{type:typeof n})}function as(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new At(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zy(n);throw new At(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xh(n,t){if(!S1(n))throw new At(dt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new At(dt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=-62135596800,MT=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*MT);return new Ae(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<DT)throw new At(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MT}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xh(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-DT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ze("string",Ae._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Ae(0,0))}static max(){return new Lt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function VP(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(i===1e9?new Ae(e+1,0):new Ae(e,i));return new uo(r,It.empty(),t)}function UP(n){return new uo(n.readTime,n.key,Oh)}class uo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new uo(Lt.min(),It.empty(),Oh)}static max(){return new uo(Lt.max(),It.empty(),Oh)}}function zP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(n.documentKey,t.documentKey),e!==0?e:Ft(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(n){if(n.code!==dt.FAILED_PRECONDITION||n.message!==jP)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ft((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ft?e:ft.resolve(e)}catch(e){return ft.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ft.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ft.reject(e)}static resolve(t){return new ft((e,i)=>{e(t)})}static reject(t){return new ft((e,i)=>{i(t)})}static waitFor(t){return new ft((e,i)=>{let r=0,o=0,c=!1;t.forEach(u=>{++r,u.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=ft.resolve(!1);for(const i of t)e=e.next(r=>r?ft.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ft((i,r)=>{const o=t.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next(m=>{c[d]=m,++u,u===o&&i(c)},m=>r(m))}})}static doWhile(t,e){return new ft((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function FP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Kc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Lg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-1;function Vg(n){return n==null}function rg(n){return n===0&&1/n==-1/0}function HP(n){return typeof n=="number"&&Number.isInteger(n)&&!rg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function qP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kT(t)),t=$P(n.get(e),t);return kT(t)}function $P(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case A1:e+="";break;default:e+=o}}return e}function kT(n){return n+A1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function To(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function x1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,e){this.comparator=t,this.root=e||xn.EMPTY}insert(t,e){return new Ne(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(t){return new Ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pd(this.root,t,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pd(this.root,t,this.comparator,!0)}}class pd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??xn.RED,this.left=r??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new xn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return xn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Pt(27949);return t+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(t){return new NT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class NT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.fields=t,t.sort(Rn.comparator)}static empty(){return new Vi([])}unionWith(t){let e=new cn(Rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Vi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Pc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new R1("Invalid base64 string: "+o):o}}(t);return new Cn(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Cn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const GP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(n){if(ae(!!n,39018),typeof n=="string"){let t=0;const e=GP.exec(n);if(ae(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fo(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",I1="__type__",O1="__previous_value__",D1="__local_write_time__";function By(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[I1])===null||e===void 0?void 0:e.stringValue)===C1}function Ug(n){const t=n.mapValue.fields[O1];return By(t)?Ug(t):t}function Dh(n){const t=ho(n.mapValue.fields[D1].timestampValue);return new Ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,e,i,r,o,c,u,f,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const ag="(default)";class Mh{constructor(t,e){this.projectId=t,this.database=e||ag}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===ag}isEqual(t){return t instanceof Mh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__type__",WP="__max__",md={mapValue:{}},k1="__vector__",og="value";function go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:XP(n)?9007199254740991:KP(n)?10:11:Pt(28295,{value:n})}function lr(n,t){if(n===t)return!0;const e=go(n);if(e!==go(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Dh(n).isEqual(Dh(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=ho(r.timestampValue),u=ho(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return fo(r.bytesValue).isEqual(fo(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return qe(r.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(r.geoPointValue.longitude)===qe(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return qe(r.integerValue)===qe(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=qe(r.doubleValue),u=qe(o.doubleValue);return c===u?rg(c)===rg(u):isNaN(c)&&isNaN(u)}return!1}(n,t);case 9:return Pc(n.arrayValue.values||[],t.arrayValue.values||[],lr);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},u=o.mapValue.fields||{};if(PT(c)!==PT(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!lr(c[f],u[f])))return!1;return!0}(n,t);default:return Pt(52216,{left:n})}}function kh(n,t){return(n.values||[]).find(e=>lr(e,t))!==void 0}function Nc(n,t){if(n===t)return 0;const e=go(n),i=go(t);if(e!==i)return Ft(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,t.booleanValue);case 2:return function(o,c){const u=qe(o.integerValue||o.doubleValue),f=qe(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return LT(n.timestampValue,t.timestampValue);case 4:return LT(Dh(n),Dh(t));case 5:return V_(n.stringValue,t.stringValue);case 6:return function(o,c){const u=fo(o),f=fo(c);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const u=o.split("/"),f=c.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=Ft(u[d],f[d]);if(m!==0)return m}return Ft(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const u=Ft(qe(o.latitude),qe(c.latitude));return u!==0?u:Ft(qe(o.longitude),qe(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return VT(n.arrayValue,t.arrayValue);case 10:return function(o,c){var u,f,d,m;const v=o.fields||{},E=c.fields||{},w=(u=v[og])===null||u===void 0?void 0:u.arrayValue,x=(f=E[og])===null||f===void 0?void 0:f.arrayValue,C=Ft(((d=w?.values)===null||d===void 0?void 0:d.length)||0,((m=x?.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:VT(w,x)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===md.mapValue&&c===md.mapValue)return 0;if(o===md.mapValue)return 1;if(c===md.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=c.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const E=V_(f[v],m[v]);if(E!==0)return E;const w=Nc(u[f[v]],d[m[v]]);if(w!==0)return w}return Ft(f.length,m.length)}(n.mapValue,t.mapValue);default:throw Pt(23264,{le:e})}}function LT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ft(n,t);const e=ho(n),i=ho(t),r=Ft(e.seconds,i.seconds);return r!==0?r:Ft(e.nanos,i.nanos)}function VT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Nc(e[r],i[r]);if(o)return o}return Ft(e.length,i.length)}function Lc(n){return U_(n)}function U_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=ho(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return fo(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return It.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=U_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${U_(e.fields[c])}`;return r+"}"}(n.mapValue):Pt(61005,{value:n})}function Bd(n){switch(go(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ug(n);return t?16+Bd(t):16;case 5:return 2*n.stringValue.length;case 6:return fo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Bd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return To(i.fields,(o,c)=>{r+=o.length+Bd(c)}),r}(n.mapValue);default:throw Pt(13486,{value:n})}}function z_(n){return!!n&&"integerValue"in n}function Fy(n){return!!n&&"arrayValue"in n}function UT(n){return!!n&&"nullValue"in n}function zT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fd(n){return!!n&&"mapValue"in n}function KP(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[M1])===null||e===void 0?void 0:e.stringValue)===k1}function vh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return To(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=vh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function XP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.value=t}static empty(){return new mi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Fd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vh(e)}setAll(t){let e=Rn.emptyPath(),i={},r=[];t.forEach((c,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}c?i[u.lastSegment()]=vh(c):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Fd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return lr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Fd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){To(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new mi(vh(this.value))}}function P1(n){const t=[];return To(n.fields,(e,i)=>{const r=new Rn([e]);if(Fd(i)){const o=P1(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Vi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,e,i,r,o,c,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(t){return new Vn(t,0,Lt.min(),Lt.min(),Lt.min(),mi.empty(),0)}static newFoundDocument(t,e,i,r){return new Vn(t,1,e,Lt.min(),i,r,0)}static newNoDocument(t,e){return new Vn(t,2,e,Lt.min(),Lt.min(),mi.empty(),0)}static newUnknownDocument(t,e){return new Vn(t,3,e,Lt.min(),Lt.min(),mi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,e){this.position=t,this.inclusive=e}}function jT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=It.comparator(It.fromName(c.referenceValue),e.key):i=Nc(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function BT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!lr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,e="asc"){this.field=t,this.dir=e}}function QP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class on extends N1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new JP(t,e,i):e==="array-contains"?new nN(t,i):e==="in"?new iN(t,i):e==="not-in"?new sN(t,i):e==="array-contains-any"?new rN(t,i):new on(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new tN(t,i):new eN(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Nc(e,this.value)):e!==null&&go(this.value)===go(e)&&this.matchesComparison(Nc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends N1{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new cr(t,e)}matches(t){return L1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function L1(n){return n.op==="and"}function V1(n){return ZP(n)&&L1(n)}function ZP(n){for(const t of n.filters)if(t instanceof cr)return!1;return!0}function j_(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Lc(n.value);if(V1(n))return n.filters.map(t=>j_(t)).join(",");{const t=n.filters.map(e=>j_(e)).join(",");return`${n.op}(${t})`}}function U1(n,t){return n instanceof on?function(i,r){return r instanceof on&&i.op===r.op&&i.field.isEqual(r.field)&&lr(i.value,r.value)}(n,t):n instanceof cr?function(i,r){return r instanceof cr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,u)=>o&&U1(c,r.filters[u]),!0):!1}(n,t):void Pt(19439)}function z1(n){return n instanceof on?function(e){return`${e.field.canonicalString()} ${e.op} ${Lc(e.value)}`}(n):n instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(z1).join(" ,")+"}"}(n):"Filter"}class JP extends on{constructor(t,e,i){super(t,e,i),this.key=It.fromName(i.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class tN extends on{constructor(t,e){super(t,"in",e),this.keys=j1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class eN extends on{constructor(t,e){super(t,"not-in",e),this.keys=j1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function j1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>It.fromName(i.referenceValue))}class nN extends on{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fy(e)&&kh(e.arrayValue,this.value)}}class iN extends on{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&kh(this.value.arrayValue,e)}}class sN extends on{constructor(t,e){super(t,"not-in",e)}matches(t){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!kh(this.value.arrayValue,e)}}class rN extends on{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>kh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,e=null,i=[],r=[],o=null,c=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=u,this.Pe=null}}function FT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new aN(n,t,e,i,r,o,c)}function Hy(n){const t=Vt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>j_(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Vg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Lc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Lc(i)).join(",")),t.Pe=e}return t.Pe}function qy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!QP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!U1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!BT(n.startAt,t.startAt)&&BT(n.endAt,t.endAt)}function B_(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e=null,i=[],r=[],o=null,c="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oN(n,t,e,i,r,o,c,u){return new zg(n,t,e,i,r,o,c,u)}function jg(n){return new zg(n)}function HT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lN(n){return n.collectionGroup!==null}function bh(n){const t=Vt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new cn(Rn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new cg(o,i))}),e.has(Rn.keyField().canonicalString())||t.Te.push(new cg(Rn.keyField(),i))}return t.Te}function ir(n){const t=Vt(n);return t.Ie||(t.Ie=cN(t,bh(n))),t.Ie}function cN(n,t){if(n.limitType==="F")return FT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new cg(r.field,o)});const e=n.endAt?new lg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new lg(n.startAt.position,n.startAt.inclusive):null;return FT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function F_(n,t,e){return new zg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Bg(n,t){return qy(ir(n),ir(t))&&n.limitType===t.limitType}function B1(n){return`${Hy(ir(n))}|lt:${n.limitType}`}function mc(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>z1(r)).join(", ")}]`),Vg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Lc(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Lc(r)).join(",")),`Target(${i})`}(ir(n))}; limitType=${n.limitType})`}function Fg(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):It.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of bh(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,u,f){const d=jT(c,u,f);return c.inclusive?d<=0:d<0}(i.startAt,bh(i),r)||i.endAt&&!function(c,u,f){const d=jT(c,u,f);return c.inclusive?d>=0:d>0}(i.endAt,bh(i),r))}(n,t)}function uN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F1(n){return(t,e)=>{let i=!1;for(const r of bh(n)){const o=hN(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function hN(n,t,e){const i=n.field.isKeyField()?It.comparator(t.key,e.key):function(o,c,u){const f=c.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Nc(f,d):Pt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){To(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Ne(It.comparator);function ia(){return fN}const H1=new Ne(It.comparator);function ch(...n){let t=H1;for(const e of n)t=t.insert(e.key,e);return t}function q1(n){let t=H1;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function cl(){return Eh()}function $1(){return Eh()}function Eh(){return new xl(n=>n.toString(),(n,t)=>n.isEqual(t))}const dN=new Ne(It.comparator),gN=new cn(It.comparator);function Xt(...n){let t=gN;for(const e of n)t=t.add(e);return t}const pN=new cn(Ft);function mN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rg(t)?"-0":t}}function G1(n){return{integerValue:""+n}}function _N(n,t){return HP(t)?G1(t):$y(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function yN(n,t,e){return n instanceof ug?function(r,o){const c={fields:{[I1]:{stringValue:C1},[D1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&By(o)&&(o=Ug(o)),o&&(c.fields[O1]=o),{mapValue:c}}(e,t):n instanceof Ph?W1(n,t):n instanceof Nh?K1(n,t):function(r,o){const c=Y1(r,o),u=qT(c)+qT(r.Ee);return z_(c)&&z_(r.Ee)?G1(u):$y(r.serializer,u)}(n,t)}function vN(n,t,e){return n instanceof Ph?W1(n,t):n instanceof Nh?K1(n,t):e}function Y1(n,t){return n instanceof hg?function(i){return z_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class ug extends Hg{}class Ph extends Hg{constructor(t){super(),this.elements=t}}function W1(n,t){const e=X1(t);for(const i of n.elements)e.some(r=>lr(r,i))||e.push(i);return{arrayValue:{values:e}}}class Nh extends Hg{constructor(t){super(),this.elements=t}}function K1(n,t){let e=X1(t);for(const i of n.elements)e=e.filter(r=>!lr(r,i));return{arrayValue:{values:e}}}class hg extends Hg{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function qT(n){return qe(n.integerValue||n.doubleValue)}function X1(n){return Fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function bN(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Ph&&r instanceof Ph||i instanceof Nh&&r instanceof Nh?Pc(i.elements,r.elements,lr):i instanceof hg&&r instanceof hg?lr(i.Ee,r.Ee):i instanceof ug&&r instanceof ug}(n.transform,t.transform)}class EN{constructor(t,e){this.version=t,this.transformResults=e}}class os{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new os}static exists(t){return new os(void 0,t)}static updateTime(t){return new os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class qg{}function Q1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Gy(n.key,os.none()):new Qh(n.key,n.data,os.none());{const e=n.data,i=mi.empty();let r=new cn(Rn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new wo(n.key,i,new Vi(r.toArray()),os.none())}}function TN(n,t,e){n instanceof Qh?function(r,o,c){const u=r.value.clone(),f=GT(r.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,t,e):n instanceof wo?function(r,o,c){if(!Hd(r.precondition,o))return void o.convertToUnknownDocument(c.version);const u=GT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(Z1(r)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Th(n,t,e,i){return n instanceof Qh?function(o,c,u,f){if(!Hd(o.precondition,c))return u;const d=o.value.clone(),m=YT(o.fieldTransforms,f,c);return d.setAll(m),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof wo?function(o,c,u,f){if(!Hd(o.precondition,c))return u;const d=YT(o.fieldTransforms,f,c),m=c.data;return m.setAll(Z1(o)),m.setAll(d),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,c,u){return Hd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(n,t,e)}function wN(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Y1(i.transform,r||null);o!=null&&(e===null&&(e=mi.empty()),e.set(i.field,o))}return e||null}function $T(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Pc(i,r,(o,c)=>bN(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Qh extends qg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wo extends qg{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function GT(n,t,e){const i=new Map;ae(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,u=t.data.field(o.field);i.set(o.field,vN(c,u,e[r]))}return i}function YT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,yN(o,c,t))}return i}class Gy extends qg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SN extends qg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&TN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Th(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Th(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=$1();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=e.has(r.key)?null:u;const f=Q1(c,u);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Xt())}isEqual(t){return this.batchId===t.batchId&&Pc(this.mutations,t.mutations,(e,i)=>$T(e,i))&&Pc(this.baseMutations,t.baseMutations,(e,i)=>$T(e,i))}}class Yy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ae(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return dN}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Yy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,Zt;function CN(n){switch(n){case dt.OK:return Pt(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Pt(15467,{code:n})}}function J1(n){if(n===void 0)return na("GRPC error has no .code"),dt.UNKNOWN;switch(n){case Qe.OK:return dt.OK;case Qe.CANCELLED:return dt.CANCELLED;case Qe.UNKNOWN:return dt.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return dt.INTERNAL;case Qe.UNAVAILABLE:return dt.UNAVAILABLE;case Qe.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Qe.NOT_FOUND:return dt.NOT_FOUND;case Qe.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Qe.ABORTED:return dt.ABORTED;case Qe.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Qe.DATA_LOSS:return dt.DATA_LOSS;default:return Pt(39323,{code:n})}}(Zt=Qe||(Qe={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new so([4294967295,4294967295],0);function WT(n){const t=T1().encode(n),e=new g1;return e.update(t),new Uint8Array(e.digest())}function KT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new so([e,i],0),new so([r,o],0)]}class Wy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new uh(`Invalid padding: ${e}`);if(i<0)throw new uh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new uh(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=so.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(so.fromNumber(i)));return r.compare(IN)===1&&(r=new so([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=WT(t),[i,r]=KT(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);if(!this.ye(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Wy(o,r,e);return i.forEach(u=>c.insert(u)),c}insert(t){if(this.fe===0)return;const e=WT(t),[i,r]=KT(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);this.we(c)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Zh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new $g(Lt.min(),r,new Ne(Ft),ia(),Xt())}}class Zh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Zh(i,e,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class tx{constructor(t,e){this.targetId=t,this.De=e}}class ex{constructor(t,e,i=Cn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class XT{constructor(){this.ve=0,this.Ce=QT(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Xt(),e=Xt(),i=Xt();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Pt(38017,{changeType:o})}}),new Zh(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=QT()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ON{constructor(t){this.We=t,this.Ge=new Map,this.ze=ia(),this.je=_d(),this.Je=_d(),this.He=new Ne(Ft)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:Pt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(B_(o))if(i===0){const c=new It(o.path);this.Xe(e,c,Vn.newNoDocument(c,Lt.min()))}else ae(i===1,20013,{expectedCount:i});else{const c=this.ot(e);if(c!==i){const u=this._t(t),f=u?this.ut(u,t,c):1;if(f!==0){this.rt(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,d)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,u;try{c=fo(i).toUint8Array()}catch(f){if(f instanceof R1)return co("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Wy(c,r,o)}catch(f){return co(f instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.fe===0?null:u}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.We.lt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,c)=>{const u=this.st(c);if(u){if(o.current&&B_(u.target)){const f=new It(u.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,Vn.newNoDocument(f,t))}o.Ne&&(e.set(c,o.Le()),o.ke())}});let i=Xt();this.Je.forEach((o,c)=>{let u=!0;c.forEachWhile(f=>{const d=this.st(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(t));const r=new $g(t,e,this.He,this.ze,i);return this.ze=ia(),this.je=_d(),this.Je=_d(),this.He=new Ne(Ft),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new XT,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new cn(Ft),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new cn(Ft),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||vt("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new XT),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function _d(){return new Ne(It.comparator)}function QT(){return new Ne(It.comparator)}const DN={asc:"ASCENDING",desc:"DESCENDING"},MN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kN={and:"AND",or:"OR"};class PN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function H_(n,t){return n.useProto3Json||Vg(t)?t:{value:t}}function fg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function NN(n,t){return fg(n,t.toTimestamp())}function sr(n){return ae(!!n,49232),Lt.fromTimestamp(function(e){const i=ho(e);return new Ae(i.seconds,i.nanos)}(n))}function Ky(n,t){return q_(n,t).canonicalString()}function q_(n,t){const e=function(r){return new Se(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function ix(n){const t=Se.fromString(n);return ae(lx(t),10190,{key:t.toString()}),t}function $_(n,t){return Ky(n.databaseId,t.path)}function s_(n,t){const e=ix(t);if(e.get(1)!==n.databaseId.projectId)throw new At(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new At(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(rx(e))}function sx(n,t){return Ky(n.databaseId,t)}function LN(n){const t=ix(n);return t.length===4?Se.emptyPath():rx(t)}function G_(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rx(n){return ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ZT(n,t,e){return{name:$_(n,t),fields:e.value.mapValue.fields}}function VN(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Pt(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(ae(m===void 0||typeof m=="string",58123),Cn.fromBase64String(m||"")):(ae(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Cn.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,u=c&&function(d){const m=d.code===void 0?dt.UNKNOWN:J1(d.code);return new At(m,d.message||"")}(c);e=new ex(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=s_(n,i.document.name),o=sr(i.document.updateTime),c=i.document.createTime?sr(i.document.createTime):Lt.min(),u=new mi({mapValue:{fields:i.document.fields}}),f=Vn.newFoundDocument(r,o,c,u),d=i.targetIds||[],m=i.removedTargetIds||[];e=new qd(d,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=s_(n,i.document),o=i.readTime?sr(i.readTime):Lt.min(),c=Vn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new qd([],u,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=s_(n,i.document),o=i.removedTargetIds||[];e=new qd([],o,r,null)}else{if(!("filter"in t))return Pt(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new RN(r,o),u=i.targetId;e=new tx(u,c)}}return e}function UN(n,t){let e;if(t instanceof Qh)e={update:ZT(n,t.key,t.value)};else if(t instanceof Gy)e={delete:$_(n,t.key)};else if(t instanceof wo)e={update:ZT(n,t.key,t.data),updateMask:YN(t.fieldMask)};else{if(!(t instanceof SN))return Pt(16599,{Rt:t.type});e={verify:$_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const u=c.transform;if(u instanceof ug)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ph)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hg)return{fieldPath:c.field.canonicalString(),increment:u.Ee};throw Pt(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:NN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pt(27497)}(n,t.precondition)),e}function zN(n,t){return n&&n.length>0?(ae(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?sr(r.updateTime):sr(o);return c.isEqual(Lt.min())&&(c=sr(o)),new EN(c,r.transformResults||[])}(e,t))):[]}function jN(n,t){return{documents:[sx(n,t.path)]}}function BN(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=sx(n,r);const o=function(d){if(d.length!==0)return ox(cr.create(d,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(d){if(d.length!==0)return d.map(m=>function(E){return{field:_c(E.field),direction:qN(E.dir)}}(m))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const u=H_(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{Vt:e,parent:r}}function FN(n){let t=LN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ae(i===1,65062);const m=e.from[0];m.allDescendants?r=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=function(v){const E=ax(v);return E instanceof cr&&V1(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=function(v){return v.map(E=>function(x){return new cg(yc(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(e.orderBy));let u=null;e.limit&&(u=function(v){let E;return E=typeof v=="object"?v.value:v,Vg(E)?null:E}(e.limit));let f=null;e.startAt&&(f=function(v){const E=!!v.before,w=v.values||[];return new lg(w,E)}(e.startAt));let d=null;return e.endAt&&(d=function(v){const E=!v.before,w=v.values||[];return new lg(w,E)}(e.endAt)),oN(t,r,c,o,u,"F",f,d)}function HN(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function ax(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=yc(e.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=yc(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yc(e.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yc(e.unaryFilter.field);return on.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pt(61313);default:return Pt(60726)}}(n):n.fieldFilter!==void 0?function(e){return on.create(yc(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pt(58110);default:return Pt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return cr.create(e.compositeFilter.filters.map(i=>ax(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Pt(1026)}}(e.compositeFilter.op))}(n):Pt(30097,{filter:n})}function qN(n){return DN[n]}function $N(n){return MN[n]}function GN(n){return kN[n]}function _c(n){return{fieldPath:n.canonicalString()}}function yc(n){return Rn.fromServerFormat(n.fieldPath)}function ox(n){return n instanceof on?function(e){if(e.op==="=="){if(zT(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NAN"}};if(UT(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zT(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NOT_NAN"}};if(UT(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(e.field),op:$N(e.op),value:e.value}}}(n):n instanceof cr?function(e){const i=e.getFilters().map(r=>ox(r));return i.length===1?i[0]:{compositeFilter:{op:GN(e.op),filters:i}}}(n):Pt(54877,{filter:n})}function YN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,e,i,r,o=Lt.min(),c=Lt.min(),u=Cn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Qa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.gt=t}}function KN(n){const t=FN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?F_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Dn=new QN}addToCollectionParentIndex(t,e){return this.Dn.add(e),ft.resolve()}getCollectionParents(t,e){return ft.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return ft.resolve()}deleteFieldIndex(t,e){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,e){return ft.resolve()}getDocumentsMatchingTarget(t,e){return ft.resolve(null)}getIndexType(t,e){return ft.resolve(0)}getFieldIndexes(t,e){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,e){return ft.resolve(uo.min())}getMinOffsetFromCollectionGroup(t,e){return ft.resolve(uo.min())}updateCollectionGroup(t,e,i){return ft.resolve()}updateIndexEntries(t,e){return ft.resolve()}}class QN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new cn(Se.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new cn(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cx=41943040;class pi{static withCacheSize(t){return new pi(t,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(cx,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Vc(0)}static ur(){return new Vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="LruGarbageCollector",ZN=1048576;function ew([n,t],[e,i]){const r=Ft(n,e);return r===0?Ft(t,i):r}class JN{constructor(t){this.Tr=t,this.buffer=new cn(ew),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();ew(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class tL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){vt(tw,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Kc(e)?vt(tw,"Ignoring IndexedDB error during garbage collection: ",e):await Wc(e)}await this.Rr(3e5)})}}class eL{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ft.resolve(Lg.ue);const i=new JN(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(JT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JT):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,c,u,f,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(d=Date.now(),pc()<=Kt.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${r} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function nL(n,t){return new eL(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.changes=new xl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ft.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Th(i.mutation,r,Vi.empty(),Ae.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Xt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Xt()){const r=cl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=ch();return o.forEach((u,f)=>{c=c.insert(u,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=cl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Xt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,u)=>{e.set(c,u)})})}computeViews(t,e,i,r){let o=ia();const c=Eh(),u=function(){return Eh()}();return e.forEach((f,d)=>{const m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof wo)?o=o.insert(d.key,d):m!==void 0?(c.set(d.key,m.mutation.getFieldMask()),Th(m.mutation,d,m.mutation.getFieldMask(),Ae.now())):c.set(d.key,Vi.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,m)=>c.set(d,m)),e.forEach((d,m)=>{var v;return u.set(d,new sL(m,(v=c.get(d))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(t,e){const i=Eh();let r=new Ne((c,u)=>c-u),o=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const u of c)u.keys().forEach(f=>{const d=e.get(f);if(d===null)return;let m=i.get(f)||Vi.empty();m=u.applyToLocalView(d,m),i.set(f,m);const v=(r.get(u.batchId)||Xt()).add(f);r=r.insert(u.batchId,v)})}).next(()=>{const c=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,v=$1();m.forEach(E=>{if(!o.has(E)){const w=Q1(e.get(E),i.get(E));w!==null&&v.set(E,w),o=o.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(t,d,v))}return ft.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return It.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):lN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ft.resolve(cl());let u=Oh,f=o;return c.next(d=>ft.forEach(d,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?ft.resolve():this.remoteDocumentCache.getEntry(t,m).next(E=>{f=f.insert(m,E)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,Xt())).next(m=>({batchId:u,changes:q1(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next(i=>{let r=ch();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=ch();return this.indexManager.getCollectionParents(t,o).next(u=>ft.forEach(u,f=>{const d=function(v,E){return new zg(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(m=>{m.forEach((v,E)=>{c=c.insert(v,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,d)=>{const m=d.getKey();c.get(m)===null&&(c=c.insert(m,Vn.newInvalidDocument(m)))});let u=ch();return c.forEach((f,d)=>{const m=o.get(f);m!==void 0&&Th(m.mutation,d,Vi.empty(),Ae.now()),Fg(e,d)&&(u=u.insert(f,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return ft.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:sr(r.createTime)}}(e)),ft.resolve()}getNamedQuery(t,e){return ft.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:KN(r.bundledQuery),readTime:sr(r.readTime)}}(e)),ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.overlays=new Ne(It.comparator),this.kr=new Map}getOverlay(t,e){return ft.resolve(this.overlays.get(e))}getOverlays(t,e){const i=cl();return ft.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),ft.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),ft.resolve()}getOverlaysForCollection(t,e,i){const r=cl(),o=e.length+1,c=new It(e.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ft.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ne((d,m)=>d-m);const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=cl(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=cl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=r)););return ft.resolve(u)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new xN(e,i));let o=this.kr.get(e);o===void 0&&(o=Xt(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.qr=new cn(mn.Qr),this.$r=new cn(mn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new mn(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new mn(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new It(new Se([])),i=new mn(e,t),r=new mn(e,t+1),o=[];return this.$r.forEachInRange([i,r],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new It(new Se([])),i=new mn(e,t),r=new mn(e,t+1);let o=Xt();return this.$r.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new mn(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class mn{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return It.comparator(t.key,e.key)||Ft(t.Hr,e.Hr)}static Ur(t,e){return Ft(t.Hr,e.Hr)||It.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new cn(mn.Qr)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AN(o,e,i,r);this.mutationQueue.push(c);for(const u of r)this.Yr=this.Yr.add(new mn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ft.resolve(c)}lookupMutationBatch(t,e){return ft.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return ft.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?jy:this.er-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new mn(e,0),r=new mn(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],c=>{const u=this.Zr(c.Hr);o.push(u)}),ft.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new cn(Ft);return e.forEach(r=>{const o=new mn(r,0),c=new mn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],u=>{i=i.add(u.Hr)})}),ft.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;It.isDocumentKey(o)||(o=o.child(""));const c=new mn(new It(o),0);let u=new cn(Ft);return this.Yr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Hr)),!0)},c),ft.resolve(this.ei(u))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){ae(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ft.forEach(e.mutations,r=>{const o=new mn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new mn(e,0),r=this.Yr.firstAfterOrEqual(i);return ft.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(t){this.ni=t,this.docs=function(){return new Ne(It.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ft.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(e))}getEntries(t,e){let i=ia();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Vn.newInvalidDocument(r))}),ft.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ia();const c=e.path,u=new It(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||zP(UP(m),i)<=0||(r.has(m.key)||Fg(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ft.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Pt(9500)}ri(t,e){return ft.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new hL(this)}getSize(t){return ft.resolve(this.size)}}class hL extends iL{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),ft.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t){this.persistence=t,this.ii=new xl(e=>Hy(e),qy),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.si=0,this.oi=new Xy,this.targetCount=0,this._i=Vc.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),ft.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Vc(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,ft.resolve()}updateTargetData(t,e){return this.hr(e),ft.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((c,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ft.waitFor(o).next(()=>r)}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return ft.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),ft.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ft.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),ft.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return ft.resolve(i)}containsKey(t,e){return ft.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,e){this.ai={},this.overlays={},this.ui=new Lg(0),this.ci=!1,this.ci=!0,this.li=new lL,this.referenceDelegate=t(this),this.hi=new fL(this),this.indexManager=new XN,this.remoteDocumentCache=function(r){return new uL(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new WN(e),this.Ti=new aL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new cL(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){vt("MemoryPersistence","Starting transaction:",t);const r=new dL(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return ft.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class dL extends BP{constructor(t){super(),this.currentSequenceNumber=t}}class Qy{constructor(t){this.persistence=t,this.Ai=new Xy,this.Ri=null}static Vi(t){return new Qy(t)}get mi(){if(this.Ri)return this.Ri;throw Pt(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),ft.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),ft.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),ft.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.mi,i=>{const r=It.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,Lt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return ft.or([()=>ft.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class dg{constructor(t,e){this.persistence=t,this.gi=new xl(i=>qP(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=nL(this,e)}static Vi(t,e){return new dg(t,e)}Ii(){}di(t){return ft.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return ft.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?ft.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,c=>this.Sr(t,c,e).next(u=>{u||(i++,o.removeEntry(c,Lt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),ft.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),ft.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),ft.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bd(t.data.value)),e}Sr(t,e,i){return ft.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return ft.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=Xt(),r=Xt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Zy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return YD()?8:FP(Un())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new gL;return this.ws(t,e,c).next(u=>{if(o.result=u,this.Rs)return this.Ss(t,e,c,u.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(pc()<=Kt.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",mc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ft.resolve()):(pc()<=Kt.DEBUG&&vt("QueryEngine","Query:",mc(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(pc()<=Kt.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",mc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ir(e))):ft.resolve())}ps(t,e){if(HT(e))return ft.resolve(null);let i=ir(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=F_(e,null,"F"),i=ir(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=Xt(...o);return this.gs.getDocuments(t,c).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.bs(e,u);return this.Ds(e,d,c,f.readTime)?this.ps(t,F_(e,null,"F")):this.vs(t,d,e,f)}))})))}ys(t,e,i,r){return HT(e)||r.isEqual(Lt.min())?ft.resolve(null):this.gs.getDocuments(t,i).next(o=>{const c=this.bs(e,o);return this.Ds(e,c,i,r)?ft.resolve(null):(pc()<=Kt.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mc(e)),this.vs(t,c,e,VP(r,Oh)).next(u=>u))})}bs(t,e){let i=new cn(F1(t));return e.forEach((r,o)=>{Fg(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return pc()<=Kt.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",mc(e)),this.gs.getDocumentsMatchingQuery(t,e,uo.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",mL=3e8;class _L{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new Ne(Ft),this.Ms=new xl(o=>Hy(o),qy),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rL(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function yL(n,t,e,i){return new _L(n,t,e,i)}async function hx(n,t){const e=Vt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],u=[];let f=Xt();for(const d of r){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return e.localDocuments.getDocuments(i,f).next(d=>({Bs:d,removedBatchIds:c,addedBatchIds:u}))})})}function vL(n,t){const e=Vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(u,f,d,m){const v=d.batch,E=v.keys();let w=ft.resolve();return E.forEach(x=>{w=w.next(()=>m.getEntry(f,x)).next(C=>{const I=d.docVersions.get(x);ae(I!==null,48541),C.version.compareTo(I)<0&&(v.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),m.addEntry(C)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Xt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function fx(n){const t=Vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function bL(n,t){const e=Vt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const u=[];t.targetChanges.forEach((m,v)=>{const E=r.get(v);if(!E)return;u.push(e.hi.removeMatchingKeys(o,m.removedDocuments,v).next(()=>e.hi.addMatchingKeys(o,m.addedDocuments,v)));let w=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(Cn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,i)),r=r.insert(v,w),function(C,I,k){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=mL?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(E,w,m)&&u.push(e.hi.updateTargetData(o,w))});let f=ia(),d=Xt();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(EL(o,c,t.documentUpdates).next(m=>{f=m.Ls,d=m.ks})),!i.isEqual(Lt.min())){const m=e.hi.getLastRemoteSnapshotVersion(o).next(v=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return ft.waitFor(u).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(e.Fs=r,o))}function EL(n,t,e){let i=Xt(),r=Xt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=ia();return e.forEach((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(Lt.min())?(t.removeEntry(u,f.readTime),c=c.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(u,f)):vt(Jy,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)}),{Ls:c,ks:r}})}function TL(n,t){const e=Vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=jy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function wL(n,t){const e=Vt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,ft.resolve(r)):e.hi.allocateTargetId(i).next(c=>(r=new Qa(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function Y_(n,t,e){const i=Vt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Kc(c))throw c;vt(Jy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function nw(n,t,e){const i=Vt(n);let r=Lt.min(),o=Xt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,d,m){const v=Vt(f),E=v.Ms.get(m);return E!==void 0?ft.resolve(v.Fs.get(E)):v.hi.getTargetData(d,m)}(i,c,ir(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,u.targetId).next(f=>{o=f})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:Lt.min(),e?o:Xt())).next(u=>(SL(i,uN(t),u),{documents:u,qs:o})))}function SL(n,t,e){let i=n.xs.get(t)||Lt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class iw{constructor(){this.activeTargetIds=mN()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AL{constructor(){this.Fo=new iw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new iw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="ConnectivityMonitor";class rw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){vt(sw,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){vt(sw,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function W_(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="RestConnection",RL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CL{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===ag?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=W_(),u=this.Go(t,e.toUriEncodedString());vt(r_,`Sending RPC '${t}' ${c}:`,u,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,r,o);const{host:d}=new URL(u),m=qc(d);return this.jo(t,u,f,i,m).then(v=>(vt(r_,`Received RPC '${t}' ${c}: `,v),v),v=>{throw co(r_,`RPC '${t}' ${c} failed with error: `,v,"url: ",u,"request:",i),v})}Jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=RL[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class OL extends CL{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const c=W_();return new Promise((u,f)=>{const d=new p1;d.setWithCredentials(!0),d.listenOnce(m1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jd.NO_ERROR:const v=d.getResponseJson();vt(Nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),u(v);break;case jd.TIMEOUT:vt(Nn,`RPC '${t}' ${c} timed out`),f(new At(dt.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const E=d.getStatus();if(vt(Nn,`RPC '${t}' ${c} failed with status:`,E,"response text:",d.getResponseText()),E>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w?.error;if(x&&x.status&&x.message){const C=function(k){const H=k.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(H)>=0?H:dt.UNKNOWN}(x.status);f(new At(C,x.message))}else f(new At(dt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new At(dt.UNAVAILABLE,"Connection failed."));break;default:Pt(9055,{c_:t,streamId:c,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{vt(Nn,`RPC '${t}' ${c} completed.`)}});const m=JSON.stringify(r);vt(Nn,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",m,i,15)})}P_(t,e,i){const r=W_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=v1(),u=y1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const m=o.join("");vt(Nn,`Creating RPC '${t}' stream ${r}: ${m}`,f);const v=c.createWebChannel(m,f);this.T_(v);let E=!1,w=!1;const x=new IL({Ho:I=>{w?vt(Nn,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(E||(vt(Nn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),E=!0),vt(Nn,`RPC '${t}' stream ${r} sending:`,I),v.send(I))},Yo:()=>v.close()}),C=(I,k,H)=>{I.listen(k,G=>{try{H(G)}catch(K){setTimeout(()=>{throw K},0)}})};return C(v,lh.EventType.OPEN,()=>{w||(vt(Nn,`RPC '${t}' stream ${r} transport opened.`),x.s_())}),C(v,lh.EventType.CLOSE,()=>{w||(w=!0,vt(Nn,`RPC '${t}' stream ${r} transport closed`),x.__(),this.I_(v))}),C(v,lh.EventType.ERROR,I=>{w||(w=!0,co(Nn,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),x.__(new At(dt.UNAVAILABLE,"The operation could not be completed")))}),C(v,lh.EventType.MESSAGE,I=>{var k;if(!w){const H=I.data[0];ae(!!H,16349);const G=H,K=G?.error||((k=G[0])===null||k===void 0?void 0:k.error);if(K){vt(Nn,`RPC '${t}' stream ${r} received error:`,K);const Y=K.status;let rt=function(M){const L=Qe[M];if(L!==void 0)return J1(L)}(Y),P=K.message;rt===void 0&&(rt=dt.INTERNAL,P="Unknown error status: "+Y+" with message "+K.message),w=!0,x.__(new At(rt,P)),v.close()}else vt(Nn,`RPC '${t}' stream ${r} received:`,H),x.a_(H)}}),C(u,_1.STAT_EVENT,I=>{I.stat===L_.PROXY?vt(Nn,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===L_.NOPROXY&&vt(Nn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function a_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n){return new PN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&vt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="PersistentStream";class gx{constructor(t,e,i,r,o,c,u,f){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dx(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===dt.RESOURCE_EXHAUSTED?(na(e.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new At(dt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return vt(aw,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(vt(aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DL extends gx{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=VN(this.serializer,t),i=function(o){if(!("targetChange"in o))return Lt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?sr(c.readTime):Lt.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=G_(this.serializer),e.addTarget=function(o,c){let u;const f=c.target;if(u=B_(f)?{documents:jN(o,f)}:{query:BN(o,f).Vt},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=nx(o,c.resumeToken);const d=H_(o,c.expectedCount);d!==null&&(u.expectedCount=d)}else if(c.snapshotVersion.compareTo(Lt.min())>0){u.readTime=fg(o,c.snapshotVersion.toTimestamp());const d=H_(o,c.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=HN(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=G_(this.serializer),e.removeTarget=t,this.k_(e)}}class ML extends gx{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=zN(t.writeResults,t.commitTime),i=sr(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=G_(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>UN(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{}class PL extends kL{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new At(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(t,q_(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new At(dt.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Jo(t,q_(e,i),r,c,u,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new At(dt.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class NL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(na(e),this._a=!1):vt("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class LL{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Rl(this)&&(vt(El,"Restarting streams for network reachability change."),await async function(f){const d=Vt(f);d.Ia.add(4),await Jh(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Yg(d)}(this))})}),this.Aa=new NL(i,r)}}async function Yg(n){if(Rl(n))for(const t of n.da)await t(!0)}async function Jh(n){for(const t of n.da)await t(!1)}function px(n,t){const e=Vt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),iv(e)?nv(e):Xc(e).x_()&&ev(e,t))}function tv(n,t){const e=Vt(n),i=Xc(e);e.Ta.delete(t),i.x_()&&mx(e,t),e.Ta.size===0&&(i.x_()?i.B_():Rl(e)&&e.Aa.set("Unknown"))}function ev(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Xc(n).H_(t)}function mx(n,t){n.Ra.$e(t),Xc(n).Y_(t)}function nv(n){n.Ra=new ON({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Xc(n).start(),n.Aa.aa()}function iv(n){return Rl(n)&&!Xc(n).M_()&&n.Ta.size>0}function Rl(n){return Vt(n).Ia.size===0}function _x(n){n.Ra=void 0}async function VL(n){n.Aa.set("Online")}async function UL(n){n.Ta.forEach((t,e)=>{ev(n,t)})}async function zL(n,t){_x(n),iv(n)?(n.Aa.la(t),nv(n)):n.Aa.set("Unknown")}async function jL(n,t,e){if(n.Aa.set("Online"),t instanceof ex&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const u of o.targetIds)r.Ta.has(u)&&(await r.remoteSyncer.rejectListen(u,c),r.Ta.delete(u),r.Ra.removeTarget(u))}(n,t)}catch(i){vt(El,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await gg(n,i)}else if(t instanceof qd?n.Ra.Ye(t):t instanceof tx?n.Ra.it(t):n.Ra.et(t),!e.isEqual(Lt.min()))try{const i=await fx(n.localStore);e.compareTo(i)>=0&&await function(o,c){const u=o.Ra.Pt(c);return u.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ta.get(d);m&&o.Ta.set(d,m.withResumeToken(f.resumeToken,c))}}),u.targetMismatches.forEach((f,d)=>{const m=o.Ta.get(f);if(!m)return;o.Ta.set(f,m.withResumeToken(Cn.EMPTY_BYTE_STRING,m.snapshotVersion)),mx(o,f);const v=new Qa(m.target,f,d,m.sequenceNumber);ev(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){vt(El,"Failed to raise snapshot:",i),await gg(n,i)}}async function gg(n,t,e){if(!Kc(t))throw t;n.Ia.add(1),await Jh(n),n.Aa.set("Offline"),e||(e=()=>fx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt(El,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Yg(n)})}function yx(n,t){return t().catch(e=>gg(n,e,t))}async function Wg(n){const t=Vt(n),e=po(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:jy;for(;BL(t);)try{const r=await TL(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,FL(t,r)}catch(r){await gg(t,r)}vx(t)&&bx(t)}function BL(n){return Rl(n)&&n.Pa.length<10}function FL(n,t){n.Pa.push(t);const e=po(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function vx(n){return Rl(n)&&!po(n).M_()&&n.Pa.length>0}function bx(n){po(n).start()}async function HL(n){po(n).na()}async function qL(n){const t=po(n);for(const e of n.Pa)t.X_(e.mutations)}async function $L(n,t,e){const i=n.Pa.shift(),r=Yy.from(i,t,e);await yx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Wg(n)}async function GL(n,t){t&&po(n).Z_&&await async function(i,r){if(function(c){return CN(c)&&c!==dt.ABORTED}(r.code)){const o=i.Pa.shift();po(i).N_(),await yx(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Wg(i)}}(n,t),vx(n)&&bx(n)}async function ow(n,t){const e=Vt(n);e.asyncQueue.verifyOperationInProgress(),vt(El,"RemoteStore received new credentials");const i=Rl(e);e.Ia.add(3),await Jh(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Yg(e)}async function YL(n,t){const e=Vt(n);t?(e.Ia.delete(2),await Yg(e)):t||(e.Ia.add(2),await Jh(e),e.Aa.set("Unknown"))}function Xc(n){return n.Va||(n.Va=function(e,i,r){const o=Vt(e);return o.ia(),new DL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:VL.bind(null,n),e_:UL.bind(null,n),n_:zL.bind(null,n),J_:jL.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),iv(n)?nv(n):n.Aa.set("Unknown")):(await n.Va.stop(),_x(n))})),n.Va}function po(n){return n.ma||(n.ma=function(e,i,r){const o=Vt(e);return o.ia(),new ML(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:HL.bind(null,n),n_:GL.bind(null,n),ea:qL.bind(null,n),ta:$L.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await Wg(n)):(await n.ma.stop(),n.Pa.length>0&&(vt(El,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,u=new sv(t,e,c,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(n,t){if(na("AsyncQueue",`${t}: ${n}`),Kc(n))return new At(dt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static emptySet(t){return new wc(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||It.comparator(e.key,i.key):(e,i)=>It.comparator(e.key,i.key),this.keyedMap=ch(),this.sortedSet=new Ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new wc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.fa=new Ne(It.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Pt(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Uc{constructor(t,e,i,r,o,c,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(u=>{c.push({type:0,doc:u})}),new Uc(t,e,wc.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class KL{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=Vt(e),o=r.queries;r.queries=cw(),o.forEach((c,u)=>{for(const f of u.wa)f.onError(i)})})(this,new At(dt.ABORTED,"Firestore shutting down"))}}function cw(){return new xl(n=>B1(n),Bg)}async function Ex(n,t){const e=Vt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new WL,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const u=rv(c,`Initialization of query '${mc(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&av(e)}async function Tx(n,t){const e=Vt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.wa.indexOf(t);c>=0&&(o.wa.splice(c,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function XL(n,t){const e=Vt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const u of c.wa)u.Ca(r)&&(i=!0);c.ya=r}}i&&av(e)}function QL(n,t,e){const i=Vt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function av(n){n.Da.forEach(t=>{t.next()})}var K_,uw;(uw=K_||(K_={})).Fa="default",uw.Cache="cache";class wx{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Uc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Uc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==K_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t){this.key=t}}class Ax{constructor(t){this.key=t}}class ZL{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Xt(),this.mutatedKeys=Xt(),this.Xa=F1(t),this.eu=new wc(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new lw,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((m,v)=>{const E=r.get(m),w=Fg(this.query,v)?v:null,x=!!E&&this.mutatedKeys.has(E.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;E&&w?E.data.isEqual(w.data)?x!==C&&(i.track({type:3,doc:w}),I=!0):this.iu(E,w)||(i.track({type:2,doc:w}),I=!0,(f&&this.Xa(w,f)>0||d&&this.Xa(w,d)<0)&&(u=!0)):!E&&w?(i.track({type:0,doc:w}),I=!0):E&&!w&&(i.track({type:1,doc:E}),I=!0,(f||d)&&(u=!0)),I&&(w?(c=c.add(w),o=C?o.add(m):o.delete(m)):(c=c.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{eu:c,ru:i,Ds:u,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((m,v)=>function(w,x){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt(20277,{At:I})}};return C(w)-C(x)}(m.type,v.type)||this.Xa(m.doc,v.doc)),this.su(i),r=r!=null&&r;const u=e&&!r?this.ou():[],f=this.Za.size===0&&this.current&&!r?1:0,d=f!==this.Ya;return this.Ya=f,c.length!==0||d?{snapshot:new Uc(this.query,t.eu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new lw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Xt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new Ax(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new Sx(i))}),e}uu(t){this.Ha=t.qs,this.Za=Xt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Uc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ov="SyncEngine";class JL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class tV{constructor(t){this.key=t,this.lu=!1}}class eV{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new xl(u=>B1(u),Bg),this.Tu=new Map,this.Iu=new Set,this.du=new Ne(It.comparator),this.Eu=new Map,this.Au=new Xy,this.Ru={},this.Vu=new Map,this.mu=Vc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function nV(n,t,e=!0){const i=Dx(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await xx(i,t,e,!0),r}async function iV(n,t){const e=Dx(n);await xx(e,t,!0,!1)}async function xx(n,t,e,i){const r=await wL(n.localStore,ir(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await sV(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&px(n.remoteStore,r),u}async function sV(n,t,e,i,r){n.gu=(v,E,w)=>async function(C,I,k,H){let G=I.view.nu(k);G.Ds&&(G=await nw(C.localStore,I.query,!1).then(({documents:P})=>I.view.nu(P,G)));const K=H&&H.targetChanges.get(I.targetId),Y=H&&H.targetMismatches.get(I.targetId)!=null,rt=I.view.applyChanges(G,C.isPrimaryClient,K,Y);return fw(C,I.targetId,rt._u),rt.snapshot}(n,v,E,w);const o=await nw(n.localStore,t,!0),c=new ZL(t,o.qs),u=c.nu(o.documents),f=Zh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(u,n.isPrimaryClient,f);fw(n,e,d._u);const m=new JL(t,e,c);return n.Pu.set(t,m),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),d.snapshot}async function rV(n,t,e){const i=Vt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(c=>!Bg(c,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Y_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&tv(i.remoteStore,r.targetId),X_(i,r.targetId)}).catch(Wc)):(X_(i,r.targetId),await Y_(i.localStore,r.targetId,!0))}async function aV(n,t){const e=Vt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),tv(e.remoteStore,i.targetId))}async function oV(n,t,e){const i=gV(n);try{const r=await function(c,u){const f=Vt(c),d=Ae.now(),m=u.reduce((w,x)=>w.add(x.key),Xt());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=ia(),C=Xt();return f.Os.getEntries(w,m).next(I=>{x=I,x.forEach((k,H)=>{H.isValidDocument()||(C=C.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,x)).next(I=>{v=I;const k=[];for(const H of u){const G=wN(H,v.get(H.key).overlayedDocument);G!=null&&k.push(new wo(H.key,G,P1(G.value.mapValue),os.exists(!0)))}return f.mutationQueue.addMutationBatch(w,d,k,u)}).next(I=>{E=I;const k=I.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(w,I.batchId,k)})}).then(()=>({batchId:E.batchId,changes:q1(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,u,f){let d=c.Ru[c.currentUser.toKey()];d||(d=new Ne(Ft)),d=d.insert(u,f),c.Ru[c.currentUser.toKey()]=d}(i,r.batchId,e),await tf(i,r.changes),await Wg(i.remoteStore)}catch(r){const o=rv(r,"Failed to persist write");e.reject(o)}}async function Rx(n,t){const e=Vt(n);try{const i=await bL(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Eu.get(o);c&&(ae(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.lu=!0:r.modifiedDocuments.size>0?ae(c.lu,14607):r.removedDocuments.size>0&&(ae(c.lu,42227),c.lu=!1))}),await tf(e,i,t)}catch(i){await Wc(i)}}function hw(n,t,e){const i=Vt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,c)=>{const u=c.view.va(t);u.snapshot&&r.push(u.snapshot)}),function(c,u){const f=Vt(c);f.onlineState=u;let d=!1;f.queries.forEach((m,v)=>{for(const E of v.wa)E.va(u)&&(d=!0)}),d&&av(f)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function lV(n,t,e){const i=Vt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let c=new Ne(It.comparator);c=c.insert(o,Vn.newNoDocument(o,Lt.min()));const u=Xt().add(o),f=new $g(Lt.min(),new Map,new Ne(Ft),c,u);await Rx(i,f),i.du=i.du.remove(o),i.Eu.delete(t),lv(i)}else await Y_(i.localStore,t,!1).then(()=>X_(i,t,e)).catch(Wc)}async function cV(n,t){const e=Vt(n),i=t.batch.batchId;try{const r=await vL(e.localStore,t);Ix(e,i,null),Cx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await tf(e,r)}catch(r){await Wc(r)}}async function uV(n,t,e){const i=Vt(n);try{const r=await function(c,u){const f=Vt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next(v=>(ae(v!==null,37113),m=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>f.localDocuments.getDocuments(d,m))})}(i.localStore,t);Ix(i,t,e),Cx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await tf(i,r)}catch(r){await Wc(r)}}function Cx(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function Ix(n,t,e){const i=Vt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function X_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||Ox(n,i)})}function Ox(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(tv(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),lv(n))}function fw(n,t,e){for(const i of e)i instanceof Sx?(n.Au.addReference(i.key,t),hV(n,i)):i instanceof Ax?(vt(ov,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||Ox(n,i.key)):Pt(19791,{yu:i})}function hV(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(vt(ov,"New document in limbo: "+e),n.Iu.add(i),lv(n))}function lv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new It(Se.fromString(t)),i=n.mu.next();n.Eu.set(i,new tV(e)),n.du=n.du.insert(e,i),px(n.remoteStore,new Qa(ir(jg(e.path)),i,"TargetPurposeLimboResolution",Lg.ue))}}async function tf(n,t,e){const i=Vt(n),r=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((u,f)=>{c.push(i.gu(f,t,e).then(d=>{var m;if((d||e)&&i.isPrimaryClient){const v=d?!d.fromCache:(m=e?.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){r.push(d);const v=Zy.Es(f.targetId,d);o.push(v)}}))}),await Promise.all(c),i.hu.J_(r),await async function(f,d){const m=Vt(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ft.forEach(d,E=>ft.forEach(E.Is,w=>m.persistence.referenceDelegate.addReference(v,E.targetId,w)).next(()=>ft.forEach(E.ds,w=>m.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))}catch(v){if(!Kc(v))throw v;vt(Jy,"Failed to update sequence numbers: "+v)}for(const v of d){const E=v.targetId;if(!v.fromCache){const w=m.Fs.get(E),x=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(x);m.Fs=m.Fs.insert(E,C)}}}(i.localStore,o))}async function fV(n,t){const e=Vt(n);if(!e.currentUser.isEqual(t)){vt(ov,"User change. New user:",t.toKey());const i=await hx(e.localStore,t);e.currentUser=t,function(o,c){o.Vu.forEach(u=>{u.forEach(f=>{f.reject(new At(dt.CANCELLED,c))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await tf(e,i.Bs)}}function dV(n,t){const e=Vt(n),i=e.Eu.get(t);if(i&&i.lu)return Xt().add(i.key);{let r=Xt();const o=e.Tu.get(t);if(!o)return r;for(const c of o){const u=e.Pu.get(c);r=r.unionWith(u.view.tu)}return r}}function Dx(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lV.bind(null,t),t.hu.J_=XL.bind(null,t.eventManager),t.hu.pu=QL.bind(null,t.eventManager),t}function gV(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,t),t}class pg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return yL(this.persistence,new pL,t.initialUser,this.serializer)}Du(t){return new ux(Qy.Vi,this.serializer)}bu(t){return new AL}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pg.provider={build:()=>new pg};class pV extends pg{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){ae(this.persistence.referenceDelegate instanceof dg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tL(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new ux(i=>dg.Vi(i,e),this.serializer)}}class Q_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,this.syncEngine),await YL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new KL}()}createDatastore(t){const e=Gg(t.databaseInfo.databaseId),i=function(o){return new OL(o)}(t.databaseInfo);return function(o,c,u,f){return new PL(o,c,u,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,u){return new LL(i,r,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,e=>hw(this.syncEngine,e,0),function(){return rw.C()?new rw:new xL}())}createSyncEngine(t,e){return function(r,o,c,u,f,d,m){const v=new eV(r,o,c,u,f,d);return m&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Vt(r);vt(El,"RemoteStore shutting down."),o.Ia.add(5),await Jh(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Q_.provider={build:()=>new Q_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):na("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class mV{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ln.UNAUTHENTICATED,this.clientId=Uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{vt(mo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(vt(mo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=rv(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function o_(n,t){n.asyncQueue.verifyOperationInProgress(),vt(mo,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await hx(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{co("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{vt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{co("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function dw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await _V(n);vt(mo,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>ow(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>ow(t.remoteStore,r)),n._onlineComponents=t}async function _V(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(mo,"Using user provided OfflineComponentProvider");try{await o_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===dt.FAILED_PRECONDITION||r.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;co("Error using user provided cache. Falling back to memory cache: "+e),await o_(n,new pg)}}else vt(mo,"Using default OfflineComponentProvider"),await o_(n,new pV(void 0));return n._offlineComponents}async function kx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(mo,"Using user provided OnlineComponentProvider"),await dw(n,n._uninitializedComponentsProvider._online)):(vt(mo,"Using default OnlineComponentProvider"),await dw(n,new Q_))),n._onlineComponents}function yV(n){return kx(n).then(t=>t.syncEngine)}async function Z_(n){const t=await kx(n),e=t.eventManager;return e.onListen=nV.bind(null,t.syncEngine),e.onUnlisten=rV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=iV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=aV.bind(null,t.syncEngine),e}function vV(n,t,e={}){const i=new ro;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,u,f,d){const m=new Mx({next:E=>{m.Ou(),c.enqueueAndForget(()=>Tx(o,v));const w=E.docs.has(u);!w&&E.fromCache?d.reject(new At(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?d.reject(new At(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),v=new wx(jg(u.path),m,{includeMetadataChanges:!0,ka:!0});return Ex(o,v)}(await Z_(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firestore.googleapis.com",pw=!0;class mw{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new At(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nx,this.ssl=pw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:pw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZN)throw new At(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Px((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new At(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new At(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new At(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new RP;switch(i.type){case"firstParty":return new DP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new At(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=gw.get(e);i&&(vt("ComponentProvider","Removing Datastore"),gw.delete(e),i.terminate())}(this),Promise.resolve()}}function bV(n,t,e,i={}){var r;n=as(n,Kg);const o=qc(t),c=n._getSettings(),u=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(AA(`https://${f}`),xA("Firestore",!0)),c.host!==Nx&&c.host!==f&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!ml(d,u)&&(n._setSettings(d),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Ln.MOCK_USER;else{m=UD(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new At(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ln(E)}n._authCredentials=new CP(new E1(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xg(this.firestore,t,this._query)}}class $e{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Xh(e,$e._jsonSchema))return new $e(t,i||null,new It(Se.fromString(e.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:Ze("string",$e._jsonSchemaVersion),referencePath:Ze("string")};class ao extends Xg{constructor(t,e,i){super(t,e,jg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new It(t))}withConverter(t){return new ao(this.firestore,t,this._path)}}function EV(n,t,...e){if(n=yn(n),w1("collection","path",t),n instanceof Kg){const i=Se.fromString(t,...e);return OT(i),new ao(n,null,i)}{if(!(n instanceof $e||n instanceof ao))throw new At(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Se.fromString(t,...e));return OT(i),new ao(n.firestore,null,i)}}function zc(n,t,...e){if(n=yn(n),arguments.length===1&&(t=Uy.newId()),w1("doc","path",t),n instanceof Kg){const i=Se.fromString(t,...e);return IT(i),new $e(n,null,new It(i))}{if(!(n instanceof $e||n instanceof ao))throw new At(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Se.fromString(t,...e));return IT(i),new $e(n.firestore,n instanceof ao?n.converter:null,new It(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="AsyncQueue";class yw{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dx(this,"async_queue_retry"),this.oc=()=>{const i=a_();i&&vt(_w,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=a_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=a_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new ro;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Kc(t))throw t;vt(_w,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,na("INTERNAL UNHANDLED ERROR: ",vw(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=sv.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&Pt(47125,{hc:vw(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function vw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class _o extends Kg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new yw,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yw(t),this._firestoreClient=void 0,await t}}}function TV(n,t){const e=typeof n=="object"?n:OA(),i=typeof n=="string"?n:ag,r=Ry(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=LD("firestore");o&&bV(r,...o)}return r}function cv(n){if(n._terminated)throw new At(dt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wV(n),n._firestoreClient}function wV(n){var t,e,i;const r=n._freezeSettings(),o=function(u,f,d,m){return new YP(u,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Px(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new mV(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ss(Cn.fromBase64String(t))}catch(e){throw new At(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ss(Cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xh(t,ss._jsonSchema))return ss.fromBase64String(t.bytes)}}ss._jsonSchemaVersion="firestore/bytes/1.0",ss._jsonSchema={type:Ze("string",ss._jsonSchemaVersion),bytes:Ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(t){if(Xh(t,rr._jsonSchema))return new rr(t.latitude,t.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Ze("string",rr._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xh(t,ar._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new ar(t.vectorValues);throw new At(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:Ze("string",ar._jsonSchemaVersion),vectorValues:Ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=/^__.*__$/;class AV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new wo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qh(t,this.data,e,this.fieldTransforms)}}class Lx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new wo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Vx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt(40011,{Ec:n})}}class hv{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new hv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return mg(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(Vx(this.Ec)&&SV.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class xV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Gg(t)}Dc(t,e,i,r=!1){return new hv({Ec:t,methodName:e,bc:i,path:Rn.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fv(n){const t=n._freezeSettings(),e=Gg(n._databaseId);return new xV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ux(n,t,e,i,r,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);dv("Data must be an object, but it was:",c,i);const u=zx(i,c);let f,d;if(o.merge)f=new Vi(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const E=J_(t,v,e);if(!c.contains(E))throw new At(dt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Bx(m,E)||m.push(E)}f=new Vi(m),d=c.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=c.fieldTransforms;return new AV(new mi(u),f,d)}class Zg extends uv{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zg}}function RV(n,t,e,i){const r=n.Dc(1,t,e);dv("Data must be an object, but it was:",r,i);const o=[],c=mi.empty();To(i,(f,d)=>{const m=gv(t,f,e);d=yn(d);const v=r.gc(m);if(d instanceof Zg)o.push(m);else{const E=Jg(d,v);E!=null&&(o.push(m),c.set(m,E))}});const u=new Vi(o);return new Lx(c,u,r.fieldTransforms)}function CV(n,t,e,i,r,o){const c=n.Dc(1,t,e),u=[J_(t,i,e)],f=[r];if(o.length%2!=0)throw new At(dt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)u.push(J_(t,o[E])),f.push(o[E+1]);const d=[],m=mi.empty();for(let E=u.length-1;E>=0;--E)if(!Bx(d,u[E])){const w=u[E];let x=f[E];x=yn(x);const C=c.gc(w);if(x instanceof Zg)d.push(w);else{const I=Jg(x,C);I!=null&&(d.push(w),m.set(w,I))}}const v=new Vi(d);return new Lx(m,v,c.fieldTransforms)}function Jg(n,t){if(jx(n=yn(n)))return dv("Unsupported field value:",t,n),zx(n,t);if(n instanceof uv)return function(i,r){if(!Vx(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const u of i){let f=Jg(u,r.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=yn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _N(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ae.fromDate(i);return{timestampValue:fg(r.serializer,o)}}if(i instanceof Ae){const o=new Ae(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fg(r.serializer,o)}}if(i instanceof rr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ss)return{bytesValue:nx(r.serializer,i._byteString)};if(i instanceof $e){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ky(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ar)return function(c,u){return{mapValue:{fields:{[M1]:{stringValue:k1},[og]:{arrayValue:{values:c.toArray().map(d=>{if(typeof d!="number")throw u.wc("VectorValues must only contain numeric values.");return $y(u.serializer,d)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${zy(i)}`)}(n,t)}function zx(n,t){const e={};return x1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):To(n,(i,r)=>{const o=Jg(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function jx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ae||n instanceof rr||n instanceof ss||n instanceof $e||n instanceof uv||n instanceof ar)}function dv(n,t,e){if(!jx(e)||!S1(e)){const i=zy(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function J_(n,t,e){if((t=yn(t))instanceof Qg)return t._internalPath;if(typeof t=="string")return gv(n,t);throw mg("Field path arguments must be of type string or ",n,!1,void 0,e)}const IV=new RegExp("[~\\*/\\[\\]]");function gv(n,t,e){if(t.search(IV)>=0)throw mg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Qg(...t.split("."))._internalPath}catch{throw mg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mg(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new At(dt.INVALID_ARGUMENT,u+n+f)}function Bx(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Hx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class OV extends Fx{data(){return super.data()}}function Hx(n,t){return typeof t=="string"?gv(n,t):t instanceof Qg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new At(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MV{convertValue(t,e="none"){switch(go(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return To(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[og].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>qe(c.doubleValue));return new ar(o)}convertGeoPoint(t){return new rr(qe(t.latitude),qe(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ug(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Dh(t));default:return null}}convertTimestamp(t){const e=ho(t);return new Ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Se.fromString(t);ae(lx(i),9688,{name:t});const r=new Mh(i.get(1),i.get(3)),o=new It(i.popFirst(5));return r.isEqual(e)||na(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class hh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fl extends Fx{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Hx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=fl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:Ze("string",fl._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class $d extends fl{data(t={}){return super.data(t)}}class Sc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new $d(this._firestore,this._userDataWriter,i.key,i,new hh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>{const f=new $d(r._firestore,r._userDataWriter,u.doc.key,u.doc,new hh(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new $d(r._firestore,r._userDataWriter,u.doc.key,u.doc,new hh(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,m=-1;return u.type!==0&&(d=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),m=c.indexOf(u.doc.key)),{type:kV(u.type),doc:f,oldIndex:d,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Sc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Uy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){n=as(n,$e);const t=as(n.firestore,_o);return vV(cv(t),n._key).then(e=>Yx(t,n,e))}Sc._jsonSchemaVersion="firestore/querySnapshot/1.0",Sc._jsonSchema={type:Ze("string",Sc._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Gx extends MV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ss(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,e)}}function PV(n,t,e){n=as(n,$e);const i=as(n.firestore,_o),r=qx(n.converter,t);return tp(i,[Ux(fv(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,os.none())])}function NV(n,t,e,...i){n=as(n,$e);const r=as(n.firestore,_o),o=fv(r);let c;return c=typeof(t=yn(t))=="string"||t instanceof Qg?CV(o,"updateDoc",n._key,t,e,i):RV(o,"updateDoc",n._key,t),tp(r,[c.toMutation(n._key,os.exists(!0))])}function LV(n){return tp(as(n.firestore,_o),[new Gy(n._key,os.none())])}function VV(n,t){const e=as(n.firestore,_o),i=zc(n),r=qx(n.converter,t);return tp(e,[Ux(fv(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,os.exists(!1))]).then(()=>i)}function UV(n,...t){var e,i,r;n=yn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||bw(t[c])||(o=t[c++]);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bw(t[c])){const v=t[c];t[c]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[c+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let f,d,m;if(n instanceof $e)d=as(n.firestore,_o),m=jg(n._key.path),f={next:v=>{t[c]&&t[c](Yx(d,n,v))},error:t[c+1],complete:t[c+2]};else{const v=as(n,Xg);d=as(v.firestore,_o),m=v._query;const E=new Gx(d);f={next:w=>{t[c]&&t[c](new Sc(d,E,v,w))},error:t[c+1],complete:t[c+2]},DV(n._query)}return function(E,w,x,C){const I=new Mx(C),k=new wx(w,I,x);return E.asyncQueue.enqueueAndForget(async()=>Ex(await Z_(E),k)),()=>{I.Ou(),E.asyncQueue.enqueueAndForget(async()=>Tx(await Z_(E),k))}}(cv(d),m,u,f)}function tp(n,t){return function(i,r){const o=new ro;return i.asyncQueue.enqueueAndForget(async()=>oV(await yV(i),r,o)),o.promise}(cv(n),t)}function Yx(n,t,e){const i=e.docs.get(t._key),r=new Gx(n);return new fl(n,r,t._key,i,new hh(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Yc=r})($c),kc(new _l("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),u=new _o(new IP(i.getProvider("auth-internal")),new MP(c,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new At(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(d.options.projectId,m)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),io(ST,AT,t),io(ST,AT,"esm2017")})();const zV={apiKey:"AIzaSyAO0PEnd9TGPPTpuObD5KXy55owSY5hd2Q",authDomain:"loan-tracker-48cf5.firebaseapp.com",projectId:"loan-tracker-48cf5",storageBucket:"loan-tracker-48cf5.firebasestorage.app",messagingSenderId:"372251322656",appId:"1:372251322656:web:fda88c85a0e0aba8ba4f45"},Wx=IA(zV),Ac=TV(Wx),ef=wP(Wx),jV=()=>{const n=Bh(),t=async()=>{try{await fk(ef),n("/")}catch(e){console.error("Logout failed:",e.message)}};return X.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-light",children:X.jsxs("div",{className:"container-fluid",children:[X.jsx(Xa,{className:"navbar-brand  text-black ",to:"/",children:"Loan Tracker"}),X.jsx("button",{className:"navbar-toggler bg-black",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:X.jsx("span",{className:"navbar-toggler-icon "})}),X.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:X.jsxs("ul",{className:"navbar-nav ms-auto",children:[X.jsx("li",{className:"nav-item   ",children:X.jsx(Xa,{className:"nav-link text-black",to:"/home",children:"Home"})}),X.jsx("li",{className:"nav-item   ",children:X.jsx(Xa,{className:"nav-link text-black",to:"/loan",children:"Loans"})}),X.jsx("li",{className:"nav-item   ",children:X.jsx(Xa,{className:"nav-link text-black",to:"/InterestCalculator",children:"Calculator"})}),X.jsx("li",{className:"nav-item ",onClick:t,children:"Logout"})]})})]})})},An=[];for(let n=0;n<256;++n)An.push((n+256).toString(16).slice(1));function BV(n,t=0){return(An[n[t+0]]+An[n[t+1]]+An[n[t+2]]+An[n[t+3]]+"-"+An[n[t+4]]+An[n[t+5]]+"-"+An[n[t+6]]+An[n[t+7]]+"-"+An[n[t+8]]+An[n[t+9]]+"-"+An[n[t+10]]+An[n[t+11]]+An[n[t+12]]+An[n[t+13]]+An[n[t+14]]+An[n[t+15]]).toLowerCase()}let l_;const FV=new Uint8Array(16);function HV(){if(!l_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l_=crypto.getRandomValues.bind(crypto)}return l_(FV)}const qV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ew={randomUUID:qV};function $V(n,t,e){if(Ew.randomUUID&&!n)return Ew.randomUUID();n=n||{};const i=n.random??n.rng?.()??HV();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,BV(i)}const GV=({addLoan:n})=>{const[t,e]=nt.useState(""),[i,r]=nt.useState(""),[o,c]=nt.useState(""),[u,f]=nt.useState(""),d=(v,E,w)=>{const x=E/12/100;return(v*x*Math.pow(1+x,w)/(Math.pow(1+x,w)-1)+v*E*w/(100*w)).toFixed(2)},m=v=>{v.preventDefault();const E=t,w=parseFloat(i),x=parseFloat(o),C=parseInt(u),I=d(w,x,C),k={id:$V(),loanName:E,amount:w,interest:x,duration:C,emi:I,monthsPaid:0};n(k),e(""),r(""),c(""),f("")};return X.jsxs("form",{onSubmit:m,className:"loan-form",children:[X.jsx("div",{className:"loan-form-div",children:X.jsx("input",{type:"text",placeholder:"Loan Name",value:t,onChange:v=>e(v.target.value),required:!0})}),X.jsx("div",{className:"loan-form-div",children:X.jsx("input",{type:"number",placeholder:"Loan Amount",value:i,onChange:v=>r(v.target.value),required:!0})}),X.jsx("div",{className:"loan-form-div",children:X.jsx("input",{type:"number",placeholder:"Annual Interest Rate (%)",value:o,onChange:v=>c(v.target.value),required:!0})}),X.jsx("div",{className:"loan-form-div",children:X.jsx("input",{type:"number",placeholder:"Duration (Months)",value:u,onChange:v=>f(v.target.value),required:!0})}),X.jsx("button",{type:"submit",children:"Add Loan"})]})},Kx=nt.createContext(),YV=({children:n})=>{const[t,e]=nt.useState(null);return nt.useEffect(()=>{const i=i1(ef,async r=>{if(r){const o=zc(Ac,"users",r.uid),c=await $x(o);c.exists()&&e(c.data())}else e(null)});return()=>i()},[]),X.jsx(Kx.Provider,{value:t,children:n})},WV=()=>nt.useContext(Kx),KV=({addLoan:n})=>{const t=WV();return X.jsxs(X.Fragment,{children:[t&&X.jsxs("span",{className:"home-username",children:["Welcome, ",X.jsx("strong",{children:t.username.toUpperCase()})]}),X.jsx("div",{className:"home-div",children:X.jsxs("div",{className:"home-form-div",children:[X.jsx("h1",{children:"Enter Your Loan Amount To Track"}),X.jsx(GV,{addLoan:n})]})})]})},XV=()=>{const[n,t]=nt.useState(""),[e,i]=nt.useState(""),[r,o]=nt.useState(""),[c,u]=nt.useState(0),[f,d]=nt.useState(0),[m,v]=nt.useState(0),[E,w]=nt.useState(0),[x,C]=nt.useState(0),I=Dt=>{t(Dt.target.value)},k=Dt=>{i(Dt.target.value)},H=Dt=>{o(Dt.target.value)},G=()=>{t(""),i(""),o(""),u(0),d(0),v(0),w(0),C(0)},K=n,Y=e/100/12,rt=e,P=r,O=K*rt*P/(100*P),M=O*P,L=Number(K)+Number(M),V=()=>{const Dt=O;d(Dt.toFixed(2));const Tt=K*Y*Math.pow(1+Y,P)/(Math.pow(1+Y,P)-1);u(Tt.toFixed(2));const Z=Dt+Tt;v(Z.toFixed(2)),w(M.toFixed(2)),C(L.toFixed(2))},z=()=>{V()},N=()=>{G()};return X.jsx("section",{className:"calculator-section",children:X.jsxs("div",{className:"calculator-container",children:[X.jsx("h1",{children:"Interest Calculator"}),X.jsxs("div",{className:"input-fields",children:[X.jsx("label",{htmlFor:"emi-amount",children:"EMI Amount"}),X.jsx("input",{type:"number",id:"emi-amount",value:n,onChange:I}),X.jsx("label",{htmlFor:"interest",children:"Interest"}),X.jsx("input",{type:"number",id:"interest",value:e,onChange:k}),X.jsx("label",{htmlFor:"tenure",children:"Tenure(Month)"}),X.jsx("input",{type:"number",id:"tenure",value:r,onChange:H})]}),X.jsxs("div",{className:"buttons",children:[X.jsx("button",{onClick:z,children:"Calculate"}),X.jsx("button",{onClick:N,children:"Reset"})]}),X.jsx("div",{className:"details",children:X.jsxs("div",{className:"summary",children:[X.jsx("h1",{children:"Your EMI Details"}),X.jsxs("div",{className:"details-div",children:[X.jsxs("div",{className:"monthly-pay",children:[X.jsx("p",{children:"Monthly Payment"}),X.jsx("p",{children:c})]}),X.jsxs("div",{className:"monthly-pay",children:[X.jsx("p",{children:"Monthly Interest"}),X.jsx("p",{children:f})]}),X.jsxs("div",{className:"monthly-pay",children:[X.jsx("p",{children:"Monthly Payment with Interest"}),X.jsx("p",{children:m})]}),X.jsxs("div",{className:"monthly-pay",children:[X.jsx("p",{children:"Total Interest"}),X.jsx("p",{children:E})]}),X.jsxs("div",{className:"monthly-pay",children:[X.jsx("p",{children:"Total Payment"}),X.jsx("p",{children:x})]})]})]})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nf(n){return n+.5|0}const Za=(n,t,e)=>Math.max(Math.min(n,e),t);function fh(n){return Za(nf(n*2.55),0,255)}function oo(n){return Za(nf(n*255),0,255)}function Gr(n){return Za(nf(n/2.55)/100,0,1)}function Tw(n){return Za(nf(n*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ty=[..."0123456789ABCDEF"],QV=n=>ty[n&15],ZV=n=>ty[(n&240)>>4]+ty[n&15],vd=n=>(n&240)>>4===(n&15),JV=n=>vd(n.r)&&vd(n.g)&&vd(n.b)&&vd(n.a);function t4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ns[n[1]]*17,g:255&ns[n[2]]*17,b:255&ns[n[3]]*17,a:t===5?ns[n[4]]*17:255}:(t===7||t===9)&&(e={r:ns[n[1]]<<4|ns[n[2]],g:ns[n[3]]<<4|ns[n[4]],b:ns[n[5]]<<4|ns[n[6]],a:t===9?ns[n[7]]<<4|ns[n[8]]:255})),e}const e4=(n,t)=>n<255?t(n):"";function n4(n){var t=JV(n)?QV:ZV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+e4(n.a,t):void 0}const i4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xx(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function s4(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function r4(n,t,e){const i=Xx(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function a4(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function pv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),u=(o+c)/2;let f,d,m;return o!==c&&(m=o-c,d=u>.5?m/(2-o-c):m/(o+c),f=a4(e,i,r,m,o),f=f*60+.5),[f|0,d||0,u]}function mv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(oo)}function _v(n,t,e){return mv(Xx,n,t,e)}function o4(n,t,e){return mv(r4,n,t,e)}function l4(n,t,e){return mv(s4,n,t,e)}function Qx(n){return(n%360+360)%360}function c4(n){const t=i4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?fh(+t[5]):oo(+t[5]));const r=Qx(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=o4(r,o,c):t[1]==="hsv"?i=l4(r,o,c):i=_v(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function u4(n,t){var e=pv(n);e[0]=Qx(e[0]+t),e=_v(e),n.r=e[0],n.g=e[1],n.b=e[2]}function h4(n){if(!n)return;const t=pv(n),e=t[0],i=Tw(t[1]),r=Tw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Gr(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ww={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function f4(){const n={},t=Object.keys(Sw),e=Object.keys(ww);let i,r,o,c,u;for(i=0;i<t.length;i++){for(c=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,ww[o]);o=parseInt(Sw[c],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let bd;function d4(n){bd||(bd=f4(),bd.transparent=[0,0,0,0]);const t=bd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const g4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p4(n){const t=g4.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?fh(c):Za(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?fh(i):Za(i,0,255)),r=255&(t[4]?fh(r):Za(r,0,255)),o=255&(t[6]?fh(o):Za(o,0,255)),{r:i,g:r,b:o,a:e}}}function m4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Gr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const c_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,hc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _4(n,t,e){const i=hc(Gr(n.r)),r=hc(Gr(n.g)),o=hc(Gr(n.b));return{r:oo(c_(i+e*(hc(Gr(t.r))-i))),g:oo(c_(r+e*(hc(Gr(t.g))-r))),b:oo(c_(o+e*(hc(Gr(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ed(n,t,e){if(n){let i=pv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=_v(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Zx(n,t){return n&&Object.assign(t||{},n)}function Aw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=oo(n[3]))):(t=Zx(n,{r:0,g:0,b:0,a:1}),t.a=oo(t.a)),t}function y4(n){return n.charAt(0)==="r"?p4(n):c4(n)}class Lh{constructor(t){if(t instanceof Lh)return t;const e=typeof t;let i;e==="object"?i=Aw(t):e==="string"&&(i=t4(t)||d4(t)||y4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Zx(this._rgb);return t&&(t.a=Gr(t.a)),t}set rgb(t){this._rgb=Aw(t)}rgbString(){return this._valid?m4(this._rgb):void 0}hexString(){return this._valid?n4(this._rgb):void 0}hslString(){return this._valid?h4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,u=2*c-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=_4(this._rgb,t._rgb,e)),this}clone(){return new Lh(this.rgb)}alpha(t){return this._rgb.a=oo(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=nf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ed(this._rgb,2,t),this}darken(t){return Ed(this._rgb,2,-t),this}saturate(t){return Ed(this._rgb,1,t),this}desaturate(t){return Ed(this._rgb,1,-t),this}rotate(t){return u4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Hr(){}const v4=(()=>{let n=0;return()=>n++})();function me(n){return n==null}function _n(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ee(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function cs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ks(n,t){return cs(n)?n:t}function te(n,t){return typeof n>"u"?t:n}const b4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Jx=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function we(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ce(n,t,e,i){let r,o,c;if(_n(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(ee(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function _g(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function yg(n){if(_n(n))return n.map(yg);if(ee(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=yg(n[e[r]]);return t}return n}function tR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function E4(n,t,e,i){if(!tR(n))return;const r=t[n],o=e[n];ee(r)&&ee(o)?Vh(r,o,i):t[n]=yg(o)}function Vh(n,t,e){const i=_n(t)?t:[t],r=i.length;if(!ee(n))return n;e=e||{};const o=e.merger||E4;let c;for(let u=0;u<r;++u){if(c=i[u],!ee(c))continue;const f=Object.keys(c);for(let d=0,m=f.length;d<m;++d)o(f[d],n,c,e)}return n}function wh(n,t){return Vh(n,t,{merger:T4})}function T4(n,t,e){if(!tR(n))return;const i=t[n],r=e[n];ee(i)&&ee(r)?wh(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=yg(r))}const xw={"":n=>n,x:n=>n.x,y:n=>n.y};function w4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function S4(n){const t=w4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Tl(n,t){return(xw[t]||(xw[t]=S4(t)))(n)}function yv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Uh=n=>typeof n<"u",yo=n=>typeof n=="function",Rw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function A4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const xe=Math.PI,Je=2*xe,vg=Number.POSITIVE_INFINITY,x4=xe/180,ln=xe/2,sl=xe/4,Cw=xe*2/3,eR=Math.log10,lo=Math.sign;function Gd(n,t,e){return Math.abs(n-t)<e}function Iw(n){const t=Math.round(n);n=Gd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(eR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function R4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function C4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bg(n){return!C4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function I4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function O4(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Kr(n){return n*(xe/180)}function D4(n){return n*(180/xe)}function Ow(n){if(!cs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function nR(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*xe&&(o+=Je),{angle:o,distance:r}}function M4(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Js(n){return(n%Je+Je)%Je}function Eg(n,t,e,i){const r=Js(n),o=Js(t),c=Js(e),u=Js(o-r),f=Js(c-r),d=Js(r-o),m=Js(r-c);return r===o||r===c||i&&o===c||u>f&&d<m}function yi(n,t,e){return Math.max(t,Math.min(e,n))}function k4(n){return yi(n,-32768,32767)}function ul(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function vv(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const ey=(n,t,e,i)=>vv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),P4=(n,t,e)=>vv(n,e,i=>n[i][t]>=e);function N4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const iR=["push","pop","shift","splice","unshift"];function L4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),iR.forEach(e=>{const i="_onData"+yv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function Dw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(iR.forEach(o=>{delete n[o]}),delete n._chartjs)}function sR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const rR=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function aR(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,rR.call(window,()=>{i=!1,n.apply(t,e)}))}}function V4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const oR=n=>n==="start"?"left":n==="end"?"right":"center",Li=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,U4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Td=n=>n===0||n===1,Mw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Je/e)),kw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Je/e)+1,Sh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ln)+1,easeOutSine:n=>Math.sin(n*ln),easeInOutSine:n=>-.5*(Math.cos(xe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Td(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Td(n)?n:Mw(n,.075,.3),easeOutElastic:n=>Td(n)?n:kw(n,.075,.3),easeInOutElastic(n){return Td(n)?n:n<.5?.5*Mw(n*2,.1125,.45):.5+.5*kw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Sh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Sh.easeInBounce(n*2)*.5:Sh.easeOutBounce(n*2-1)*.5+.5};function lR(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Pw(n){return lR(n)?n:new Lh(n)}function u_(n){return lR(n)?n:new Lh(n).saturate(.5).darken(.1).hexString()}const z4=["x","y","borderWidth","radius","tension"],j4=["color","borderColor","backgroundColor"];function B4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:j4},numbers:{type:"number",properties:z4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function F4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Nw=new Map;function H4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Nw.get(e);return i||(i=new Intl.NumberFormat(n,t),Nw.set(e,i)),i}function bv(n,t,e){return H4(t,e).format(n)}const q4={values(n){return _n(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=$4(n,e)}const c=eR(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),bv(n,i,f)}};function $4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var cR={formatters:q4};function G4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const wl=Object.create(null),ny=Object.create(null);function Ah(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function h_(n,t,e){return typeof t=="string"?Vh(Ah(n,t),e):Vh(Ah(n,""),t)}class Y4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>u_(r.backgroundColor),this.hoverBorderColor=(i,r)=>u_(r.borderColor),this.hoverColor=(i,r)=>u_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return h_(this,t,e)}get(t){return Ah(this,t)}describe(t,e){return h_(ny,t,e)}override(t,e){return h_(wl,t,e)}route(t,e,i,r){const o=Ah(this,t),c=Ah(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=c[r];return ee(f)?Object.assign({},d,f):te(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ge=new Y4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[B4,F4,G4]);function W4(n){return!n||me(n.size)||me(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Lw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function rl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Vw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Uw(n,t,e,i){uR(n,t,e,i,null)}function uR(n,t,e,i,r){let o,c,u,f,d,m,v,E;const w=t.pointStyle,x=t.rotation,C=t.radius;let I=(x||0)*x4;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),w){default:r?n.ellipse(e,i,r/2,C,0,0,Je):n.arc(e,i,C,0,Je),n.closePath();break;case"triangle":m=r?r/2:C,n.moveTo(e+Math.sin(I)*m,i-Math.cos(I)*C),I+=Cw,n.lineTo(e+Math.sin(I)*m,i-Math.cos(I)*C),I+=Cw,n.lineTo(e+Math.sin(I)*m,i-Math.cos(I)*C),n.closePath();break;case"rectRounded":d=C*.516,f=C-d,c=Math.cos(I+sl)*f,v=Math.cos(I+sl)*(r?r/2-d:f),u=Math.sin(I+sl)*f,E=Math.sin(I+sl)*(r?r/2-d:f),n.arc(e-v,i-u,d,I-xe,I-ln),n.arc(e+E,i-c,d,I-ln,I),n.arc(e+v,i+u,d,I,I+ln),n.arc(e-E,i+c,d,I+ln,I+xe),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*C,m=r?r/2:f,n.rect(e-m,i-f,2*m,2*f);break}I+=sl;case"rectRot":v=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,u=Math.sin(I)*C,E=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-u),n.lineTo(e+E,i-c),n.lineTo(e+v,i+u),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":I+=sl;case"cross":v=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,u=Math.sin(I)*C,E=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":v=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,u=Math.sin(I)*C,E=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),I+=sl,v=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,u=Math.sin(I)*C,E=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(I)*C,u=Math.sin(I)*C,n.moveTo(e-c,i-u),n.lineTo(e+c,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:C),i+Math.sin(I)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function hR(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ev(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Tv(n){n.restore()}function K4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),me(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function X4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,m=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,m),n.lineTo(u,m),n.stroke()}}function Q4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Tg(n,t,e,i,r,o={}){const c=_n(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,K4(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&Q4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),me(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),X4(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function wg(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*xe,xe,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,xe,ln,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,ln,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-ln,!0),n.lineTo(e+c.topLeft,i)}const Z4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,J4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t6(n,t){const e=(""+n).match(Z4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const e6=n=>+n||0;function wv(n,t){const e={},i=ee(t),r=i?Object.keys(t):t,o=ee(n)?i?c=>te(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=e6(o(c));return e}function fR(n){return wv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function xc(n){return wv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Os(n){const t=fR(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vi(n,t){n=n||{},t=t||Ge.font;let e=te(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=te(n.style,t.style);i&&!(""+i).match(J4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:te(n.family,t.family),lineHeight:t6(te(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:te(n.weight,t.weight),string:""};return r.string=W4(r),r}function wd(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function n6(n,t,e){const{min:i,max:r}=n,o=Jx(t,(r-i)/2),c=(u,f)=>e&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Qc(n,t){return Object.assign(Object.create(n),t)}function Sv(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=mR("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>Sv([u,...n],t,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return gR(u,f,()=>u6(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return jw(u).includes(f)},ownKeys(u){return jw(u)},set(u,f,d){const m=u._storage||(u._storage=r());return u[f]=m[f]=d,delete u._keys,!0}})}function jc(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:dR(n,i),setContext:o=>jc(n,o,e,i),override:o=>jc(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,u){return gR(o,c,()=>s6(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,u){return n[c]=u,delete o[c],!0}})}function dR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:yo(e)?e:()=>e,isIndexable:yo(i)?i:()=>i}}const i6=(n,t)=>n?n+yv(t):t,Av=(n,t)=>ee(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function gR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function s6(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let u=i[t];return yo(u)&&c.isScriptable(t)&&(u=r6(t,u,n,e)),_n(u)&&u.length&&(u=a6(t,u,n,c.isIndexable)),Av(t,u)&&(u=jc(u,r,o&&o[t],c)),u}function r6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,c||i);return u.delete(n),Av(n,f)&&(f=xv(r._scopes,r,n,f)),f}function a6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(ee(t[0])){const f=t,d=r._scopes.filter(m=>m!==f);t=[];for(const m of f){const v=xv(d,r,n,m);t.push(jc(v,o,c&&c[n],u))}}return t}function pR(n,t,e){return yo(n)?n(t,e):n}const o6=(n,t)=>n===!0?t:typeof n=="string"?Tl(t,n):void 0;function l6(n,t,e,i,r){for(const o of t){const c=o6(e,o);if(c){n.add(c);const u=pR(c._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function xv(n,t,e,i){const r=t._rootScopes,o=pR(t._fallback,e,i),c=[...n,...r],u=new Set;u.add(i);let f=zw(u,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=zw(u,c,o,f,i),f===null)?!1:Sv(Array.from(u),[""],r,o,()=>c6(t,e,i))}function zw(n,t,e,i,r){for(;e;)e=l6(n,t,e,i,r);return e}function c6(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return _n(r)&&ee(e)?e:r||{}}function u6(n,t,e,i){let r;for(const o of t)if(r=mR(i6(o,n),e),typeof r<"u")return Av(n,r)?xv(e,i,n,r):r}function mR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function jw(n){let t=n._keys;return t||(t=n._keys=h6(n._scopes)),t}function h6(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Rv(){return typeof window<"u"&&typeof document<"u"}function Cv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Sg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const ep=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function f6(n,t){return ep(n).getPropertyValue(t)}const d6=["top","right","bottom","left"];function dl(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=d6[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const g6=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function p6(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,u,f;if(g6(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:u,y:f,box:c}}function ll(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=ep(e),o=r.boxSizing==="border-box",c=dl(r,"padding"),u=dl(r,"border","width"),{x:f,y:d,box:m}=p6(n,e),v=c.left+(m&&u.left),E=c.top+(m&&u.top);let{width:w,height:x}=t;return o&&(w-=c.width+u.width,x-=c.height+u.height),{x:Math.round((f-v)/w*e.width/i),y:Math.round((d-E)/x*e.height/i)}}function m6(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Cv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),u=ep(o),f=dl(u,"border","width"),d=dl(u,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=Sg(u.maxWidth,o,"clientWidth"),r=Sg(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||vg,maxHeight:r||vg}}const Sd=n=>Math.round(n*10)/10;function _6(n,t,e,i){const r=ep(n),o=dl(r,"margin"),c=Sg(r.maxWidth,n,"clientWidth")||vg,u=Sg(r.maxHeight,n,"clientHeight")||vg,f=m6(n,t,e);let{width:d,height:m}=f;if(r.boxSizing==="content-box"){const E=dl(r,"border","width"),w=dl(r,"padding");d-=w.width+E.width,m-=w.height+E.height}return d=Math.max(0,d-o.width),m=Math.max(0,i?d/i:m-o.height),d=Sd(Math.min(d,c,f.maxWidth)),m=Sd(Math.min(m,u,f.maxHeight)),d&&!m&&(m=Sd(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,d=Sd(Math.floor(m*i))),{width:d,height:m}}function Bw(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const y6=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Rv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Fw(n,t){const e=f6(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const v6=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},b6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Rc(n,t,e){return n?v6(t,e):b6()}function _R(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function yR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Ad(n,t,e){return n.options.clip?n[e]:t[e]}function E6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Ad(e,t,"left"),right:Ad(e,t,"right"),top:Ad(i,t,"top"),bottom:Ad(i,t,"bottom")}:t}function T6(n,t){const e=t._clip;if(e.disabled)return!1;const i=E6(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class w6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=rR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[c]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qr=new w6;const Hw="transparent",S6={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Pw(n||Hw),r=i.valid&&Pw(t||Hw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class A6{constructor(t,e,i,r){const o=e[i];r=wd([t.to,r,o,t.from]);const c=wd([t.from,o,r]);this._active=!0,this._fn=t.fn||S6[t.type||typeof c],this._easing=Sh[t.easing]||Sh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=wd([t.to,e,r,t.from]),this._from=wd([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class vR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ee(t))return;const e=Object.keys(Ge.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!ee(o))return;const c={};for(const u of e)c[u]=o[u];(_n(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,e){const i=e.options,r=R6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&x6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const m=e[d];let v=o[d];const E=i.get(d);if(v)if(E&&v.active()){v.update(E,m,u);continue}else v.cancel();if(!E||!E.duration){t[d]=m;continue}o[d]=v=new A6(E,t,d,m),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return qr.add(this._chart,i),!0}}function x6(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function R6(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function qw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function C6(n,t,e){if(e===!1)return!1;const i=qw(n,e),r=qw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function I6(n){let t,e,i,r;return ee(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function bR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function $w(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,u,f,d;if(t===null)return;let m=!1;for(c=0,u=r.length;c<u;++c){if(f=+r[c],f===e){if(m=!0,i.all)continue;break}d=n.values[f],cs(d)&&(o||t===0||lo(t)===lo(d))&&(t+=d)}return!m&&!i.all?0:t}function O6(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let f,d,m;for(f=0,d=c.length;f<d;++f)m=c[f],u[f]={[r]:m,[o]:n[m]};return u}function f_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function D6(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function M6(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function k6(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Gw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Yw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,d=c.axis,m=D6(o,c,i),v=t.length;let E;for(let w=0;w<v;++w){const x=t[w],{[f]:C,[d]:I}=x,k=x._stacks||(x._stacks={});E=k[d]=k6(r,m,C),E[u]=I,E._top=Gw(E,c,!0,i.type),E._bottom=Gw(E,c,!1,i.type);const H=E._visualValues||(E._visualValues={});H[u]=I}}function d_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function P6(n,t){return Qc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function N6(n,t,e){return Qc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function eh(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const g_=n=>n==="reset"||n==="none",Ww=(n,t)=>t?n:Object.assign({},n),L6=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:bR(e,!0),values:null};class Iv{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=f_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&eh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,E,w,x)=>v==="x"?E:v==="r"?x:w,o=e.xAxisID=te(i.xAxisID,d_(t,"x")),c=e.yAxisID=te(i.yAxisID,d_(t,"y")),u=e.rAxisID=te(i.rAxisID,d_(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,u),m=e.vAxisID=r(f,c,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Dw(this._data,this),t._stacked&&eh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ee(e)){const r=this._cachedMeta;this._data=O6(e,r)}else if(i!==e){if(i){Dw(i,this);const r=this._cachedMeta;eh(r),r._parsed=[]}e&&Object.isExtensible(e)&&L4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=f_(e.vScale,e),e.stack!==i.stack&&(r=!0,eh(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Yw(this,e._parsed),e._stacked=f_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],m,v,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{_n(r[t])?E=this.parseArrayData(i,r,t,e):ee(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const w=()=>v[u]===null||d&&v[u]<d[u];for(m=0;m<e;++m)i._parsed[m+t]=v=E[m],f&&(w()&&(f=!1),d=v);i._sorted=f}c&&Yw(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,u=o.axis,f=c.axis,d=o.getLabels(),m=o===c,v=new Array(r);let E,w,x;for(E=0,w=r;E<w;++E)x=E+i,v[E]={[u]:m||o.parse(d[x],x),[f]:c.parse(e[x],x)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,u=new Array(r);let f,d,m,v;for(f=0,d=r;f<d;++f)m=f+i,v=e[m],u[f]={x:o.parse(v[0],m),y:c.parse(v[1],m)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let m,v,E,w;for(m=0,v=r;m<v;++m)E=m+i,w=e[E],d[m]={x:o.parse(Tl(w,u),E),y:c.parse(Tl(w,f),E)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],u={keys:bR(r,!0),values:e._stacks[t.axis]._visualValues};return $w(u,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,c=$w(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,u=this._getOtherScale(t),f=L6(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=M6(u);let E,w;function x(){w=r[E];const C=w[u.axis];return!cs(w[t.axis])||m>C||v<C}for(E=0;E<c&&!(!x()&&(this.updateRangeFromParsed(d,t,w,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!x()){this.updateRangeFromParsed(d,t,w,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],cs(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=I6(te(this.options.clip,C6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,u,f),m=u;m<u+f;++m){const v=r[m];v.hidden||(v.active&&d?c.push(v):v.draw(t,o))}for(m=0;m<c.length;++m)c[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=N6(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=P6(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,u=o[c],f=this.enableOptionSharing&&Uh(i);if(u)return Ww(u,f);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],E=d.getOptionScopes(this.getDataset(),m),w=Object.keys(Ge.elements[t]),x=()=>this.getContext(i,r,e),C=d.resolveNamedOptions(E,w,x,v);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(Ww(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,u=o[c];if(u)return u;let f;if(r.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,e),E=m.getOptionScopes(this.getDataset(),v);f=m.createResolver(E,this.getContext(t,i,e))}const d=new vR(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||g_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){g_(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!g_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=c;u--)d[u]=d[u-e]};for(f(o),u=t;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&eh(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function V6(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=sR(i.sort((r,o)=>r-o))}return n._cache.$bar}function U6(n){const t=n.iScale,e=V6(t,n.type);let i=t._length,r,o,c,u;const f=()=>{c===32767||c===-32768||(Uh(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function z6(n,t,e,i){const r=e.barThickness;let o,c;return me(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function j6(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-c);const d=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:e.barPercentage,start:d}}function B6(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),u=Math.max(r,o);let f=c,d=u;Math.abs(c)>Math.abs(u)&&(f=u,d=c),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:u}}function ER(n,t,e,i){return _n(n)?B6(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Kw(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),u=r===o,f=[];let d,m,v,E;for(d=e,m=e+i;d<m;++d)E=t[d],v={},v[r.axis]=u||r.parse(c[d],d),f.push(ER(E,v,o,d));return f}function p_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function F6(n,t,e){return n!==0?lo(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function H6(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function q6(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:d,bottom:m}=H6(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=m:(o[Xw(m,c,u,f)]=!0,r=d)),o[Xw(r,c,u,f)]=!0,n.borderSkipped=o}function Xw(n,t,e,i){return i?(n=$6(n,t,e),n=Qw(n,e,t)):n=Qw(n,t,e),n}function $6(n,t,e){return n===t?e:n===e?t:n}function Qw(n,t,e){return n==="start"?t:n==="end"?e:n}function G6(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Y6 extends Iv{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Kw(t,e,i,r)}parseArrayData(t,e,i,r){return Kw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,m=c.axis==="x"?u:f,v=[];let E,w,x,C;for(E=i,w=i+r;E<w;++E)C=e[E],x={},x[o.axis]=o.parse(Tl(C,d),E),v.push(ER(Tl(C,m),x,c,E));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,u=p_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:E}=this._getSharedOptions(e,r);for(let w=e;w<e+i;w++){const x=this.getParsed(w),C=o||me(x[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(w),I=this._calculateBarIndexPixels(w,m),k=(x._stacks||{})[u.axis],H={horizontal:d,base:C.base,enableBorderRadius:!k||p_(x._custom)||c===k._top||c===k._bottom,x:d?C.head:I.center,y:d?I.center:C.head,height:d?I.size:Math.abs(C.size),width:d?Math.abs(C.size):I.size};E&&(H.options=v||this.resolveDataElementOptions(w,t[w].active?"active":r));const G=H.options||t[w].options;q6(H,G,k,c),G6(H,G,m.ratio),this.updateElement(t[w],w,H,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=m=>{const v=m._parsed.find(w=>w[i.axis]===f),E=v&&v[m.vScale.axis];if(me(E)||isNaN(E))return!0};for(const m of r)if(!(e!==void 0&&d(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[te(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||U6(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(t),d=f._custom,m=p_(d);let v=f[e.axis],E=0,w=i?this.applyStack(e,f,i):v,x,C;w!==v&&(E=w-v,w=v),m&&(v=d.barStart,w=d.barEnd-d.barStart,v!==0&&lo(v)!==lo(d.barEnd)&&(E=0),E+=v);const I=!me(o)&&!m?o:E;let k=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(E+w):x=k,C=x-k,Math.abs(C)<c){C=F6(C,e,u)*c,v===u&&(k-=C/2);const H=e.getPixelForDecimal(0),G=e.getPixelForDecimal(1),K=Math.min(H,G),Y=Math.max(H,G);k=Math.max(Math.min(k,Y),K),x=k+C,i&&!m&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(k))}if(k===e.getPixelForValue(u)){const H=lo(C)*e.getLineWidthForValue(u)/2;k+=H,C-=H}return{size:C,base:k,head:x,center:x+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=te(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const m=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?j6(t,e,r,m*d):z6(t,e,r,m*d),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(te(E,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+w;u=v.start+v.chunk*x+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function W6(n,t,e){let i=1,r=1,o=0,c=0;if(t<Je){const u=n,f=u+t,d=Math.cos(u),m=Math.sin(u),v=Math.cos(f),E=Math.sin(f),w=(G,K,Y)=>Eg(G,u,f,!0)?1:Math.max(K,K*e,Y,Y*e),x=(G,K,Y)=>Eg(G,u,f,!0)?-1:Math.min(K,K*e,Y,Y*e),C=w(0,d,v),I=w(ln,m,E),k=x(xe,d,v),H=x(xe+ln,m,E);i=(C-k)/2,r=(I-H)/2,o=-(C+k)/2,c=-(I+H)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class K6 extends Iv{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(ee(i[t])){const{key:f="value"}=this._parsing;o=d=>+Tl(i[d],f)}let c,u;for(c=t,u=t+e;c<u;++c)r._parsed[c]=o(c)}}_getRotation(){return Kr(this.options.rotation-90)}_getCircumference(){return Kr(this.options.circumference)}_getRotationExtents(){let t=Je,e=-Je;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(b4(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:E,ratioY:w,offsetX:x,offsetY:C}=W6(v,m,f),I=(i.width-c)/E,k=(i.height-c)/w,H=Math.max(Math.min(I,k)/2,0),G=Jx(this.options.radius,H),K=Math.max(G*f,0),Y=(G-K)/this._getVisibleDatasetWeightTotal();this.offsetX=x*G,this.offsetY=C*G,r.total=this.calculateTotal(),this.outerRadius=G-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Je)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,u=c.chartArea,d=c.options.animation,m=(u.left+u.right)/2,v=(u.top+u.bottom)/2,E=o&&d.animateScale,w=E?0:this.innerRadius,x=E?0:this.outerRadius,{sharedOptions:C,includeOptions:I}=this._getSharedOptions(e,r);let k=this._getRotation(),H;for(H=0;H<e;++H)k+=this._circumference(H,o);for(H=e;H<e+i;++H){const G=this._circumference(H,o),K=t[H],Y={x:m+this.offsetX,y:v+this.offsetY,startAngle:k,endAngle:k+G,circumference:G,outerRadius:x,innerRadius:w};I&&(Y.options=C||this.resolveDataElementOptions(H,K.active?"active":r)),k+=G,this.updateElement(K,H,Y,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Je*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=bv(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,u=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(te(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class X6 extends K6{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function al(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ov{static override(t){Object.assign(Ov.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return al()}parse(){return al()}format(){return al()}add(){return al()}diff(){return al()}startOf(){return al()}endOf(){return al()}}var Q6={_date:Ov};function Z6(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&o.length){const d=u._reversePixels?P4:ey;if(i){if(r._sharedOptions){const m=o[0],v=typeof m.getRange=="function"&&m.getRange(t);if(v){const E=d(o,t,e-v),w=d(o,t,e+v);return{lo:E.lo,hi:w.hi}}}}else{const m=d(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:E}=n,w=E.slice(0,m.lo+1).reverse().findIndex(C=>!me(C[v.axis]));m.lo-=Math.max(0,w);const x=E.slice(m.hi).findIndex(C=>!me(C[v.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:o.length-1}}function np(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:m}=o[u],{lo:v,hi:E}=Z6(o[u],t,c,r);for(let w=v;w<=E;++w){const x=m[w];x.skip||i(x,d,w)}}}function J6(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function m_(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||np(n,e,t,function(u,f,d){!r&&!hR(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function t3(n,t,e,i){let r=[];function o(c,u,f){const{startAngle:d,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:v}=nR(c,{x:t.x,y:t.y});Eg(v,d,m)&&r.push({element:c,datasetIndex:u,index:f})}return np(n,e,t,o),r}function e3(n,t,e,i,r,o){let c=[];const u=J6(e);let f=Number.POSITIVE_INFINITY;function d(m,v,E){const w=m.inRange(t.x,t.y,r);if(i&&!w)return;const x=m.getCenterPoint(r);if(!(!!o||n.isPointInArea(x))&&!w)return;const I=u(t,x);I<f?(c=[{element:m,datasetIndex:v,index:E}],f=I):I===f&&c.push({element:m,datasetIndex:v,index:E})}return np(n,e,t,d),c}function __(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?t3(n,t,e,r):e3(n,t,e,i,r,o)}function Zw(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let u=!1;return np(n,e,t,(f,d,m)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:m}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var n3={modes:{index(n,t,e,i){const r=ll(t,n),o=e.axis||"x",c=e.includeInvisible||!1,u=e.intersect?m_(n,r,o,i,c):__(n,r,o,!1,i,c),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,v=d.data[m];v&&!v.skip&&f.push({element:v,datasetIndex:d.index,index:m})}),f):[]},dataset(n,t,e,i){const r=ll(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let u=e.intersect?m_(n,r,o,i,c):__(n,r,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:f,index:m})}return u},point(n,t,e,i){const r=ll(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return m_(n,r,o,i,c)},nearest(n,t,e,i){const r=ll(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return __(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=ll(t,n);return Zw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ll(t,n);return Zw(n,r,"y",e.intersect,i)}}};const TR=["left","top","right","bottom"];function nh(n,t){return n.filter(e=>e.pos===t)}function Jw(n,t){return n.filter(e=>TR.indexOf(e.pos)===-1&&e.box.axis===t)}function ih(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function i3(n){const t=[];let e,i,r,o,c,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:u});return t}function s3(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!TR.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function r3(n,t){const e=s3(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,u;for(o=0,c=n.length;o<c;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:f&&t.availableHeight)}return e}function a3(n){const t=i3(n),e=ih(t.filter(d=>d.box.fullSize),!0),i=ih(nh(t,"left"),!0),r=ih(nh(t,"right")),o=ih(nh(t,"top"),!0),c=ih(nh(t,"bottom")),u=Jw(t,"x"),f=Jw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(u),chartArea:nh(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(u)}}function tS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function wR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function o3(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!ee(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&wR(c,o.getPadding());const u=Math.max(0,t.outerWidth-tS(c,n,"left","right")),f=Math.max(0,t.outerHeight-tS(c,n,"top","bottom")),d=u!==n.w,m=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:m}:{same:m,other:d}}function l3(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function c3(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function dh(n,t,e,i){const r=[];let o,c,u,f,d,m;for(o=0,c=n.length,d=0;o<c;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,c3(u.horizontal,t));const{same:v,other:E}=o3(t,e,u,i);d|=v&&r.length,m=m||E,f.fullSize||r.push(u)}return d&&dh(r,t,e,i)||m}function xd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function eS(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const v=t.w*m,E=d.size||f.height;Uh(d.start)&&(c=d.start),f.fullSize?xd(f,r.left,c,e.outerWidth-r.right-r.left,E):xd(f,t.left+d.placed,c,v,E),d.start=c,d.placed+=v,c=f.bottom}else{const v=t.h*m,E=d.size||f.width;Uh(d.start)&&(o=d.start),f.fullSize?xd(f,o,r.top,E,e.outerHeight-r.bottom-r.top):xd(f,o,t.top+d.placed,E,v),d.start=o,d.placed+=v,o=f.right}}t.x=o,t.y=c}var Ja={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Os(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),u=a3(n.boxes),f=u.vertical,d=u.horizontal;ce(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=f.reduce((C,I)=>I.box.options&&I.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),E=Object.assign({},r);wR(E,Os(i));const w=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),x=r3(f.concat(d),v);dh(u.fullSize,w,v,x),dh(f,w,v,x),dh(d,w,v,x)&&dh(f,w,v,x),l3(w),eS(u.leftAndTop,w,v,x),w.x+=w.w,w.y+=w.h,eS(u.rightAndBottom,w,v,x),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},ce(u.chartArea,C=>{const I=C.box;Object.assign(I,n.chartArea),I.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class SR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class u3 extends SR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Yd="$chartjs",h3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nS=n=>n===null||n==="";function f3(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Yd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",nS(r)){const o=Fw(n,"width");o!==void 0&&(n.width=o)}if(nS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Fw(n,"height");o!==void 0&&(n.height=o)}return n}const AR=y6?{passive:!0}:!1;function d3(n,t,e){n&&n.addEventListener(t,e,AR)}function g3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,AR)}function p3(n,t){const e=h3[n.type]||n.type,{x:i,y:r}=ll(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ag(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function m3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Ag(u.addedNodes,i),c=c&&!Ag(u.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function _3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Ag(u.removedNodes,i),c=c&&!Ag(u.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const zh=new Map;let iS=0;function xR(){const n=window.devicePixelRatio;n!==iS&&(iS=n,zh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function y3(n,t){zh.size||window.addEventListener("resize",xR),zh.set(n,t)}function v3(n){zh.delete(n),zh.size||window.removeEventListener("resize",xR)}function b3(n,t,e){const i=n.canvas,r=i&&Cv(i);if(!r)return;const o=aR((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,m=f.contentRect.height;d===0&&m===0||o(d,m)});return c.observe(r),y3(n,o),c}function y_(n,t,e){e&&e.disconnect(),t==="resize"&&v3(n)}function E3(n,t,e){const i=n.canvas,r=aR(o=>{n.ctx!==null&&e(p3(o,n))},n);return d3(i,t,r),r}class T3 extends SR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(f3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Yd])return!1;const i=e[Yd].initial;["height","width"].forEach(o=>{const c=i[o];me(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Yd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:m3,detach:_3,resize:b3}[e]||E3;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:y_,detach:y_,resize:y_}[e]||g3)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return _6(t,e,i,r)}isAttached(t){const e=t&&Cv(t);return!!(e&&e.isConnected)}}function w3(n){return!Rv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?u3:T3}let Zc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return bg(this.x)&&bg(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function S3(n,t){const e=n.options.ticks,i=A3(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?R3(t):[],c=o.length,u=o[0],f=o[c-1],d=[];if(c>r)return C3(t,d,o,c/r),d;const m=x3(o,t,r);if(c>0){let v,E;const w=c>1?Math.round((f-u)/(c-1)):null;for(Rd(t,d,m,me(w)?0:u-w,u),v=0,E=c-1;v<E;v++)Rd(t,d,m,o[v],o[v+1]);return Rd(t,d,m,f,me(w)?t.length:f+w),d}return Rd(t,d,m),d}function A3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function x3(n,t,e){const i=I3(n),r=t.length/e;if(!i)return Math.max(r,1);const o=R4(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function R3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function C3(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Rd(n,t,e,i,r){const o=te(i,0),c=Math.min(te(r,n.length),n.length);let u=0,f,d,m;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),m=o;m<0;)u++,m=Math.round(o+u*e);for(d=Math.max(o,0);d<c;d++)d===m&&(t.push(n[d]),u++,m=Math.round(o+u*e))}function I3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const O3=n=>n==="left"?"right":n==="right"?"left":n,sS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,rS=(n,t)=>Math.min(t||n,n);function aS(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function D3(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>c+u)))return f}function M3(n,t){ce(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function sh(n){return n.drawTicks?n.tickLength:0}function oS(n,t){if(!n.display)return 0;const e=vi(n.font,t),i=Os(n.padding);return(_n(n.text)?n.text.length:1)*e.lineHeight+i.height}function k3(n,t){return Qc(n,{scale:t,type:"scale"})}function P3(n,t,e){return Qc(n,{tick:e,index:t,type:"tick"})}function N3(n,t,e){let i=oR(n);return(e&&t!=="right"||!e&&t==="right")&&(i=O3(i)),i}function L3(n,t,e,i){const{top:r,left:o,bottom:c,right:u,chart:f}=n,{chartArea:d,scales:m}=f;let v=0,E,w,x;const C=c-r,I=u-o;if(n.isHorizontal()){if(w=Li(i,o,u),ee(e)){const k=Object.keys(e)[0],H=e[k];x=m[k].getPixelForValue(H)+C-t}else e==="center"?x=(d.bottom+d.top)/2+C-t:x=sS(n,e,t);E=u-o}else{if(ee(e)){const k=Object.keys(e)[0],H=e[k];w=m[k].getPixelForValue(H)-I+t}else e==="center"?w=(d.left+d.right)/2-I+t:w=sS(n,e,t);x=Li(i,c,r),v=e==="left"?-ln:ln}return{titleX:w,titleY:x,maxWidth:E,rotation:v}}class Jc extends Zc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ks(t,Number.POSITIVE_INFINITY),e=Ks(e,Number.NEGATIVE_INFINITY),i=Ks(i,Number.POSITIVE_INFINITY),r=Ks(r,Number.NEGATIVE_INFINITY),{min:Ks(t,i),max:Ks(e,r),minDefined:cs(t),maxDefined:cs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)c=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ks(e,Ks(i,e)),max:Ks(i,Ks(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=n6(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?aS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=S3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),we(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=we(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=rS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),v=m.widest.width,E=m.highest.height,w=yi(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/i:w/(i-1),v+6>u&&(u=w/(i-(t.offset?.5:1)),f=this.maxHeight-sh(t.grid)-e.padding-oS(t.title,this.chart.options.font),d=Math.sqrt(v*v+E*E),c=D4(Math.min(Math.asin(yi((m.highest.height+6)/u,-1,1)),Math.asin(yi(f/d,-1,1))-Math.asin(yi(E/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=oS(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=sh(o)+f):(t.height=this.maxHeight,t.width=sh(o)+f),i.display&&this.ticks.length){const{first:d,last:m,widest:v,highest:E}=this._getLabelSizes(),w=i.padding*2,x=Kr(this.labelRotation),C=Math.cos(x),I=Math.sin(x);if(u){const k=i.mirror?0:I*v.width+C*E.height;t.height=Math.min(this.maxHeight,t.height+k+w)}else{const k=i.mirror?0:C*v.width+I*E.height;t.width=Math.min(this.maxWidth,t.width+k+w)}this._calculatePadding(d,m,I,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,w=0;f?d?(E=r*t.width,w=i*e.height):(E=i*t.height,w=r*e.width):o==="start"?w=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,w=e.width/2),this.paddingLeft=Math.max((E-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-v+c)*this.width/(this.width-v),0)}else{let m=e.height/2,v=t.height/2;o==="start"?(m=0,v=t.height):o==="end"&&(m=e.height,v=0),this.paddingTop=m+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)me(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=aS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(e/rS(e,i));let d=0,m=0,v,E,w,x,C,I,k,H,G,K,Y;for(v=0;v<e;v+=f){if(x=t[v].label,C=this._resolveTickFontOptions(v),r.font=I=C.string,k=o[I]=o[I]||{data:{},gc:[]},H=C.lineHeight,G=K=0,!me(x)&&!_n(x))G=Lw(r,k.data,k.gc,G,x),K=H;else if(_n(x))for(E=0,w=x.length;E<w;++E)Y=x[E],!me(Y)&&!_n(Y)&&(G=Lw(r,k.data,k.gc,G,Y),K+=H);c.push(G),u.push(K),d=Math.max(G,d),m=Math.max(K,m)}M3(o,e);const rt=c.indexOf(d),P=u.indexOf(m),O=M=>({width:c[M]||0,height:u[M]||0});return{first:O(0),last:O(e-1),widest:O(rt),highest:O(P),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return k4(this._alignToPixels?rl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=P3(this.getContext(),t,i))}return this.$context||(this.$context=k3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Kr(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:u}=r,f=o.offset,d=this.isHorizontal(),v=this.ticks.length+(f?1:0),E=sh(o),w=[],x=u.setContext(this.getContext()),C=x.display?x.width:0,I=C/2,k=function(Z){return rl(i,Z,C)};let H,G,K,Y,rt,P,O,M,L,V,z,N;if(c==="top")H=k(this.bottom),P=this.bottom-E,M=H-I,V=k(t.top)+I,N=t.bottom;else if(c==="bottom")H=k(this.top),V=t.top,N=k(t.bottom)-I,P=H+I,M=this.top+E;else if(c==="left")H=k(this.right),rt=this.right-E,O=H-I,L=k(t.left)+I,z=t.right;else if(c==="right")H=k(this.left),L=t.left,z=k(t.right)-I,rt=H+I,O=this.left+E;else if(e==="x"){if(c==="center")H=k((t.top+t.bottom)/2+.5);else if(ee(c)){const Z=Object.keys(c)[0],ct=c[Z];H=k(this.chart.scales[Z].getPixelForValue(ct))}V=t.top,N=t.bottom,P=H+I,M=P+E}else if(e==="y"){if(c==="center")H=k((t.left+t.right)/2);else if(ee(c)){const Z=Object.keys(c)[0],ct=c[Z];H=k(this.chart.scales[Z].getPixelForValue(ct))}rt=H-I,O=rt-E,L=t.left,z=t.right}const Dt=te(r.ticks.maxTicksLimit,v),Tt=Math.max(1,Math.ceil(v/Dt));for(G=0;G<v;G+=Tt){const Z=this.getContext(G),ct=o.setContext(Z),_t=u.setContext(Z),xt=ct.lineWidth,B=ct.color,ut=_t.dash||[],gt=_t.dashOffset,q=ct.tickWidth,yt=ct.tickColor,Ct=ct.tickBorderDash||[],wt=ct.tickBorderDashOffset;K=D3(this,G,f),K!==void 0&&(Y=rl(i,K,xt),d?rt=O=L=z=Y:P=M=V=N=Y,w.push({tx1:rt,ty1:P,tx2:O,ty2:M,x1:L,y1:V,x2:z,y2:N,width:xt,color:B,borderDash:ut,borderDashOffset:gt,tickWidth:q,tickColor:yt,tickBorderDash:Ct,tickBorderDashOffset:wt}))}return this._ticksLength=v,this._borderValue=H,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:m,mirror:v}=o,E=sh(i.grid),w=E+m,x=v?-m:w,C=-Kr(this.labelRotation),I=[];let k,H,G,K,Y,rt,P,O,M,L,V,z,N="middle";if(r==="top")rt=this.bottom-x,P=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+x,P=this._getXAxisLabelAlignment();else if(r==="left"){const Tt=this._getYAxisLabelAlignment(E);P=Tt.textAlign,Y=Tt.x}else if(r==="right"){const Tt=this._getYAxisLabelAlignment(E);P=Tt.textAlign,Y=Tt.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+w;else if(ee(r)){const Tt=Object.keys(r)[0],Z=r[Tt];rt=this.chart.scales[Tt].getPixelForValue(Z)+w}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Y=(t.left+t.right)/2-w;else if(ee(r)){const Tt=Object.keys(r)[0],Z=r[Tt];Y=this.chart.scales[Tt].getPixelForValue(Z)}P=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?N="top":f==="end"&&(N="bottom"));const Dt=this._getLabelSizes();for(k=0,H=u.length;k<H;++k){G=u[k],K=G.label;const Tt=o.setContext(this.getContext(k));O=this.getPixelForTick(k)+o.labelOffset,M=this._resolveTickFontOptions(k),L=M.lineHeight,V=_n(K)?K.length:1;const Z=V/2,ct=Tt.color,_t=Tt.textStrokeColor,xt=Tt.textStrokeWidth;let B=P;c?(Y=O,P==="inner"&&(k===H-1?B=this.options.reverse?"left":"right":k===0?B=this.options.reverse?"right":"left":B="center"),r==="top"?d==="near"||C!==0?z=-V*L+L/2:d==="center"?z=-Dt.highest.height/2-Z*L+L:z=-Dt.highest.height+L/2:d==="near"||C!==0?z=L/2:d==="center"?z=Dt.highest.height/2-Z*L:z=Dt.highest.height-V*L,v&&(z*=-1),C!==0&&!Tt.showLabelBackdrop&&(Y+=L/2*Math.sin(C))):(rt=O,z=(1-V)*L/2);let ut;if(Tt.showLabelBackdrop){const gt=Os(Tt.backdropPadding),q=Dt.heights[k],yt=Dt.widths[k];let Ct=z-gt.top,wt=0-gt.left;switch(N){case"middle":Ct-=q/2;break;case"bottom":Ct-=q;break}switch(P){case"center":wt-=yt/2;break;case"right":wt-=yt;break;case"inner":k===H-1?wt-=yt:k>0&&(wt-=yt/2);break}ut={left:wt,top:Ct,width:yt+gt.width,height:q+gt.height,color:Tt.backdropColor}}I.push({label:K,font:M,textOffset:z,options:{rotation:C,color:ct,strokeColor:_t,strokeWidth:xt,textAlign:B,textBaseline:N,translation:[Y,rt],backdrop:ut}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Kr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),u=t+o,f=c.widest.width;let d,m;return e==="left"?r?(m=this.right+o,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m+=f)):(m=this.right-u,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m=this.left)):e==="right"?r?(m=this.left+o,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m-=f)):(m=this.left+u,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const u=(f,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,m,v,E;this.isHorizontal()?(d=rl(t,this.left,c)-c/2,m=rl(t,this.right,u)+u/2,v=E=f):(v=rl(t,this.top,c)-c/2,E=rl(t,this.bottom,u)+u/2,d=m=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,v),e.lineTo(m,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ev(i,r);const o=this.getLabelItems(t);for(const c of o){const u=c.options,f=c.font,d=c.label,m=c.textOffset;Tg(i,d,0,m,f,u)}r&&Tv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=vi(i.font),c=Os(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||ee(e)?(f+=c.bottom,_n(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:m,maxWidth:v,rotation:E}=L3(this,f,e,u);Tg(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:E,textAlign:N3(u,e,r),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=te(t.grid&&t.grid.z,-1),r=te(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Jc.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return vi(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Cd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;z3(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,V3(t,c,i),this.override&&Ge.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ge[r]&&(delete Ge[r][i],this.override&&delete wl[i])}}function V3(n,t,e){const i=Vh(Object.create(null),[e?Ge.get(e):{},Ge.get(t),n.defaults]);Ge.set(t,i),n.defaultRoutes&&U3(t,n.defaultRoutes),n.descriptors&&Ge.describe(t,n.descriptors)}function U3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),u=c.pop(),f=c.join(".");Ge.route(o,r,f,u)})}function z3(n){return"id"in n&&"defaults"in n}class j3{constructor(){this.controllers=new Cd(Iv,"datasets",!0),this.elements=new Cd(Zc,"elements"),this.plugins=new Cd(Object,"plugins"),this.scales=new Cd(Jc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ce(r,c=>{const u=i||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,e,i){const r=yv(t);we(i["before"+r],[],i),e[t](i),we(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Qs=new j3;class B3{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,u=c[i],f=[e,r,o.options];if(we(u,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=te(i.options&&i.options.plugins,{}),o=F3(i);return r===!1&&!e?[]:q3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function F3(n){const t={},e=[],i=Object.keys(Qs.plugins.items);for(let o=0;o<i.length;o++)e.push(Qs.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function H3(n,t){return!t&&n===!1?null:n===!0?{}:n}function q3(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const u of t){const f=u.id,d=H3(i[f],r);d!==null&&o.push({plugin:u,options:$3(n.config,{plugin:u,local:e[f]},d,c)})}return o}function $3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iy(n,t){const e=Ge.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function G3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Y3(n,t){return n===t?"_index_":"_value_"}function lS(n){if(n==="x"||n==="y"||n==="r")return n}function W3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function sy(n,...t){if(lS(n))return n;for(const e of t){const i=e.axis||W3(e.position)||n.length>1&&lS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function cS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function K3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return cS(n,"x",e[0])||cS(n,"y",e[0])}return{}}function X3(n,t){const e=wl[n.type]||{scales:{}},i=t.scales||{},r=iy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!ee(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=sy(c,u,K3(c,n),Ge.scales[u.type]),d=Y3(f,r),m=e.scales||{};o[c]=wh(Object.create(null),[{axis:f},u,m[f],m[d]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,f=c.indexAxis||iy(u,t),m=(wl[u]||{}).scales||{};Object.keys(m).forEach(v=>{const E=G3(v,f),w=c[E+"AxisID"]||E;o[w]=o[w]||Object.create(null),wh(o[w],[{axis:E},i[w],m[v]])})}),Object.keys(o).forEach(c=>{const u=o[c];wh(u,[Ge.scales[u.type],Ge.scale])}),o}function RR(n){const t=n.options||(n.options={});t.plugins=te(t.plugins,{}),t.scales=X3(n,t)}function CR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Q3(n){return n=n||{},n.data=CR(n.data),RR(n),n}const uS=new Map,IR=new Set;function Id(n,t){let e=uS.get(n);return e||(e=t(),uS.set(n,e),IR.add(e)),e}const rh=(n,t,e)=>{const i=Tl(t,e);i!==void 0&&n.add(i)};class Z3{constructor(t){this._config=Q3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=CR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),RR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Id(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Id(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Id(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Id(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),u=c.get(e);if(u)return u;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(v=>rh(f,t,v))),m.forEach(v=>rh(f,r,v)),m.forEach(v=>rh(f,wl[o]||{},v)),m.forEach(v=>rh(f,Ge,v)),m.forEach(v=>rh(f,ny,v))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),IR.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,wl[e]||{},Ge.datasets[e]||{},{type:e},Ge,ny]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=hS(this._resolverCache,t,r);let f=c;if(tU(c,e)){o.$shared=!1,i=yo(i)?i():i;const d=this.createResolver(t,i,u);f=jc(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=hS(this._resolverCache,t,i);return ee(e)?jc(o,e,void 0,r):o}}function hS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Sv(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const J3=n=>ee(n)&&Object.getOwnPropertyNames(n).some(t=>yo(n[t]));function tU(n,t){const{isScriptable:e,isIndexable:i}=dR(n);for(const r of t){const o=e(r),c=i(r),u=(c||o)&&n[r];if(o&&(yo(u)||J3(u))||c&&_n(u))return!0}return!1}var eU="4.5.0";const nU=["top","bottom","left","right","chartArea"];function fS(n,t){return n==="top"||n==="bottom"||nU.indexOf(n)===-1&&t==="x"}function dS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function gS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),we(e&&e.onComplete,[n],t)}function iU(n){const t=n.chart,e=t.options.animation;we(e&&e.onProgress,[n],t)}function OR(n){return Rv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wd={},pS=n=>{const t=OR(n);return Object.values(Wd).filter(e=>e.canvas===t).pop()};function sU(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function rU(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let sf=class{static defaults=Ge;static instances=Wd;static overrides=wl;static registry=Qs;static version=eU;static getChart=pS;static register(...t){Qs.add(...t),mS()}static unregister(...t){Qs.remove(...t),mS()}constructor(t,e){const i=this.config=new Z3(e),r=OR(t),o=pS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||w3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),f=u&&u.canvas,d=f&&f.height,m=f&&f.width;if(this.id=v4(),this.ctx=u,this.canvas=f,this.width=m,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new B3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=V4(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Wd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}qr.listen(this,"complete",gS),qr.listen(this,"progress",iU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return me(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vw(this.canvas,this.ctx),this}stop(){return qr.stop(this),this}resize(t,e){qr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Bw(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),we(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ce(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const u=e[c],f=sy(c,u),d=f==="r",m=f==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),ce(o,c=>{const u=c.options,f=u.id,d=sy(f,u),m=te(u.type,c.dtype);(u.position===void 0||fS(u.position,d)!==fS(c.dposition))&&(u.position=c.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===m)v=i[f];else{const E=Qs.getScale(m);v=new E({id:f,type:m,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,t)}),ce(r,(c,u)=>{c||delete i[u]}),ce(i,c=>{Ja.configure(this,c,c.options),Ja.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(dS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||iy(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Qs.getController(u),{datasetElementType:d,dataElementType:m}=Ge.datasets[u];Object.assign(f,{dataElementType:Qs.getElement(m),datasetElementType:d&&Qs.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ce(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:v}=this.getDatasetMeta(d),E=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ce(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(dS("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ce(this.scales,t=>{Ja.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Rw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;sU(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!Rw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ja.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ce(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,yo(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qr.has(this)?this.attached&&!qr.running(this)&&qr.start(this):(this.draw(),gS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=T6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ev(e,r),t.controller.draw(),r&&Tv(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return hR(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=n3.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Qc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Uh(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),qr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Wd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};ce(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():c()}unbindEvents(){ce(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ce(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){c=t[u];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!_g(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(m=>!d.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),c=o(e,t),u=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,u=this._getActiveElements(t,r,i,c),f=A4(t),d=rU(t,this._lastEvent,i,f);i&&(this._lastEvent=null,we(o.onHover,[t,u,this],this),f&&we(o.onClick,[t,u,this],this));const m=!_g(u,r);return(m||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,m}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function mS(){return ce(sf.instances,n=>n._plugins.invalidate())}function aU(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:m}=f,v=Math.min(d/c,Js(i-e));if(n.beginPath(),n.arc(r,o,c-d/2,i+v/2,e-v/2),u>0){const E=Math.min(d/u,Js(i-e));n.arc(r,o,u+d/2,e-E/2,i+E/2,!0)}else{const E=Math.min(d/2,c*Js(i-e));if(m==="round")n.arc(r,o,E,e-xe/2,i+xe/2,!0);else if(m==="bevel"){const w=2*E*E,x=-w*Math.cos(e+xe/2)+r,C=-w*Math.sin(e+xe/2)+o,I=w*Math.cos(i+xe/2)+r,k=w*Math.sin(i+xe/2)+o;n.lineTo(x,C),n.lineTo(I,k)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function oU(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,c,u,i-d,e+d),f>r?(d=r/f,n.arc(o,c,f,e+d,i-d,!0)):n.arc(o,c,r,e+ln,i-ln),n.closePath(),n.clip()}function lU(n){return wv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function cU(n,t,e,i){const r=lU(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return yi(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:yi(r.innerStart,0,c),innerEnd:yi(r.innerEnd,0,c)}}function fc(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function xg(n,t,e,i,r,o){const{x:c,y:u,startAngle:f,pixelMargin:d,innerRadius:m}=t,v=Math.max(t.outerRadius+i+e-d,0),E=m>0?m+i+e+d:0;let w=0;const x=r-f;if(i){const Tt=m>0?m-i:0,Z=v>0?v-i:0,ct=(Tt+Z)/2,_t=ct!==0?x*ct/(ct+i):x;w=(x-_t)/2}const C=Math.max(.001,x*v-e/xe)/v,I=(x-C)/2,k=f+I+w,H=r-I-w,{outerStart:G,outerEnd:K,innerStart:Y,innerEnd:rt}=cU(t,E,v,H-k),P=v-G,O=v-K,M=k+G/P,L=H-K/O,V=E+Y,z=E+rt,N=k+Y/V,Dt=H-rt/z;if(n.beginPath(),o){const Tt=(M+L)/2;if(n.arc(c,u,v,M,Tt),n.arc(c,u,v,Tt,L),K>0){const xt=fc(O,L,c,u);n.arc(xt.x,xt.y,K,L,H+ln)}const Z=fc(z,H,c,u);if(n.lineTo(Z.x,Z.y),rt>0){const xt=fc(z,Dt,c,u);n.arc(xt.x,xt.y,rt,H+ln,Dt+Math.PI)}const ct=(H-rt/E+(k+Y/E))/2;if(n.arc(c,u,E,H-rt/E,ct,!0),n.arc(c,u,E,ct,k+Y/E,!0),Y>0){const xt=fc(V,N,c,u);n.arc(xt.x,xt.y,Y,N+Math.PI,k-ln)}const _t=fc(P,k,c,u);if(n.lineTo(_t.x,_t.y),G>0){const xt=fc(P,M,c,u);n.arc(xt.x,xt.y,G,k-ln,M)}}else{n.moveTo(c,u);const Tt=Math.cos(M)*v+c,Z=Math.sin(M)*v+u;n.lineTo(Tt,Z);const ct=Math.cos(L)*v+c,_t=Math.sin(L)*v+u;n.lineTo(ct,_t)}n.closePath()}function uU(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:u}=t;let f=t.endAngle;if(o){xg(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=c+(u%Je||Je))}return xg(n,t,e,i,f,r),n.fill(),f}function hU(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:m,borderDash:v,borderDashOffset:E,borderRadius:w}=f,x=f.borderAlign==="inner";if(!d)return;n.setLineDash(v||[]),n.lineDashOffset=E,x?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let C=t.endAngle;if(o){xg(n,t,e,i,C,r);for(let I=0;I<o;++I)n.stroke();isNaN(u)||(C=c+(u%Je||Je))}x&&oU(n,t,C),f.selfJoin&&C-c>=xe&&w===0&&m!=="miter"&&aU(n,t,C),o||(xg(n,t,e,i,C,r),n.stroke())}class fU extends Zc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=nR(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,w=te(v,f-u),x=Eg(o,u,f)&&u!==f,C=w>=Je||x,I=ul(c,d+E,m+E);return C&&I}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,m=(r+o)/2,v=(c+u+d+f)/2;return{x:e+Math.cos(m)*v,y:i+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Je?Math.floor(i/Je):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(xe,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,uU(t,this,d,o,c),hU(t,this,d,o,c),t.restore()}}function DR(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let u,f,d,m,v;return n.horizontal?(v=c/2,u=Math.min(e,r),f=Math.max(e,r),d=i-v,m=i+v):(v=o/2,u=e-v,f=e+v,d=Math.min(i,r),m=Math.max(i,r)),{left:u,top:d,right:f,bottom:m}}function to(n,t,e,i){return n?0:yi(t,e,i)}function dU(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=fR(i);return{t:to(r.top,o.top,0,e),r:to(r.right,o.right,0,t),b:to(r.bottom,o.bottom,0,e),l:to(r.left,o.left,0,t)}}function gU(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=xc(r),c=Math.min(t,e),u=n.borderSkipped,f=i||ee(r);return{topLeft:to(!f||u.top||u.left,o.topLeft,0,c),topRight:to(!f||u.top||u.right,o.topRight,0,c),bottomLeft:to(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:to(!f||u.bottom||u.right,o.bottomRight,0,c)}}function pU(n){const t=DR(n),e=t.right-t.left,i=t.bottom-t.top,r=dU(n,e/2,i/2),o=gU(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function v_(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&DR(n,i);return u&&(r||ul(t,u.left,u.right))&&(o||ul(e,u.top,u.bottom))}function mU(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function _U(n,t){n.rect(t.x,t.y,t.w,t.h)}function b_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class yU extends Zc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=pU(this),u=mU(c.radius)?wg:_U;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),u(t,b_(c,e,o)),t.clip(),u(t,b_(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,b_(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return v_(this,t,e,i)}inXRange(t,e){return v_(this,t,null,e)}inYRange(t,e){return v_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const _S=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},vU=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class yS extends Zc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=we(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=vi(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=_S(i,o);let d,m;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(c,o,u,f)+10):(m=this.maxHeight,d=this._fitCols(c,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],m=r+u;let v=t;o.textAlign="left",o.textBaseline="middle";let E=-1,w=-m;return this.legendItems.forEach((x,C)=>{const I=i+e/2+o.measureText(x.text).width;(C===0||d[d.length-1]+I+2*u>c)&&(v+=m,d[d.length-(C>0?0:1)]=0,w+=m,E++),f[C]={left:0,top:w,row:E,width:I,height:r},d[d.length-1]+=I+u}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],m=c-t;let v=u,E=0,w=0,x=0,C=0;return this.legendItems.forEach((I,k)=>{const{itemWidth:H,itemHeight:G}=bU(i,e,o,I,r);k>0&&w+G+2*u>m&&(v+=E+u,d.push({width:E,height:w}),x+=E+u,C++,E=w=0),f[k]={left:x,top:w,col:C,width:H,height:G},E=Math.max(E,H),w+=G+u}),v+=E,d.push({width:E,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Rc(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Li(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=Li(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let u=0,f=Li(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=Li(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ev(t,this),this._draw(),Tv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,u=Ge.color,f=Rc(t.rtl,this.left,this.width),d=vi(c.font),{padding:m}=c,v=d.size,E=v/2;let w;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:C,itemHeight:I}=_S(c,v),k=function(rt,P,O){if(isNaN(x)||x<=0||isNaN(C)||C<0)return;r.save();const M=te(O.lineWidth,1);if(r.fillStyle=te(O.fillStyle,u),r.lineCap=te(O.lineCap,"butt"),r.lineDashOffset=te(O.lineDashOffset,0),r.lineJoin=te(O.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=te(O.strokeStyle,u),r.setLineDash(te(O.lineDash,[])),c.usePointStyle){const L={radius:C*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:M},V=f.xPlus(rt,x/2),z=P+E;uR(r,L,V,z,c.pointStyleWidth&&x)}else{const L=P+Math.max((v-C)/2,0),V=f.leftForLtr(rt,x),z=xc(O.borderRadius);r.beginPath(),Object.values(z).some(N=>N!==0)?wg(r,{x:V,y:L,w:x,h:C,radius:z}):r.rect(V,L,x,C),r.fill(),M!==0&&r.stroke()}r.restore()},H=function(rt,P,O){Tg(r,O.text,rt,P+I/2,d,{strikethrough:O.hidden,textAlign:f.textAlign(O.textAlign)})},G=this.isHorizontal(),K=this._computeTitleHeight();G?w={x:Li(o,this.left+m,this.right-i[0]),y:this.top+m+K,line:0}:w={x:this.left+m,y:Li(o,this.top+K+m,this.bottom-e[0].height),line:0},_R(this.ctx,t.textDirection);const Y=I+m;this.legendItems.forEach((rt,P)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const O=r.measureText(rt.text).width,M=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),L=x+E+O;let V=w.x,z=w.y;f.setWidth(this.width),G?P>0&&V+L+m>this.right&&(z=w.y+=Y,w.line++,V=w.x=Li(o,this.left+m,this.right-i[w.line])):P>0&&z+Y>this.bottom&&(V=w.x=V+e[w.line].width+m,w.line++,z=w.y=Li(o,this.top+K+m,this.bottom-e[w.line].height));const N=f.x(V);if(k(N,z,rt),V=U4(M,V+x+E,G?V+L:this.right,t.rtl),H(f.x(V),z,rt),G)w.x+=L+m;else if(typeof rt.text!="string"){const Dt=d.lineHeight;w.y+=MR(rt,Dt)+m}else w.y+=Y}),yR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=vi(e.font),r=Os(e.padding);if(!e.display)return;const o=Rc(t.rtl,this.left,this.width),c=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let m,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),m=this.top+d,v=Li(t.align,v,this.right-E);else{const x=this.columnSizes.reduce((C,I)=>Math.max(C,I.height),0);m=d+Li(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const w=Li(u,v,v+E);c.textAlign=o.textAlign(oR(u)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Tg(c,e.text,w,m,i)}_computeTitleHeight(){const t=this.options.title,e=vi(t.font),i=Os(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(ul(t,this.left,this.right)&&ul(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],ul(t,r.left,r.left+r.width)&&ul(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!wU(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=vU(r,i);r&&!o&&we(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&we(e.onHover,[t,i,this],this)}else i&&we(e.onClick,[t,i,this],this)}}function bU(n,t,e,i,r){const o=EU(i,n,t,e),c=TU(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function EU(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function TU(n,t,e){let i=n;return typeof t.text!="string"&&(i=MR(t,e)),i}function MR(n,t){const e=n.text?n.text.length:0;return t*e}function wU(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var kR={id:"legend",_element:yS,start(n,t,e){const i=n.legend=new yS({ctx:n.ctx,options:e,chart:n});Ja.configure(n,i,e),Ja.addBox(n,i)},stop(n){Ja.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ja.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),m=Os(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const gh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),m=M4(t,d);m<r&&(r=m,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Xs(n,t){return t&&(_n(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function $r(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function SU(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function vS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:u}=t,f=vi(t.bodyFont),d=vi(t.titleFont),m=vi(t.footerFont),v=o.length,E=r.length,w=i.length,x=Os(t.padding);let C=x.height,I=0,k=i.reduce((K,Y)=>K+Y.before.length+Y.lines.length+Y.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,v&&(C+=v*d.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),k){const K=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;C+=w*K+(k-w)*f.lineHeight+(k-1)*t.bodySpacing}E&&(C+=t.footerMarginTop+E*m.lineHeight+(E-1)*t.footerSpacing);let H=0;const G=function(K){I=Math.max(I,e.measureText(K).width+H)};return e.save(),e.font=d.string,ce(n.title,G),e.font=f.string,ce(n.beforeBody.concat(n.afterBody),G),H=t.displayColors?c+2+t.boxPadding:0,ce(i,K=>{ce(K.before,G),ce(K.lines,G),ce(K.after,G)}),H=0,e.font=m.string,ce(n.footer,G),e.restore(),I+=x.width,{width:I,height:C}}function AU(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function xU(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function RU(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),xU(d,n,t,e)&&(d="center"),d}function bS(n,t,e){const i=e.yAlign||t.yAlign||AU(n,e);return{xAlign:e.xAlign||t.xAlign||RU(n,t,e,i),yAlign:i}}function CU(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function IU(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function ES(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:m,topRight:v,bottomLeft:E,bottomRight:w}=xc(c);let x=CU(t,u);const C=IU(t,f,d);return f==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(m,E)+r:u==="right"&&(x+=Math.max(v,w)+r),{x:yi(x,0,i.width-t.width),y:yi(C,0,i.height-t.height)}}function Od(n,t,e){const i=Os(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function TS(n){return Xs([],$r(n))}function OU(n,t,e){return Qc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function wS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const PR={beforeTitle:Hr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Hr,beforeBody:Hr,beforeLabel:Hr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return me(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Hr,afterBody:Hr,beforeFooter:Hr,footer:Hr,afterFooter:Hr};function gi(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?PR[t].call(e,i):r}class SS extends Zc{static positioners=gh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new vR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=OU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=gi(i,"beforeTitle",this,t),o=gi(i,"title",this,t),c=gi(i,"afterTitle",this,t);let u=[];return u=Xs(u,$r(r)),u=Xs(u,$r(o)),u=Xs(u,$r(c)),u}getBeforeBody(t,e){return TS(gi(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ce(t,o=>{const c={before:[],lines:[],after:[]},u=wS(i,o);Xs(c.before,$r(gi(u,"beforeLabel",this,o))),Xs(c.lines,gi(u,"label",this,o)),Xs(c.after,$r(gi(u,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return TS(gi(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=gi(i,"beforeFooter",this,t),o=gi(i,"footer",this,t),c=gi(i,"afterFooter",this,t);let u=[];return u=Xs(u,$r(r)),u=Xs(u,$r(o)),u=Xs(u,$r(c)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(SU(this.chart,e[f]));return t.filter&&(u=u.filter((m,v,E)=>t.filter(m,v,E,i))),t.itemSort&&(u=u.sort((m,v)=>t.itemSort(m,v,i))),ce(u,m=>{const v=wS(t.callbacks,m);r.push(gi(v,"labelColor",this,m)),o.push(gi(v,"labelPointStyle",this,m)),c.push(gi(v,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=gh[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=vS(this,i),d=Object.assign({},u,f),m=bS(this.chart,i,d),v=ES(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:m,bottomRight:v}=xc(u),{x:E,y:w}=t,{width:x,height:C}=e;let I,k,H,G,K,Y;return o==="center"?(K=w+C/2,r==="left"?(I=E,k=I-c,G=K+c,Y=K-c):(I=E+x,k=I+c,G=K-c,Y=K+c),H=I):(r==="left"?k=E+Math.max(f,m)+c:r==="right"?k=E+x-Math.max(d,v)-c:k=this.caretX,o==="top"?(G=w,K=G-c,I=k-c,H=k+c):(G=w+C,K=G+c,I=k+c,H=k-c),Y=G),{x1:I,x2:k,x3:H,y1:G,y2:K,y3:Y}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,u,f;if(o){const d=Rc(i.rtl,this.x,this.width);for(t.x=Od(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=vi(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,m=vi(o.bodyFont),v=Od(this,"left",o),E=r.x(v),w=f<m.lineHeight?(m.lineHeight-f)/2:0,x=e.y+w;if(o.usePointStyle){const C={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},I=r.leftForLtr(E,d)+d/2,k=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Uw(t,C,I,k),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Uw(t,C,I,k)}else{t.lineWidth=ee(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(E,d),I=r.leftForLtr(r.xPlus(E,1),d-2),k=xc(c.borderRadius);Object.values(k).some(H=>H!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,wg(t,{x:C,y:x,w:d,h:f,radius:k}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),wg(t,{x:I,y:x+1,w:d-2,h:f-2,radius:k}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,x,d,f),t.strokeRect(C,x,d,f),t.fillStyle=c.backgroundColor,t.fillRect(I,x+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:m}=i,v=vi(i.bodyFont);let E=v.lineHeight,w=0;const x=Rc(i.rtl,this.x,this.width),C=function(O){e.fillText(O,x.x(t.x+w),t.y+E/2),t.y+=E+o},I=x.textAlign(c);let k,H,G,K,Y,rt,P;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=Od(this,I,i),e.fillStyle=i.bodyColor,ce(this.beforeBody,C),w=u&&I!=="right"?c==="center"?d/2+m:d+2+m:0,K=0,rt=r.length;K<rt;++K){for(k=r[K],H=this.labelTextColors[K],e.fillStyle=H,ce(k.before,C),G=k.lines,u&&G.length&&(this._drawColorBox(e,t,K,x,i),E=Math.max(v.lineHeight,f)),Y=0,P=G.length;Y<P;++Y)C(G[Y]),E=v.lineHeight;ce(k.after,C)}w=0,E=v.lineHeight,ce(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,u;if(o){const f=Rc(i.rtl,this.x,this.width);for(t.x=Od(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=vi(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=t,{width:d,height:m}=i,{topLeft:v,topRight:E,bottomLeft:w,bottomRight:x}=xc(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+v,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-E,f),e.quadraticCurveTo(u+d,f,u+d,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+m-x),e.quadraticCurveTo(u+d,f+m,u+d-x,f+m),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+w,f+m),e.quadraticCurveTo(u,f+m,u,f+m-w),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+v),e.quadraticCurveTo(u,f,u+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=gh[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=vS(this,t),f=Object.assign({},c,this._size),d=bS(e,t,f),m=ES(t,f,d,e);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Os(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),_R(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),yR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!_g(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),u=this._positionChanged(c,t),f=e||!_g(c,o)||u;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=gh[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var NR={id:"tooltip",_element:SS,positioners:gh,afterInit(n,t,e){e&&(n.tooltip=new SS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:PR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const DU=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function MU(n,t,e,i){const r=n.indexOf(t);if(r===-1)return DU(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const kU=(n,t)=>n===null?null:yi(Math.round(n),0,t);function AS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class PU extends Jc{static id="category";static defaults={ticks:{callback:AS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(me(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:MU(i,t,te(e,t),this._addedLabels),kU(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return AS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function NU(n,t){const e=[],{bounds:r,step:o,min:c,max:u,precision:f,count:d,maxTicks:m,maxDigits:v,includeBounds:E}=n,w=o||1,x=m-1,{min:C,max:I}=t,k=!me(c),H=!me(u),G=!me(d),K=(I-C)/(v+1);let Y=Iw((I-C)/x/w)*w,rt,P,O,M;if(Y<1e-14&&!k&&!H)return[{value:C},{value:I}];M=Math.ceil(I/Y)-Math.floor(C/Y),M>x&&(Y=Iw(M*Y/x/w)*w),me(f)||(rt=Math.pow(10,f),Y=Math.ceil(Y*rt)/rt),r==="ticks"?(P=Math.floor(C/Y)*Y,O=Math.ceil(I/Y)*Y):(P=C,O=I),k&&H&&o&&I4((u-c)/o,Y/1e3)?(M=Math.round(Math.min((u-c)/Y,m)),Y=(u-c)/M,P=c,O=u):G?(P=k?c:P,O=H?u:O,M=d-1,Y=(O-P)/M):(M=(O-P)/Y,Gd(M,Math.round(M),Y/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(Ow(Y),Ow(P));rt=Math.pow(10,me(f)?L:f),P=Math.round(P*rt)/rt,O=Math.round(O*rt)/rt;let V=0;for(k&&(E&&P!==c?(e.push({value:c}),P<c&&V++,Gd(Math.round((P+V*Y)*rt)/rt,c,xS(c,K,n))&&V++):P<c&&V++);V<M;++V){const z=Math.round((P+V*Y)*rt)/rt;if(H&&z>u)break;e.push({value:z})}return H&&E&&O!==u?e.length&&Gd(e[e.length-1].value,u,xS(u,K,n))?e[e.length-1].value=u:e.push({value:u}):(!H||O===u)&&e.push({value:O}),e}function xS(n,t,{horizontal:e,minRotation:i}){const r=Kr(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class LU extends Jc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return me(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=lo(r),d=lo(o);f<0&&d<0?u(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=NU(r,o);return t.bounds==="ticks"&&O4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return bv(t,this.chart.options.locale,this.options.ticks.format)}}class VU extends LU{static id="linear";static defaults={ticks:{callback:cR.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=cs(t)?t:0,this.max=cs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Kr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ip={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_i=Object.keys(ip);function RS(n,t){return n-t}function CS(n,t){if(me(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),cs(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(bg(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function IS(n,t,e,i){const r=_i.length;for(let o=_i.indexOf(n);o<r-1;++o){const c=ip[_i[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(u*c.size))<=i)return _i[o]}return _i[r-1]}function UU(n,t,e,i,r){for(let o=_i.length-1;o>=_i.indexOf(e);o--){const c=_i[o];if(ip[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return _i[e?_i.indexOf(e):0]}function zU(n){for(let t=_i.indexOf(n)+1,e=_i.length;t<e;++t)if(ip[_i[t]].common)return _i[t]}function OS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=vv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function jU(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let u,f;for(u=o;u<=c;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function DS(n,t,e){const i=[],r={},o=t.length;let c,u;for(c=0;c<o;++c)u=t[c],r[u]=c,i.push({value:u,major:!1});return o===0||!e?i:jU(n,i,r,e)}class MS extends Jc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Q6._date(t.adapters.date);r.init(e),wh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:CS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=cs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=cs(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,u=N4(r,o,c);return this._unit=e.unit||(i.autoSkip?IS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):UU(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:zU(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),DS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=yi(e,0,c),i=yi(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||IS(o.minUnit,e,i,this._getLabelCapacity(e)),u=te(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=bg(f)||f===!0,m={};let v=e,E,w;if(d&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,d?"day":c),t.diff(i,e,c)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+c);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(E=v,w=0;E<i;E=+t.add(E,u,c),w++)OS(m,E,x);return(E===i||r.bounds==="ticks"||w===1)&&OS(m,E,x),Object.keys(m).sort(RS).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return we(c,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,m=f&&u[f],v=d&&u[d],E=i[e],w=d&&v&&E&&E.major;return this._adapter.format(t,r||(w?v:m))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Kr(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,DS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(CS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return sR(t.sort(RS))}}function Dd(n,t,e){let i=0,r=n.length-1,o,c,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ey(n,"pos",t)),{pos:o,time:u}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ey(n,"time",t)),{time:o,pos:u}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?u+(f-u)*(t-o)/d:u}class r5 extends MS{static id="timeseries";static defaults=MS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Dd(e,this.min),this._tableRange=Dd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,u,f,d,m;for(c=0,u=t.length;c<u;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)m=r[c+1],f=r[c-1],d=r[c],Math.round((m+f)/2)!==d&&o.push({time:d,pos:c/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Dd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Dd(this._table,i*this._tableRange+this._minPos,!0)}}const LR="label";function kS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function BU(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function VR(n,t){n.labels=t}function UR(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LR;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function FU(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LR;const e={labels:[],datasets:[]};return VR(e,n.labels),UR(e,n.datasets,t),e}function HU(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:d=[],fallbackContent:m,updateMode:v,...E}=n,w=nt.useRef(null),x=nt.useRef(null),C=()=>{w.current&&(x.current=new sf(w.current,{type:c,data:FU(u,o),options:f&&{...f},plugins:d}),kS(t,x.current))},I=()=>{kS(t,null),x.current&&(x.current.destroy(),x.current=null)};return nt.useEffect(()=>{!r&&x.current&&f&&BU(x.current,f)},[r,f]),nt.useEffect(()=>{!r&&x.current&&VR(x.current.config.data,u.labels)},[r,u.labels]),nt.useEffect(()=>{!r&&x.current&&u.datasets&&UR(x.current.config.data,u.datasets,o)},[r,u.datasets]),nt.useEffect(()=>{x.current&&(r?(I(),setTimeout(C)):x.current.update(v))},[r,f,u.labels,u.datasets,v]),nt.useEffect(()=>{x.current&&(I(),setTimeout(C))},[c]),nt.useEffect(()=>(C(),()=>I()),[]),PS.createElement("canvas",{ref:w,role:"img",height:e,width:i,...E},m)}const qU=nt.forwardRef(HU);function zR(n,t){return sf.register(t),nt.forwardRef((e,i)=>PS.createElement(qU,{...e,ref:i,type:n}))}const $U=zR("bar",Y6),GU=zR("pie",X6);sf.register(fU,NR,kR);const YU=({loan:n})=>{const t=n.amount*n.interest*n.duration/(100*n.duration).toFixed(2),e={labels:["Principal","Interest"],datasets:[{data:[n.amount,t],backgroundColor:["#36A2EB","#FF6384"],hoverOffset:4}]};return X.jsx("div",{style:{maxWidth:"300px",marginTop:"10px"},children:X.jsx(GU,{data:e})})};sf.register(PU,VU,yU,NR,kR);const WU=({loan:n})=>{const t=(n.emi*n.monthsPaid).toFixed(2),e=n.amount+n.amount*n.interest*n.duration/(100*n.duration)*n.duration-Number(t).toFixed(2),i={labels:["Loan Progress"],datasets:[{label:"Paid ()",data:[t],backgroundColor:"#4caf50"},{label:"Remaining ()",data:[e],backgroundColor:"#f44336"}]},r={responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};return X.jsx("div",{style:{maxWidth:400,marginTop:10},children:X.jsx($U,{data:i,options:r})})},KU=({loan:n,removeLoan:t,payMonth:e})=>X.jsxs("div",{className:"loan-item",children:[X.jsxs("div",{className:"loan-item-details",children:[X.jsx("table",{children:X.jsxs("tbody",{children:[X.jsxs("tr",{children:[X.jsx("td",{children:X.jsx("h5",{children:"Loan Name"})}),X.jsx("td",{children:X.jsx("h5",{children:n.loanName})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:X.jsx("h5",{children:"Loan Amount"})}),X.jsx("td",{children:X.jsxs("h5",{children:[" ",n.amount]})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:X.jsx("h5",{children:"Interest Rate"})}),X.jsx("td",{children:X.jsxs("h5",{children:[n.interest,"%"]})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:X.jsx("h5",{children:"Duration"})}),X.jsx("td",{children:X.jsxs("h5",{children:[n.duration," months"]})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:X.jsx("h5",{children:"Monthly Pay"})}),X.jsx("td",{children:X.jsxs("h5",{children:["",n.emi]})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:X.jsx("h5",{children:"Months Paid"})}),X.jsx("td",{children:X.jsxs("h5",{children:[n.monthsPaid," / ",n.duration]})})]})]})}),X.jsxs("div",{className:"loan-item-buttons",children:[X.jsx("button",{onClick:()=>e(n.id),disabled:n.monthsPaid===n.duration,children:"Pay EMI"}),X.jsx("button",{onClick:()=>t(n.id),style:{marginLeft:10},children:"Remove"})]})]}),X.jsxs("div",{className:"loan-item-sub-div",children:[X.jsx(YU,{loan:n}),X.jsx(WU,{loan:n})]})]}),XU=({loans:n,removeLoan:t,payMonth:e})=>X.jsx("div",{children:n.map(i=>X.jsx(KU,{loan:i,removeLoan:t,payMonth:e},i.id))}),QU=({loans:n=[],removeLoan:t,payMonth:e})=>X.jsx("div",{className:"home-sub-div",children:X.jsx(XU,{loans:n,removeLoan:t,payMonth:e})}),ZU=()=>{const[n,t]=nt.useState(""),[e,i]=nt.useState(""),[r,o]=nt.useState(""),c=Bh(),u=async f=>{f.preventDefault(),o("");try{const m=(await ck(ef,n,e)).user,v=await $x(zc(Ac,"users",m.uid));if(v.exists()){const E=v.data();console.log("Logged in as:",E.username)}c("/home")}catch(d){o(d.message)}};return X.jsxs(X.Fragment,{children:[X.jsx("nav",{children:X.jsx("h2",{children:"Loan Tracker"})}),X.jsx("div",{className:"login-page-container",children:X.jsxs("div",{className:"login-sub-page",children:[X.jsx("h1",{children:"Log In"}),X.jsxs("form",{className:"login-form",onSubmit:u,children:[X.jsx("input",{type:"text",placeholder:"Enter Your Email",value:n,onChange:f=>t(f.target.value)}),X.jsx("input",{type:"password",placeholder:"Enter Your Password",value:e,onChange:f=>i(f.target.value)}),X.jsx("button",{children:"Log IN"}),X.jsxs("p",{children:["Don't have an account ",X.jsx("span",{children:X.jsx(Xa,{to:"/signup",children:"Sign Up"})})]}),r&&X.jsx("p",{style:{color:"red"},children:r})]})]})})]})},JU=()=>{const[n,t]=nt.useState(""),[e,i]=nt.useState(""),[r,o]=nt.useState(""),[c,u]=nt.useState(""),f=Bh(),d=async m=>{if(m.preventDefault(),u(""),!n||!e||!r){u("Please fill all fields");return}try{const E=(await lk(ef,e,r)).user;await PV(zc(Ac,"users",E.uid),{uid:E.uid,username:n,email:e,createdAt:new Date}),f("/home")}catch(v){u(v.message)}};return X.jsxs(X.Fragment,{children:[X.jsx("nav",{children:X.jsx("h2",{children:"Loan Tracker"})}),X.jsx("div",{className:"Signup-page-container",children:X.jsxs("div",{className:"signup-sub-page",children:[X.jsx("h1",{children:"Sign Up"}),X.jsxs("form",{className:"signup-form",onSubmit:d,children:[X.jsx("input",{type:"text",placeholder:"Enter Your Email",value:e,onChange:m=>i(m.target.value)}),X.jsx("input",{type:"text",placeholder:"Create UserName",value:n,onChange:m=>t(m.target.value)}),X.jsx("input",{type:"password",placeholder:"Create Your Password",value:r,onChange:m=>o(m.target.value)}),X.jsx("button",{children:"Sign Up"}),X.jsxs("p",{children:["Already have an account ",X.jsx("span",{children:X.jsx(Xa,{to:"/",children:"Log In"})})]}),c&&X.jsx("p",{style:{color:"red"},children:c})]})]})})]})};function E_({children:n}){const[t,e]=nt.useState(void 0),[i,r]=nt.useState(!0);return nt.useEffect(()=>{const o=i1(ef,c=>{e(c),r(!1)});return()=>o()},[]),i?X.jsx("div",{children:"Loading..."}):t?n:X.jsx(eO,{to:"/",replace:!0})}function t5({loans:n,addLoan:t,removeLoan:e,payMonth:i}){const r=sa(),o=["/","/signup"];return X.jsxs(X.Fragment,{children:[!o.includes(r.pathname)&&X.jsx(jV,{}),X.jsxs(iO,{children:[X.jsx(dc,{path:"/",element:X.jsx(ZU,{})}),X.jsx(dc,{path:"/signup",element:X.jsx(JU,{})}),X.jsx(dc,{path:"/home",element:X.jsx(E_,{children:X.jsx(KV,{addLoan:t})})}),X.jsx(dc,{path:"/loan",element:X.jsx(E_,{children:X.jsx(QU,{loans:n,removeLoan:e,payMonth:i})})}),X.jsx(dc,{path:"/InterestCalculator",element:X.jsx(E_,{children:X.jsx(XV,{})})})]})]})}function e5(){const[n,t]=nt.useState([]),e=EV(Ac,"loans");nt.useEffect(()=>{const c=UV(e,u=>{const f=u.docs.map(d=>({...d.data(),id:d.id}));t(f)});return()=>c()},[]);const i=async c=>{await VV(e,c)},r=async c=>{const u=zc(Ac,"loans",c);await LV(u)},o=async c=>{const u=n.find(m=>m.id===c);if(!u||u.monthsPaid>=u.duration)return;const f={...u,monthsPaid:u.monthsPaid+1},d=zc(Ac,"loans",c);await NV(d,{monthsPaid:f.monthsPaid})};return X.jsx(X.Fragment,{children:X.jsx(RO,{children:X.jsx(t5,{loans:n,addLoan:i,removeLoan:r,payMonth:o})})})}hI.createRoot(document.getElementById("root")).render(X.jsx(nt.StrictMode,{children:X.jsx(YV,{children:X.jsx(e5,{})})}));
